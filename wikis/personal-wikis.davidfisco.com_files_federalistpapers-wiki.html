<!doctype html>
<!-- The following comment is called a MOTW comment and is necessary for the TiddlyIE Internet Explorer extension -->
<!-- saved from url=(0021)http://tiddlywiki.com -->
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />		<!-- Force IE standards mode for Intranet and HTA - should be the first meta -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="application-name" content="TiddlyWiki" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.1.7" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="format-detection" content="telephone=no" />
<meta name="copyright" content="TiddlyWiki created by Jeremy Ruston, (jeremy [at] jermolene [dot] com)

Copyright © Jeremy Ruston 2004-2007
Copyright © UnaMesa Association 2007-2014

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of the UnaMesa Association nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS' AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.
" />
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<title>The Federalist Papers — Personal wiki of The Federalist Papers</title>
<!--~~ This is a Tiddlywiki file. The points of interest in the file are marked with this pattern ~~--><!--~~ Raw markup ~~-->

</head>
<body class="tc-body">
<!--~~ Static styles ~~-->
<div id="styleArea">
<style data-tiddler-title="$:/boot/boot.css" data-tiddler-type="text/css" type="text/css">/*
Basic styles used before we boot up the parsing engine
*/

/*
Error message and password prompt
*/

.tc-password-wrapper, .tc-error-form {
    font-family: sans-serif;
	z-index: 20000;
	position: fixed;
	text-align: center;
	width: 200px;
	top: 4em;
    left: 50%;
    margin-left: -144px; /* - width/2 - paddingHorz/2 - border */
	padding: 16px 16px 16px 16px;
	border-radius: 8px;
}

.tc-error-form {
	color: #fff;
	text-shadow: 0 1px 0 rgba(0, 0, 0, 0.5);
	background-color: rgb(255, 75, 75);
	border: 8px solid rgb(255, 0, 0);
	width: 480px;
    margin-left: -244px; /* - width/2 - paddingHorz/2 - border */
}

.tc-error-form div {
	padding-bottom: 1em;
}

.tc-error-prompt {
	color: #000;
	text-shadow: none;
}

.tc-password-wrapper {
	color: #000;
	text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
	background-color: rgb(197, 235, 183);
	border: 8px solid rgb(164, 197, 152);
}

.tc-password-wrapper form {
	text-align: left;
}

.tc-password-wrapper h1 {
	font-size: 16px;
	line-height: 20px;
	padding-bottom: 16px;
}

.tc-password-wrapper input {
	width: 100%;
}
</style>
</div>
<!--~~ Static content for Google and browsers without JavaScript ~~-->
<noscript>
<div id="splashArea">

<p>This <a class='tc-tiddlylink-external' href='http://tiddlywiki.com' target='_blank'>TiddlyWiki</a> contains the following tiddlers:</p><p><ul>

<li>$:/core</li>

<li>$:/DefaultTiddlers</li>

<li>$:/FiscoCSS</li>

<li>$:/Import</li>

<li>$:/isEncrypted</li>

<li>$:/SiteSubtitle</li>

<li>$:/SiteTitle</li>

<li>$:/state/tab/moresidebar-401116514</li>

<li>$:/state/tab/sidebar--1835078512</li>

<li>$:/StoryList</li>

<li>$:/temp/info-plugin</li>

<li>$:/temp/NewTagName</li>

<li>$:/temp/search</li>

<li>$:/themes/tiddlywiki/snowwhite</li>

<li>$:/themes/tiddlywiki/vanilla</li>

<li>Help</li>

<li>No. 1. General Introduction</li>

<li>No. 10. The Same Subject Continued (The Union as a Safeguard Against Domestic Faction and Insurrection)</li>

<li>No. 11. The Utility of the Union in Respect to Commercial Relations and a Navy</li>

<li>No. 12. The Utility of the Union In Respect to Revenue</li>

<li>No. 13. Advantage of the Union in Respect to Economy in Government</li>

<li>No. 14. Objections to the Proposed Constitution From Extent of Territory Answered</li>

<li>No. 15. The Insufficiency of the Present Confederation to Preserve the Union</li>

<li>No. 16. The Same Subject Continued (The Insufficiency of the Present Confederation to Preserve the Union)</li>

<li>No. 17. The Same Subject Continued (The Insufficiency of the Present Confederation to Preserve the Union)</li>

<li>No. 18. The Same Subject Continued (The Insufficiency of the Present Confederation to Preserve the Union)</li>

<li>No. 19. The Same Subject Continued (The Insufficiency of the Present Confederation to Preserve the Union)</li>

<li>No. 2. Concerning Dangers from Foreign Force and Influence</li>

<li>No. 20. The Same Subject Continued (The Insufficiency of the Present Confederation to Preserve the Union)</li>

<li>No. 21. Other Defects of the Present Confederation</li>

<li>No. 22. The Same Subject Continued (Other Defects of the Present Confederation)</li>

<li>No. 23. The Necessity of a Government as Energetic as the One Proposed to the Preservation of the Union</li>

<li>No. 24. The Powers Necessary to the Common Defense Further Considered</li>

<li>No. 25. The Same Subject Continued (The Powers Necessary to the Common Defense Further Considered)</li>

<li>No. 26. The Idea of Restraining the Legislative Authority in Regard to the Common Defense Considered.</li>

<li>No. 27. The Same Subject Continued (The Idea of Restraining the Legislative Authority in Regard to the Common Defense Considered)</li>

<li>No. 28. The Same Subject Continued (The Idea of Restraining the Legislative Authority in Regard to the Common Defense Considered)</li>

<li>No. 29. Concerning the Militia</li>

<li>No. 3. The Same Subject Continued (Concerning Dangers From Foreign Force and Influence)</li>

<li>No. 30. Concerning the General Power of Taxation</li>

<li>No. 31. The Same Subject Continued (Concerning the General Power of Taxation)</li>

<li>No. 32. The Same Subject Continued (Concerning the General Power of Taxation)</li>

<li>No. 33. The Same Subject Continued (Concerning the General Power of Taxation)</li>

<li>No. 34. The Same Subject Continued (Concerning the General Power of Taxation)</li>

<li>No. 35. The Same Subject Continued (Concerning the General Power of Taxation)</li>

<li>No. 36. The Same Subject Continued (Concerning the General Power of Taxation)</li>

<li>No. 37. Concerning the Difficulties of the Convention in Devising a Proper Form of Government.</li>

<li>No. 38. The Same Subject Continued, and the Incoherence of the Objections to the New Plan Exposed.</li>

<li>No. 39. The Conformity of the Plan to Republican Principles</li>

<li>No. 4. The Same Subject Continued (Concerning Dangers From Foreign Force and Influence)</li>

<li>No. 40. On the Powers of the Convention to Form a Mixed Government Examined and Sustained.</li>

<li>No. 41. General View of the Powers Conferred by The Constitution</li>

<li>No. 42. The Powers Conferred by the Constitution Further Considered</li>

<li>No. 43. The Same Subject Continued (The Powers Conferred by the Constitution Further Considered)</li>

<li>No. 44. Restrictions on the Authority of the Several States</li>

<li>No. 45. The Alleged Danger From the Powers of the Union to the State Governments.</li>

<li>No. 46. The Influence of the State and Federal Governments Compared</li>

<li>No. 47. The Particular Structure of the New Government and the Distribution of Power Among Its Different Parts.</li>

<li>No. 48. These Departments Should Not Be So Far Separated as to Have No Constitutional Control Over Each Other.</li>

<li>No. 49. Method of Guarding Against the Encroachments of Any One Department of Government by Appealing to the People Through a Convention.</li>

<li>No. 5. The Same Subject Continued (Concerning Dangers From Foreign Force and Influence)</li>

<li>No. 50. Periodical Appeals to the People Considered</li>

<li>No. 51. The Structure of the Government Must Furnish the Proper Checks and Balances Between the Different Departments.</li>

<li>No. 52. The House of Representatives</li>

<li>No. 53. The Same Subject Continued (The House of Representatives)</li>

<li>No. 54. The Apportionment of Members Among the States</li>

<li>No. 55. The Total Number of the House of Representatives</li>

<li>No. 56. The Same Subject Continued (The Total Number of the House of Representatives)</li>

<li>No. 57. The Alleged Tendency of the New Plan to Elevate the Few at the Expense of the Many Considered in Connection with Representation.</li>

<li>No. 58. Objection That The Number of Members Will Not Be Augmented as the Progress of Population Demands.</li>

<li>No. 59. Concerning the Power of Congress to Regulate the Election of Members</li>

<li>No. 6. Concerning Dangers from Dissensions Between the States</li>

<li>No. 60. The Same Subject Continued (Concerning the Power of Congress to Regulate the Election of Members)</li>

<li>No. 61. The Same Subject Continued (Concerning the Power of Congress to Regulate the Election of Members)</li>

<li>No. 62. The Senate</li>

<li>No. 63. The Senate Continued</li>

<li>No. 64. The Powers of the Senate</li>

<li>No. 65. The Powers of the Senate Continued</li>

<li>No. 66. Objections to the Power of the Senate To Set as a Court for Impeachments Further Considered.</li>

<li>No. 67. The Executive Department</li>

<li>No. 68. The Mode of Electing the President</li>

<li>No. 69. The Real Character of the Executive</li>

<li>No. 7. The Same Subject Continued (Concerning Dangers from Dissensions Between the States)</li>

<li>No. 70. The Executive Department Further Considered</li>

<li>No. 71. The Duration in Office of the Executive</li>

<li>No. 72. The Same Subject Continued, and Re-Eligibility of the Executive Considered.</li>

<li>No. 73. The Provision For The Support of the Executive, and the Veto Power</li>

<li>No. 74. The Command of the Military and Naval Forces, and the Pardoning Power of the Executive.</li>

<li>No. 75. The Treaty-Making Power of the Executive</li>

<li>No. 76. The Appointing Power of the Executive</li>

<li>No. 77. The Appointing Power Continued and Other Powers of the Executive Considered.</li>

<li>No. 78. The Judiciary Department</li>

<li>No. 79. The Judiciary Continued</li>

<li>No. 8. The Consequences of Hostilities Between the States</li>

<li>No. 80. The Powers of the Judiciary</li>

<li>No. 81. The Judiciary Continued, and the Distribution of the Judicial Authority.</li>

<li>No. 82. The Judiciary Continued.</li>

<li>No. 83. The Judiciary Continued in Relation to Trial by Jury</li>

<li>No. 84. Certain General and Miscellaneous Objections to the Constitution Considered and Answered.</li>

<li>No. 85. Concluding Remarks</li>

<li>No. 9. The Union as a Safeguard Against Domestic Faction and Insurrection</li>

<li>The Federalist Papers</li>

</ul>
</p>



</div>
</noscript>
<!--~~ Ordinary tiddlers ~~-->

<div id="storeArea" style="display:none;">
<div author="JeremyRuston" core-version="&gt;=5.0.0" dependents="" description="TiddlyWiki5 core plugin" list="readme" plugin-priority="0" plugin-type="plugin" title="$:/core" type="application/json" version="5.1.7">
<pre>{
    &quot;tiddlers&quot;: {
        &quot;$:/Acknowledgements&quot;: {
            &quot;title&quot;: &quot;$:/Acknowledgements&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki&quot;,
            &quot;text&quot;: &quot;TiddlyWiki incorporates code from these fine OpenSource projects:\n\n* [[The Stanford Javascript Crypto Library|http://bitwiseshiftleft.github.io/sjcl/]]\n* [[The Jasmine JavaScript Test Framework|http://pivotal.github.io/jasmine/]]\n* [[Normalize.css by Nicolas Gallagher|http://necolas.github.io/normalize.css/]]\n\nAnd media from these projects:\n\n* World flag icons from [[Wikipedia|http://commons.wikimedia.org/wiki/Category:SVG_flags_by_country]]\n&quot;
        },
        &quot;$:/core/copyright.txt&quot;: {
            &quot;title&quot;: &quot;$:/core/copyright.txt&quot;,
            &quot;type&quot;: &quot;text/plain&quot;,
            &quot;text&quot;: &quot;TiddlyWiki created by Jeremy Ruston, (jeremy [at] jermolene [dot] com)\n\nCopyright © Jeremy Ruston 2004-2007\nCopyright © UnaMesa Association 2007-2014\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\nRedistributions of source code must retain the above copyright notice, this\nlist of conditions and the following disclaimer.\n\nRedistributions in binary form must reproduce the above copyright notice, this\nlist of conditions and the following disclaimer in the documentation and/or other\nmaterials provided with the distribution.\n\nNeither the name of the UnaMesa Association nor the names of its contributors may be\nused to endorse or promote products derived from this software without specific\nprior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS' AND ANY\nEXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\nOF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT\nSHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,\nINCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED\nTO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR\nBUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\nCONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN\nANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH\nDAMAGE.\n&quot;
        },
        &quot;$:/core/icon&quot;: {
            &quot;title&quot;: &quot;$:/core/icon&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M64,0 L118.5596,32 L118.5596,96 L64,128 L9.44039956,96 L9.44039956,32 L64,0 Z M85.1274062,95.4080042 C81.5494069,95.3047989 79.9756384,95.3136745 78.1534289,92.2560668 L76.733228,92.2975844 C75.0801573,92.2226776 75.7690718,92.256631 74.6662332,92.2006037 C72.822332,92.1273894 73.1177105,90.3396383 72.7933215,89.3950941 C72.2744094,86.1888106 73.4800004,82.9659571 73.4419681,79.7590415 C73.428503,78.6206623 71.8498363,74.5912119 71.2858469,73.150598 C69.5178104,73.490271 67.7401827,73.5550323 65.9465048,73.6462337 C61.8120677,73.6358996 57.7056703,73.1192806 53.628962,72.4632293 C52.8345141,75.8119659 50.473106,80.4990751 52.4249964,83.9024219 C54.794228,87.4227874 56.45684,88.3980868 59.0339286,88.6103485 C61.6109895,88.8224384 62.1929077,91.7913467 61.5694236,92.8517379 C61.0175661,93.5845847 60.0476425,93.7176093 59.2235739,93.8951553 L57.5752147,93.9742093 C56.2780933,93.9296822 55.1187057,93.5723203 53.9629071,93.0211763 C52.0327307,91.9217335 50.0392154,89.6360411 48.5580719,87.9950695 C48.9028934,88.6503604 49.1085703,89.9296134 48.7958122,90.5249222 C47.9200982,91.7907825 44.1326257,91.7830485 42.3980986,90.996433 C40.4277043,90.1030197 35.6664658,83.8299171 34.9303347,79.1316435 C36.8887135,75.3525836 39.7416856,72.0607931 41.1850909,67.9459622 C38.038852,65.8974525 36.3537697,62.5626501 36.5725198,58.7851619 L36.6514762,58.3478913 C33.5557196,58.9392548 35.1611076,58.7192345 31.8308843,58.9762949 C21.2252017,58.9431831 11.8983553,51.6054609 17.1501626,40.2013394 C17.4916881,39.5260388 17.8165752,38.9120742 18.3955298,39.205288 C18.8602051,39.440565 18.793457,40.3843583 18.5597268,41.4309776 C15.5577203,55.057365 30.2297484,55.161659 39.2489049,52.6401668 C40.1440491,52.3898612 41.9243599,50.7040626 43.1576153,50.1452033 C45.1734825,49.231769 47.3615008,48.8611654 49.5329344,48.5941256 C54.9337165,47.9661653 61.4247946,50.8693254 64.7228943,50.9641212 C68.0210328,51.0589131 72.7127563,50.1582941 75.5928121,50.3479196 C77.6825379,50.4454833 79.734518,50.8303777 81.7507717,51.3786556 C83.0558682,44.8897102 83.1481363,40.1071855 86.2420439,39 C88.0578592,39.2926449 89.4570618,41.8175853 90.4927503,43.1666676 C92.6062592,43.0809984 94.6134653,43.6270518 96.6091885,44.233091 C100.222332,43.7098824 103.254293,41.6394732 106.445091,40.0288813 C103.211767,42.7223157 102.77315,47.1042714 103.142605,51.1564486 C103.280001,53.2591496 102.697713,55.5420684 101.977868,57.6949551 C100.630795,61.2025356 98.0292951,64.8997754 95.009908,64.7101481 C93.868464,64.673306 93.2053722,64.0138 92.3570101,63.3096933 C92.1924386,64.7358711 91.5456263,66.0084523 90.9221089,67.2697748 C89.4822206,70.066388 85.7194927,71.2987762 82.2354164,74.2849828 C78.7515768,77.2712347 83.3502408,87.9363951 84.4652464,89.8796277 C85.5800708,91.8230453 88.6922789,92.5339992 87.484639,94.28798 C87.1151913,94.8672415 86.5502884,95.0744181 85.9465544,95.2991347 L85.1274062,95.4080042 Z M45.0303574,86.5575217 L45.5828655,86.699414 C46.277142,86.4290005 47.6727292,86.8469317 48.4130246,87.0512628 C47.0498362,85.7357167 44.9960929,83.8038623 43.5164417,82.5859671 C43.0307739,81.1115156 43.2380006,79.6278431 43.3424927,78.122648 L43.3634516,77.9981264 C42.7802099,79.2030731 42.040056,80.3743566 41.6422405,81.6426885 C41.176708,83.3537773 43.7112632,85.1999538 44.6940603,86.2580263 L45.0303574,86.5575217 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/advanced-search-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/advanced-search-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-advanced-search-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M74.5651535,87.9848361 C66.9581537,93.0488876 57.8237115,96 48,96 C21.490332,96 0,74.509668 0,48 C0,21.490332 21.490332,0 48,0 C74.509668,0 96,21.490332 96,48 C96,57.8541369 93.0305793,67.0147285 87.9377231,74.6357895 L122.284919,108.982985 C125.978897,112.676963 125.973757,118.65366 122.284271,122.343146 C118.593975,126.033442 112.613238,126.032921 108.92411,122.343793 L74.5651535,87.9848361 Z M48,80 C65.673112,80 80,65.673112 80,48 C80,30.326888 65.673112,16 48,16 C30.326888,16 16,30.326888 16,48 C16,65.673112 30.326888,80 48,80 Z\&quot;&gt;&lt;/path&gt;\n        &lt;circle cx=\&quot;48\&quot; cy=\&quot;48\&quot; r=\&quot;8\&quot;&gt;&lt;/circle&gt;\n        &lt;circle cx=\&quot;28\&quot; cy=\&quot;48\&quot; r=\&quot;8\&quot;&gt;&lt;/circle&gt;\n        &lt;circle cx=\&quot;68\&quot; cy=\&quot;48\&quot; r=\&quot;8\&quot;&gt;&lt;/circle&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/blank&quot;: {
            &quot;title&quot;: &quot;$:/core/images/blank&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-blank tc-image-button\&quot; viewBox=\&quot;63 152 64 64\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/cancel-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/cancel-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-cancel-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n\t&lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n\t    &lt;path d=\&quot;M64,76.3137085 L47.0294734,93.2842351 C43.9038742,96.4098343 38.8399231,96.4084656 35.7157288,93.2842712 C32.5978915,90.166434 32.5915506,85.0947409 35.7157649,81.9705266 L52.6862915,65 L35.7157649,48.0294734 C32.5901657,44.9038742 32.5915344,39.8399231 35.7157288,36.7157288 C38.833566,33.5978915 43.9052591,33.5915506 47.0294734,36.7157649 L64,53.6862915 L80.9705266,36.7157649 C84.0961258,33.5901657 89.1600769,33.5915344 92.2842712,36.7157288 C95.4021085,39.833566 95.4084494,44.9052591 92.2842351,48.0294734 L75.3137085,65 L92.2842351,81.9705266 C95.4098343,85.0961258 95.4084656,90.1600769 92.2842712,93.2842712 C89.166434,96.4021085 84.0947409,96.4084494 80.9705266,93.2842351 L64,76.3137085 Z M64,129 C99.346224,129 128,100.346224 128,65 C128,29.653776 99.346224,1 64,1 C28.653776,1 1.13686838e-13,29.653776 1.13686838e-13,65 C1.13686838e-13,100.346224 28.653776,129 64,129 Z M64,113 C90.509668,113 112,91.509668 112,65 C112,38.490332 90.509668,17 64,17 C37.490332,17 16,38.490332 16,65 C16,91.509668 37.490332,113 64,113 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/chevron-down&quot;: {
            &quot;title&quot;: &quot;$:/core/images/chevron-down&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-chevron-down tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n\t&lt;g fill-rule=\&quot;evenodd\&quot; transform=\&quot;translate(64.000000, 40.500000) rotate(-270.000000) translate(-64.000000, -40.500000) translate(-22.500000, -26.500000)\&quot;&gt;\n        &lt;path d=\&quot;M112.743107,112.12741 C111.310627,113.561013 109.331747,114.449239 107.145951,114.449239 L27.9777917,114.449239 C23.6126002,114.449239 20.0618714,110.904826 20.0618714,106.532572 C20.0618714,102.169214 23.6059497,98.6159054 27.9777917,98.6159054 L99.2285381,98.6159054 L99.2285381,27.365159 C99.2285381,22.9999675 102.77295,19.4492387 107.145205,19.4492387 C111.508562,19.4492387 115.061871,22.993317 115.061871,27.365159 L115.061871,106.533318 C115.061871,108.71579 114.175869,110.694669 112.743378,112.127981 Z\&quot; transform=\&quot;translate(67.561871, 66.949239) rotate(-45.000000) translate(-67.561871, -66.949239) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M151.35638,112.12741 C149.923899,113.561013 147.94502,114.449239 145.759224,114.449239 L66.5910645,114.449239 C62.225873,114.449239 58.6751442,110.904826 58.6751442,106.532572 C58.6751442,102.169214 62.2192225,98.6159054 66.5910645,98.6159054 L137.841811,98.6159054 L137.841811,27.365159 C137.841811,22.9999675 141.386223,19.4492387 145.758478,19.4492387 C150.121835,19.4492387 153.675144,22.993317 153.675144,27.365159 L153.675144,106.533318 C153.675144,108.71579 152.789142,110.694669 151.356651,112.127981 Z\&quot; transform=\&quot;translate(106.175144, 66.949239) rotate(-45.000000) translate(-106.175144, -66.949239) \&quot;&gt;&lt;/path&gt;\n\t&lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/chevron-left&quot;: {
            &quot;title&quot;: &quot;$:/core/images/chevron-left&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-chevron-left tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot; version=\&quot;1.1\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot; transform=\&quot;translate(92.500000, 64.000000) rotate(-180.000000) translate(-92.500000, -64.000000) translate(6.000000, -3.000000)\&quot;&gt;\n        &lt;path d=\&quot;M112.743107,112.12741 C111.310627,113.561013 109.331747,114.449239 107.145951,114.449239 L27.9777917,114.449239 C23.6126002,114.449239 20.0618714,110.904826 20.0618714,106.532572 C20.0618714,102.169214 23.6059497,98.6159054 27.9777917,98.6159054 L99.2285381,98.6159054 L99.2285381,27.365159 C99.2285381,22.9999675 102.77295,19.4492387 107.145205,19.4492387 C111.508562,19.4492387 115.061871,22.993317 115.061871,27.365159 L115.061871,106.533318 C115.061871,108.71579 114.175869,110.694669 112.743378,112.127981 Z\&quot; transform=\&quot;translate(67.561871, 66.949239) rotate(-45.000000) translate(-67.561871, -66.949239) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M151.35638,112.12741 C149.923899,113.561013 147.94502,114.449239 145.759224,114.449239 L66.5910645,114.449239 C62.225873,114.449239 58.6751442,110.904826 58.6751442,106.532572 C58.6751442,102.169214 62.2192225,98.6159054 66.5910645,98.6159054 L137.841811,98.6159054 L137.841811,27.365159 C137.841811,22.9999675 141.386223,19.4492387 145.758478,19.4492387 C150.121835,19.4492387 153.675144,22.993317 153.675144,27.365159 L153.675144,106.533318 C153.675144,108.71579 152.789142,110.694669 151.356651,112.127981 Z\&quot; transform=\&quot;translate(106.175144, 66.949239) rotate(-45.000000) translate(-106.175144, -66.949239) \&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/chevron-right&quot;: {
            &quot;title&quot;: &quot;$:/core/images/chevron-right&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-chevron-right tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot; transform=\&quot;translate(-48.000000, -3.000000)\&quot;&gt;\n        &lt;path d=\&quot;M112.743107,112.12741 C111.310627,113.561013 109.331747,114.449239 107.145951,114.449239 L27.9777917,114.449239 C23.6126002,114.449239 20.0618714,110.904826 20.0618714,106.532572 C20.0618714,102.169214 23.6059497,98.6159054 27.9777917,98.6159054 L99.2285381,98.6159054 L99.2285381,27.365159 C99.2285381,22.9999675 102.77295,19.4492387 107.145205,19.4492387 C111.508562,19.4492387 115.061871,22.993317 115.061871,27.365159 L115.061871,106.533318 C115.061871,108.71579 114.175869,110.694669 112.743378,112.127981 Z\&quot; transform=\&quot;translate(67.561871, 66.949239) rotate(-45.000000) translate(-67.561871, -66.949239) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M151.35638,112.12741 C149.923899,113.561013 147.94502,114.449239 145.759224,114.449239 L66.5910645,114.449239 C62.225873,114.449239 58.6751442,110.904826 58.6751442,106.532572 C58.6751442,102.169214 62.2192225,98.6159054 66.5910645,98.6159054 L137.841811,98.6159054 L137.841811,27.365159 C137.841811,22.9999675 141.386223,19.4492387 145.758478,19.4492387 C150.121835,19.4492387 153.675144,22.993317 153.675144,27.365159 L153.675144,106.533318 C153.675144,108.71579 152.789142,110.694669 151.356651,112.127981 Z\&quot; transform=\&quot;translate(106.175144, 66.949239) rotate(-45.000000) translate(-106.175144, -66.949239) \&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/chevron-up&quot;: {
            &quot;title&quot;: &quot;$:/core/images/chevron-up&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-chevron-up tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n\t&lt;g fill-rule=\&quot;evenodd\&quot; transform=\&quot;translate(64.000000, 89.500000) rotate(-90.000000) translate(-64.000000, -89.500000) translate(-22.500000, 22.500000)\&quot;&gt;\n        &lt;path d=\&quot;M112.743107,112.12741 C111.310627,113.561013 109.331747,114.449239 107.145951,114.449239 L27.9777917,114.449239 C23.6126002,114.449239 20.0618714,110.904826 20.0618714,106.532572 C20.0618714,102.169214 23.6059497,98.6159054 27.9777917,98.6159054 L99.2285381,98.6159054 L99.2285381,27.365159 C99.2285381,22.9999675 102.77295,19.4492387 107.145205,19.4492387 C111.508562,19.4492387 115.061871,22.993317 115.061871,27.365159 L115.061871,106.533318 C115.061871,108.71579 114.175869,110.694669 112.743378,112.127981 Z\&quot; transform=\&quot;translate(67.561871, 66.949239) rotate(-45.000000) translate(-67.561871, -66.949239) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M151.35638,112.12741 C149.923899,113.561013 147.94502,114.449239 145.759224,114.449239 L66.5910645,114.449239 C62.225873,114.449239 58.6751442,110.904826 58.6751442,106.532572 C58.6751442,102.169214 62.2192225,98.6159054 66.5910645,98.6159054 L137.841811,98.6159054 L137.841811,27.365159 C137.841811,22.9999675 141.386223,19.4492387 145.758478,19.4492387 C150.121835,19.4492387 153.675144,22.993317 153.675144,27.365159 L153.675144,106.533318 C153.675144,108.71579 152.789142,110.694669 151.356651,112.127981 Z\&quot; transform=\&quot;translate(106.175144, 66.949239) rotate(-45.000000) translate(-106.175144, -66.949239) \&quot;&gt;&lt;/path&gt;\n\t&lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/clone-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/clone-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-clone-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M32.2650915,96 L32.2650915,120.002359 C32.2650915,124.419334 35.8432884,128 40.2627323,128 L120.002359,128 C124.419334,128 128,124.421803 128,120.002359 L128,40.2627323 C128,35.8457573 124.421803,32.2650915 120.002359,32.2650915 L96,32.2650915 L96,48 L108.858899,48 C110.519357,48 111.853018,49.3405131 111.853018,50.9941198 L111.853018,108.858899 C111.853018,110.519357 110.512505,111.853018 108.858899,111.853018 L50.9941198,111.853018 C49.333661,111.853018 48,110.512505 48,108.858899 L48,96 L32.2650915,96 Z\&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M40,56 L32.0070969,56 C27.5881712,56 24,52.418278 24,48 C24,43.5907123 27.5848994,40 32.0070969,40 L40,40 L40,32.0070969 C40,27.5881712 43.581722,24 48,24 C52.4092877,24 56,27.5848994 56,32.0070969 L56,40 L63.9929031,40 C68.4118288,40 72,43.581722 72,48 C72,52.4092877 68.4151006,56 63.9929031,56 L56,56 L56,63.9929031 C56,68.4118288 52.418278,72 48,72 C43.5907123,72 40,68.4151006 40,63.9929031 L40,56 Z M7.9992458,0 C3.58138434,0 0,3.5881049 0,7.9992458 L0,88.0007542 C0,92.4186157 3.5881049,96 7.9992458,96 L88.0007542,96 C92.4186157,96 96,92.4118951 96,88.0007542 L96,7.9992458 C96,3.58138434 92.4118951,0 88.0007542,0 L7.9992458,0 Z M19.0010118,16 C17.3435988,16 16,17.336731 16,19.0010118 L16,76.9989882 C16,78.6564012 17.336731,80 19.0010118,80 L76.9989882,80 C78.6564012,80 80,78.663269 80,76.9989882 L80,19.0010118 C80,17.3435988 78.663269,16 76.9989882,16 L19.0010118,16 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/close-all-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/close-all-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-close-all-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot; transform=\&quot;translate(-23.000000, -23.000000)\&quot;&gt;\n        &lt;path d=\&quot;M43,131 L22.9976794,131 C18.5827987,131 15,127.418278 15,123 C15,118.590712 18.5806831,115 22.9976794,115 L43,115 L43,94.9976794 C43,90.5827987 46.581722,87 51,87 C55.4092877,87 59,90.5806831 59,94.9976794 L59,115 L79.0023206,115 C83.4172013,115 87,118.581722 87,123 C87,127.409288 83.4193169,131 79.0023206,131 L59,131 L59,151.002321 C59,155.417201 55.418278,159 51,159 C46.5907123,159 43,155.419317 43,151.002321 L43,131 Z\&quot; transform=\&quot;translate(51.000000, 123.000000) rotate(-45.000000) translate(-51.000000, -123.000000) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M43,59 L22.9976794,59 C18.5827987,59 15,55.418278 15,51 C15,46.5907123 18.5806831,43 22.9976794,43 L43,43 L43,22.9976794 C43,18.5827987 46.581722,15 51,15 C55.4092877,15 59,18.5806831 59,22.9976794 L59,43 L79.0023206,43 C83.4172013,43 87,46.581722 87,51 C87,55.4092877 83.4193169,59 79.0023206,59 L59,59 L59,79.0023206 C59,83.4172013 55.418278,87 51,87 C46.5907123,87 43,83.4193169 43,79.0023206 L43,59 Z\&quot; transform=\&quot;translate(51.000000, 51.000000) rotate(-45.000000) translate(-51.000000, -51.000000) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M115,59 L94.9976794,59 C90.5827987,59 87,55.418278 87,51 C87,46.5907123 90.5806831,43 94.9976794,43 L115,43 L115,22.9976794 C115,18.5827987 118.581722,15 123,15 C127.409288,15 131,18.5806831 131,22.9976794 L131,43 L151.002321,43 C155.417201,43 159,46.581722 159,51 C159,55.4092877 155.419317,59 151.002321,59 L131,59 L131,79.0023206 C131,83.4172013 127.418278,87 123,87 C118.590712,87 115,83.4193169 115,79.0023206 L115,59 Z\&quot; transform=\&quot;translate(123.000000, 51.000000) rotate(-45.000000) translate(-123.000000, -51.000000) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M115,131 L94.9976794,131 C90.5827987,131 87,127.418278 87,123 C87,118.590712 90.5806831,115 94.9976794,115 L115,115 L115,94.9976794 C115,90.5827987 118.581722,87 123,87 C127.409288,87 131,90.5806831 131,94.9976794 L131,115 L151.002321,115 C155.417201,115 159,118.581722 159,123 C159,127.409288 155.419317,131 151.002321,131 L131,131 L131,151.002321 C131,155.417201 127.418278,159 123,159 C118.590712,159 115,155.419317 115,151.002321 L115,131 Z\&quot; transform=\&quot;translate(123.000000, 123.000000) rotate(-45.000000) translate(-123.000000, -123.000000) \&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/close-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/close-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-close-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M65.0864256,75.4091629 L14.9727349,125.522854 C11.8515951,128.643993 6.78104858,128.64922 3.65685425,125.525026 C0.539017023,122.407189 0.5336324,117.334539 3.65902635,114.209145 L53.7727171,64.0954544 L3.65902635,13.9817637 C0.537886594,10.8606239 0.532659916,5.79007744 3.65685425,2.6658831 C6.77469148,-0.451954124 11.8473409,-0.457338747 14.9727349,2.66805521 L65.0864256,52.7817459 L115.200116,2.66805521 C118.321256,-0.453084553 123.391803,-0.458311231 126.515997,2.6658831 C129.633834,5.78372033 129.639219,10.8563698 126.513825,13.9817637 L76.4001341,64.0954544 L126.513825,114.209145 C129.634965,117.330285 129.640191,122.400831 126.515997,125.525026 C123.39816,128.642863 118.32551,128.648248 115.200116,125.522854 L65.0864256,75.4091629 L65.0864256,75.4091629 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/close-others-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/close-others-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-close-others-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 127\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M64,128 C99.346224,128 128,99.346224 128,64 C128,28.653776 99.346224,0 64,0 C28.653776,0 0,28.653776 0,64 C0,99.346224 28.653776,128 64,128 Z M64,112 C90.509668,112 112,90.509668 112,64 C112,37.490332 90.509668,16 64,16 C37.490332,16 16,37.490332 16,64 C16,90.509668 37.490332,112 64,112 Z M64,96 C81.673112,96 96,81.673112 96,64 C96,46.326888 81.673112,32 64,32 C46.326888,32 32,46.326888 32,64 C32,81.673112 46.326888,96 64,96 Z M64,80 C72.836556,80 80,72.836556 80,64 C80,55.163444 72.836556,48 64,48 C55.163444,48 48,55.163444 48,64 C48,72.836556 55.163444,80 64,80 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/delete-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/delete-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-delete-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot; transform=\&quot;translate(12.000000, 0.000000)\&quot;&gt;\n        &lt;rect x=\&quot;0\&quot; y=\&quot;11\&quot; width=\&quot;105\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;28\&quot; y=\&quot;0\&quot; width=\&quot;48\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;8\&quot; y=\&quot;16\&quot; width=\&quot;16\&quot; height=\&quot;112\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;8\&quot; y=\&quot;112\&quot; width=\&quot;88\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;80\&quot; y=\&quot;16\&quot; width=\&quot;16\&quot; height=\&quot;112\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;56\&quot; y=\&quot;16\&quot; width=\&quot;16\&quot; height=\&quot;112\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;32\&quot; y=\&quot;16\&quot; width=\&quot;16\&quot; height=\&quot;112\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/done-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/done-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-done-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M3.52445141,76.8322939 C2.07397484,75.3828178 1.17514421,73.3795385 1.17514421,71.1666288 L1.17514421,23.1836596 C1.17514421,18.7531992 4.75686621,15.1751442 9.17514421,15.1751442 C13.5844319,15.1751442 17.1751442,18.7606787 17.1751442,23.1836596 L17.1751442,63.1751442 L119.173716,63.1751442 C123.590457,63.1751442 127.175144,66.7568662 127.175144,71.1751442 C127.175144,75.5844319 123.592783,79.1751442 119.173716,79.1751442 L9.17657227,79.1751442 C6.96796403,79.1751442 4.9674142,78.279521 3.51911285,76.8315312 Z\&quot; id=\&quot;Rectangle-285\&quot; transform=\&quot;translate(64.175144, 47.175144) rotate(-45.000000) translate(-64.175144, -47.175144) \&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/down-arrow&quot;: {
            &quot;title&quot;: &quot;$:/core/images/down-arrow&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-down-arrow tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;path d=\&quot;M109.35638,81.3533152 C107.923899,82.7869182 105.94502,83.6751442 103.759224,83.6751442 L24.5910645,83.6751442 C20.225873,83.6751442 16.6751442,80.1307318 16.6751442,75.7584775 C16.6751442,71.3951199 20.2192225,67.8418109 24.5910645,67.8418109 L95.8418109,67.8418109 L95.8418109,-3.40893546 C95.8418109,-7.77412698 99.3862233,-11.3248558 103.758478,-11.3248558 C108.121835,-11.3248558 111.675144,-7.78077754 111.675144,-3.40893546 L111.675144,75.7592239 C111.675144,77.9416955 110.789142,79.9205745 109.356651,81.3538862 Z\&quot; transform=\&quot;translate(64.175144, 36.175144) rotate(45.000000) translate(-64.175144, -36.175144) \&quot;&gt;&lt;/path&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/download-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/download-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-download-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 129 128\&quot;&gt;&lt;g fill-rule=\&quot;evenodd\&quot;&gt;&lt;path class=\&quot;tc-image-download-button-ring\&quot; d=\&quot;M64,128 C99.346224,128 128,99.346224 128,64 C128,28.653776 99.346224,0 64,0 C28.653776,0 0,28.653776 0,64 C0,99.346224 28.653776,128 64,128 Z M64,112 C90.509668,112 112,90.509668 112,64 C112,37.490332 90.509668,16 64,16 C37.490332,16 16,37.490332 16,64 C16,90.509668 37.490332,112 64,112 Z\&quot;/&gt;&lt;path d=\&quot;M34.3496823,66.4308767 L61.2415823,93.634668 C63.0411536,95.4551107 65.9588502,95.4551107 67.7584215,93.634668 L94.6503215,66.4308767 C96.4498928,64.610434 96.4498928,61.6588981 94.6503215,59.8384554 C93.7861334,58.9642445 92.6140473,58.4731195 91.3919019,58.4731195 L82.9324098,58.4731195 C80.3874318,58.4731195 78.3243078,56.3860674 78.3243078,53.8115729 L78.3243078,38.6615466 C78.3243078,36.0870521 76.2611837,34 73.7162058,34 L55.283798,34 C52.7388201,34 50.675696,36.0870521 50.675696,38.6615466 L50.675696,38.6615466 L50.675696,53.8115729 C50.675696,56.3860674 48.612572,58.4731195 46.0675941,58.4731195 L37.608102,58.4731195 C35.063124,58.4731195 33,60.5601716 33,63.134666 C33,64.3709859 33.4854943,65.5566658 34.3496823,66.4308767 L34.3496823,66.4308767 Z\&quot;/&gt;&lt;/g&gt;&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/edit-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/edit-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-edit-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M116.870058,45.3431458 L108.870058,45.3431458 L108.870058,45.3431458 L108.870058,61.3431458 L116.870058,61.3431458 L116.870058,45.3431458 Z M124.870058,45.3431458 L127.649881,45.3431458 C132.066101,45.3431458 135.656854,48.9248678 135.656854,53.3431458 C135.656854,57.7524334 132.07201,61.3431458 127.649881,61.3431458 L124.870058,61.3431458 L124.870058,45.3431458 Z M100.870058,45.3431458 L15.6638275,45.3431458 C15.5064377,45.3431458 15.3501085,45.3476943 15.1949638,45.3566664 L15.1949638,45.3566664 C15.0628002,45.3477039 14.928279,45.3431458 14.7913977,45.3431458 C6.68160973,45.3431458 -8.34314575,53.3431458 -8.34314575,53.3431458 C-8.34314575,53.3431458 6.85614548,61.3431458 14.7913977,61.3431458 C14.9266533,61.3431458 15.0596543,61.3384973 15.190398,61.3293588 C15.3470529,61.3385075 15.5049057,61.3431458 15.6638275,61.3431458 L100.870058,61.3431458 L100.870058,45.3431458 L100.870058,45.3431458 Z\&quot; transform=\&quot;translate(63.656854, 53.343146) rotate(-45.000000) translate(-63.656854, -53.343146) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M35.1714596,124.189544 C41.9594858,123.613403 49.068777,121.917633 58.85987,118.842282 C60.6854386,118.268877 62.4306907,117.705515 65.1957709,116.802278 C81.1962861,111.575575 87.0734839,109.994907 93.9414474,109.655721 C102.29855,109.242993 107.795169,111.785371 111.520478,118.355045 C112.610163,120.276732 115.051363,120.951203 116.97305,119.861518 C118.894737,118.771832 119.569207,116.330633 118.479522,114.408946 C113.146151,105.003414 104.734907,101.112919 93.5468356,101.66546 C85.6716631,102.054388 79.4899908,103.716944 62.7116783,109.197722 C59.9734132,110.092199 58.2519873,110.64787 56.4625698,111.20992 C37.002649,117.322218 25.6914684,118.282267 16.8654804,112.957098 C14.9739614,111.815848 12.5154166,112.424061 11.3741667,114.31558 C10.2329168,116.207099 10.84113,118.665644 12.7326489,119.806894 C19.0655164,123.627836 26.4866335,124.926678 35.1714596,124.189544 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/export-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/export-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-export-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M8.00348646,127.999999 C8.00464867,128 8.00581094,128 8.00697327,128 L119.993027,128 C122.205254,128 124.207939,127.101378 125.657096,125.651198 L125.656838,125.65759 C127.104563,124.210109 128,122.21009 128,119.999949 L128,56.0000511 C128,51.5817449 124.409288,48 120,48 C115.581722,48 112,51.5797863 112,56.0000511 L112,112 L16,112 L16,56.0000511 C16,51.5817449 12.4092877,48 8,48 C3.581722,48 7.10542736e-15,51.5797863 7.10542736e-15,56.0000511 L7.10542736e-15,119.999949 C7.10542736e-15,124.418255 3.59071231,128 8,128 C8.00116233,128 8.0023246,128 8.00348681,127.999999 Z M56.6235633,27.3113724 L47.6580188,36.2769169 C44.5333664,39.4015692 39.4634864,39.4061295 36.339292,36.2819351 C33.2214548,33.1640979 33.2173444,28.0901742 36.3443103,24.9632084 L58.9616908,2.34582788 C60.5248533,0.782665335 62.5748436,0.000361191261 64.624516,2.38225238e-14 L64.6193616,0.00151809229 C66.6695374,0.000796251595 68.7211167,0.781508799 70.2854358,2.34582788 L92.9028163,24.9632084 C96.0274686,28.0878607 96.0320289,33.1577408 92.9078345,36.2819351 C89.7899973,39.3997724 84.7160736,39.4038827 81.5891078,36.2769169 L72.6235633,27.3113724 L72.6235633,88.5669606 C72.6235633,92.9781015 69.0418413,96.5662064 64.6235633,96.5662064 C60.2142756,96.5662064 56.6235633,92.984822 56.6235633,88.5669606 L56.6235633,27.3113724 L56.6235633,27.3113724 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/full-screen-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/full-screen-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-full-screen-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g&gt;\n        &lt;g&gt;\n            &lt;path d=\&quot;M5.29777586e-31,8 C1.59060409e-15,3.581722 3.581722,0 8,0 L40,0 C44.418278,0 48,3.581722 48,8 C48,12.418278 44.418278,16 40,16 L16,16 L16,40 C16,44.418278 12.418278,48 8,48 C3.581722,48 -3.55271368e-15,44.418278 0,40 L3.55271368e-15,8 Z\&quot;&gt;&lt;/path&gt;\n        &lt;/g&gt;\n        &lt;g transform=\&quot;translate(104.000000, 104.000000) rotate(-180.000000) translate(-104.000000, -104.000000) translate(80.000000, 80.000000)\&quot;&gt;\n            &lt;path d=\&quot;M5.29777586e-31,8 C1.59060409e-15,3.581722 3.581722,0 8,0 L40,0 C44.418278,0 48,3.581722 48,8 C48,12.418278 44.418278,16 40,16 L16,16 L16,40 C16,44.418278 12.418278,48 8,48 C3.581722,48 -3.55271368e-15,44.418278 0,40 L3.55271368e-15,8 Z\&quot;&gt;&lt;/path&gt;\n        &lt;/g&gt;\n        &lt;g transform=\&quot;translate(24.000000, 104.000000) rotate(-90.000000) translate(-24.000000, -104.000000) translate(0.000000, 80.000000)\&quot;&gt;\n            &lt;path d=\&quot;M5.29777586e-31,8 C1.59060409e-15,3.581722 3.581722,0 8,0 L40,0 C44.418278,0 48,3.581722 48,8 C48,12.418278 44.418278,16 40,16 L16,16 L16,40 C16,44.418278 12.418278,48 8,48 C3.581722,48 -3.55271368e-15,44.418278 0,40 L3.55271368e-15,8 Z\&quot;&gt;&lt;/path&gt;\n        &lt;/g&gt;\n        &lt;g transform=\&quot;translate(104.000000, 24.000000) rotate(90.000000) translate(-104.000000, -24.000000) translate(80.000000, 0.000000)\&quot;&gt;\n            &lt;path d=\&quot;M5.29777586e-31,8 C1.59060409e-15,3.581722 3.581722,0 8,0 L40,0 C44.418278,0 48,3.581722 48,8 C48,12.418278 44.418278,16 40,16 L16,16 L16,40 C16,44.418278 12.418278,48 8,48 C3.581722,48 -3.55271368e-15,44.418278 0,40 L3.55271368e-15,8 Z\&quot;&gt;&lt;/path&gt;\n        &lt;/g&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/globe&quot;: {
            &quot;title&quot;: &quot;$:/core/images/globe&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-globe tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M72.8111354,37.1275855 C72.8111354,37.9789875 72.8111354,38.8303894 72.8111354,39.6817913 C72.8111354,41.8784743 73.7885604,46.5631866 72.8111354,48.5143758 C71.3445471,51.4420595 68.1617327,52.0543531 66.4170946,54.3812641 C65.2352215,55.9575873 61.7987417,64.9821523 62.7262858,67.3005778 C66.6959269,77.2228204 74.26087,70.4881886 80.6887657,76.594328 C81.5527211,77.415037 83.5758191,78.8666631 83.985137,79.8899578 C87.2742852,88.1128283 76.4086873,94.8989524 87.7419325,106.189751 C88.9872885,107.430443 91.555495,102.372895 91.8205061,101.575869 C92.6726866,99.0129203 98.5458765,96.1267309 100.908882,94.5234439 C102.928056,93.1534443 105.782168,91.8557166 107.236936,89.7775886 C109.507391,86.5342557 108.717505,82.2640435 110.334606,79.0328716 C112.473794,74.7585014 114.163418,69.3979002 116.332726,65.0674086 C120.230862,57.2857361 121.054075,67.1596684 121.400359,67.5059523 C121.757734,67.8633269 122.411167,67.5059523 122.916571,67.5059523 C123.011132,67.5059523 124.364019,67.6048489 124.432783,67.5059523 C125.0832,66.5705216 123.390209,49.5852316 123.114531,48.2089091 C121.710578,41.1996597 116.17083,32.4278331 111.249523,27.7092761 C104.975994,21.6942076 104.160516,11.5121686 92.9912146,12.7547535 C92.7872931,12.7774397 87.906794,22.9027026 85.2136766,26.2672064 C81.486311,30.9237934 82.7434931,22.1144904 78.6876623,22.1144904 C78.6065806,22.1144904 77.5045497,22.0107615 77.4353971,22.1144904 C76.8488637,22.9942905 75.9952305,26.0101404 75.1288269,26.5311533 C74.8635477,26.6906793 73.4071369,26.2924966 73.2826811,26.5311533 C71.0401728,30.8313939 81.5394677,28.7427264 79.075427,34.482926 C76.7225098,39.9642538 72.747373,32.4860199 72.747373,43.0434079\&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M44.4668556,7.01044608 C54.151517,13.1403033 45.1489715,19.2084878 47.1611905,23.2253896 C48.8157833,26.5283781 51.4021933,28.6198851 48.8753629,33.038878 C46.8123257,36.6467763 42.0052989,37.0050492 39.251679,39.7621111 C36.2115749,42.8060154 33.7884281,48.7028116 32.4624592,52.6732691 C30.8452419,57.5158356 47.0088721,59.5388126 44.5246867,63.6811917 C43.1386839,65.9923513 37.7785192,65.1466282 36.0880227,63.8791519 C34.9234453,63.0059918 32.4946425,63.3331166 31.6713597,62.0997342 C29.0575851,58.1839669 29.4107339,54.0758543 28.0457962,49.9707786 C27.1076833,47.1493864 21.732611,47.8501656 20.2022714,49.3776393 C19.6790362,49.8998948 19.8723378,51.1703278 19.8723378,51.8829111 C19.8723378,57.1682405 26.9914913,55.1986414 26.9914913,58.3421973 C26.9914913,72.9792302 30.9191897,64.8771867 38.1313873,69.6793121 C48.1678018,76.3618966 45.9763926,76.981595 53.0777543,84.0829567 C56.7511941,87.7563965 60.8192437,87.7689005 62.503478,93.3767069 C64.1046972,98.7081071 53.1759798,98.7157031 50.786754,100.825053 C49.663965,101.816317 47.9736094,104.970571 46.5680513,105.439676 C44.7757187,106.037867 43.334221,105.93607 41.6242359,107.219093 C39.1967302,109.040481 37.7241465,112.151588 37.6034934,112.030935 C35.4555278,109.88297 34.0848666,96.5511248 33.7147244,93.7726273 C33.1258872,89.3524817 28.1241923,88.2337027 26.7275443,84.7420826 C25.1572737,80.8164061 28.2518481,75.223612 25.599097,70.9819941 C19.0797019,60.557804 13.7775712,56.4811506 10.2493953,44.6896152 C9.3074899,41.5416683 13.5912267,38.1609942 15.1264825,35.8570308 C17.0029359,33.0410312 17.7876232,30.0028946 19.8723378,27.2224065 C22.146793,24.1888519 40.8551166,9.46076832 43.8574051,8.63490613 L44.4668556,7.01044608 Z\&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M64,126 C98.2416545,126 126,98.2416545 126,64 C126,29.7583455 98.2416545,2 64,2 C29.7583455,2 2,29.7583455 2,64 C2,98.2416545 29.7583455,126 64,126 Z M64,120 C94.927946,120 120,94.927946 120,64 C120,33.072054 94.927946,8 64,8 C33.072054,8 8,33.072054 8,64 C8,94.927946 33.072054,120 64,120 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/home-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/home-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-home-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M112.9847,119.501583 C112.99485,119.336814 113,119.170705 113,119.003406 L113,67.56802 C116.137461,70.5156358 121.076014,70.4518569 124.133985,67.3938855 C127.25818,64.2696912 127.260618,59.2068102 124.131541,56.0777326 L70.3963143,2.34250601 C68.8331348,0.779326498 66.7828947,-0.000743167069 64.7337457,1.61675364e-05 C62.691312,-0.00409949529 60.6426632,0.777559815 59.077717,2.34250601 L33,28.420223 L33,28.420223 L33,8.00697327 C33,3.58484404 29.4092877,0 25,0 C20.581722,0 17,3.59075293 17,8.00697327 L17,44.420223 L5.3424904,56.0777326 C2.21694607,59.2032769 2.22220878,64.2760483 5.34004601,67.3938855 C8.46424034,70.5180798 13.5271213,70.5205187 16.6561989,67.3914411 L17,67.04764 L17,119.993027 C17,119.994189 17.0000002,119.995351 17.0000007,119.996514 C17.0000002,119.997675 17,119.998838 17,120 C17,124.418278 20.5881049,128 24.9992458,128 L105.000754,128 C109.418616,128 113,124.409288 113,120 C113,119.832611 112.99485,119.666422 112.9847,119.501583 Z M97,112 L97,51.5736087 L97,51.5736087 L64.7370156,19.3106244 L33,51.04764 L33,112 L97,112 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/import-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/import-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-import-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M105.449437,94.2138951 C105.449437,94.2138951 110.049457,94.1897106 110.049457,99.4026111 C110.049457,104.615512 105.163246,104.615511 105.163246,104.615511 L45.0075072,105.157833 C45.0075072,105.157833 0.367531803,106.289842 0.367532368,66.6449212 C0.367532934,27.0000003 45.0428249,27.0000003 45.0428249,27.0000003 L105.532495,27.0000003 C105.532495,27.0000003 138.996741,25.6734987 138.996741,55.1771866 C138.996741,84.6808745 105.727102,82.8457535 105.727102,82.8457535 L56.1735087,82.8457535 C56.1735087,82.8457535 22.6899229,85.1500223 22.6899229,66.0913753 C22.6899229,47.0327282 56.1735087,49.3383013 56.1735087,49.3383013 L105.727102,49.3383013 C105.727102,49.3383013 111.245209,49.3383024 111.245209,54.8231115 C111.245209,60.3079206 105.727102,60.5074524 105.727102,60.5074524 L56.1735087,60.5074524 C56.1735087,60.5074524 37.48913,60.5074528 37.48913,66.6449195 C37.48913,72.7823862 56.1735087,71.6766023 56.1735087,71.6766023 L105.727102,71.6766029 C105.727102,71.6766029 127.835546,73.1411469 127.835546,55.1771866 C127.835546,35.5304025 105.727102,38.3035317 105.727102,38.3035317 L45.0428249,38.3035317 C45.0428249,38.3035317 11.5287276,38.3035313 11.5287276,66.6449208 C11.5287276,94.9863103 45.0428244,93.9579678 45.0428244,93.9579678 L105.449437,94.2138951 Z\&quot; transform=\&quot;translate(69.367532, 66.000000) rotate(-45.000000) translate(-69.367532, -66.000000) \&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/info-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/info-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-info-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;g transform=\&quot;translate(0.049406, 0.000000)\&quot;&gt;\n            &lt;path d=\&quot;M64,128 C99.346224,128 128,99.346224 128,64 C128,28.653776 99.346224,0 64,0 C28.653776,0 0,28.653776 0,64 C0,99.346224 28.653776,128 64,128 Z M64,112 C90.509668,112 112,90.509668 112,64 C112,37.490332 90.509668,16 64,16 C37.490332,16 16,37.490332 16,64 C16,90.509668 37.490332,112 64,112 Z\&quot;&gt;&lt;/path&gt;\n            &lt;circle cx=\&quot;64\&quot; cy=\&quot;32\&quot; r=\&quot;8\&quot;&gt;&lt;/circle&gt;\n            &lt;rect x=\&quot;56\&quot; y=\&quot;48\&quot; width=\&quot;16\&quot; height=\&quot;56\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;/g&gt;\n    &lt;/g&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/locked-padlock&quot;: {
            &quot;title&quot;: &quot;$:/core/images/locked-padlock&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-locked-padlock tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M96.4723753,64 L105,64 L105,96.0097716 C105,113.673909 90.6736461,128 73.001193,128 L55.998807,128 C38.3179793,128 24,113.677487 24,96.0097716 L24,64 L32.0000269,64 C32.0028554,48.2766389 32.3030338,16.2688026 64.1594984,16.2688041 C95.9543927,16.2688056 96.4648869,48.325931 96.4723753,64 Z M80.5749059,64 L48.4413579,64 C48.4426205,47.71306 48.5829272,31.9999996 64.1595001,31.9999996 C79.8437473,31.9999996 81.1369461,48.1359182 80.5749059,64 Z M67.7315279,92.3641717 C70.8232551,91.0923621 73,88.0503841 73,84.5 C73,79.8055796 69.1944204,76 64.5,76 C59.8055796,76 56,79.8055796 56,84.5 C56,87.947435 58.0523387,90.9155206 61.0018621,92.2491029 L55.9067479,115.020857 L72.8008958,115.020857 L67.7315279,92.3641717 L67.7315279,92.3641717 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/menu-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/menu-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-menu-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;rect x=\&quot;0\&quot; y=\&quot;16\&quot; width=\&quot;128\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n    &lt;rect x=\&quot;0\&quot; y=\&quot;56\&quot; width=\&quot;128\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n    &lt;rect x=\&quot;0\&quot; y=\&quot;96\&quot; width=\&quot;128\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/new-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/new-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-new-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M56,72 L8.00697327,72 C3.59075293,72 0,68.418278 0,64 C0,59.5907123 3.58484404,56 8.00697327,56 L56,56 L56,8.00697327 C56,3.59075293 59.581722,0 64,0 C68.4092877,0 72,3.58484404 72,8.00697327 L72,56 L119.993027,56 C124.409247,56 128,59.581722 128,64 C128,68.4092877 124.415156,72 119.993027,72 L72,72 L72,119.993027 C72,124.409247 68.418278,128 64,128 C59.5907123,128 56,124.415156 56,119.993027 L56,72 L56,72 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/new-here-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/new-here-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-new-here-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n    \t&lt;g transform=\&quot;translate(52.233611, 64.389922) rotate(75.000000) translate(-52.233611, -64.389922) translate(-7.734417, 3.702450)\&quot;&gt;\n\t        &lt;path d=\&quot;M18.9270186,45.959338 L18.9080585,49.6521741 C18.8884833,53.4648378 21.0574548,58.7482162 23.7526408,61.4434022 L78.5671839,116.257945 C81.2617332,118.952495 85.6348701,118.950391 88.3334363,116.251825 L115.863237,88.7220241 C118.555265,86.0299959 118.564544,81.6509578 115.869358,78.9557717 L61.0548144,24.1412286 C58.3602652,21.4466794 53.0787224,19.2788426 49.2595808,19.3006519 L25.9781737,19.4336012 C22.1633003,19.4553862 19.0471195,22.5673232 19.0275223,26.3842526 L18.9871663,34.2443819 C19.0818862,34.255617 19.1779758,34.2665345 19.2754441,34.2771502 C22.6891275,34.6489512 27.0485594,34.2348566 31.513244,33.2285542 C31.7789418,32.8671684 32.075337,32.5211298 32.4024112,32.1940556 C34.8567584,29.7397084 38.3789778,29.0128681 41.4406288,30.0213822 C41.5958829,29.9543375 41.7503946,29.8866669 41.9041198,29.8183808 L42.1110981,30.2733467 C43.1114373,30.6972371 44.0473796,31.3160521 44.8614145,32.1300869 C48.2842088,35.5528813 48.2555691,41.130967 44.7974459,44.5890903 C41.4339531,47.952583 36.0649346,48.0717177 32.6241879,44.9262969 C27.8170558,45.8919233 23.0726921,46.2881596 18.9270186,45.959338 Z\&quot;&gt;&lt;/path&gt;\n\t        &lt;path d=\&quot;M45.4903462,38.8768094 C36.7300141,42.6833154 26.099618,44.7997354 18.1909048,43.9383587 C7.2512621,42.7468685 1.50150083,35.8404432 4.66865776,24.7010202 C7.51507386,14.6896965 15.4908218,6.92103848 24.3842626,4.38423012 C34.1310219,1.60401701 42.4070208,6.15882777 42.4070209,16.3101169 L34.5379395,16.310117 C34.5379394,11.9285862 31.728784,10.3825286 26.5666962,11.8549876 C20.2597508,13.6540114 14.3453742,19.4148216 12.2444303,26.8041943 C10.4963869,32.9523565 12.6250796,35.5092726 19.0530263,36.2093718 C25.5557042,36.9176104 35.0513021,34.9907189 42.7038419,31.5913902 L42.7421786,31.6756595 C44.3874154,31.5384763 47.8846101,37.3706354 45.9274416,38.6772897 L45.9302799,38.6835285 C45.9166992,38.6895612 45.9031139,38.6955897 45.8895238,38.7016142 C45.8389288,38.7327898 45.7849056,38.7611034 45.7273406,38.7863919 C45.6506459,38.8200841 45.571574,38.8501593 45.4903462,38.8768094 Z\&quot;&gt;&lt;/path&gt;\n        &lt;/g&gt;\n        &lt;rect x=\&quot;96\&quot; y=\&quot;80\&quot; width=\&quot;16\&quot; height=\&quot;48\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;80\&quot; y=\&quot;96\&quot; width=\&quot;48\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n    &lt;/g&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/new-journal-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/new-journal-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-new-journal-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M102.545455,112.818182 L102.545455,124.636364 L102.545455,124.636364 L102.545455,124.636364 C102.545455,125.941761 103.630828,127 104.969697,127 L111.030303,127 C112.369172,127 113.454545,125.941761 113.454545,124.636364 L113.454545,112.818182 L125.575758,112.818182 C126.914626,112.818182 128,111.759982 128,110.454545 L128,104.545455 C128,103.240018 126.914626,102.181818 125.575758,102.181818 L113.454545,102.181818 L113.454545,90.3636364 C113.454545,89.0582 112.369172,88 111.030303,88 L104.969697,88 L104.969697,88 C103.630828,88 102.545455,89.0582 102.545455,90.3636364 L102.545455,102.181818 L90.4242424,102.181818 L90.4242424,102.181818 C89.0853705,102.181818 88,103.240018 88,104.545455 L88,110.454545 L88,110.454545 L88,110.454545 C88,111.759982 89.0853705,112.818182 90.4242424,112.818182 L102.545455,112.818182 Z\&quot;&gt;&lt;/path&gt;\n        &lt;g transform=\&quot;translate(59.816987, 64.316987) rotate(30.000000) translate(-59.816987, -64.316987) translate(20.316987, 12.816987)\&quot;&gt;\n            &lt;g transform=\&quot;translate(0.000000, 0.000000)\&quot;&gt;\n                &lt;path d=\&quot;M9.99631148,0 C4.4755011,0 -2.27373675e-13,4.48070044 -2.27373675e-13,9.99759461 L-2.27373675e-13,91.6128884 C-2.27373675e-13,97.1344074 4.46966773,101.610483 9.99631148,101.610483 L68.9318917,101.610483 C74.4527021,101.610483 78.9282032,97.1297826 78.9282032,91.6128884 L78.9282032,9.99759461 C78.9282032,4.47607557 74.4585355,0 68.9318917,0 L9.99631148,0 Z M20.8885263,26 C24.2022348,26 26.8885263,23.3137085 26.8885263,20 C26.8885263,16.6862915 24.2022348,14 20.8885263,14 C17.5748178,14 14.8885263,16.6862915 14.8885263,20 C14.8885263,23.3137085 17.5748178,26 20.8885263,26 Z M57.3033321,25.6783342 C60.6170406,25.6783342 63.3033321,22.9920427 63.3033321,19.6783342 C63.3033321,16.3646258 60.6170406,13.6783342 57.3033321,13.6783342 C53.9896236,13.6783342 51.3033321,16.3646258 51.3033321,19.6783342 C51.3033321,22.9920427 53.9896236,25.6783342 57.3033321,25.6783342 Z\&quot;&gt;&lt;/path&gt;\n                &lt;text font-family=\&quot;Helvetica\&quot; font-size=\&quot;47.1724138\&quot; font-weight=\&quot;bold\&quot; fill=\&quot;#FFFFFF\&quot;&gt;\n                    &lt;tspan x=\&quot;42\&quot; y=\&quot;77.4847912\&quot; text-anchor=\&quot;middle\&quot;&gt;&lt;&lt;now \&quot;DD\&quot;&gt;&gt;&lt;/tspan&gt;\n                &lt;/text&gt;\n            &lt;/g&gt;\n        &lt;/g&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/options-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/options-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-options-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M110.48779,76.0002544 C109.354214,80.4045063 107.611262,84.5641217 105.354171,88.3838625 L105.354171,88.3838625 L112.07833,95.1080219 C115.20107,98.2307613 115.210098,103.299824 112.089164,106.420759 L106.420504,112.089418 C103.301049,115.208874 98.2346851,115.205502 95.1077675,112.078585 L88.3836082,105.354425 C84.5638673,107.611516 80.4042519,109.354468 76,110.488045 L76,110.488045 L76,119.993281 C76,124.409501 72.4220153,128.000254 68.0083475,128.000254 L59.9916525,128.000254 C55.5800761,128.000254 52,124.41541 52,119.993281 L52,110.488045 C47.5957481,109.354468 43.4361327,107.611516 39.6163918,105.354425 L32.8922325,112.078585 C29.7694931,115.201324 24.7004301,115.210353 21.5794957,112.089418 L15.9108363,106.420759 C12.7913807,103.301303 12.7947522,98.2349395 15.9216697,95.1080219 L22.6458291,88.3838625 C20.3887383,84.5641217 18.6457859,80.4045063 17.5122098,76.0002544 L8.00697327,76.0002544 C3.59075293,76.0002544 2.19088375e-16,72.4222697 4.89347582e-16,68.0086019 L9.80228577e-16,59.9919069 C1.25035972e-15,55.5803305 3.58484404,52.0002544 8.00697327,52.0002544 L17.5122098,52.0002544 C18.6457859,47.5960025 20.3887383,43.4363871 22.6458291,39.6166462 L15.9216697,32.8924868 C12.7989304,29.7697475 12.7899019,24.7006845 15.9108363,21.5797501 L21.5794957,15.9110907 C24.6989513,12.7916351 29.7653149,12.7950065 32.8922325,15.9219241 L39.6163918,22.6460835 C43.4361327,20.3889927 47.5957481,18.6460403 52,17.5124642 L52,8.00722764 C52,3.5910073 55.5779847,0.000254375069 59.9916525,0.000254375069 L68.0083475,0.000254375069 C72.4199239,0.000254375069 76,3.58509841 76,8.00722764 L76,17.5124642 C80.4042519,18.6460403 84.5638673,20.3889927 88.3836082,22.6460835 L95.1077675,15.9219241 C98.2305069,12.7991848 103.29957,12.7901562 106.420504,15.9110907 L112.089164,21.5797501 C115.208619,24.6992057 115.205248,29.7655693 112.07833,32.8924868 L105.354171,39.6166462 L105.354171,39.6166462 C107.611262,43.4363871 109.354214,47.5960025 110.48779,52.0002544 L119.993027,52.0002544 C124.409247,52.0002544 128,55.5782391 128,59.9919069 L128,68.0086019 C128,72.4201783 124.415156,76.0002544 119.993027,76.0002544 L110.48779,76.0002544 L110.48779,76.0002544 Z M64,96.0002544 C81.673112,96.0002544 96,81.6733664 96,64.0002544 C96,46.3271424 81.673112,32.0002544 64,32.0002544 C46.326888,32.0002544 32,46.3271424 32,64.0002544 C32,81.6733664 46.326888,96.0002544 64,96.0002544 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/permalink-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/permalink-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-permalink-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M80.4834582,48 L73.0956761,80 L73.0956761,80 L47.5165418,80 L54.9043239,48 L80.4834582,48 Z M84.1773493,32 L89.8007299,7.64246248 C90.7941633,3.33942958 95.0918297,0.64641956 99.3968675,1.64031585 C103.693145,2.63218977 106.385414,6.93288901 105.390651,11.2416793 L100.598215,32 L104.000754,32 C108.411895,32 112,35.581722 112,40 C112,44.4092877 108.418616,48 104.000754,48 L96.9043239,48 L89.5165418,80 L104.000754,80 C108.411895,80 112,83.581722 112,88 C112,92.4092877 108.418616,96 104.000754,96 L85.8226507,96 L80.1992701,120.357538 C79.2058367,124.66057 74.9081703,127.35358 70.6031325,126.359684 C66.3068546,125.36781 63.6145865,121.067111 64.6093491,116.758321 L69.401785,96 L43.8226507,96 L38.1992701,120.357538 C37.2058367,124.66057 32.9081703,127.35358 28.6031325,126.359684 C24.3068546,125.36781 21.6145865,121.067111 22.6093491,116.758321 L27.401785,96 L23.9992458,96 C19.5881049,96 16,92.418278 16,88 C16,83.5907123 19.5813843,80 23.9992458,80 L31.0956761,80 L38.4834582,48 L23.9992458,48 C19.5881049,48 16,44.418278 16,40 C16,35.5907123 19.5813843,32 23.9992458,32 L42.1773493,32 L47.8007299,7.64246248 C48.7941633,3.33942958 53.0918297,0.64641956 57.3968675,1.64031585 C61.6931454,2.63218977 64.3854135,6.93288901 63.3906509,11.2416793 L58.598215,32 L84.1773493,32 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/permaview-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/permaview-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-permaview-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M81.4834582,48 L79.6365127,56 L79.6365127,56 L74.0573784,56 L75.9043239,48 L81.4834582,48 Z M85.1773493,32 L90.8007299,7.64246248 C91.7941633,3.33942958 96.0918297,0.64641956 100.396867,1.64031585 C104.693145,2.63218977 107.385414,6.93288901 106.390651,11.2416793 L101.598215,32 L104.000754,32 C108.411895,32 112,35.581722 112,40 C112,44.4092877 108.418616,48 104.000754,48 L97.9043239,48 L96.0573784,56 L104.000754,56 C108.411895,56 112,59.581722 112,64 C112,68.4092877 108.418616,72 104.000754,72 L92.3634873,72 L90.5165418,80 L104.000754,80 C108.411895,80 112,83.581722 112,88 C112,92.4092877 108.418616,96 104.000754,96 L86.8226507,96 L81.1992701,120.357538 C80.2058367,124.66057 75.9081703,127.35358 71.6031325,126.359684 C67.3068546,125.36781 64.6145865,121.067111 65.6093491,116.758321 L70.401785,96 L64.8226507,96 L59.1992701,120.357538 C58.2058367,124.66057 53.9081703,127.35358 49.6031325,126.359684 C45.3068546,125.36781 42.6145865,121.067111 43.6093491,116.758321 L48.401785,96 L42.8226507,96 L37.1992701,120.357538 C36.2058367,124.66057 31.9081703,127.35358 27.6031325,126.359684 C23.3068546,125.36781 20.6145865,121.067111 21.6093491,116.758321 L26.401785,96 L23.9992458,96 C19.5881049,96 16,92.418278 16,88 C16,83.5907123 19.5813843,80 23.9992458,80 L30.0956761,80 L31.9426216,72 L23.9992458,72 C19.5881049,72 16,68.418278 16,64 C16,59.5907123 19.5813843,56 23.9992458,56 L35.6365127,56 L37.4834582,48 L23.9992458,48 C19.5881049,48 16,44.418278 16,40 C16,35.5907123 19.5813843,32 23.9992458,32 L41.1773493,32 L46.8007299,7.64246248 C47.7941633,3.33942958 52.0918297,0.64641956 56.3968675,1.64031585 C60.6931454,2.63218977 63.3854135,6.93288901 62.3906509,11.2416793 L57.598215,32 L63.1773493,32 L68.8007299,7.64246248 C69.7941633,3.33942958 74.0918297,0.64641956 78.3968675,1.64031585 C82.6931454,2.63218977 85.3854135,6.93288901 84.3906509,11.2416793 L79.598215,32 L85.1773493,32 Z M53.9043239,48 L52.0573784,56 L57.6365127,56 L59.4834582,48 L53.9043239,48 Z M75.9426216,72 L74.0956761,80 L74.0956761,80 L68.5165418,80 L70.3634873,72 L75.9426216,72 L75.9426216,72 Z M48.3634873,72 L46.5165418,80 L52.0956761,80 L53.9426216,72 L48.3634873,72 L48.3634873,72 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/plugin-generic-language&quot;: {
            &quot;title&quot;: &quot;$:/core/images/plugin-generic-language&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M61.2072232,68.1369825 C56.8829239,70.9319564 54.2082892,74.793177 54.2082892,79.0581634 C54.2082892,86.9638335 63.3980995,93.4821994 75.2498076,94.3940006 C77.412197,98.2964184 83.8475284,101.178858 91.5684735,101.403106 C86.4420125,100.27851 82.4506393,97.6624107 80.9477167,94.3948272 C92.8046245,93.4861461 102,86.9662269 102,79.0581634 C102,70.5281905 91.3014611,63.6132813 78.1041446,63.6132813 C71.5054863,63.6132813 65.5315225,65.3420086 61.2072232,68.1369825 Z M74.001066,53.9793443 C69.6767667,56.7743182 63.7028029,58.5030456 57.1041446,58.5030456 C54.4851745,58.5030456 51.9646095,58.2307276 49.6065315,57.7275105 C46.2945155,59.9778212 41.2235699,61.4171743 35.5395922,61.4171743 C35.4545771,61.4171743 35.3696991,61.4168523 35.2849622,61.4162104 C39.404008,60.5235193 42.7961717,58.6691298 44.7630507,56.286533 C37.8379411,53.5817651 33.2082892,48.669413 33.2082892,43.0581634 C33.2082892,34.5281905 43.9068281,27.6132812 57.1041446,27.6132812 C70.3014611,27.6132812 81,34.5281905 81,43.0581634 C81,47.3231498 78.3253653,51.1843704 74.001066,53.9793443 Z M64,0 L118.5596,32 L118.5596,96 L64,128 L9.44039956,96 L9.44039956,32 L64,0 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/plugin-generic-plugin&quot;: {
            &quot;title&quot;: &quot;$:/core/images/plugin-generic-plugin&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M40.3972881,76.4456988 L40.3972881,95.3404069 L54.5170166,95.3404069 L54.5170166,95.3404069 C54.5165526,95.3385183 54.516089,95.3366295 54.515626,95.3347404 C54.6093153,95.3385061 54.7034848,95.3404069 54.7980982,95.3404069 C58.6157051,95.3404069 61.710487,92.245625 61.710487,88.4280181 C61.710487,86.6197822 61.01617,84.9737128 59.8795929,83.7418666 L59.8795929,83.7418666 C59.8949905,83.7341665 59.9104102,83.7265043 59.925852,83.7188798 C58.8840576,82.5086663 58.2542926,80.9336277 58.2542926,79.2114996 C58.2542926,75.3938927 61.3490745,72.2991108 65.1666814,72.2991108 C68.9842884,72.2991108 72.0790703,75.3938927 72.0790703,79.2114996 C72.0790703,81.1954221 71.2432806,82.9841354 69.9045961,84.2447446 L69.9045961,84.2447446 C69.9333407,84.2629251 69.9619885,84.281245 69.9905383,84.2997032 L69.9905383,84.2997032 C69.1314315,85.4516923 68.6228758,86.8804654 68.6228758,88.4280181 C68.6228758,91.8584969 71.1218232,94.7053153 74.3986526,95.2474079 C74.3913315,95.2784624 74.3838688,95.3094624 74.3762652,95.3404069 L95.6963988,95.3404069 L95.6963988,75.5678578 L95.6963988,75.5678578 C95.6466539,75.5808558 95.5967614,75.5934886 95.5467242,75.6057531 C95.5504899,75.5120637 95.5523907,75.4178943 95.5523907,75.3232809 C95.5523907,71.505674 92.4576088,68.4108921 88.6400019,68.4108921 C86.831766,68.4108921 85.1856966,69.105209 83.9538504,70.2417862 L83.9538504,70.2417862 C83.9461503,70.2263886 83.938488,70.2109688 83.9308636,70.1955271 C82.7206501,71.2373215 81.1456115,71.8670865 79.4234834,71.8670865 C75.6058765,71.8670865 72.5110946,68.7723046 72.5110946,64.9546976 C72.5110946,61.1370907 75.6058765,58.0423088 79.4234834,58.0423088 C81.4074059,58.0423088 83.1961192,58.8780985 84.4567284,60.2167829 L84.4567284,60.2167829 C84.4749089,60.1880383 84.4932288,60.1593906 84.511687,60.1308407 L84.511687,60.1308407 C85.6636761,60.9899475 87.0924492,61.4985032 88.6400019,61.4985032 C92.0704807,61.4985032 94.9172991,58.9995558 95.4593917,55.7227265 C95.538755,55.7414363 95.6177614,55.761071 95.6963988,55.7816184 L95.6963988,40.0412962 L74.3762652,40.0412962 L74.3762652,40.0412962 C74.3838688,40.0103516 74.3913315,39.9793517 74.3986526,39.9482971 L74.3986526,39.9482971 C71.1218232,39.4062046 68.6228758,36.5593862 68.6228758,33.1289073 C68.6228758,31.5813547 69.1314315,30.1525815 69.9905383,29.0005925 C69.9619885,28.9821342 69.9333407,28.9638143 69.9045961,28.9456339 C71.2432806,27.6850247 72.0790703,25.8963113 72.0790703,23.9123888 C72.0790703,20.0947819 68.9842884,17 65.1666814,17 C61.3490745,17 58.2542926,20.0947819 58.2542926,23.9123888 C58.2542926,25.6345169 58.8840576,27.2095556 59.925852,28.419769 L59.925852,28.419769 C59.9104102,28.4273935 59.8949905,28.4350558 59.8795929,28.4427558 C61.01617,29.674602 61.710487,31.3206715 61.710487,33.1289073 C61.710487,36.9465143 58.6157051,40.0412962 54.7980982,40.0412962 C54.7034848,40.0412962 54.6093153,40.0393953 54.515626,40.0356296 L54.515626,40.0356296 C54.516089,40.0375187 54.5165526,40.0394075 54.5170166,40.0412962 L40.3972881,40.0412962 L40.3972881,52.887664 L40.3972881,52.887664 C40.4916889,53.3430132 40.5412962,53.8147625 40.5412962,54.2980982 C40.5412962,58.1157051 37.4465143,61.210487 33.6289073,61.210487 C32.0813547,61.210487 30.6525815,60.7019313 29.5005925,59.8428245 C29.4821342,59.8713744 29.4638143,59.9000221 29.4456339,59.9287667 C28.1850247,58.5900823 26.3963113,57.7542926 24.4123888,57.7542926 C20.5947819,57.7542926 17.5,60.8490745 17.5,64.6666814 C17.5,68.4842884 20.5947819,71.5790703 24.4123888,71.5790703 C26.134517,71.5790703 27.7095556,70.9493053 28.919769,69.9075109 L28.919769,69.9075109 C28.9273935,69.9229526 28.9350558,69.9383724 28.9427558,69.95377 C30.174602,68.8171928 31.8206715,68.1228758 33.6289073,68.1228758 C37.4465143,68.1228758 40.5412962,71.2176578 40.5412962,75.0352647 C40.5412962,75.5186004 40.4916889,75.9903496 40.3972881,76.4456988 Z M64,0 L118.5596,32 L118.5596,96 L64,128 L9.44039956,96 L9.44039956,32 L64,0 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/plugin-generic-theme&quot;: {
            &quot;title&quot;: &quot;$:/core/images/plugin-generic-theme&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M27.6619958,98.5383065 C27.5690581,98.5388896 27.4761291,98.539182 27.383212,98.539182 C41.5122315,92.2342259 36.7359182,71.4340774 52.2062903,71.4340772 C52.3396942,72.0325374 52.4778143,72.6764878 52.6543744,73.3309353 C41.7206358,71.5725612 42.70852,93.6013809 27.6619958,98.5383065 Z M27.962646,98.5354078 C44.3675979,98.3221342 60.9448114,89.104528 60.944811,79.6231217 C57.0326028,79.6231217 55.0057081,78.1546059 53.8483468,76.2715831 C46.8437297,73.3160546 41.0335584,95.5643154 27.9626323,98.5354081 Z M60.4476718,66.8723739 C57.4632888,63.6421817 54.9582687,60.7541572 53.4305549,58.7453802 C47.3662923,50.7715364 44.307483,54.9700909 40.8462757,58.7453801 C37.3850684,62.5206692 41.7580858,65.5796149 38.4732643,68.2464352 C35.1884428,70.9132556 35.391237,71.8376623 29.8473278,66.9588778 C24.3034186,62.0800933 23.919977,60.7368279 26.4649349,57.9530299 C29.0098928,55.1692318 31.1369568,59.5524845 36.3357237,54.6053302 C41.5344905,49.6581758 37.1673192,45.2736183 37.1673192,45.2736183 C37.1673192,45.2736183 47.9916921,23.1463023 62.4556497,24.7805686 C76.9196074,26.4148348 56.9839048,22.6644011 52.0250205,40.0179431 C49.9018746,47.4478606 52.4201529,45.6971267 56.4460414,48.8353078 C57.8695188,49.9449088 63.120208,53.6842856 69.3136884,58.3372485 C77.8095419,50.1273311 87.3705002,40.8200581 90.1462007,38.0443577 C94.9225135,33.268045 99.6988262,38.0443577 94.9225134,42.8206705 C92.2168565,45.5263274 83.0052228,54.3768782 74.6585455,62.4104777 C84.7196352,70.2010353 95.1107413,79.0341049 95.1107416,82.5307694 C95.1107421,88.9149413 92.3944614,92.7263341 86.6764506,90.6368273 C83.0906414,89.3264812 73.3126471,80.2536547 65.0234105,71.7029822 C62.8994697,73.7599251 61.2357389,75.3821997 60.3189624,76.2989761 C57.6045976,78.4574835 53.6647127,73.2589589 55.5426497,71.5226634 C56.5140946,70.6244887 58.249291,68.9770292 60.4476718,66.8723739 L60.4476718,66.8723739 Z M64,0 L118.5596,32 L118.5596,96 L64,128 L9.44039956,96 L9.44039956,32 L64,0 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/refresh-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/refresh-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-refresh-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M106.369002,39.4325143 C116.529932,60.3119371 112.939592,86.1974934 95.5979797,103.539105 C73.7286194,125.408466 38.2713806,125.408466 16.4020203,103.539105 C-5.46734008,81.6697449 -5.46734008,46.2125061 16.4020203,24.3431458 C19.5262146,21.2189514 24.5915344,21.2189514 27.7157288,24.3431458 C30.8399231,27.4673401 30.8399231,32.5326599 27.7157288,35.6568542 C12.0947571,51.2778259 12.0947571,76.6044251 27.7157288,92.2253967 C43.3367004,107.846368 68.6632996,107.846368 84.2842712,92.2253967 C97.71993,78.7897379 99.5995262,58.1740623 89.9230597,42.729491 L83.4844861,54.9932839 C81.4307001,58.9052072 76.5945372,60.4115251 72.682614,58.3577391 C68.7706907,56.3039532 67.2643728,51.4677903 69.3181587,47.555867 L84.4354914,18.7613158 C86.4966389,14.8353707 91.3577499,13.3347805 95.273202,15.415792 L124.145886,30.7612457 C128.047354,32.8348248 129.52915,37.6785572 127.455571,41.5800249 C125.381992,45.4814927 120.53826,46.9632892 116.636792,44.8897102 L106.369002,39.4325143 Z M98.1470904,27.0648707 C97.9798954,26.8741582 97.811187,26.6843098 97.6409651,26.4953413 L98.6018187,26.1987327 L98.1470904,27.0648707 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/right-arrow&quot;: {
            &quot;title&quot;: &quot;$:/core/images/right-arrow&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-right-arrow tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;path d=\&quot;M80.3563798,109.353315 C78.9238993,110.786918 76.9450203,111.675144 74.7592239,111.675144 L-4.40893546,111.675144 C-8.77412698,111.675144 -12.3248558,108.130732 -12.3248558,103.758478 C-12.3248558,99.3951199 -8.78077754,95.8418109 -4.40893546,95.8418109 L66.8418109,95.8418109 L66.8418109,24.5910645 C66.8418109,20.225873 70.3862233,16.6751442 74.7584775,16.6751442 C79.1218352,16.6751442 82.6751442,20.2192225 82.6751442,24.5910645 L82.6751442,103.759224 C82.6751442,105.941695 81.7891419,107.920575 80.3566508,109.353886 Z\&quot; transform=\&quot;translate(35.175144, 64.175144) rotate(-45.000000) translate(-35.175144, -64.175144) \&quot;&gt;&lt;/path&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/save-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/save-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-save-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M120.78304,34.329058 C125.424287,43.1924006 128.049406,53.2778608 128.049406,63.9764502 C128.049406,99.3226742 99.3956295,127.97645 64.0494055,127.97645 C28.7031816,127.97645 0.0494055385,99.3226742 0.0494055385,63.9764502 C0.0494055385,28.6302262 28.7031816,-0.0235498012 64.0494055,-0.0235498012 C82.8568763,-0.0235498012 99.769563,8.08898558 111.479045,21.0056358 L114.159581,18.3250998 C117.289194,15.1954866 122.356036,15.1939641 125.480231,18.3181584 C128.598068,21.4359957 128.601317,26.5107804 125.473289,29.6388083 L120.78304,34.329058 Z M108.72451,46.3875877 C110.870571,51.8341374 112.049406,57.767628 112.049406,63.9764502 C112.049406,90.4861182 90.5590735,111.97645 64.0494055,111.97645 C37.5397375,111.97645 16.0494055,90.4861182 16.0494055,63.9764502 C16.0494055,37.4667822 37.5397375,15.9764502 64.0494055,15.9764502 C78.438886,15.9764502 91.3495036,22.308215 100.147097,32.3375836 L58.9411255,73.5435552 L41.975581,56.5780107 C38.8486152,53.4510448 33.7746915,53.4551552 30.6568542,56.5729924 C27.5326599,59.6971868 27.5372202,64.7670668 30.6618725,67.8917192 L53.279253,90.5090997 C54.8435723,92.073419 56.8951519,92.8541315 58.9380216,92.8558261 C60.987971,92.8559239 63.0389578,92.0731398 64.6049211,90.5071765 L108.72451,46.3875877 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/star-filled&quot;: {
            &quot;title&quot;: &quot;$:/core/images/star-filled&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-star-filled tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;nonzero\&quot;&gt;\n        &lt;path d=\&quot;M61.8361286,96.8228569 L99.1627704,124.110219 C101.883827,126.099427 105.541968,123.420868 104.505636,120.198072 L90.2895569,75.9887263 L89.0292911,79.8977279 L126.314504,52.5528988 C129.032541,50.5595011 127.635256,46.2255025 124.273711,46.2229134 L78.1610486,46.1873965 L81.4604673,48.6032923 L67.1773543,4.41589688 C66.1361365,1.19470104 61.6144265,1.19470104 60.5732087,4.41589688 L46.2900957,48.6032923 L49.5895144,46.1873965 L3.47685231,46.2229134 C0.115307373,46.2255025 -1.28197785,50.5595011 1.43605908,52.5528988 L38.7212719,79.8977279 L37.4610061,75.9887263 L23.2449266,120.198072 C22.2085954,123.420868 25.8667356,126.099427 28.5877926,124.110219 L65.9144344,96.8228569 L61.8361286,96.8228569 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/storyview-classic&quot;: {
            &quot;title&quot;: &quot;$:/core/images/storyview-classic&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-storyview-classic tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 129 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M8.00697327,0 C3.58484404,0 0,3.59075293 0,8.00697327 L0,119.993027 C0,124.415156 3.59075293,128 8.00697327,128 L119.993027,128 C124.415156,128 128,124.409247 128,119.993027 L128,8.00697327 C128,3.58484404 124.409247,0 119.993027,0 L8.00697327,0 L8.00697327,0 Z M23.9992458,16 C19.5813843,16 16,19.5776607 16,23.9924054 L16,40.0075946 C16,44.4216782 19.5881049,48 23.9992458,48 L104.000754,48 C108.418616,48 112,44.4223393 112,40.0075946 L112,23.9924054 C112,19.5783218 108.411895,16 104.000754,16 L23.9992458,16 L23.9992458,16 Z M23.9992458,64 C19.5813843,64 16,67.5907123 16,72 C16,76.418278 19.5881049,80 23.9992458,80 L104.000754,80 C108.418616,80 112,76.4092877 112,72 C112,67.581722 108.411895,64 104.000754,64 L23.9992458,64 L23.9992458,64 Z M23.9992458,96 C19.5813843,96 16,99.5907123 16,104 C16,108.418278 19.5881049,112 23.9992458,112 L104.000754,112 C108.418616,112 112,108.409288 112,104 C112,99.581722 108.411895,96 104.000754,96 L23.9992458,96 L23.9992458,96 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/storyview-pop&quot;: {
            &quot;title&quot;: &quot;$:/core/images/storyview-pop&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-storyview-pop tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M8.00697327,0 C3.58484404,0 0,3.59075293 0,8.00697327 L0,119.993027 C0,124.415156 3.59075293,128 8.00697327,128 L119.993027,128 C124.415156,128 128,124.409247 128,119.993027 L128,8.00697327 C128,3.58484404 124.409247,0 119.993027,0 L8.00697327,0 L8.00697327,0 Z M23.9992458,16 C19.5813843,16 16,19.5776607 16,23.9924054 L16,40.0075946 C16,44.4216782 19.5881049,48 23.9992458,48 L104.000754,48 C108.418616,48 112,44.4223393 112,40.0075946 L112,23.9924054 C112,19.5783218 108.411895,16 104.000754,16 L23.9992458,16 L23.9992458,16 Z M16.0098166,56 C11.586117,56 8,59.5776607 8,63.9924054 L8,80.0075946 C8,84.4216782 11.5838751,88 16.0098166,88 L111.990183,88 C116.413883,88 120,84.4223393 120,80.0075946 L120,63.9924054 C120,59.5783218 116.416125,56 111.990183,56 L16.0098166,56 L16.0098166,56 Z M23.9992458,96 C19.5813843,96 16,99.5907123 16,104 C16,108.418278 19.5881049,112 23.9992458,112 L104.000754,112 C108.418616,112 112,108.409288 112,104 C112,99.581722 108.411895,96 104.000754,96 L23.9992458,96 L23.9992458,96 Z M23.9992458,64 C19.5813843,64 16,67.5907123 16,72 C16,76.418278 19.5881049,80 23.9992458,80 L104.000754,80 C108.418616,80 112,76.4092877 112,72 C112,67.581722 108.411895,64 104.000754,64 L23.9992458,64 L23.9992458,64 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/storyview-zoomin&quot;: {
            &quot;title&quot;: &quot;$:/core/images/storyview-zoomin&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-storyview-zoomin tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M8.00697327,0 C3.58484404,0 0,3.59075293 0,8.00697327 L0,119.993027 C0,124.415156 3.59075293,128 8.00697327,128 L119.993027,128 C124.415156,128 128,124.409247 128,119.993027 L128,8.00697327 C128,3.58484404 124.409247,0 119.993027,0 L8.00697327,0 L8.00697327,0 Z M23.9992458,16 C19.5813843,16 16,19.578055 16,24.0085154 L16,71.9914846 C16,76.4144655 19.5881049,80 23.9992458,80 L104.000754,80 C108.418616,80 112,76.421945 112,71.9914846 L112,24.0085154 C112,19.5855345 108.411895,16 104.000754,16 L23.9992458,16 L23.9992458,16 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/tag-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/tag-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-tag-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M18.1643182,47.6600756 L18.1677196,51.7651887 C18.1708869,55.5878829 20.3581578,60.8623899 23.0531352,63.5573673 L84.9021823,125.406414 C87.5996731,128.103905 91.971139,128.096834 94.6717387,125.396234 L125.766905,94.3010679 C128.473612,91.5943612 128.472063,87.2264889 125.777085,84.5315115 L63.9280381,22.6824644 C61.2305472,19.9849735 55.9517395,17.801995 52.1318769,17.8010313 L25.0560441,17.7942007 C21.2311475,17.7932358 18.1421354,20.8872832 18.1452985,24.7049463 L18.1535504,34.6641936 C18.2481119,34.6754562 18.3439134,34.6864294 18.4409623,34.6971263 C22.1702157,35.1081705 26.9295004,34.6530132 31.806204,33.5444844 C32.1342781,33.0700515 32.5094815,32.6184036 32.9318197,32.1960654 C35.6385117,29.4893734 39.5490441,28.718649 42.94592,29.8824694 C43.0432142,29.8394357 43.1402334,29.7961748 43.2369683,29.7526887 L43.3646982,30.0368244 C44.566601,30.5115916 45.6933052,31.2351533 46.6655958,32.2074439 C50.4612154,36.0030635 50.4663097,42.1518845 46.6769742,45.94122 C43.0594074,49.5587868 37.2914155,49.7181264 33.4734256,46.422636 C28.1082519,47.5454734 22.7987486,48.0186448 18.1643182,47.6600756 Z\&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M47.6333528,39.5324628 L47.6562932,39.5834939 C37.9670934,43.9391617 26.0718874,46.3819521 17.260095,45.4107025 C5.27267473,44.0894301 -1.02778744,36.4307276 2.44271359,24.0779512 C5.56175386,12.9761516 14.3014034,4.36129832 24.0466405,1.54817001 C34.7269254,-1.53487574 43.7955833,3.51606438 43.7955834,14.7730751 L35.1728168,14.7730752 C35.1728167,9.91428944 32.0946059,8.19982862 26.4381034,9.83267419 C19.5270911,11.8276553 13.046247,18.2159574 10.7440788,26.4102121 C8.82861123,33.2280582 11.161186,36.0634845 18.2047888,36.8398415 C25.3302805,37.6252244 35.7353482,35.4884477 44.1208333,31.7188498 L44.1475077,31.7781871 C44.159701,31.7725635 44.1718402,31.7671479 44.1839238,31.7619434 C45.9448098,31.0035157 50.4503245,38.3109156 47.7081571,39.5012767 C47.6834429,39.512005 47.6585061,39.5223987 47.6333528,39.5324628 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/theme-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/theme-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-theme-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 129\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;g transform=\&quot;translate(6.762422, 19.968999)\&quot;&gt;\n            &lt;path d=\&quot;M0.824945506,108.186742 C0.664785639,108.187747 0.504640965,108.188251 0.344516735,108.188251 C24.6927592,97.3230528 16.4618388,61.4785938 43.121606,61.4785936 C43.3514982,62.5099075 43.5895175,63.6196137 43.8937798,64.7474092 C25.0518979,61.7172401 26.754298,99.6790423 0.824939051,108.186742 Z M1.34304326,108.181747 C29.613352,107.814217 58.1805158,91.9297101 58.1805151,75.5906019 C51.4386888,75.5906018 47.9457839,73.0599394 45.9513275,69.8149659 C33.880418,64.7217657 23.8678719,103.061726 1.34301955,108.181748 Z\&quot;&gt;&lt;/path&gt;\n            &lt;path d=\&quot;M48.871084,61.6312522 C45.6348746,64.6233738 52.4243955,73.581882 57.1020034,69.8621716 C65.3329228,61.631253 108.502656,20.4006304 116.733576,12.169711 C124.964495,3.9387916 116.733576,-4.29212771 108.502656,3.9387916 C100.271737,12.1697108 57.4180113,53.7289683 48.871084,61.6312522 Z\&quot;&gt;&lt;/path&gt;\n        &lt;/g&gt;\n        &lt;path d=\&quot;M62.2824054,71.6211067 C57.93733,66.8541323 54.3123948,62.6301561 51.9937779,59.5814279 C41.5433616,45.8402704 36.2721798,53.0755512 30.307554,59.5814276 C24.3429282,66.0873041 31.8788571,71.3587209 26.2181932,75.9543964 C20.5575294,80.5500719 20.9070004,82.1430826 11.3532982,73.7355757 C1.79959591,65.3280689 1.13881905,63.0132479 5.52449152,58.2159872 C9.91016399,53.4187265 13.5756887,60.9722938 22.5346144,52.4469667 C31.4935401,43.9216395 23.9676854,36.3658236 23.9676854,36.3658236 C23.9676854,36.3658236 42.6210998,-1.76571499 67.5465342,1.05058165 C92.4719685,3.8668783 58.1171911,-2.5961653 49.5716499,27.3088291 C45.9128772,40.1126497 50.2525733,37.0956468 57.1903023,42.5036084 C59.4792141,44.2878157 67.5103988,50.0176866 77.2457031,57.2905766 C71.4143155,62.9019825 66.2337717,67.8661661 62.2824054,71.6211067 Z M73.4870997,83.4678852 C87.4278174,97.7290403 103.323635,112.360587 109.285731,114.539289 C119.139459,118.140092 123.820369,111.571999 123.820368,100.570289 C123.820367,94.7414103 107.064445,80.3074425 90.2759123,67.2185217 C83.6390655,73.6178 77.7700759,79.2918373 73.4870997,83.4678852 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/unlocked-padlock&quot;: {
            &quot;title&quot;: &quot;$:/core/images/unlocked-padlock&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-unlocked-padlock tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M48.6266053,64 L105,64 L105,96.0097716 C105,113.673909 90.6736461,128 73.001193,128 L55.998807,128 C38.3179793,128 24,113.677487 24,96.0097716 L24,64 L30.136303,64 C19.6806213,51.3490406 2.77158986,28.2115132 25.8366966,8.85759246 C50.4723026,-11.8141335 71.6711028,13.2108337 81.613302,25.0594855 C91.5555012,36.9081373 78.9368488,47.4964439 69.1559674,34.9513593 C59.375086,22.4062748 47.9893192,10.8049522 35.9485154,20.9083862 C23.9077117,31.0118202 34.192312,43.2685325 44.7624679,55.8655518 C47.229397,58.805523 48.403443,61.5979188 48.6266053,64 Z M67.7315279,92.3641717 C70.8232551,91.0923621 73,88.0503841 73,84.5 C73,79.8055796 69.1944204,76 64.5,76 C59.8055796,76 56,79.8055796 56,84.5 C56,87.947435 58.0523387,90.9155206 61.0018621,92.2491029 L55.9067479,115.020857 L72.8008958,115.020857 L67.7315279,92.3641717 L67.7315279,92.3641717 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/video&quot;: {
            &quot;title&quot;: &quot;$:/core/images/video&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-video tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M64,12 C29.0909091,12 8.72727273,14.9166667 5.81818182,17.8333333 C2.90909091,20.75 1.93784382e-15,41.1666667 0,64.5 C1.93784382e-15,87.8333333 2.90909091,108.25 5.81818182,111.166667 C8.72727273,114.083333 29.0909091,117 64,117 C98.9090909,117 119.272727,114.083333 122.181818,111.166667 C125.090909,108.25 128,87.8333333 128,64.5 C128,41.1666667 125.090909,20.75 122.181818,17.8333333 C119.272727,14.9166667 98.9090909,12 64,12 Z M54.9161194,44.6182253 C51.102648,42.0759111 48.0112186,43.7391738 48.0112186,48.3159447 L48.0112186,79.6840553 C48.0112186,84.2685636 51.109784,85.9193316 54.9161194,83.3817747 L77.0838806,68.6032672 C80.897352,66.0609529 80.890216,61.9342897 77.0838806,59.3967328 L54.9161194,44.6182253 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/language/Buttons/AdvancedSearch/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/AdvancedSearch/Caption&quot;,
            &quot;text&quot;: &quot;advanced search&quot;
        },
        &quot;$:/language/Buttons/AdvancedSearch/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/AdvancedSearch/Hint&quot;,
            &quot;text&quot;: &quot;Advanced search&quot;
        },
        &quot;$:/language/Buttons/Cancel/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Cancel/Caption&quot;,
            &quot;text&quot;: &quot;cancel&quot;
        },
        &quot;$:/language/Buttons/Cancel/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Cancel/Hint&quot;,
            &quot;text&quot;: &quot;Cancel editing this tiddler&quot;
        },
        &quot;$:/language/Buttons/Clone/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Clone/Caption&quot;,
            &quot;text&quot;: &quot;clone&quot;
        },
        &quot;$:/language/Buttons/Clone/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Clone/Hint&quot;,
            &quot;text&quot;: &quot;Clone this tiddler&quot;
        },
        &quot;$:/language/Buttons/Close/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Close/Caption&quot;,
            &quot;text&quot;: &quot;close&quot;
        },
        &quot;$:/language/Buttons/Close/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Close/Hint&quot;,
            &quot;text&quot;: &quot;Close this tiddler&quot;
        },
        &quot;$:/language/Buttons/CloseAll/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/CloseAll/Caption&quot;,
            &quot;text&quot;: &quot;close all&quot;
        },
        &quot;$:/language/Buttons/CloseAll/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/CloseAll/Hint&quot;,
            &quot;text&quot;: &quot;Close all tiddlers&quot;
        },
        &quot;$:/language/Buttons/CloseOthers/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/CloseOthers/Caption&quot;,
            &quot;text&quot;: &quot;close others&quot;
        },
        &quot;$:/language/Buttons/CloseOthers/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/CloseOthers/Hint&quot;,
            &quot;text&quot;: &quot;Close other tiddlers&quot;
        },
        &quot;$:/language/Buttons/ControlPanel/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ControlPanel/Caption&quot;,
            &quot;text&quot;: &quot;control panel&quot;
        },
        &quot;$:/language/Buttons/ControlPanel/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ControlPanel/Hint&quot;,
            &quot;text&quot;: &quot;Open control panel&quot;
        },
        &quot;$:/language/Buttons/Delete/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Delete/Caption&quot;,
            &quot;text&quot;: &quot;delete&quot;
        },
        &quot;$:/language/Buttons/Delete/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Delete/Hint&quot;,
            &quot;text&quot;: &quot;Delete this tiddler&quot;
        },
        &quot;$:/language/Buttons/Edit/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Edit/Caption&quot;,
            &quot;text&quot;: &quot;edit&quot;
        },
        &quot;$:/language/Buttons/Edit/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Edit/Hint&quot;,
            &quot;text&quot;: &quot;Edit this tiddler&quot;
        },
        &quot;$:/language/Buttons/Encryption/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Encryption/Caption&quot;,
            &quot;text&quot;: &quot;encryption&quot;
        },
        &quot;$:/language/Buttons/Encryption/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Encryption/Hint&quot;,
            &quot;text&quot;: &quot;Set or clear a password for saving this wiki&quot;
        },
        &quot;$:/language/Buttons/Encryption/ClearPassword/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Encryption/ClearPassword/Caption&quot;,
            &quot;text&quot;: &quot;clear password&quot;
        },
        &quot;$:/language/Buttons/Encryption/ClearPassword/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Encryption/ClearPassword/Hint&quot;,
            &quot;text&quot;: &quot;Clear the password and save this wiki without encryption&quot;
        },
        &quot;$:/language/Buttons/Encryption/SetPassword/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Encryption/SetPassword/Caption&quot;,
            &quot;text&quot;: &quot;set password&quot;
        },
        &quot;$:/language/Buttons/Encryption/SetPassword/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Encryption/SetPassword/Hint&quot;,
            &quot;text&quot;: &quot;Set a password for saving this wiki with encryption&quot;
        },
        &quot;$:/language/Buttons/ExportPage/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ExportPage/Caption&quot;,
            &quot;text&quot;: &quot;export all&quot;
        },
        &quot;$:/language/Buttons/ExportPage/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ExportPage/Hint&quot;,
            &quot;text&quot;: &quot;Export all tiddlers&quot;
        },
        &quot;$:/language/Buttons/ExportTiddler/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ExportTiddler/Caption&quot;,
            &quot;text&quot;: &quot;export tiddler&quot;
        },
        &quot;$:/language/Buttons/ExportTiddler/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ExportTiddler/Hint&quot;,
            &quot;text&quot;: &quot;Export tiddler&quot;
        },
        &quot;$:/language/Buttons/ExportTiddlers/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ExportTiddlers/Caption&quot;,
            &quot;text&quot;: &quot;export tiddlers&quot;
        },
        &quot;$:/language/Buttons/ExportTiddlers/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ExportTiddlers/Hint&quot;,
            &quot;text&quot;: &quot;Export tiddlers&quot;
        },
        &quot;$:/language/Buttons/FullScreen/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/FullScreen/Caption&quot;,
            &quot;text&quot;: &quot;full-screen&quot;
        },
        &quot;$:/language/Buttons/FullScreen/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/FullScreen/Hint&quot;,
            &quot;text&quot;: &quot;Enter or leave full-screen mode&quot;
        },
        &quot;$:/language/Buttons/Import/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Import/Caption&quot;,
            &quot;text&quot;: &quot;import&quot;
        },
        &quot;$:/language/Buttons/Import/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Import/Hint&quot;,
            &quot;text&quot;: &quot;Import files&quot;
        },
        &quot;$:/language/Buttons/Info/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Info/Caption&quot;,
            &quot;text&quot;: &quot;info&quot;
        },
        &quot;$:/language/Buttons/Info/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Info/Hint&quot;,
            &quot;text&quot;: &quot;Show information for this tiddler&quot;
        },
        &quot;$:/language/Buttons/Home/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Home/Caption&quot;,
            &quot;text&quot;: &quot;home&quot;
        },
        &quot;$:/language/Buttons/Home/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Home/Hint&quot;,
            &quot;text&quot;: &quot;Open the default tiddlers&quot;
        },
        &quot;$:/language/Buttons/Language/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Language/Caption&quot;,
            &quot;text&quot;: &quot;language&quot;
        },
        &quot;$:/language/Buttons/Language/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Language/Hint&quot;,
            &quot;text&quot;: &quot;Choose the user interface language&quot;
        },
        &quot;$:/language/Buttons/More/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/More/Caption&quot;,
            &quot;text&quot;: &quot;more&quot;
        },
        &quot;$:/language/Buttons/More/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/More/Hint&quot;,
            &quot;text&quot;: &quot;More actions&quot;
        },
        &quot;$:/language/Buttons/NewHere/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/NewHere/Caption&quot;,
            &quot;text&quot;: &quot;new here&quot;
        },
        &quot;$:/language/Buttons/NewHere/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/NewHere/Hint&quot;,
            &quot;text&quot;: &quot;Create a new tiddler tagged with this one&quot;
        },
        &quot;$:/language/Buttons/NewJournal/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/NewJournal/Caption&quot;,
            &quot;text&quot;: &quot;new journal&quot;
        },
        &quot;$:/language/Buttons/NewJournal/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/NewJournal/Hint&quot;,
            &quot;text&quot;: &quot;Create a new journal tiddler&quot;
        },
        &quot;$:/language/Buttons/NewJournalHere/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/NewJournalHere/Caption&quot;,
            &quot;text&quot;: &quot;new journal here&quot;
        },
        &quot;$:/language/Buttons/NewJournalHere/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/NewJournalHere/Hint&quot;,
            &quot;text&quot;: &quot;Create a new journal tiddler tagged with this one&quot;
        },
        &quot;$:/language/Buttons/NewTiddler/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/NewTiddler/Caption&quot;,
            &quot;text&quot;: &quot;new tiddler&quot;
        },
        &quot;$:/language/Buttons/NewTiddler/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/NewTiddler/Hint&quot;,
            &quot;text&quot;: &quot;Create a new tiddler&quot;
        },
        &quot;$:/language/Buttons/Permalink/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Permalink/Caption&quot;,
            &quot;text&quot;: &quot;permalink&quot;
        },
        &quot;$:/language/Buttons/Permalink/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Permalink/Hint&quot;,
            &quot;text&quot;: &quot;Set browser address bar to a direct link to this tiddler&quot;
        },
        &quot;$:/language/Buttons/Permaview/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Permaview/Caption&quot;,
            &quot;text&quot;: &quot;permaview&quot;
        },
        &quot;$:/language/Buttons/Permaview/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Permaview/Hint&quot;,
            &quot;text&quot;: &quot;Set browser address bar to a direct link to all the tiddlers in this story&quot;
        },
        &quot;$:/language/Buttons/Refresh/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Refresh/Caption&quot;,
            &quot;text&quot;: &quot;refresh&quot;
        },
        &quot;$:/language/Buttons/Refresh/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Refresh/Hint&quot;,
            &quot;text&quot;: &quot;Perform a full refresh of the wiki&quot;
        },
        &quot;$:/language/Buttons/Save/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Save/Caption&quot;,
            &quot;text&quot;: &quot;save&quot;
        },
        &quot;$:/language/Buttons/Save/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Save/Hint&quot;,
            &quot;text&quot;: &quot;Save this tiddler&quot;
        },
        &quot;$:/language/Buttons/SaveWiki/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/SaveWiki/Caption&quot;,
            &quot;text&quot;: &quot;save changes&quot;
        },
        &quot;$:/language/Buttons/SaveWiki/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/SaveWiki/Hint&quot;,
            &quot;text&quot;: &quot;Save changes&quot;
        },
        &quot;$:/language/Buttons/StoryView/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/StoryView/Caption&quot;,
            &quot;text&quot;: &quot;storyview&quot;
        },
        &quot;$:/language/Buttons/StoryView/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/StoryView/Hint&quot;,
            &quot;text&quot;: &quot;Choose the story visualisation&quot;
        },
        &quot;$:/language/Buttons/HideSideBar/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/HideSideBar/Caption&quot;,
            &quot;text&quot;: &quot;hide sidebar&quot;
        },
        &quot;$:/language/Buttons/HideSideBar/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/HideSideBar/Hint&quot;,
            &quot;text&quot;: &quot;Hide sidebar&quot;
        },
        &quot;$:/language/Buttons/ShowSideBar/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ShowSideBar/Caption&quot;,
            &quot;text&quot;: &quot;show sidebar&quot;
        },
        &quot;$:/language/Buttons/ShowSideBar/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ShowSideBar/Hint&quot;,
            &quot;text&quot;: &quot;Show sidebar&quot;
        },
        &quot;$:/language/Buttons/TagManager/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/TagManager/Caption&quot;,
            &quot;text&quot;: &quot;tag manager&quot;
        },
        &quot;$:/language/Buttons/TagManager/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/TagManager/Hint&quot;,
            &quot;text&quot;: &quot;Open tag manager&quot;
        },
        &quot;$:/language/Buttons/Theme/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Theme/Caption&quot;,
            &quot;text&quot;: &quot;theme&quot;
        },
        &quot;$:/language/Buttons/Theme/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Theme/Hint&quot;,
            &quot;text&quot;: &quot;Choose the display theme&quot;
        },
        &quot;$:/language/ControlPanel/Advanced/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Advanced/Caption&quot;,
            &quot;text&quot;: &quot;Advanced&quot;
        },
        &quot;$:/language/ControlPanel/Advanced/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Advanced/Hint&quot;,
            &quot;text&quot;: &quot;Internal information about this TiddlyWiki&quot;
        },
        &quot;$:/language/ControlPanel/Appearance/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Appearance/Caption&quot;,
            &quot;text&quot;: &quot;Appearance&quot;
        },
        &quot;$:/language/ControlPanel/Appearance/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Appearance/Hint&quot;,
            &quot;text&quot;: &quot;Ways to customise the appearance of your TiddlyWiki.&quot;
        },
        &quot;$:/language/ControlPanel/Basics/AnimDuration/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/AnimDuration/Prompt&quot;,
            &quot;text&quot;: &quot;Animation duration:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/Caption&quot;,
            &quot;text&quot;: &quot;Basics&quot;
        },
        &quot;$:/language/ControlPanel/Basics/DefaultTiddlers/BottomHint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/DefaultTiddlers/BottomHint&quot;,
            &quot;text&quot;: &quot;Use &amp;#91;&amp;#91;double square brackets&amp;#93;&amp;#93; for titles with spaces. Or you can choose to &lt;$button set=\&quot;$:/DefaultTiddlers\&quot; setTo=\&quot;[list[$:/StoryList]]\&quot;&gt;retain story ordering&lt;/$button&gt;&quot;
        },
        &quot;$:/language/ControlPanel/Basics/DefaultTiddlers/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/DefaultTiddlers/Prompt&quot;,
            &quot;text&quot;: &quot;Default tiddlers:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/DefaultTiddlers/TopHint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/DefaultTiddlers/TopHint&quot;,
            &quot;text&quot;: &quot;Choose which tiddlers are displayed at startup:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/Language/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/Language/Prompt&quot;,
            &quot;text&quot;: &quot;Hello! Current language:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/NewJournal/Title/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/NewJournal/Title/Prompt&quot;,
            &quot;text&quot;: &quot;Title of new journal tiddlers&quot;
        },
        &quot;$:/language/ControlPanel/Basics/NewJournal/Tags/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/NewJournal/Tags/Prompt&quot;,
            &quot;text&quot;: &quot;Tags for new journal tiddlers&quot;
        },
        &quot;$:/language/ControlPanel/Basics/OverriddenShadowTiddlers/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/OverriddenShadowTiddlers/Prompt&quot;,
            &quot;text&quot;: &quot;Number of overridden shadow tiddlers:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/ShadowTiddlers/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/ShadowTiddlers/Prompt&quot;,
            &quot;text&quot;: &quot;Number of shadow tiddlers:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/Subtitle/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/Subtitle/Prompt&quot;,
            &quot;text&quot;: &quot;Subtitle:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/SystemTiddlers/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/SystemTiddlers/Prompt&quot;,
            &quot;text&quot;: &quot;Number of system tiddlers:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/Tags/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/Tags/Prompt&quot;,
            &quot;text&quot;: &quot;Number of tags:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/Tiddlers/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/Tiddlers/Prompt&quot;,
            &quot;text&quot;: &quot;Number of tiddlers:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/Title/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/Title/Prompt&quot;,
            &quot;text&quot;: &quot;Title of this ~TiddlyWiki:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/Username/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/Username/Prompt&quot;,
            &quot;text&quot;: &quot;Username for signing edits:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/Version/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/Version/Prompt&quot;,
            &quot;text&quot;: &quot;~TiddlyWiki version:&quot;
        },
        &quot;$:/language/ControlPanel/EditorTypes/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/EditorTypes/Caption&quot;,
            &quot;text&quot;: &quot;Editor Types&quot;
        },
        &quot;$:/language/ControlPanel/EditorTypes/Editor/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/EditorTypes/Editor/Caption&quot;,
            &quot;text&quot;: &quot;Editor&quot;
        },
        &quot;$:/language/ControlPanel/EditorTypes/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/EditorTypes/Hint&quot;,
            &quot;text&quot;: &quot;These tiddlers determine which editor is used to edit specific tiddler types.&quot;
        },
        &quot;$:/language/ControlPanel/EditorTypes/Type/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/EditorTypes/Type/Caption&quot;,
            &quot;text&quot;: &quot;Type&quot;
        },
        &quot;$:/language/ControlPanel/Info/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Info/Caption&quot;,
            &quot;text&quot;: &quot;Info&quot;
        },
        &quot;$:/language/ControlPanel/Info/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Info/Hint&quot;,
            &quot;text&quot;: &quot;Information about this TiddlyWiki&quot;
        },
        &quot;$:/language/ControlPanel/LoadedModules/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/LoadedModules/Caption&quot;,
            &quot;text&quot;: &quot;Loaded Modules&quot;
        },
        &quot;$:/language/ControlPanel/LoadedModules/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/LoadedModules/Hint&quot;,
            &quot;text&quot;: &quot;These are the currently loaded tiddler modules linked to their source tiddlers. Any italicised modules lack a source tiddler, typically because they were setup during the boot process.&quot;
        },
        &quot;$:/language/ControlPanel/Palette/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Palette/Caption&quot;,
            &quot;text&quot;: &quot;Palette&quot;
        },
        &quot;$:/language/ControlPanel/Palette/Editor/Clone/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Palette/Editor/Clone/Caption&quot;,
            &quot;text&quot;: &quot;clone&quot;
        },
        &quot;$:/language/ControlPanel/Palette/Editor/Clone/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Palette/Editor/Clone/Prompt&quot;,
            &quot;text&quot;: &quot;It is recommended that you clone this shadow palette before editing it&quot;
        },
        &quot;$:/language/ControlPanel/Palette/Editor/Prompt/Modified&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Palette/Editor/Prompt/Modified&quot;,
            &quot;text&quot;: &quot;This shadow palette has been modified&quot;
        },
        &quot;$:/language/ControlPanel/Palette/Editor/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Palette/Editor/Prompt&quot;,
            &quot;text&quot;: &quot;Editing&quot;
        },
        &quot;$:/language/ControlPanel/Palette/Editor/Reset/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Palette/Editor/Reset/Caption&quot;,
            &quot;text&quot;: &quot;reset&quot;
        },
        &quot;$:/language/ControlPanel/Palette/HideEditor/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Palette/HideEditor/Caption&quot;,
            &quot;text&quot;: &quot;hide editor&quot;
        },
        &quot;$:/language/ControlPanel/Palette/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Palette/Prompt&quot;,
            &quot;text&quot;: &quot;Current palette:&quot;
        },
        &quot;$:/language/ControlPanel/Palette/ShowEditor/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Palette/ShowEditor/Caption&quot;,
            &quot;text&quot;: &quot;show editor&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Caption&quot;,
            &quot;text&quot;: &quot;Plugins&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Disable/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Disable/Caption&quot;,
            &quot;text&quot;: &quot;disable&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Disable/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Disable/Hint&quot;,
            &quot;text&quot;: &quot;Disable this plugin when reloading page&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Disabled/Status&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Disabled/Status&quot;,
            &quot;text&quot;: &quot;(disabled)&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Empty/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Empty/Hint&quot;,
            &quot;text&quot;: &quot;None&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Enable/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Enable/Caption&quot;,
            &quot;text&quot;: &quot;enable&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Enable/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Enable/Hint&quot;,
            &quot;text&quot;: &quot;Enable this plugin when reloading page&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Language/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Language/Prompt&quot;,
            &quot;text&quot;: &quot;Languages&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Plugin/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Plugin/Prompt&quot;,
            &quot;text&quot;: &quot;Plugins&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Theme/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Theme/Prompt&quot;,
            &quot;text&quot;: &quot;Themes&quot;
        },
        &quot;$:/language/ControlPanel/Saving/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/Caption&quot;,
            &quot;text&quot;: &quot;Saving&quot;
        },
        &quot;$:/language/ControlPanel/Saving/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/Heading&quot;,
            &quot;text&quot;: &quot;Saving&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/Advanced/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/Advanced/Heading&quot;,
            &quot;text&quot;: &quot;Advanced Settings&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/BackupDir&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/BackupDir&quot;,
            &quot;text&quot;: &quot;Backup Directory&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/Backups&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/Backups&quot;,
            &quot;text&quot;: &quot;Backups&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/Description&quot;,
            &quot;text&quot;: &quot;These settings are only used when saving to http://tiddlyspot.com or a compatible remote server&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/Filename&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/Filename&quot;,
            &quot;text&quot;: &quot;Upload Filename&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/Heading&quot;,
            &quot;text&quot;: &quot;~TiddlySpot&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/Hint&quot;,
            &quot;text&quot;: &quot;//The server URL defaults to `http://&lt;wikiname&gt;.tiddlyspot.com/store.cgi` and can be changed to use a custom server address//&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/Password&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/Password&quot;,
            &quot;text&quot;: &quot;Password&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/ServerURL&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/ServerURL&quot;,
            &quot;text&quot;: &quot;Server URL&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/UploadDir&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/UploadDir&quot;,
            &quot;text&quot;: &quot;Upload Directory&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/UserName&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/UserName&quot;,
            &quot;text&quot;: &quot;Wiki Name&quot;
        },
        &quot;$:/language/ControlPanel/Settings/AutoSave/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/AutoSave/Caption&quot;,
            &quot;text&quot;: &quot;Autosave&quot;
        },
        &quot;$:/language/ControlPanel/Settings/AutoSave/Disabled/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/AutoSave/Disabled/Description&quot;,
            &quot;text&quot;: &quot;Do not save changes automatically&quot;
        },
        &quot;$:/language/ControlPanel/Settings/AutoSave/Enabled/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/AutoSave/Enabled/Description&quot;,
            &quot;text&quot;: &quot;Save changes automatically&quot;
        },
        &quot;$:/language/ControlPanel/Settings/AutoSave/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/AutoSave/Hint&quot;,
            &quot;text&quot;: &quot;Automatically save changes during editing&quot;
        },
        &quot;$:/language/ControlPanel/Settings/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/Caption&quot;,
            &quot;text&quot;: &quot;Settings&quot;
        },
        &quot;$:/language/ControlPanel/Settings/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/Hint&quot;,
            &quot;text&quot;: &quot;These settings let you customise the behaviour of TiddlyWiki.&quot;
        },
        &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/Caption&quot;,
            &quot;text&quot;: &quot;Navigation Address Bar&quot;
        },
        &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/Hint&quot;,
            &quot;text&quot;: &quot;Behaviour of the browser address bar when navigating to a tiddler:&quot;
        },
        &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/No/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/No/Description&quot;,
            &quot;text&quot;: &quot;Do not update the address bar&quot;
        },
        &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/Permalink/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/Permalink/Description&quot;,
            &quot;text&quot;: &quot;Include the target tiddler&quot;
        },
        &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/Permaview/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/Permaview/Description&quot;,
            &quot;text&quot;: &quot;Include the target tiddler and the current story sequence&quot;
        },
        &quot;$:/language/ControlPanel/Settings/NavigationHistory/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/NavigationHistory/Caption&quot;,
            &quot;text&quot;: &quot;Navigation History&quot;
        },
        &quot;$:/language/ControlPanel/Settings/NavigationHistory/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/NavigationHistory/Hint&quot;,
            &quot;text&quot;: &quot;Update browser history when navigating to a tiddler:&quot;
        },
        &quot;$:/language/ControlPanel/Settings/NavigationHistory/No/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/NavigationHistory/No/Description&quot;,
            &quot;text&quot;: &quot;Do not update history&quot;
        },
        &quot;$:/language/ControlPanel/Settings/NavigationHistory/Yes/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/NavigationHistory/Yes/Description&quot;,
            &quot;text&quot;: &quot;Update history&quot;
        },
        &quot;$:/language/ControlPanel/Settings/ToolbarButtons/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/ToolbarButtons/Caption&quot;,
            &quot;text&quot;: &quot;Toolbar Buttons&quot;
        },
        &quot;$:/language/ControlPanel/Settings/ToolbarButtons/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/ToolbarButtons/Hint&quot;,
            &quot;text&quot;: &quot;Default toolbar button appearance:&quot;
        },
        &quot;$:/language/ControlPanel/Settings/ToolbarButtons/Icons/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/ToolbarButtons/Icons/Description&quot;,
            &quot;text&quot;: &quot;Include icon&quot;
        },
        &quot;$:/language/ControlPanel/Settings/ToolbarButtons/Text/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/ToolbarButtons/Text/Description&quot;,
            &quot;text&quot;: &quot;Include text&quot;
        },
        &quot;$:/language/ControlPanel/StoryView/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/StoryView/Caption&quot;,
            &quot;text&quot;: &quot;Story View&quot;
        },
        &quot;$:/language/ControlPanel/StoryView/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/StoryView/Prompt&quot;,
            &quot;text&quot;: &quot;Current view:&quot;
        },
        &quot;$:/language/ControlPanel/Theme/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Theme/Caption&quot;,
            &quot;text&quot;: &quot;Theme&quot;
        },
        &quot;$:/language/ControlPanel/Theme/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Theme/Prompt&quot;,
            &quot;text&quot;: &quot;Current theme:&quot;
        },
        &quot;$:/language/ControlPanel/TiddlerFields/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/TiddlerFields/Caption&quot;,
            &quot;text&quot;: &quot;Tiddler Fields&quot;
        },
        &quot;$:/language/ControlPanel/TiddlerFields/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/TiddlerFields/Hint&quot;,
            &quot;text&quot;: &quot;This is the full set of TiddlerFields in use in this wiki (including system tiddlers but excluding shadow tiddlers).&quot;
        },
        &quot;$:/language/ControlPanel/Toolbars/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Toolbars/Caption&quot;,
            &quot;text&quot;: &quot;Toolbars&quot;
        },
        &quot;$:/language/ControlPanel/Toolbars/EditToolbar/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Toolbars/EditToolbar/Caption&quot;,
            &quot;text&quot;: &quot;Edit Toolbar&quot;
        },
        &quot;$:/language/ControlPanel/Toolbars/EditToolbar/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Toolbars/EditToolbar/Hint&quot;,
            &quot;text&quot;: &quot;Choose which buttons are displayed for tiddlers in edit mode&quot;
        },
        &quot;$:/language/ControlPanel/Toolbars/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Toolbars/Hint&quot;,
            &quot;text&quot;: &quot;Select which toolbar buttons are displayed&quot;
        },
        &quot;$:/language/ControlPanel/Toolbars/PageControls/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Toolbars/PageControls/Caption&quot;,
            &quot;text&quot;: &quot;Page Toolbar&quot;
        },
        &quot;$:/language/ControlPanel/Toolbars/PageControls/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Toolbars/PageControls/Hint&quot;,
            &quot;text&quot;: &quot;Choose which buttons are displayed on the main page toolbar  &quot;
        },
        &quot;$:/language/ControlPanel/Toolbars/ViewToolbar/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Toolbars/ViewToolbar/Caption&quot;,
            &quot;text&quot;: &quot;View Toolbar&quot;
        },
        &quot;$:/language/ControlPanel/Toolbars/ViewToolbar/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Toolbars/ViewToolbar/Hint&quot;,
            &quot;text&quot;: &quot;Choose which buttons are displayed for tiddlers in view mode&quot;
        },
        &quot;$:/language/ControlPanel/Tools/Download/Full/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Tools/Download/Full/Caption&quot;,
            &quot;text&quot;: &quot;Download full wiki&quot;
        },
        &quot;$:/language/Date/DaySuffix/1&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/1&quot;,
            &quot;text&quot;: &quot;st&quot;
        },
        &quot;$:/language/Date/DaySuffix/2&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/2&quot;,
            &quot;text&quot;: &quot;nd&quot;
        },
        &quot;$:/language/Date/DaySuffix/3&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/3&quot;,
            &quot;text&quot;: &quot;rd&quot;
        },
        &quot;$:/language/Date/DaySuffix/4&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/4&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/5&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/5&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/6&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/6&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/7&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/7&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/8&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/8&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/9&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/9&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/10&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/10&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/11&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/11&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/12&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/12&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/13&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/13&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/14&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/14&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/15&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/15&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/16&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/16&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/17&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/17&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/18&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/18&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/19&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/19&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/20&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/20&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/21&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/21&quot;,
            &quot;text&quot;: &quot;st&quot;
        },
        &quot;$:/language/Date/DaySuffix/22&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/22&quot;,
            &quot;text&quot;: &quot;nd&quot;
        },
        &quot;$:/language/Date/DaySuffix/23&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/23&quot;,
            &quot;text&quot;: &quot;rd&quot;
        },
        &quot;$:/language/Date/DaySuffix/24&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/24&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/25&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/25&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/26&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/26&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/27&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/27&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/28&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/28&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/29&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/29&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/30&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/30&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/31&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/31&quot;,
            &quot;text&quot;: &quot;st&quot;
        },
        &quot;$:/language/Date/Long/Day/0&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Day/0&quot;,
            &quot;text&quot;: &quot;Sunday&quot;
        },
        &quot;$:/language/Date/Long/Day/1&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Day/1&quot;,
            &quot;text&quot;: &quot;Monday&quot;
        },
        &quot;$:/language/Date/Long/Day/2&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Day/2&quot;,
            &quot;text&quot;: &quot;Tuesday&quot;
        },
        &quot;$:/language/Date/Long/Day/3&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Day/3&quot;,
            &quot;text&quot;: &quot;Wednesday&quot;
        },
        &quot;$:/language/Date/Long/Day/4&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Day/4&quot;,
            &quot;text&quot;: &quot;Thursday&quot;
        },
        &quot;$:/language/Date/Long/Day/5&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Day/5&quot;,
            &quot;text&quot;: &quot;Friday&quot;
        },
        &quot;$:/language/Date/Long/Day/6&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Day/6&quot;,
            &quot;text&quot;: &quot;Saturday&quot;
        },
        &quot;$:/language/Date/Long/Month/1&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/1&quot;,
            &quot;text&quot;: &quot;January&quot;
        },
        &quot;$:/language/Date/Long/Month/2&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/2&quot;,
            &quot;text&quot;: &quot;February&quot;
        },
        &quot;$:/language/Date/Long/Month/3&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/3&quot;,
            &quot;text&quot;: &quot;March&quot;
        },
        &quot;$:/language/Date/Long/Month/4&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/4&quot;,
            &quot;text&quot;: &quot;April&quot;
        },
        &quot;$:/language/Date/Long/Month/5&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/5&quot;,
            &quot;text&quot;: &quot;May&quot;
        },
        &quot;$:/language/Date/Long/Month/6&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/6&quot;,
            &quot;text&quot;: &quot;June&quot;
        },
        &quot;$:/language/Date/Long/Month/7&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/7&quot;,
            &quot;text&quot;: &quot;July&quot;
        },
        &quot;$:/language/Date/Long/Month/8&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/8&quot;,
            &quot;text&quot;: &quot;August&quot;
        },
        &quot;$:/language/Date/Long/Month/9&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/9&quot;,
            &quot;text&quot;: &quot;September&quot;
        },
        &quot;$:/language/Date/Long/Month/10&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/10&quot;,
            &quot;text&quot;: &quot;October&quot;
        },
        &quot;$:/language/Date/Long/Month/11&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/11&quot;,
            &quot;text&quot;: &quot;November&quot;
        },
        &quot;$:/language/Date/Long/Month/12&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/12&quot;,
            &quot;text&quot;: &quot;December&quot;
        },
        &quot;$:/language/Date/Period/am&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Period/am&quot;,
            &quot;text&quot;: &quot;am&quot;
        },
        &quot;$:/language/Date/Period/pm&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Period/pm&quot;,
            &quot;text&quot;: &quot;pm&quot;
        },
        &quot;$:/language/Date/Short/Day/0&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Day/0&quot;,
            &quot;text&quot;: &quot;Sun&quot;
        },
        &quot;$:/language/Date/Short/Day/1&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Day/1&quot;,
            &quot;text&quot;: &quot;Mon&quot;
        },
        &quot;$:/language/Date/Short/Day/2&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Day/2&quot;,
            &quot;text&quot;: &quot;Tue&quot;
        },
        &quot;$:/language/Date/Short/Day/3&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Day/3&quot;,
            &quot;text&quot;: &quot;Wed&quot;
        },
        &quot;$:/language/Date/Short/Day/4&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Day/4&quot;,
            &quot;text&quot;: &quot;Thu&quot;
        },
        &quot;$:/language/Date/Short/Day/5&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Day/5&quot;,
            &quot;text&quot;: &quot;Fri&quot;
        },
        &quot;$:/language/Date/Short/Day/6&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Day/6&quot;,
            &quot;text&quot;: &quot;Sat&quot;
        },
        &quot;$:/language/Date/Short/Month/1&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/1&quot;,
            &quot;text&quot;: &quot;Jan&quot;
        },
        &quot;$:/language/Date/Short/Month/2&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/2&quot;,
            &quot;text&quot;: &quot;Feb&quot;
        },
        &quot;$:/language/Date/Short/Month/3&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/3&quot;,
            &quot;text&quot;: &quot;Mar&quot;
        },
        &quot;$:/language/Date/Short/Month/4&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/4&quot;,
            &quot;text&quot;: &quot;Apr&quot;
        },
        &quot;$:/language/Date/Short/Month/5&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/5&quot;,
            &quot;text&quot;: &quot;May&quot;
        },
        &quot;$:/language/Date/Short/Month/6&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/6&quot;,
            &quot;text&quot;: &quot;Jun&quot;
        },
        &quot;$:/language/Date/Short/Month/7&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/7&quot;,
            &quot;text&quot;: &quot;Jul&quot;
        },
        &quot;$:/language/Date/Short/Month/8&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/8&quot;,
            &quot;text&quot;: &quot;Aug&quot;
        },
        &quot;$:/language/Date/Short/Month/9&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/9&quot;,
            &quot;text&quot;: &quot;Sep&quot;
        },
        &quot;$:/language/Date/Short/Month/10&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/10&quot;,
            &quot;text&quot;: &quot;Oct&quot;
        },
        &quot;$:/language/Date/Short/Month/11&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/11&quot;,
            &quot;text&quot;: &quot;Nov&quot;
        },
        &quot;$:/language/Date/Short/Month/12&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/12&quot;,
            &quot;text&quot;: &quot;Dec&quot;
        },
        &quot;$:/language/RelativeDate/Future/Days&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Future/Days&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; days from now&quot;
        },
        &quot;$:/language/RelativeDate/Future/Hours&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Future/Hours&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; hours from now&quot;
        },
        &quot;$:/language/RelativeDate/Future/Minutes&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Future/Minutes&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; minutes from now&quot;
        },
        &quot;$:/language/RelativeDate/Future/Months&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Future/Months&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; months from now&quot;
        },
        &quot;$:/language/RelativeDate/Future/Second&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Future/Second&quot;,
            &quot;text&quot;: &quot;1 second from now&quot;
        },
        &quot;$:/language/RelativeDate/Future/Seconds&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Future/Seconds&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; seconds from now&quot;
        },
        &quot;$:/language/RelativeDate/Future/Years&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Future/Years&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; years from now&quot;
        },
        &quot;$:/language/RelativeDate/Past/Days&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Past/Days&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; days ago&quot;
        },
        &quot;$:/language/RelativeDate/Past/Hours&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Past/Hours&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; hours ago&quot;
        },
        &quot;$:/language/RelativeDate/Past/Minutes&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Past/Minutes&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; minutes ago&quot;
        },
        &quot;$:/language/RelativeDate/Past/Months&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Past/Months&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; months ago&quot;
        },
        &quot;$:/language/RelativeDate/Past/Second&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Past/Second&quot;,
            &quot;text&quot;: &quot;1 second ago&quot;
        },
        &quot;$:/language/RelativeDate/Past/Seconds&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Past/Seconds&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; seconds ago&quot;
        },
        &quot;$:/language/RelativeDate/Past/Years&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Past/Years&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; years ago&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/animation&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/animation&quot;,
            &quot;text&quot;: &quot;Animations that may be used with the RevealWidget.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/command&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/command&quot;,
            &quot;text&quot;: &quot;Commands that can be executed under Node.js.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/config&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/config&quot;,
            &quot;text&quot;: &quot;Data to be inserted into `$tw.config`.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/filteroperator&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/filteroperator&quot;,
            &quot;text&quot;: &quot;Individual filter operator methods.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/global&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/global&quot;,
            &quot;text&quot;: &quot;Global data to be inserted into `$tw`.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/isfilteroperator&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/isfilteroperator&quot;,
            &quot;text&quot;: &quot;Operands for the ''is'' filter operator.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/macro&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/macro&quot;,
            &quot;text&quot;: &quot;JavaScript macro definitions.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/parser&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/parser&quot;,
            &quot;text&quot;: &quot;Parsers for different content types.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/saver&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/saver&quot;,
            &quot;text&quot;: &quot;Savers handle different methods for saving files from the browser.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/startup&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/startup&quot;,
            &quot;text&quot;: &quot;Startup functions.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/storyview&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/storyview&quot;,
            &quot;text&quot;: &quot;Story views customise the animation and behaviour of list widgets.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/tiddlerdeserializer&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/tiddlerdeserializer&quot;,
            &quot;text&quot;: &quot;Converts different content types into tiddlers.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/tiddlerfield&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/tiddlerfield&quot;,
            &quot;text&quot;: &quot;Defines the behaviour of an individual tiddler field.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/tiddlermethod&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/tiddlermethod&quot;,
            &quot;text&quot;: &quot;Adds methods to the `$tw.Tiddler` prototype.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/upgrader&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/upgrader&quot;,
            &quot;text&quot;: &quot;Applies upgrade processing to tiddlers during an upgrade/import.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/utils&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/utils&quot;,
            &quot;text&quot;: &quot;Adds methods to `$tw.utils`.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/utils-node&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/utils-node&quot;,
            &quot;text&quot;: &quot;Adds Node.js-specific methods to `$tw.utils`.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/widget&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/widget&quot;,
            &quot;text&quot;: &quot;Widgets encapsulate DOM rendering and refreshing.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/wikimethod&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/wikimethod&quot;,
            &quot;text&quot;: &quot;Adds methods to `$tw.Wiki`.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/wikirule&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/wikirule&quot;,
            &quot;text&quot;: &quot;Individual parser rules for the main WikiText parser.&quot;
        },
        &quot;$:/language/Docs/PaletteColours/alert-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/alert-background&quot;,
            &quot;text&quot;: &quot;Alert background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/alert-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/alert-border&quot;,
            &quot;text&quot;: &quot;Alert border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/alert-highlight&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/alert-highlight&quot;,
            &quot;text&quot;: &quot;Alert highlight&quot;
        },
        &quot;$:/language/Docs/PaletteColours/alert-muted-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/alert-muted-foreground&quot;,
            &quot;text&quot;: &quot;Alert muted foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/background&quot;,
            &quot;text&quot;: &quot;General background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/blockquote-bar&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/blockquote-bar&quot;,
            &quot;text&quot;: &quot;Blockquote bar&quot;
        },
        &quot;$:/language/Docs/PaletteColours/dirty-indicator&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/dirty-indicator&quot;,
            &quot;text&quot;: &quot;Unsaved changes indicator&quot;
        },
        &quot;$:/language/Docs/PaletteColours/code-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/code-background&quot;,
            &quot;text&quot;: &quot;Code background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/code-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/code-border&quot;,
            &quot;text&quot;: &quot;Code border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/code-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/code-foreground&quot;,
            &quot;text&quot;: &quot;Code foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/download-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/download-background&quot;,
            &quot;text&quot;: &quot;Download button background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/download-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/download-foreground&quot;,
            &quot;text&quot;: &quot;Download button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/dragger-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/dragger-background&quot;,
            &quot;text&quot;: &quot;Dragger background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/dragger-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/dragger-foreground&quot;,
            &quot;text&quot;: &quot;Dragger foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/dropdown-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/dropdown-background&quot;,
            &quot;text&quot;: &quot;Dropdown background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/dropdown-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/dropdown-border&quot;,
            &quot;text&quot;: &quot;Dropdown border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/dropdown-tab-background-selected&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/dropdown-tab-background-selected&quot;,
            &quot;text&quot;: &quot;Dropdown tab background for selected tabs&quot;
        },
        &quot;$:/language/Docs/PaletteColours/dropdown-tab-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/dropdown-tab-background&quot;,
            &quot;text&quot;: &quot;Dropdown tab background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/dropzone-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/dropzone-background&quot;,
            &quot;text&quot;: &quot;Dropzone background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/external-link-background-hover&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/external-link-background-hover&quot;,
            &quot;text&quot;: &quot;External link background hover&quot;
        },
        &quot;$:/language/Docs/PaletteColours/external-link-background-visited&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/external-link-background-visited&quot;,
            &quot;text&quot;: &quot;External link background visited&quot;
        },
        &quot;$:/language/Docs/PaletteColours/external-link-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/external-link-background&quot;,
            &quot;text&quot;: &quot;External link background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/external-link-foreground-hover&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/external-link-foreground-hover&quot;,
            &quot;text&quot;: &quot;External link foreground hover&quot;
        },
        &quot;$:/language/Docs/PaletteColours/external-link-foreground-visited&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/external-link-foreground-visited&quot;,
            &quot;text&quot;: &quot;External link foreground visited&quot;
        },
        &quot;$:/language/Docs/PaletteColours/external-link-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/external-link-foreground&quot;,
            &quot;text&quot;: &quot;External link foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/foreground&quot;,
            &quot;text&quot;: &quot;General foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/message-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/message-background&quot;,
            &quot;text&quot;: &quot;Message box background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/message-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/message-border&quot;,
            &quot;text&quot;: &quot;Message box border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/message-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/message-foreground&quot;,
            &quot;text&quot;: &quot;Message box foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/modal-backdrop&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/modal-backdrop&quot;,
            &quot;text&quot;: &quot;Modal backdrop&quot;
        },
        &quot;$:/language/Docs/PaletteColours/modal-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/modal-background&quot;,
            &quot;text&quot;: &quot;Modal background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/modal-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/modal-border&quot;,
            &quot;text&quot;: &quot;Modal border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/modal-footer-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/modal-footer-background&quot;,
            &quot;text&quot;: &quot;Modal footer background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/modal-footer-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/modal-footer-border&quot;,
            &quot;text&quot;: &quot;Modal footer border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/modal-header-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/modal-header-border&quot;,
            &quot;text&quot;: &quot;Modal header border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/muted-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/muted-foreground&quot;,
            &quot;text&quot;: &quot;General muted foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/notification-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/notification-background&quot;,
            &quot;text&quot;: &quot;Notification background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/notification-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/notification-border&quot;,
            &quot;text&quot;: &quot;Notification border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/page-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/page-background&quot;,
            &quot;text&quot;: &quot;Page background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/pre-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/pre-background&quot;,
            &quot;text&quot;: &quot;Preformatted code background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/pre-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/pre-border&quot;,
            &quot;text&quot;: &quot;Preformatted code border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/primary&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/primary&quot;,
            &quot;text&quot;: &quot;General primary&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-button-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-button-foreground&quot;,
            &quot;text&quot;: &quot;Sidebar button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-controls-foreground-hover&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-controls-foreground-hover&quot;,
            &quot;text&quot;: &quot;Sidebar controls foreground hover&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-controls-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-controls-foreground&quot;,
            &quot;text&quot;: &quot;Sidebar controls foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-foreground-shadow&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-foreground-shadow&quot;,
            &quot;text&quot;: &quot;Sidebar foreground shadow&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-foreground&quot;,
            &quot;text&quot;: &quot;Sidebar foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-muted-foreground-hover&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-muted-foreground-hover&quot;,
            &quot;text&quot;: &quot;Sidebar muted foreground hover&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-muted-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-muted-foreground&quot;,
            &quot;text&quot;: &quot;Sidebar muted foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-tab-background-selected&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-tab-background-selected&quot;,
            &quot;text&quot;: &quot;Sidebar tab background for selected tabs&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-tab-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-tab-background&quot;,
            &quot;text&quot;: &quot;Sidebar tab background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-tab-border-selected&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-tab-border-selected&quot;,
            &quot;text&quot;: &quot;Sidebar tab border for selected tabs&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-tab-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-tab-border&quot;,
            &quot;text&quot;: &quot;Sidebar tab border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-tab-divider&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-tab-divider&quot;,
            &quot;text&quot;: &quot;Sidebar tab divider&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-tab-foreground-selected&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-tab-foreground-selected&quot;,
            &quot;text&quot;: &quot;Sidebar tab foreground for selected tabs&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-tab-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-tab-foreground&quot;,
            &quot;text&quot;: &quot;Sidebar tab foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-tiddler-link-foreground-hover&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-tiddler-link-foreground-hover&quot;,
            &quot;text&quot;: &quot;Sidebar tiddler link foreground hover&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-tiddler-link-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-tiddler-link-foreground&quot;,
            &quot;text&quot;: &quot;Sidebar tiddler link foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/static-alert-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/static-alert-foreground&quot;,
            &quot;text&quot;: &quot;Static alert foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tab-background-selected&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tab-background-selected&quot;,
            &quot;text&quot;: &quot;Tab background for selected tabs&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tab-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tab-background&quot;,
            &quot;text&quot;: &quot;Tab background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tab-border-selected&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tab-border-selected&quot;,
            &quot;text&quot;: &quot;Tab border for selected tabs&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tab-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tab-border&quot;,
            &quot;text&quot;: &quot;Tab border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tab-divider&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tab-divider&quot;,
            &quot;text&quot;: &quot;Tab divider&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tab-foreground-selected&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tab-foreground-selected&quot;,
            &quot;text&quot;: &quot;Tab foreground for selected tabs&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tab-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tab-foreground&quot;,
            &quot;text&quot;: &quot;Tab foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/table-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/table-border&quot;,
            &quot;text&quot;: &quot;Table border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/table-footer-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/table-footer-background&quot;,
            &quot;text&quot;: &quot;Table footer background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/table-header-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/table-header-background&quot;,
            &quot;text&quot;: &quot;Table header background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tag-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tag-background&quot;,
            &quot;text&quot;: &quot;Tag background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tag-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tag-foreground&quot;,
            &quot;text&quot;: &quot;Tag foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-background&quot;,
            &quot;text&quot;: &quot;Tiddler background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-border&quot;,
            &quot;text&quot;: &quot;Tiddler border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-controls-foreground-hover&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-controls-foreground-hover&quot;,
            &quot;text&quot;: &quot;Tiddler controls foreground hover&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-controls-foreground-selected&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-controls-foreground-selected&quot;,
            &quot;text&quot;: &quot;Tiddler controls foreground for selected controls&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-controls-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-controls-foreground&quot;,
            &quot;text&quot;: &quot;Tiddler controls foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-editor-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-editor-background&quot;,
            &quot;text&quot;: &quot;Tiddler editor background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-editor-border-image&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-editor-border-image&quot;,
            &quot;text&quot;: &quot;Tiddler editor border image&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-editor-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-editor-border&quot;,
            &quot;text&quot;: &quot;Tiddler editor border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-editor-fields-even&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-editor-fields-even&quot;,
            &quot;text&quot;: &quot;Tiddler editor background for even fields&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-editor-fields-odd&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-editor-fields-odd&quot;,
            &quot;text&quot;: &quot;Tiddler editor background for odd fields&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-info-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-info-background&quot;,
            &quot;text&quot;: &quot;Tiddler info panel background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-info-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-info-border&quot;,
            &quot;text&quot;: &quot;Tiddler info panel border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-info-tab-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-info-tab-background&quot;,
            &quot;text&quot;: &quot;Tiddler info panel tab background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-link-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-link-background&quot;,
            &quot;text&quot;: &quot;Tiddler link background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-link-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-link-foreground&quot;,
            &quot;text&quot;: &quot;Tiddler link foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-subtitle-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-subtitle-foreground&quot;,
            &quot;text&quot;: &quot;Tiddler subtitle foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-title-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-title-foreground&quot;,
            &quot;text&quot;: &quot;Tiddler title foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/toolbar-new-button&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/toolbar-new-button&quot;,
            &quot;text&quot;: &quot;Toolbar 'new tiddler' button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/toolbar-options-button&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/toolbar-options-button&quot;,
            &quot;text&quot;: &quot;Toolbar 'options' button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/toolbar-save-button&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/toolbar-save-button&quot;,
            &quot;text&quot;: &quot;Toolbar 'save' button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/toolbar-info-button&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/toolbar-info-button&quot;,
            &quot;text&quot;: &quot;Toolbar 'info' button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/toolbar-edit-button&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/toolbar-edit-button&quot;,
            &quot;text&quot;: &quot;Toolbar 'edit' button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/toolbar-close-button&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/toolbar-close-button&quot;,
            &quot;text&quot;: &quot;Toolbar 'close' button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/toolbar-delete-button&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/toolbar-delete-button&quot;,
            &quot;text&quot;: &quot;Toolbar 'delete' button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/toolbar-cancel-button&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/toolbar-cancel-button&quot;,
            &quot;text&quot;: &quot;Toolbar 'cancel' button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/toolbar-done-button&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/toolbar-done-button&quot;,
            &quot;text&quot;: &quot;Toolbar 'done' button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/untagged-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/untagged-background&quot;,
            &quot;text&quot;: &quot;Untagged pill background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/very-muted-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/very-muted-foreground&quot;,
            &quot;text&quot;: &quot;Very muted foreground&quot;
        },
        &quot;$:/language/EditTemplate/Body/External/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Body/External/Hint&quot;,
            &quot;text&quot;: &quot;This is an external tiddler stored outside of the main TiddlyWiki file. You can edit the tags and fields but cannot directly edit the content itself&quot;
        },
        &quot;$:/language/EditTemplate/Body/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Body/Hint&quot;,
            &quot;text&quot;: &quot;Use [[wiki text|http://tiddlywiki.com/static/WikiText.html]] to add formatting, images, and dynamic features&quot;
        },
        &quot;$:/language/EditTemplate/Body/Placeholder&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Body/Placeholder&quot;,
            &quot;text&quot;: &quot;Type the text for this tiddler&quot;
        },
        &quot;$:/language/EditTemplate/Body/Preview/Button/Hide&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Body/Preview/Button/Hide&quot;,
            &quot;text&quot;: &quot;hide preview&quot;
        },
        &quot;$:/language/EditTemplate/Body/Preview/Button/Show&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Body/Preview/Button/Show&quot;,
            &quot;text&quot;: &quot;show preview&quot;
        },
        &quot;$:/language/EditTemplate/Field/Remove/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Field/Remove/Caption&quot;,
            &quot;text&quot;: &quot;remove field&quot;
        },
        &quot;$:/language/EditTemplate/Field/Remove/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Field/Remove/Hint&quot;,
            &quot;text&quot;: &quot;Remove field&quot;
        },
        &quot;$:/language/EditTemplate/Fields/Add/Button&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Fields/Add/Button&quot;,
            &quot;text&quot;: &quot;add&quot;
        },
        &quot;$:/language/EditTemplate/Fields/Add/Name/Placeholder&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Fields/Add/Name/Placeholder&quot;,
            &quot;text&quot;: &quot;field name&quot;
        },
        &quot;$:/language/EditTemplate/Fields/Add/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Fields/Add/Prompt&quot;,
            &quot;text&quot;: &quot;Add a new field:&quot;
        },
        &quot;$:/language/EditTemplate/Fields/Add/Value/Placeholder&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Fields/Add/Value/Placeholder&quot;,
            &quot;text&quot;: &quot;field value&quot;
        },
        &quot;$:/language/EditTemplate/Shadow/Warning&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Shadow/Warning&quot;,
            &quot;text&quot;: &quot;This is a shadow tiddler. Any changes will override the default version&quot;
        },
        &quot;$:/language/EditTemplate/Shadow/OverriddenWarning&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Shadow/OverriddenWarning&quot;,
            &quot;text&quot;: &quot;This is a modified shadow tiddler. You can revert to the default version by deleting this tiddler&quot;
        },
        &quot;$:/language/EditTemplate/Tags/Add/Button&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Tags/Add/Button&quot;,
            &quot;text&quot;: &quot;add&quot;
        },
        &quot;$:/language/EditTemplate/Tags/Add/Placeholder&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Tags/Add/Placeholder&quot;,
            &quot;text&quot;: &quot;tag name&quot;
        },
        &quot;$:/language/EditTemplate/Tags/Dropdown/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Tags/Dropdown/Caption&quot;,
            &quot;text&quot;: &quot;tag list&quot;
        },
        &quot;$:/language/EditTemplate/Tags/Dropdown/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Tags/Dropdown/Hint&quot;,
            &quot;text&quot;: &quot;Show tag list&quot;
        },
        &quot;$:/language/EditTemplate/Type/Dropdown/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Type/Dropdown/Caption&quot;,
            &quot;text&quot;: &quot;content type list&quot;
        },
        &quot;$:/language/EditTemplate/Type/Dropdown/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Type/Dropdown/Hint&quot;,
            &quot;text&quot;: &quot;Show content type list&quot;
        },
        &quot;$:/language/EditTemplate/Type/Delete/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Type/Delete/Caption&quot;,
            &quot;text&quot;: &quot;delete content type&quot;
        },
        &quot;$:/language/EditTemplate/Type/Delete/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Type/Delete/Hint&quot;,
            &quot;text&quot;: &quot;Delete content type&quot;
        },
        &quot;$:/language/EditTemplate/Type/Placeholder&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Type/Placeholder&quot;,
            &quot;text&quot;: &quot;content type&quot;
        },
        &quot;$:/language/EditTemplate/Type/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Type/Prompt&quot;,
            &quot;text&quot;: &quot;Type:&quot;
        },
        &quot;$:/language/Exporters/StaticRiver&quot;: {
            &quot;title&quot;: &quot;$:/language/Exporters/StaticRiver&quot;,
            &quot;text&quot;: &quot;River of tiddlers as static HTML file&quot;
        },
        &quot;$:/language/Exporters/JsonFile&quot;: {
            &quot;title&quot;: &quot;$:/language/Exporters/JsonFile&quot;,
            &quot;text&quot;: &quot;JSON tiddlers file&quot;
        },
        &quot;$:/language/Exporters/CsvFile&quot;: {
            &quot;title&quot;: &quot;$:/language/Exporters/CsvFile&quot;,
            &quot;text&quot;: &quot;CSV tiddlers file&quot;
        },
        &quot;$:/language/Exporters/TidFile&quot;: {
            &quot;title&quot;: &quot;$:/language/Exporters/TidFile&quot;,
            &quot;text&quot;: &quot;Single tiddler \&quot;.tid\&quot; file&quot;
        },
        &quot;$:/language/Docs/Fields/_canonical_uri&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/_canonical_uri&quot;,
            &quot;text&quot;: &quot;The full URI of an external image tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/bag&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/bag&quot;,
            &quot;text&quot;: &quot;The name of the bag from which a tiddler came&quot;
        },
        &quot;$:/language/Docs/Fields/caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/caption&quot;,
            &quot;text&quot;: &quot;The text to be displayed on a tab or button&quot;
        },
        &quot;$:/language/Docs/Fields/color&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/color&quot;,
            &quot;text&quot;: &quot;The CSS color value associated with a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/component&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/component&quot;,
            &quot;text&quot;: &quot;The name of the component responsible for an [[alert tiddler|AlertMechanism]]&quot;
        },
        &quot;$:/language/Docs/Fields/current-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/current-tiddler&quot;,
            &quot;text&quot;: &quot;Used to cache the top tiddler in a [[history list|HistoryMechanism]]&quot;
        },
        &quot;$:/language/Docs/Fields/created&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/created&quot;,
            &quot;text&quot;: &quot;The date a tiddler was created&quot;
        },
        &quot;$:/language/Docs/Fields/creator&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/creator&quot;,
            &quot;text&quot;: &quot;The name of the person who created a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/dependents&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/dependents&quot;,
            &quot;text&quot;: &quot;For a plugin, lists the dependent plugin titles&quot;
        },
        &quot;$:/language/Docs/Fields/description&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/description&quot;,
            &quot;text&quot;: &quot;The descriptive text for a plugin, or a modal dialogue&quot;
        },
        &quot;$:/language/Docs/Fields/draft.of&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/draft.of&quot;,
            &quot;text&quot;: &quot;For draft tiddlers, contains the title of the tiddler of which this is a draft&quot;
        },
        &quot;$:/language/Docs/Fields/draft.title&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/draft.title&quot;,
            &quot;text&quot;: &quot;For draft tiddlers, contains the proposed new title of the tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/footer&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/footer&quot;,
            &quot;text&quot;: &quot;The footer text for a wizard&quot;
        },
        &quot;$:/language/Docs/Fields/hack-to-give-us-something-to-compare-against&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/hack-to-give-us-something-to-compare-against&quot;,
            &quot;text&quot;: &quot;A temporary storage field used in [[$:/core/templates/static.content]]&quot;
        },
        &quot;$:/language/Docs/Fields/icon&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/icon&quot;,
            &quot;text&quot;: &quot;The title of the tiddler containing the icon associated with a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/library&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/library&quot;,
            &quot;text&quot;: &quot;If set to \&quot;yes\&quot; indicates that a tiddler should be saved as a JavaScript library&quot;
        },
        &quot;$:/language/Docs/Fields/list&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/list&quot;,
            &quot;text&quot;: &quot;An ordered list of tiddler titles associated with a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/list-before&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/list-before&quot;,
            &quot;text&quot;: &quot;If set, the title of a tiddler before which this tiddler should be added to the ordered list of tiddler titles, or at the start of the list if this field is present but empty&quot;
        },
        &quot;$:/language/Docs/Fields/list-after&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/list-after&quot;,
            &quot;text&quot;: &quot;If set, the title of the tiddler after which this tiddler should be added to the ordered list of tiddler titles&quot;
        },
        &quot;$:/language/Docs/Fields/modified&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/modified&quot;,
            &quot;text&quot;: &quot;The date and time at which a tiddler was last modified&quot;
        },
        &quot;$:/language/Docs/Fields/modifier&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/modifier&quot;,
            &quot;text&quot;: &quot;The tiddler title associated with the person who last modified a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/name&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/name&quot;,
            &quot;text&quot;: &quot;The human readable name associated with a plugin tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/plugin-priority&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/plugin-priority&quot;,
            &quot;text&quot;: &quot;A numerical value indicating the priority of a plugin tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/plugin-type&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/plugin-type&quot;,
            &quot;text&quot;: &quot;The type of plugin in a plugin tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/revision&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/revision&quot;,
            &quot;text&quot;: &quot;The revision of the tiddler held at the server&quot;
        },
        &quot;$:/language/Docs/Fields/released&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/released&quot;,
            &quot;text&quot;: &quot;Date of a TiddlyWiki release&quot;
        },
        &quot;$:/language/Docs/Fields/source&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/source&quot;,
            &quot;text&quot;: &quot;The source URL associated with a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/subtitle&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/subtitle&quot;,
            &quot;text&quot;: &quot;The subtitle text for a wizard&quot;
        },
        &quot;$:/language/Docs/Fields/tags&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/tags&quot;,
            &quot;text&quot;: &quot;A list of tags associated with a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/text&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/text&quot;,
            &quot;text&quot;: &quot;The body text of a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/title&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/title&quot;,
            &quot;text&quot;: &quot;The unique name of a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/type&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/type&quot;,
            &quot;text&quot;: &quot;The content type of a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/version&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/version&quot;,
            &quot;text&quot;: &quot;Version information for a plugin&quot;
        },
        &quot;$:/language/Filters/AllTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/AllTiddlers&quot;,
            &quot;text&quot;: &quot;All tiddlers except system tiddlers&quot;
        },
        &quot;$:/language/Filters/RecentSystemTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/RecentSystemTiddlers&quot;,
            &quot;text&quot;: &quot;Recently modified tiddlers, including system tiddlers&quot;
        },
        &quot;$:/language/Filters/RecentTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/RecentTiddlers&quot;,
            &quot;text&quot;: &quot;Recently modified tiddlers&quot;
        },
        &quot;$:/language/Filters/AllTags&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/AllTags&quot;,
            &quot;text&quot;: &quot;All tags except system tags&quot;
        },
        &quot;$:/language/Filters/Missing&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/Missing&quot;,
            &quot;text&quot;: &quot;Missing tiddlers&quot;
        },
        &quot;$:/language/Filters/Drafts&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/Drafts&quot;,
            &quot;text&quot;: &quot;Draft tiddlers&quot;
        },
        &quot;$:/language/Filters/Orphans&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/Orphans&quot;,
            &quot;text&quot;: &quot;Orphan tiddlers&quot;
        },
        &quot;$:/language/Filters/SystemTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/SystemTiddlers&quot;,
            &quot;text&quot;: &quot;System tiddlers&quot;
        },
        &quot;$:/language/Filters/ShadowTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/ShadowTiddlers&quot;,
            &quot;text&quot;: &quot;Shadow tiddlers&quot;
        },
        &quot;$:/language/Filters/OverriddenShadowTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/OverriddenShadowTiddlers&quot;,
            &quot;text&quot;: &quot;Overridden shadow tiddlers&quot;
        },
        &quot;$:/language/Filters/SystemTags&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/SystemTags&quot;,
            &quot;text&quot;: &quot;System tags&quot;
        },
        &quot;GettingStarted&quot;: {
            &quot;title&quot;: &quot;GettingStarted&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Basics/\nWelcome to ~TiddlyWiki and the ~TiddlyWiki community\n\nBefore you start storing important information in ~TiddlyWiki it is important to make sure that you can reliably save changes. See http://tiddlywiki.com/#GettingStarted for details\n\n!! Set up this ~TiddlyWiki\n\n|&lt;$link to=\&quot;$:/SiteTitle\&quot;&gt;&lt;&lt;lingo Title/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\&quot;$:/SiteTitle\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;$link to=\&quot;$:/SiteSubtitle\&quot;&gt;&lt;&lt;lingo Subtitle/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\&quot;$:/SiteSubtitle\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;$link to=\&quot;$:/DefaultTiddlers\&quot;&gt;&lt;&lt;lingo DefaultTiddlers/Prompt&gt;&gt;&lt;/$link&gt; |&lt;&lt;lingo DefaultTiddlers/TopHint&gt;&gt;&lt;br&gt; &lt;$edit-text tag=\&quot;textarea\&quot; tiddler=\&quot;$:/DefaultTiddlers\&quot;/&gt;&lt;br&gt;//&lt;&lt;lingo DefaultTiddlers/BottomHint&gt;&gt;// |\n\nSee the [[control panel|$:/ControlPanel]] for more options.\n&quot;
        },
        &quot;$:/language/Help/build&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/build&quot;,
            &quot;description&quot;: &quot;Automatically run configured commands&quot;,
            &quot;text&quot;: &quot;Build the specified build targets for the current wiki. If no build targets are specified then all available targets will be built.\n\n```\n--build &lt;target&gt; [&lt;target&gt; ...]\n```\n\nBuild targets are defined in the `tiddlywiki.info` file of a wiki folder.\n\n&quot;
        },
        &quot;$:/language/Help/clearpassword&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/clearpassword&quot;,
            &quot;description&quot;: &quot;Clear a password for subsequent crypto operations&quot;,
            &quot;text&quot;: &quot;Clear the password for subsequent crypto operations\n\n```\n--clearpassword\n```\n&quot;
        },
        &quot;$:/language/Help/default&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/default&quot;,
            &quot;text&quot;: &quot;\\define commandTitle()\n$:/language/Help/$(command)$\n\\end\n```\nusage: tiddlywiki [&lt;wikifolder&gt;] [--&lt;command&gt; [&lt;args&gt;...]...]\n```\n\nAvailable commands:\n\n&lt;ul&gt;\n&lt;$list filter=\&quot;[commands[]sort[title]]\&quot; variable=\&quot;command\&quot;&gt;\n&lt;li&gt;&lt;$link to=&lt;&lt;commandTitle&gt;&gt;&gt;&lt;$macrocall $name=\&quot;command\&quot; $type=\&quot;text/plain\&quot; $output=\&quot;text/plain\&quot;/&gt;&lt;/$link&gt;: &lt;$transclude tiddler=&lt;&lt;commandTitle&gt;&gt; field=\&quot;description\&quot;/&gt;&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n\nTo get detailed help on a command:\n\n```\ntiddlywiki --help &lt;command&gt;\n```\n&quot;
        },
        &quot;$:/language/Help/editions&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/editions&quot;,
            &quot;description&quot;: &quot;Lists the available editions of TiddlyWiki&quot;,
            &quot;text&quot;: &quot;Lists the names and descriptions of the available editions. You can create a new wiki of a specified edition with the `--init` command.\n\n```\n--editions\n```\n&quot;
        },
        &quot;$:/language/Help/help&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/help&quot;,
            &quot;description&quot;: &quot;Display help for TiddlyWiki commands&quot;,
            &quot;text&quot;: &quot;Displays help text for a command:\n\n```\n--help [&lt;command&gt;]\n```\n\nIf the command name is omitted then a list of available commands is displayed.\n&quot;
        },
        &quot;$:/language/Help/init&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/init&quot;,
            &quot;description&quot;: &quot;Initialise a new wiki folder&quot;,
            &quot;text&quot;: &quot;Initialise an empty [[WikiFolder|WikiFolders]] with a copy of the specified edition.\n\n```\n--init &lt;edition&gt; [&lt;edition&gt; ...]\n```\n\nFor example:\n\n```\ntiddlywiki ./MyWikiFolder --init empty\n```\n\nNote:\n\n* The wiki folder directory will be created if necessary\n* The \&quot;edition\&quot; defaults to ''empty''\n* The init command will fail if the wiki folder is not empty\n* The init command removes any `includeWikis` definitions in the edition's `tiddlywiki.info` file\n* When multiple editions are specified, editions initialised later will overwrite any files shared with earlier editions (so, the final `tiddlywiki.info` file will be copied from the last edition)\n* `--editions` returns a list of available editions\n&quot;
        },
        &quot;$:/language/Help/load&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/load&quot;,
            &quot;description&quot;: &quot;Load tiddlers from a file&quot;,
            &quot;text&quot;: &quot;Load tiddlers from 2.x.x TiddlyWiki files (`.html`), `.tiddler`, `.tid`, `.json` or other files \n\n```\n--load &lt;filepath&gt;\n```\n\nTo load tiddlers from an encrypted TiddlyWiki file you should first specify the password with the PasswordCommand. For example:\n\n```\ntiddlywiki ./MyWiki --password pa55w0rd --load my_encrypted_wiki.html\n```\n\nNote that TiddlyWiki will not load an older version of an already loaded plugin.\n&quot;
        },
        &quot;$:/language/Help/makelibrary&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/makelibrary&quot;,
            &quot;description&quot;: &quot;Construct library plugin required by upgrade process&quot;,
            &quot;text&quot;: &quot;Constructs the `$:/UpgradeLibrary` tiddler for the upgrade process.\n\nThe upgrade library is formatted as an ordinary plugin tiddler with the plugin type `library`. It contains a copy of each of the plugins, themes and language packs available within the TiddlyWiki5 repository.\n\nThis command is intended for internal use; it is only relevant to users constructing a custom upgrade procedure.\n\n```\n--makelibrary &lt;title&gt;\n```\n\nThe title argument defaults to `$:/UpgradeLibrary`.\n&quot;
        },
        &quot;$:/language/Help/notfound&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/notfound&quot;,
            &quot;text&quot;: &quot;No such help item&quot;
        },
        &quot;$:/language/Help/output&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/output&quot;,
            &quot;description&quot;: &quot;Set the base output directory for subsequent commands&quot;,
            &quot;text&quot;: &quot;Sets the base output directory for subsequent commands. The default output directory is the `output` subdirectory of the edition directory.\n\n```\n--output &lt;pathname&gt;\n```\n\nIf the specified pathname is relative then it is resolved relative to the current working directory. For example `--output .` sets the output directory to the current working directory.\n\n&quot;
        },
        &quot;$:/language/Help/password&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/password&quot;,
            &quot;description&quot;: &quot;Set a password for subsequent crypto operations&quot;,
            &quot;text&quot;: &quot;Set a password for subsequent crypto operations\n\n```\n--password &lt;password&gt;\n```\n\n&quot;
        },
        &quot;$:/language/Help/rendertiddler&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/rendertiddler&quot;,
            &quot;description&quot;: &quot;Render an individual tiddler as a specified ContentType&quot;,
            &quot;text&quot;: &quot;Render an individual tiddler as a specified ContentType, defaults to `text/html` and save it to the specified filename:\n\n```\n--rendertiddler &lt;title&gt; &lt;filename&gt; [&lt;type&gt;]\n```\n\nBy default, the filename is resolved relative to the `output` subdirectory of the edition directory. The `--output` command can be used to direct output to a different directory.\n\nAny missing directories in the path to the filename are automatically created.\n&quot;
        },
        &quot;$:/language/Help/rendertiddlers&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/rendertiddlers&quot;,
            &quot;description&quot;: &quot;Render tiddlers matching a filter to a specified ContentType&quot;,
            &quot;text&quot;: &quot;Render a set of tiddlers matching a filter to separate files of a specified ContentType (defaults to `text/html`) and extension (defaults to `.html`).\n\n```\n--rendertiddlers &lt;filter&gt; &lt;template&gt; &lt;pathname&gt; [&lt;type&gt;] [&lt;extension&gt;]\n```\n\nFor example:\n\n```\n--rendertiddlers [!is[system]] $:/core/templates/static.tiddler.html ./static text/plain\n```\n\nBy default, the pathname is resolved relative to the `output` subdirectory of the edition directory. The `--output` command can be used to direct output to a different directory.\n\nAny files in the target directory are deleted. The target directory is recursively created if it is missing.\n&quot;
        },
        &quot;$:/language/Help/savetiddler&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/savetiddler&quot;,
            &quot;description&quot;: &quot;Saves a raw tiddler to a file&quot;,
            &quot;text&quot;: &quot;Saves an individual tiddler in its raw text or binary format to the specified filename. \n\n```\n--savetiddler &lt;title&gt; &lt;filename&gt;\n```\n\nBy default, the filename is resolved relative to the `output` subdirectory of the edition directory. The `--output` command can be used to direct output to a different directory.\n\nAny missing directories in the path to the filename are automatically created.\n&quot;
        },
        &quot;$:/language/Help/savetiddlers&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/savetiddlers&quot;,
            &quot;description&quot;: &quot;Saves a group of raw tiddlers to a directory&quot;,
            &quot;text&quot;: &quot;Saves a group of tiddlers in their raw text or binary format to the specified directory. \n\n```\n--savetiddlers &lt;filter&gt; &lt;pathname&gt;\n```\n\nBy default, the pathname is resolved relative to the `output` subdirectory of the edition directory. The `--output` command can be used to direct output to a different directory.\n\nAny missing directories in the pathname are automatically created.\n&quot;
        },
        &quot;$:/language/Help/server&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/server&quot;,
            &quot;description&quot;: &quot;Provides an HTTP server interface to TiddlyWiki&quot;,
            &quot;text&quot;: &quot;The server built in to TiddlyWiki5 is very simple. Although compatible with TiddlyWeb it doesn't support many of the features needed for robust Internet-facing usage.\n\nAt the root, it serves a rendering of a specified tiddler. Away from the root, it serves individual tiddlers encoded in JSON, and supports the basic HTTP operations for `GET`, `PUT` and `DELETE`.\n\n```\n--server &lt;port&gt; &lt;roottiddler&gt; &lt;rendertype&gt; &lt;servetype&gt; &lt;username&gt; &lt;password&gt; &lt;host&gt; &lt;pathprefix&gt;\n```\n\nThe parameters are:\n\n* ''port'' - port number to serve from (defaults to \&quot;8080\&quot;)\n* ''roottiddler'' - the tiddler to serve at the root (defaults to \&quot;$:/core/save/all\&quot;) \n* ''rendertype'' - the content type to which the root tiddler should be rendered (defaults to \&quot;text/plain\&quot;)\n* ''servetype'' - the content type with which the root tiddler should be served (defaults to \&quot;text/html\&quot;)\n* ''username'' - the default username for signing edits\n* ''password'' - optional password for basic authentication\n* ''host'' - optional hostname to serve from (defaults to \&quot;127.0.0.1\&quot; aka \&quot;localhost\&quot;)\n* ''pathprefix'' - optional prefix for paths\n\nIf the password parameter is specified then the browser will prompt the user for the username and password. Note that the password is transmitted in plain text so this implementation isn't suitable for general use.\n\nFor example:\n\n```\n--server 8080 $:/core/save/all text/plain text/html MyUserName passw0rd\n```\n\nThe username and password can be specified as empty strings if you need to set the hostname or pathprefix and don't want to require a password:\n\n```\n--server 8080 $:/core/save/all text/plain text/html \&quot;\&quot; \&quot;\&quot; 192.168.0.245\n```\n\nTo run multiple TiddlyWiki servers at the same time you'll need to put each one on a different port.\n&quot;
        },
        &quot;$:/language/Help/setfield&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/setfield&quot;,
            &quot;description&quot;: &quot;Prepares external tiddlers for use&quot;,
            &quot;text&quot;: &quot;//Note that this command is experimental and may change or be replaced before being finalised//\n\nSets the specified field of a group of tiddlers to the result of wikifying a template tiddler with the `currentTiddler` variable set to the tiddler.\n\n```\n--setfield &lt;filter&gt; &lt;fieldname&gt; &lt;templatetitle&gt; &lt;rendertype&gt;\n```\n\nThe parameters are:\n\n* ''filter'' - filter identifying the tiddlers to be affected\n* ''fieldname'' - the field to modify (defaults to \&quot;text\&quot;)\n* ''templatetitle'' - the tiddler to wikify into the specified field. If blank or missing then the specified field is deleted\n* ''type'' - the text type to render (defaults to \&quot;text/plain\&quot;; \&quot;text/html\&quot; can be used to include HTML tags)\n\n&quot;
        },
        &quot;$:/language/Help/unpackplugin&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/unpackplugin&quot;,
            &quot;description&quot;: &quot;Unpack the payload tiddlers from a plugin&quot;,
            &quot;text&quot;: &quot;Extract the payload tiddlers from a plugin, creating them as ordinary tiddlers:\n\n```\n--unpackplugin &lt;title&gt;\n```\n&quot;
        },
        &quot;$:/language/Help/verbose&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/verbose&quot;,
            &quot;description&quot;: &quot;Triggers verbose output mode&quot;,
            &quot;text&quot;: &quot;Triggers verbose output, useful for debugging \n\n```\n--verbose\n```\n&quot;
        },
        &quot;$:/language/Help/version&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/version&quot;,
            &quot;description&quot;: &quot;Displays the version number of TiddlyWiki&quot;,
            &quot;text&quot;: &quot;Displays the version number of TiddlyWiki.\n\n```\n--version\n```\n&quot;
        },
        &quot;$:/language/Import/Listing/Cancel/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Listing/Cancel/Caption&quot;,
            &quot;text&quot;: &quot;Cancel&quot;
        },
        &quot;$:/language/Import/Listing/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Listing/Hint&quot;,
            &quot;text&quot;: &quot;These tiddlers are ready to import:&quot;
        },
        &quot;$:/language/Import/Listing/Import/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Listing/Import/Caption&quot;,
            &quot;text&quot;: &quot;Import&quot;
        },
        &quot;$:/language/Import/Listing/Select/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Listing/Select/Caption&quot;,
            &quot;text&quot;: &quot;Select&quot;
        },
        &quot;$:/language/Import/Listing/Status/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Listing/Status/Caption&quot;,
            &quot;text&quot;: &quot;Status&quot;
        },
        &quot;$:/language/Import/Listing/Title/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Listing/Title/Caption&quot;,
            &quot;text&quot;: &quot;Title&quot;
        },
        &quot;$:/language/Import/Upgrader/Plugins/Suppressed/Incompatible&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Upgrader/Plugins/Suppressed/Incompatible&quot;,
            &quot;text&quot;: &quot;Blocked incompatible or obsolete plugin &quot;
        },
        &quot;$:/language/Import/Upgrader/Plugins/Suppressed/Version&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Upgrader/Plugins/Suppressed/Version&quot;,
            &quot;text&quot;: &quot;Blocked plugin (due to incoming &lt;&lt;incoming&gt;&gt;  being older than existing &lt;&lt;existing&gt;&gt;)&quot;
        },
        &quot;$:/language/Import/Upgrader/Plugins/Upgraded&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Upgrader/Plugins/Upgraded&quot;,
            &quot;text&quot;: &quot;Upgraded plugin from &lt;&lt;incoming&gt;&gt; to &lt;&lt;upgraded&gt;&gt;&quot;
        },
        &quot;$:/language/Import/Upgrader/State/Suppressed&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Upgrader/State/Suppressed&quot;,
            &quot;text&quot;: &quot;Blocked temporary state tiddler&quot;
        },
        &quot;$:/language/Import/Upgrader/System/Suppressed&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Upgrader/System/Suppressed&quot;,
            &quot;text&quot;: &quot;Blocked system tiddler&quot;
        },
        &quot;$:/language/Import/Upgrader/ThemeTweaks/Created&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Upgrader/ThemeTweaks/Created&quot;,
            &quot;text&quot;: &quot;Migrated theme tweak from &lt;$text text=&lt;&lt;from&gt;&gt;/&gt;&quot;
        },
        &quot;$:/language/BinaryWarning/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/BinaryWarning/Prompt&quot;,
            &quot;text&quot;: &quot;This tiddler contains binary data&quot;
        },
        &quot;$:/language/ClassicWarning/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ClassicWarning/Hint&quot;,
            &quot;text&quot;: &quot;This tiddler is written in TiddlyWiki Classic wiki text format, which is not fully compatible with TiddlyWiki version 5. See http://tiddlywiki.com/static/Upgrading.html for more details. &quot;
        },
        &quot;$:/language/ClassicWarning/Upgrade/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ClassicWarning/Upgrade/Caption&quot;,
            &quot;text&quot;: &quot;upgrade&quot;
        },
        &quot;$:/language/CloseAll/Button&quot;: {
            &quot;title&quot;: &quot;$:/language/CloseAll/Button&quot;,
            &quot;text&quot;: &quot;close all&quot;
        },
        &quot;$:/language/ConfirmCancelTiddler&quot;: {
            &quot;title&quot;: &quot;$:/language/ConfirmCancelTiddler&quot;,
            &quot;text&quot;: &quot;Do you wish to discard changes to the tiddler \&quot;&lt;$text text=&lt;&lt;title&gt;&gt;/&gt;\&quot;?&quot;
        },
        &quot;$:/language/ConfirmDeleteTiddler&quot;: {
            &quot;title&quot;: &quot;$:/language/ConfirmDeleteTiddler&quot;,
            &quot;text&quot;: &quot;Do you wish to delete the tiddler \&quot;&lt;$text text=&lt;&lt;title&gt;&gt;/&gt;\&quot;?&quot;
        },
        &quot;$:/language/ConfirmOverwriteTiddler&quot;: {
            &quot;title&quot;: &quot;$:/language/ConfirmOverwriteTiddler&quot;,
            &quot;text&quot;: &quot;Do you wish to overwrite the tiddler \&quot;&lt;$text text=&lt;&lt;title&gt;&gt;/&gt;\&quot;?&quot;
        },
        &quot;$:/language/ConfirmEditShadowTiddler&quot;: {
            &quot;title&quot;: &quot;$:/language/ConfirmEditShadowTiddler&quot;,
            &quot;text&quot;: &quot;You are about to edit a ShadowTiddler. Any changes will override the default system making future upgrades non-trivial. Are you sure you want to edit \&quot;&lt;$text text=&lt;&lt;title&gt;&gt;/&gt;\&quot;?&quot;
        },
        &quot;$:/language/DefaultNewTiddlerTitle&quot;: {
            &quot;title&quot;: &quot;$:/language/DefaultNewTiddlerTitle&quot;,
            &quot;text&quot;: &quot;New Tiddler&quot;
        },
        &quot;$:/language/DropMessage&quot;: {
            &quot;title&quot;: &quot;$:/language/DropMessage&quot;,
            &quot;text&quot;: &quot;Drop here (or click escape to cancel)&quot;
        },
        &quot;$:/language/Encryption/ConfirmClearPassword&quot;: {
            &quot;title&quot;: &quot;$:/language/Encryption/ConfirmClearPassword&quot;,
            &quot;text&quot;: &quot;Do you wish to clear the password? This will remove the encryption applied when saving this wiki&quot;
        },
        &quot;$:/language/Encryption/PromptSetPassword&quot;: {
            &quot;title&quot;: &quot;$:/language/Encryption/PromptSetPassword&quot;,
            &quot;text&quot;: &quot;Set a new password for this TiddlyWiki&quot;
        },
        &quot;$:/language/InvalidFieldName&quot;: {
            &quot;title&quot;: &quot;$:/language/InvalidFieldName&quot;,
            &quot;text&quot;: &quot;Illegal characters in field name \&quot;&lt;$text text=&lt;&lt;fieldName&gt;&gt;/&gt;\&quot;. Fields can only contain lowercase letters, digits and the characters underscore (`_`), hyphen (`-`) and period (`.`)&quot;
        },
        &quot;$:/language/MissingTiddler/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/MissingTiddler/Hint&quot;,
            &quot;text&quot;: &quot;Missing tiddler \&quot;&lt;$text text=&lt;&lt;currentTiddler&gt;&gt;/&gt;\&quot; - click {{$:/core/images/edit-button}} to create&quot;
        },
        &quot;$:/language/RecentChanges/DateFormat&quot;: {
            &quot;title&quot;: &quot;$:/language/RecentChanges/DateFormat&quot;,
            &quot;text&quot;: &quot;DDth MMM YYYY&quot;
        },
        &quot;$:/language/SystemTiddler/Tooltip&quot;: {
            &quot;title&quot;: &quot;$:/language/SystemTiddler/Tooltip&quot;,
            &quot;text&quot;: &quot;This is a system tiddler&quot;
        },
        &quot;$:/language/TagManager/Colour/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/TagManager/Colour/Heading&quot;,
            &quot;text&quot;: &quot;Colour&quot;
        },
        &quot;$:/language/TagManager/Icon/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/TagManager/Icon/Heading&quot;,
            &quot;text&quot;: &quot;Icon&quot;
        },
        &quot;$:/language/TagManager/Info/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/TagManager/Info/Heading&quot;,
            &quot;text&quot;: &quot;Info&quot;
        },
        &quot;$:/language/TagManager/Tag/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/TagManager/Tag/Heading&quot;,
            &quot;text&quot;: &quot;Tag&quot;
        },
        &quot;$:/language/UnsavedChangesWarning&quot;: {
            &quot;title&quot;: &quot;$:/language/UnsavedChangesWarning&quot;,
            &quot;text&quot;: &quot;You have unsaved changes in TiddlyWiki&quot;
        },
        &quot;$:/language/Modals/Download&quot;: {
            &quot;title&quot;: &quot;$:/language/Modals/Download&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki&quot;,
            &quot;subtitle&quot;: &quot;Download changes&quot;,
            &quot;footer&quot;: &quot;&lt;$button message=\&quot;tm-close-tiddler\&quot;&gt;Close&lt;/$button&gt;&quot;,
            &quot;help&quot;: &quot;http://tiddlywiki.com/static/DownloadingChanges.html&quot;,
            &quot;text&quot;: &quot;Your browser only supports manual saving.\n\nTo save your modified wiki, right click on the download link below and select \&quot;Download file\&quot; or \&quot;Save file\&quot;, and then choose the folder and filename.\n\n//You can marginally speed things up by clicking the link with the control key (Windows) or the options/alt key (Mac OS X). You will not be prompted for the folder or filename, but your browser is likely to give it an unrecognisable name -- you may need to rename the file to include an `.html` extension before you can do anything useful with it.//\n\nOn smartphones that do not allow files to be downloaded you can instead bookmark the link, and then sync your bookmarks to a desktop computer from where the wiki can be saved normally.\n&quot;
        },
        &quot;$:/language/Modals/SaveInstructions&quot;: {
            &quot;title&quot;: &quot;$:/language/Modals/SaveInstructions&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki&quot;,
            &quot;subtitle&quot;: &quot;Save your work&quot;,
            &quot;footer&quot;: &quot;&lt;$button message=\&quot;tm-close-tiddler\&quot;&gt;Close&lt;/$button&gt;&quot;,
            &quot;help&quot;: &quot;http://tiddlywiki.com/static/SavingChanges.html&quot;,
            &quot;text&quot;: &quot;Your changes to this wiki need to be saved as a ~TiddlyWiki HTML file.\n\n!!! Desktop browsers\n\n# Select ''Save As'' from the ''File'' menu\n# Choose a filename and location\n#* Some browsers also require you to explicitly specify the file saving format as ''Webpage, HTML only'' or similar\n# Close this tab\n\n!!! Smartphone browsers\n\n# Create a bookmark to this page\n#* If you've got iCloud or Google Sync set up then the bookmark will automatically sync to your desktop where you can open it and save it as above\n# Close this tab\n\n//If you open the bookmark again in Mobile Safari you will see this message again. If you want to go ahead and use the file, just click the ''close'' button below//\n&quot;
        },
        &quot;$:/config/NewJournal/Title&quot;: {
            &quot;title&quot;: &quot;$:/config/NewJournal/Title&quot;,
            &quot;text&quot;: &quot;DDth MMM YYYY&quot;
        },
        &quot;$:/config/NewJournal/Tags&quot;: {
            &quot;title&quot;: &quot;$:/config/NewJournal/Tags&quot;,
            &quot;text&quot;: &quot;Journal&quot;
        },
        &quot;$:/language/Notifications/Save/Done&quot;: {
            &quot;title&quot;: &quot;$:/language/Notifications/Save/Done&quot;,
            &quot;text&quot;: &quot;Saved wiki&quot;
        },
        &quot;$:/language/Notifications/Save/Starting&quot;: {
            &quot;title&quot;: &quot;$:/language/Notifications/Save/Starting&quot;,
            &quot;text&quot;: &quot;Starting to save wiki&quot;
        },
        &quot;$:/language/Search/DefaultResults/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/DefaultResults/Caption&quot;,
            &quot;text&quot;: &quot;List&quot;
        },
        &quot;$:/language/Search/Filter/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Filter/Caption&quot;,
            &quot;text&quot;: &quot;Filter&quot;
        },
        &quot;$:/language/Search/Filter/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Filter/Hint&quot;,
            &quot;text&quot;: &quot;Search via a [[filter expression|http://tiddlywiki.com/static/Filters.html]]&quot;
        },
        &quot;$:/language/Search/Filter/Matches&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Filter/Matches&quot;,
            &quot;text&quot;: &quot;//&lt;small&gt;&lt;&lt;resultCount&gt;&gt; matches&lt;/small&gt;//&quot;
        },
        &quot;$:/language/Search/Matches&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Matches&quot;,
            &quot;text&quot;: &quot;//&lt;small&gt;&lt;&lt;resultCount&gt;&gt; matches&lt;/small&gt;//&quot;
        },
        &quot;$:/language/Search/Shadows/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Shadows/Caption&quot;,
            &quot;text&quot;: &quot;Shadows&quot;
        },
        &quot;$:/language/Search/Shadows/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Shadows/Hint&quot;,
            &quot;text&quot;: &quot;Search for shadow tiddlers&quot;
        },
        &quot;$:/language/Search/Shadows/Matches&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Shadows/Matches&quot;,
            &quot;text&quot;: &quot;//&lt;small&gt;&lt;&lt;resultCount&gt;&gt; matches&lt;/small&gt;//&quot;
        },
        &quot;$:/language/Search/Standard/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Standard/Caption&quot;,
            &quot;text&quot;: &quot;Standard&quot;
        },
        &quot;$:/language/Search/Standard/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Standard/Hint&quot;,
            &quot;text&quot;: &quot;Search for standard tiddlers&quot;
        },
        &quot;$:/language/Search/Standard/Matches&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Standard/Matches&quot;,
            &quot;text&quot;: &quot;//&lt;small&gt;&lt;&lt;resultCount&gt;&gt; matches&lt;/small&gt;//&quot;
        },
        &quot;$:/language/Search/System/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/System/Caption&quot;,
            &quot;text&quot;: &quot;System&quot;
        },
        &quot;$:/language/Search/System/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/System/Hint&quot;,
            &quot;text&quot;: &quot;Search for system tiddlers&quot;
        },
        &quot;$:/language/Search/System/Matches&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/System/Matches&quot;,
            &quot;text&quot;: &quot;//&lt;small&gt;&lt;&lt;resultCount&gt;&gt; matches&lt;/small&gt;//&quot;
        },
        &quot;$:/language/SideBar/All/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/All/Caption&quot;,
            &quot;text&quot;: &quot;All&quot;
        },
        &quot;$:/language/SideBar/Contents/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Contents/Caption&quot;,
            &quot;text&quot;: &quot;Contents&quot;
        },
        &quot;$:/language/SideBar/Drafts/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Drafts/Caption&quot;,
            &quot;text&quot;: &quot;Drafts&quot;
        },
        &quot;$:/language/SideBar/Missing/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Missing/Caption&quot;,
            &quot;text&quot;: &quot;Missing&quot;
        },
        &quot;$:/language/SideBar/More/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/More/Caption&quot;,
            &quot;text&quot;: &quot;More&quot;
        },
        &quot;$:/language/SideBar/Open/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Open/Caption&quot;,
            &quot;text&quot;: &quot;Open&quot;
        },
        &quot;$:/language/SideBar/Orphans/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Orphans/Caption&quot;,
            &quot;text&quot;: &quot;Orphans&quot;
        },
        &quot;$:/language/SideBar/Recent/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Recent/Caption&quot;,
            &quot;text&quot;: &quot;Recent&quot;
        },
        &quot;$:/language/SideBar/Shadows/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Shadows/Caption&quot;,
            &quot;text&quot;: &quot;Shadows&quot;
        },
        &quot;$:/language/SideBar/System/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/System/Caption&quot;,
            &quot;text&quot;: &quot;System&quot;
        },
        &quot;$:/language/SideBar/Tags/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Tags/Caption&quot;,
            &quot;text&quot;: &quot;Tags&quot;
        },
        &quot;$:/language/SideBar/Tags/Untagged/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Tags/Untagged/Caption&quot;,
            &quot;text&quot;: &quot;untagged&quot;
        },
        &quot;$:/language/SideBar/Tools/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Tools/Caption&quot;,
            &quot;text&quot;: &quot;Tools&quot;
        },
        &quot;$:/language/SideBar/Types/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Types/Caption&quot;,
            &quot;text&quot;: &quot;Types&quot;
        },
        &quot;$:/SiteSubtitle&quot;: {
            &quot;title&quot;: &quot;$:/SiteSubtitle&quot;,
            &quot;text&quot;: &quot;a non-linear personal web notebook&quot;
        },
        &quot;$:/SiteTitle&quot;: {
            &quot;title&quot;: &quot;$:/SiteTitle&quot;,
            &quot;text&quot;: &quot;My ~TiddlyWiki&quot;
        },
        &quot;$:/language/TiddlerInfo/Advanced/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Advanced/Caption&quot;,
            &quot;text&quot;: &quot;Advanced&quot;
        },
        &quot;$:/language/TiddlerInfo/Advanced/PluginInfo/Empty/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Advanced/PluginInfo/Empty/Hint&quot;,
            &quot;text&quot;: &quot;none&quot;
        },
        &quot;$:/language/TiddlerInfo/Advanced/PluginInfo/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Advanced/PluginInfo/Heading&quot;,
            &quot;text&quot;: &quot;Plugin Details&quot;
        },
        &quot;$:/language/TiddlerInfo/Advanced/PluginInfo/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Advanced/PluginInfo/Hint&quot;,
            &quot;text&quot;: &quot;This plugin contains the following shadow tiddlers:&quot;
        },
        &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/Heading&quot;,
            &quot;text&quot;: &quot;Shadow Status&quot;
        },
        &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/NotShadow/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/NotShadow/Hint&quot;,
            &quot;text&quot;: &quot;The tiddler &lt;$link to=&lt;&lt;infoTiddler&gt;&gt;&gt;&lt;$text text=&lt;&lt;infoTiddler&gt;&gt;/&gt;&lt;/$link&gt; is not a shadow tiddler&quot;
        },
        &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/Shadow/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/Shadow/Hint&quot;,
            &quot;text&quot;: &quot;The tiddler &lt;$link to=&lt;&lt;infoTiddler&gt;&gt;&gt;&lt;$text text=&lt;&lt;infoTiddler&gt;&gt;/&gt;&lt;/$link&gt; is a shadow tiddler&quot;
        },
        &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/Shadow/Source&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/Shadow/Source&quot;,
            &quot;text&quot;: &quot;It is defined in the plugin &lt;$link to=&lt;&lt;pluginTiddler&gt;&gt;&gt;&lt;$text text=&lt;&lt;pluginTiddler&gt;&gt;/&gt;&lt;/$link&gt;&quot;
        },
        &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/OverriddenShadow/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/OverriddenShadow/Hint&quot;,
            &quot;text&quot;: &quot;It is overridden by an ordinary tiddler&quot;
        },
        &quot;$:/language/TiddlerInfo/Fields/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Fields/Caption&quot;,
            &quot;text&quot;: &quot;Fields&quot;
        },
        &quot;$:/language/TiddlerInfo/List/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/List/Caption&quot;,
            &quot;text&quot;: &quot;List&quot;
        },
        &quot;$:/language/TiddlerInfo/List/Empty&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/List/Empty&quot;,
            &quot;text&quot;: &quot;This tiddler does not have a list&quot;
        },
        &quot;$:/language/TiddlerInfo/Listed/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Listed/Caption&quot;,
            &quot;text&quot;: &quot;Listed&quot;
        },
        &quot;$:/language/TiddlerInfo/Listed/Empty&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Listed/Empty&quot;,
            &quot;text&quot;: &quot;This tiddler is not listed by any others&quot;
        },
        &quot;$:/language/TiddlerInfo/References/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/References/Caption&quot;,
            &quot;text&quot;: &quot;References&quot;
        },
        &quot;$:/language/TiddlerInfo/References/Empty&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/References/Empty&quot;,
            &quot;text&quot;: &quot;No tiddlers link to this one&quot;
        },
        &quot;$:/language/TiddlerInfo/Tagging/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Tagging/Caption&quot;,
            &quot;text&quot;: &quot;Tagging&quot;
        },
        &quot;$:/language/TiddlerInfo/Tagging/Empty&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Tagging/Empty&quot;,
            &quot;text&quot;: &quot;No tiddlers are tagged with this one&quot;
        },
        &quot;$:/language/TiddlerInfo/Tools/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Tools/Caption&quot;,
            &quot;text&quot;: &quot;Tools&quot;
        },
        &quot;$:/language/Docs/Types/application/javascript&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/application/javascript&quot;,
            &quot;description&quot;: &quot;JavaScript code&quot;,
            &quot;name&quot;: &quot;application/javascript&quot;,
            &quot;group&quot;: &quot;Developer&quot;
        },
        &quot;$:/language/Docs/Types/application/json&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/application/json&quot;,
            &quot;description&quot;: &quot;JSON data&quot;,
            &quot;name&quot;: &quot;application/json&quot;,
            &quot;group&quot;: &quot;Developer&quot;
        },
        &quot;$:/language/Docs/Types/application/x-tiddler-dictionary&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/application/x-tiddler-dictionary&quot;,
            &quot;description&quot;: &quot;Data dictionary&quot;,
            &quot;name&quot;: &quot;application/x-tiddler-dictionary&quot;,
            &quot;group&quot;: &quot;Developer&quot;
        },
        &quot;$:/language/Docs/Types/image/gif&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/image/gif&quot;,
            &quot;description&quot;: &quot;GIF image&quot;,
            &quot;name&quot;: &quot;image/gif&quot;,
            &quot;group&quot;: &quot;Image&quot;
        },
        &quot;$:/language/Docs/Types/image/jpeg&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/image/jpeg&quot;,
            &quot;description&quot;: &quot;JPEG image&quot;,
            &quot;name&quot;: &quot;image/jpeg&quot;,
            &quot;group&quot;: &quot;Image&quot;
        },
        &quot;$:/language/Docs/Types/image/png&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/image/png&quot;,
            &quot;description&quot;: &quot;PNG image&quot;,
            &quot;name&quot;: &quot;image/png&quot;,
            &quot;group&quot;: &quot;Image&quot;
        },
        &quot;$:/language/Docs/Types/image/svg+xml&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/image/svg+xml&quot;,
            &quot;description&quot;: &quot;Structured Vector Graphics image&quot;,
            &quot;name&quot;: &quot;image/svg+xml&quot;,
            &quot;group&quot;: &quot;Image&quot;
        },
        &quot;$:/language/Docs/Types/image/x-icon&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/image/x-icon&quot;,
            &quot;description&quot;: &quot;ICO format icon file&quot;,
            &quot;name&quot;: &quot;image/x-icon&quot;,
            &quot;group&quot;: &quot;Image&quot;
        },
        &quot;$:/language/Docs/Types/text/css&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/text/css&quot;,
            &quot;description&quot;: &quot;Static stylesheet&quot;,
            &quot;name&quot;: &quot;text/css&quot;,
            &quot;group&quot;: &quot;Developer&quot;
        },
        &quot;$:/language/Docs/Types/text/html&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/text/html&quot;,
            &quot;description&quot;: &quot;HTML markup&quot;,
            &quot;name&quot;: &quot;text/html&quot;,
            &quot;group&quot;: &quot;Text&quot;
        },
        &quot;$:/language/Docs/Types/text/plain&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/text/plain&quot;,
            &quot;description&quot;: &quot;Plain text&quot;,
            &quot;name&quot;: &quot;text/plain&quot;,
            &quot;group&quot;: &quot;Text&quot;
        },
        &quot;$:/language/Docs/Types/text/vnd.tiddlywiki&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/text/vnd.tiddlywiki&quot;,
            &quot;description&quot;: &quot;TiddlyWiki 5&quot;,
            &quot;name&quot;: &quot;text/vnd.tiddlywiki&quot;,
            &quot;group&quot;: &quot;Text&quot;
        },
        &quot;$:/language/Docs/Types/text/x-tiddlywiki&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/text/x-tiddlywiki&quot;,
            &quot;description&quot;: &quot;TiddlyWiki Classic&quot;,
            &quot;name&quot;: &quot;text/x-tiddlywiki&quot;,
            &quot;group&quot;: &quot;Text&quot;
        },
        &quot;$:/languages/en-GB/icon&quot;: {
            &quot;title&quot;: &quot;$:/languages/en-GB/icon&quot;,
            &quot;type&quot;: &quot;image/svg+xml&quot;,
            &quot;text&quot;: &quot;&lt;svg xmlns=\&quot;http://www.w3.org/2000/svg\&quot; viewBox=\&quot;0 0 60 30\&quot; width=\&quot;1200\&quot; height=\&quot;600\&quot;&gt;\n&lt;clipPath id=\&quot;t\&quot;&gt;\n\t&lt;path d=\&quot;M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z\&quot;/&gt;\n&lt;/clipPath&gt;\n&lt;path d=\&quot;M0,0 v30 h60 v-30 z\&quot; fill=\&quot;#00247d\&quot;/&gt;\n&lt;path d=\&quot;M0,0 L60,30 M60,0 L0,30\&quot; stroke=\&quot;#fff\&quot; stroke-width=\&quot;6\&quot;/&gt;\n&lt;path d=\&quot;M0,0 L60,30 M60,0 L0,30\&quot; clip-path=\&quot;url(#t)\&quot; stroke=\&quot;#cf142b\&quot; stroke-width=\&quot;4\&quot;/&gt;\n&lt;path d=\&quot;M30,0 v30 M0,15 h60\&quot; stroke=\&quot;#fff\&quot; stroke-width=\&quot;10\&quot;/&gt;\n&lt;path d=\&quot;M30,0 v30 M0,15 h60\&quot; stroke=\&quot;#cf142b\&quot; stroke-width=\&quot;6\&quot;/&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/languages/en-GB&quot;: {
            &quot;title&quot;: &quot;$:/languages/en-GB&quot;,
            &quot;name&quot;: &quot;en-GB&quot;,
            &quot;description&quot;: &quot;English (British)&quot;,
            &quot;author&quot;: &quot;JeremyRuston&quot;,
            &quot;core-version&quot;: &quot;&gt;=5.0.0\&quot;&quot;,
            &quot;text&quot;: &quot;Stub pseudo-plugin for the default language&quot;
        },
        &quot;$:/core/modules/commander.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commander.js\ntype: application/javascript\nmodule-type: global\n\nThe $tw.Commander class is a command interpreter\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nParse a sequence of commands\n\tcommandTokens: an array of command string tokens\n\twiki: reference to the wiki store object\n\tstreams: {output:, error:}, each of which has a write(string) method\n\tcallback: a callback invoked as callback(err) where err is null if there was no error\n*/\nvar Commander = function(commandTokens,callback,wiki,streams) {\n\tvar path = require(\&quot;path\&quot;);\n\tthis.commandTokens = commandTokens;\n\tthis.nextToken = 0;\n\tthis.callback = callback;\n\tthis.wiki = wiki;\n\tthis.streams = streams;\n\tthis.outputPath = path.resolve($tw.boot.wikiPath,$tw.config.wikiOutputSubDir);\n};\n\n/*\nAdd a string of tokens to the command queue\n*/\nCommander.prototype.addCommandTokens = function(commandTokens) {\n\tvar params = commandTokens.slice(0);\n\tparams.unshift(0);\n\tparams.unshift(this.nextToken);\n\tArray.prototype.splice.apply(this.commandTokens,params);\n};\n\n/*\nExecute the sequence of commands and invoke a callback on completion\n*/\nCommander.prototype.execute = function() {\n\tthis.executeNextCommand();\n};\n\n/*\nExecute the next command in the sequence\n*/\nCommander.prototype.executeNextCommand = function() {\n\tvar self = this;\n\t// Invoke the callback if there are no more commands\n\tif(this.nextToken &gt;= this.commandTokens.length) {\n\t\tthis.callback(null);\n\t} else {\n\t\t// Get and check the command token\n\t\tvar commandName = this.commandTokens[this.nextToken++];\n\t\tif(commandName.substr(0,2) !== \&quot;--\&quot;) {\n\t\t\tthis.callback(\&quot;Missing command: \&quot; + commandName);\n\t\t} else {\n\t\t\tcommandName = commandName.substr(2); // Trim off the --\n\t\t\t// Accumulate the parameters to the command\n\t\t\tvar params = [];\n\t\t\twhile(this.nextToken &lt; this.commandTokens.length &amp;&amp; \n\t\t\t\tthis.commandTokens[this.nextToken].substr(0,2) !== \&quot;--\&quot;) {\n\t\t\t\tparams.push(this.commandTokens[this.nextToken++]);\n\t\t\t}\n\t\t\t// Get the command info\n\t\t\tvar command = $tw.commands[commandName],\n\t\t\t\tc,err;\n\t\t\tif(!command) {\n\t\t\t\tthis.callback(\&quot;Unknown command: \&quot; + commandName);\n\t\t\t} else {\n\t\t\t\tif(this.verbose) {\n\t\t\t\t\tthis.streams.output.write(\&quot;Executing command: \&quot; + commandName + \&quot; \&quot; + params.join(\&quot; \&quot;) + \&quot;\\n\&quot;);\n\t\t\t\t}\n\t\t\t\tif(command.info.synchronous) {\n\t\t\t\t\t// Synchronous command\n\t\t\t\t\tc = new command.Command(params,this);\n\t\t\t\t\terr = c.execute();\n\t\t\t\t\tif(err) {\n\t\t\t\t\t\tthis.callback(err);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.executeNextCommand();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Asynchronous command\n\t\t\t\t\tc = new command.Command(params,this,function(err) {\n\t\t\t\t\t\tif(err) {\n\t\t\t\t\t\t\tself.callback(err);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.executeNextCommand();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\terr = c.execute();\n\t\t\t\t\tif(err) {\n\t\t\t\t\t\tthis.callback(err);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nCommander.initCommands = function(moduleType) {\n\tmoduleType = moduleType || \&quot;command\&quot;;\n\t$tw.commands = {};\n\t$tw.modules.forEachModuleOfType(moduleType,function(title,module) {\n\t\tvar c = $tw.commands[module.info.name] = {};\n\t\t// Add the methods defined by the module\n\t\tfor(var f in module) {\n\t\t\tif($tw.utils.hop(module,f)) {\n\t\t\t\tc[f] = module[f];\n\t\t\t}\n\t\t}\n\t});\n};\n\nexports.Commander = Commander;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commander.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;global&quot;
        },
        &quot;$:/core/modules/commands/build.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/build.js\ntype: application/javascript\nmodule-type: command\n\nCommand to build a build target\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;build\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\t// Get the build targets defined in the wiki\n\tvar buildTargets = $tw.boot.wikiInfo.build;\n\tif(!buildTargets) {\n\t\treturn \&quot;No build targets defined\&quot;;\n\t}\n\t// Loop through each of the specified targets\n\tvar targets;\n\tif(this.params.length &gt; 0) {\n\t\ttargets = this.params;\n\t} else {\n\t\ttargets = Object.keys(buildTargets);\n\t}\n\tfor(var targetIndex=0; targetIndex&lt;targets.length; targetIndex++) {\n\t\tvar target = targets[targetIndex],\n\t\t\tcommands = buildTargets[target];\n\t\tif(!commands) {\n\t\t\treturn \&quot;Build target '\&quot; + target + \&quot;' not found\&quot;;\n\t\t}\n\t\t// Add the commands to the queue\n\t\tthis.commander.addCommandTokens(commands);\n\t}\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/build.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/clearpassword.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/clearpassword.js\ntype: application/javascript\nmodule-type: command\n\nClear password for crypto operations\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;clearpassword\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\t$tw.crypto.setPassword(null);\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/clearpassword.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/editions.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/editions.js\ntype: application/javascript\nmodule-type: command\n\nCommand to list the available editions\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;editions\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tvar fs = require(\&quot;fs\&quot;),\n\t\tpath = require(\&quot;path\&quot;),\n\t\tself = this;\n\t// Enumerate the edition paths\n\tvar editionPaths = $tw.getLibraryItemSearchPaths($tw.config.editionsPath,$tw.config.editionsEnvVar),\n\t\teditions = {};\n\tfor(var editionIndex=0; editionIndex&lt;editionPaths.length; editionIndex++) {\n\t\tvar editionPath = editionPaths[editionIndex];\n\t\t// Enumerate the folders\n\t\tvar entries = fs.readdirSync(editionPath);\n\t\tfor(var entryIndex=0; entryIndex&lt;entries.length; entryIndex++) {\n\t\t\tvar entry = entries[entryIndex];\n\t\t\t// Check if directories have a valid tiddlywiki.info\n\t\t\tif(!editions[entry] &amp;&amp; $tw.utils.isDirectory(path.resolve(editionPath,entry))) {\n\t\t\t\tvar info;\n\t\t\t\ttry {\n\t\t\t\t\tinfo = JSON.parse(fs.readFileSync(path.resolve(editionPath,entry,\&quot;tiddlywiki.info\&quot;),\&quot;utf8\&quot;));\n\t\t\t\t} catch(ex) {\n\t\t\t\t}\n\t\t\t\tif(info) {\n\t\t\t\t\teditions[entry] = info.description || \&quot;\&quot;;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Output the list\n\tthis.commander.streams.output.write(\&quot;Available editions:\\n\\n\&quot;);\n\t$tw.utils.each(editions,function(description,name) {\n\t\tself.commander.streams.output.write(\&quot;    \&quot; + name + \&quot;: \&quot; + description + \&quot;\\n\&quot;);\n\t});\n\tthis.commander.streams.output.write(\&quot;\\n\&quot;);\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/editions.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/help.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/help.js\ntype: application/javascript\nmodule-type: command\n\nHelp command\n\n\\*/\n(function(){\n\n/*jshint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;help\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tvar subhelp = this.params[0] || \&quot;default\&quot;,\n\t\thelpBase = \&quot;$:/language/Help/\&quot;,\n\t\ttext;\n\tif(!this.commander.wiki.getTiddler(helpBase + subhelp)) {\n\t\tsubhelp = \&quot;notfound\&quot;;\n\t}\n\t// Wikify the help as formatted text (ie block elements generate newlines)\n\ttext = this.commander.wiki.renderTiddler(\&quot;text/plain-formatted\&quot;,helpBase + subhelp);\n\t// Remove any leading linebreaks\n\ttext = text.replace(/^(\\r?\\n)*/g,\&quot;\&quot;);\n\tthis.commander.streams.output.write(text);\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/help.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/init.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/init.js\ntype: application/javascript\nmodule-type: command\n\nCommand to initialise an empty wiki folder\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;init\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tvar fs = require(\&quot;fs\&quot;),\n\t\tpath = require(\&quot;path\&quot;);\n\t// Check that we don't already have a valid wiki folder\n\tif($tw.boot.wikiTiddlersPath || ($tw.utils.isDirectory($tw.boot.wikiPath) &amp;&amp; !$tw.utils.isDirectoryEmpty($tw.boot.wikiPath))) {\n\t\treturn \&quot;Wiki folder is not empty\&quot;;\n\t}\n\t// Loop through each of the specified editions\n\tvar editions = this.params.length &gt; 0 ? this.params : [\&quot;empty\&quot;];\n\tfor(var editionIndex=0; editionIndex&lt;editions.length; editionIndex++) {\n\t\tvar editionName = editions[editionIndex];\n\t\t// Check the edition exists\n\t\tvar editionPath = $tw.findLibraryItem(editionName,$tw.getLibraryItemSearchPaths($tw.config.editionsPath,$tw.config.editionsEnvVar));\n\t\tif(!$tw.utils.isDirectory(editionPath)) {\n\t\t\treturn \&quot;Edition '\&quot; + editionName + \&quot;' not found\&quot;;\n\t\t}\n\t\t// Copy the edition content\n\t\tvar err = $tw.utils.copyDirectory(editionPath,$tw.boot.wikiPath);\n\t\tif(!err) {\n\t\t\tthis.commander.streams.output.write(\&quot;Copied edition '\&quot; + editionName + \&quot;' to \&quot; + $tw.boot.wikiPath + \&quot;\\n\&quot;);\n\t\t} else {\n\t\t\treturn err;\n\t\t}\n\t}\n\t// Tweak the tiddlywiki.info to remove any included wikis\n\tvar packagePath = $tw.boot.wikiPath + \&quot;/tiddlywiki.info\&quot;,\n\t\tpackageJson = JSON.parse(fs.readFileSync(packagePath));\n\tdelete packageJson.includeWikis;\n\tfs.writeFileSync(packagePath,JSON.stringify(packageJson,null,$tw.config.preferences.jsonSpaces));\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/init.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/load.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/load.js\ntype: application/javascript\nmodule-type: command\n\nCommand to load tiddlers from a file\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;load\&quot;,\n\tsynchronous: false\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tvar self = this,\n\t\tfs = require(\&quot;fs\&quot;),\n\t\tpath = require(\&quot;path\&quot;);\n\tif(this.params.length &lt; 1) {\n\t\treturn \&quot;Missing filename\&quot;;\n\t}\n\tvar ext = path.extname(self.params[0]);\n\tfs.readFile(this.params[0],$tw.utils.getTypeEncoding(ext),function(err,data) {\n\t\tif (err) {\n\t\t\tself.callback(err);\n\t\t} else {\n\t\t\tvar fields = {title: self.params[0]},\n\t\t\t\ttype = path.extname(self.params[0]);\n\t\t\tvar tiddlers = self.commander.wiki.deserializeTiddlers(type,data,fields);\n\t\t\tif(!tiddlers) {\n\t\t\t\tself.callback(\&quot;No tiddlers found in file \\\&quot;\&quot; + self.params[0] + \&quot;\\\&quot;\&quot;);\n\t\t\t} else {\n\t\t\t\tfor(var t=0; t&lt;tiddlers.length; t++) {\n\t\t\t\t\tself.commander.wiki.importTiddler(new $tw.Tiddler(tiddlers[t]));\n\t\t\t\t}\n\t\t\t\tself.callback(null);\t\n\t\t\t}\n\t\t}\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/load.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/makelibrary.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/makelibrary.js\ntype: application/javascript\nmodule-type: command\n\nCommand to pack all of the plugins in the library into a plugin tiddler of type \&quot;library\&quot;\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;makelibrary\&quot;,\n\tsynchronous: true\n};\n\nvar UPGRADE_LIBRARY_TITLE = \&quot;$:/UpgradeLibrary\&quot;;\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tvar wiki = this.commander.wiki,\n\t\tfs = require(\&quot;fs\&quot;),\n\t\tpath = require(\&quot;path\&quot;),\n\t\tupgradeLibraryTitle = this.params[0] || UPGRADE_LIBRARY_TITLE,\n\t\ttiddlers = {};\n\t// Collect up the library plugins\n\tvar collectPlugins = function(folder) {\n\t\t\tvar pluginFolders = fs.readdirSync(folder);\n\t\t\tfor(var p=0; p&lt;pluginFolders.length; p++) {\n\t\t\t\tif(!$tw.boot.excludeRegExp.test(pluginFolders[p])) {\n\t\t\t\t\tpluginFields = $tw.loadPluginFolder(path.resolve(folder,\&quot;./\&quot; + pluginFolders[p]));\n\t\t\t\t\tif(pluginFields &amp;&amp; pluginFields.title) {\n\t\t\t\t\t\ttiddlers[pluginFields.title] = pluginFields;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcollectPublisherPlugins = function(folder) {\n\t\t\tvar publisherFolders = fs.readdirSync(folder);\n\t\t\tfor(var t=0; t&lt;publisherFolders.length; t++) {\n\t\t\t\tif(!$tw.boot.excludeRegExp.test(publisherFolders[t])) {\n\t\t\t\t\tcollectPlugins(path.resolve(folder,\&quot;./\&quot; + publisherFolders[t]));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\tcollectPublisherPlugins(path.resolve($tw.boot.corePath,$tw.config.pluginsPath));\n\tcollectPublisherPlugins(path.resolve($tw.boot.corePath,$tw.config.themesPath));\n\tcollectPlugins(path.resolve($tw.boot.corePath,$tw.config.languagesPath));\n\t// Save the upgrade library tiddler\n\tvar pluginFields = {\n\t\ttitle: upgradeLibraryTitle,\n\t\ttype: \&quot;application/json\&quot;,\n\t\t\&quot;plugin-type\&quot;: \&quot;library\&quot;,\n\t\t\&quot;text\&quot;: JSON.stringify({tiddlers: tiddlers},null,$tw.config.preferences.jsonSpaces)\n\t};\n\twiki.addTiddler(new $tw.Tiddler(pluginFields));\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/makelibrary.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/output.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/output.js\ntype: application/javascript\nmodule-type: command\n\nCommand to set the default output location (defaults to current working directory)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;output\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tvar fs = require(\&quot;fs\&quot;),\n\t\tpath = require(\&quot;path\&quot;);\n\tif(this.params.length &lt; 1) {\n\t\treturn \&quot;Missing output path\&quot;;\n\t}\n\tthis.commander.outputPath = path.resolve(process.cwd(),this.params[0]);\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/output.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/password.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/password.js\ntype: application/javascript\nmodule-type: command\n\nSave password for crypto operations\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;password\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 1) {\n\t\treturn \&quot;Missing password\&quot;;\n\t}\n\t$tw.crypto.setPassword(this.params[0]);\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/password.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/rendertiddler.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/rendertiddler.js\ntype: application/javascript\nmodule-type: command\n\nCommand to render a tiddler and save it to a file\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;rendertiddler\&quot;,\n\tsynchronous: false\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 2) {\n\t\treturn \&quot;Missing filename\&quot;;\n\t}\n\tvar self = this,\n\t\tfs = require(\&quot;fs\&quot;),\n\t\tpath = require(\&quot;path\&quot;),\n\t\ttitle = this.params[0],\n\t\tfilename = path.resolve(this.commander.outputPath,this.params[1]),\n\t\ttype = this.params[2] || \&quot;text/html\&quot;;\n\t$tw.utils.createFileDirectories(filename);\n\tfs.writeFile(filename,this.commander.wiki.renderTiddler(type,title),\&quot;utf8\&quot;,function(err) {\n\t\tself.callback(err);\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/rendertiddler.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/rendertiddlers.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/rendertiddlers.js\ntype: application/javascript\nmodule-type: command\n\nCommand to render several tiddlers to a folder of files\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;);\n\nexports.info = {\n\tname: \&quot;rendertiddlers\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 2) {\n\t\treturn \&quot;Missing filename\&quot;;\n\t}\n\tvar self = this,\n\t\tfs = require(\&quot;fs\&quot;),\n\t\tpath = require(\&quot;path\&quot;),\n\t\twiki = this.commander.wiki,\n\t\tfilter = this.params[0],\n\t\ttemplate = this.params[1],\n\t\tpathname = path.resolve(this.commander.outputPath,this.params[2]),\n\t\ttype = this.params[3] || \&quot;text/html\&quot;,\n\t\textension = this.params[4] || \&quot;.html\&quot;,\n\t\ttiddlers = wiki.filterTiddlers(filter);\n\t$tw.utils.deleteDirectory(pathname);\n\t$tw.utils.createDirectory(pathname);\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar parser = wiki.parseTiddler(template),\n\t\t\twidgetNode = wiki.makeWidget(parser,{variables: {currentTiddler: title}});\n\t\tvar container = $tw.fakeDocument.createElement(\&quot;div\&quot;);\n\t\twidgetNode.render(container,null);\n\t\tvar text = type === \&quot;text/html\&quot; ? container.innerHTML : container.textContent;\n\t\tfs.writeFileSync(path.resolve(pathname,encodeURIComponent(title) + extension),text,\&quot;utf8\&quot;);\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/rendertiddlers.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/savetiddler.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/savetiddler.js\ntype: application/javascript\nmodule-type: command\n\nCommand to save the content of a tiddler to a file\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;savetiddler\&quot;,\n\tsynchronous: false\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 2) {\n\t\treturn \&quot;Missing filename\&quot;;\n\t}\n\tvar self = this,\n\t\tfs = require(\&quot;fs\&quot;),\n\t\tpath = require(\&quot;path\&quot;),\n\t\ttitle = this.params[0],\n\t\tfilename = path.resolve(this.commander.outputPath,this.params[1]),\n\t\ttiddler = this.commander.wiki.getTiddler(title),\n\t\ttype = tiddler.fields.type || \&quot;text/vnd.tiddlywiki\&quot;,\n\t\tcontentTypeInfo = $tw.config.contentTypeInfo[type] || {encoding: \&quot;utf8\&quot;};\n\t$tw.utils.createFileDirectories(filename);\n\tfs.writeFile(filename,tiddler.fields.text,contentTypeInfo.encoding,function(err) {\n\t\tself.callback(err);\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/savetiddler.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/savetiddlers.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/savetiddlers.js\ntype: application/javascript\nmodule-type: command\n\nCommand to save several tiddlers to a folder of files\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;);\n\nexports.info = {\n\tname: \&quot;savetiddlers\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 1) {\n\t\treturn \&quot;Missing filename\&quot;;\n\t}\n\tvar self = this,\n\t\tfs = require(\&quot;fs\&quot;),\n\t\tpath = require(\&quot;path\&quot;),\n\t\twiki = this.commander.wiki,\n\t\tfilter = this.params[0],\n\t\tpathname = path.resolve(this.commander.outputPath,this.params[1]),\n\t\ttiddlers = wiki.filterTiddlers(filter);\n\t$tw.utils.deleteDirectory(pathname);\n\t$tw.utils.createDirectory(pathname);\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar tiddler = self.commander.wiki.getTiddler(title),\n\t\t\ttype = tiddler.fields.type || \&quot;text/vnd.tiddlywiki\&quot;,\n\t\t\tcontentTypeInfo = $tw.config.contentTypeInfo[type] || {encoding: \&quot;utf8\&quot;},\n\t\t\tfilename = path.resolve(pathname,encodeURIComponent(title));\n\t\tfs.writeFileSync(filename,tiddler.fields.text,contentTypeInfo.encoding);\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/savetiddlers.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/server.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/server.js\ntype: application/javascript\nmodule-type: command\n\nServe tiddlers over http\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nif(!$tw.browser) {\n\tvar util = require(\&quot;util\&quot;),\n\t\tfs = require(\&quot;fs\&quot;),\n\t\turl = require(\&quot;url\&quot;),\n\t\tpath = require(\&quot;path\&quot;),\n\t\thttp = require(\&quot;http\&quot;);\n}\n\nexports.info = {\n\tname: \&quot;server\&quot;,\n\tsynchronous: true\n};\n\n/*\nA simple HTTP server with regexp-based routes\n*/\nfunction SimpleServer(options) {\n\tthis.routes = options.routes || [];\n\tthis.wiki = options.wiki;\n\tthis.variables = options.variables || {};\n}\n\nSimpleServer.prototype.set = function(obj) {\n\tvar self = this;\n\t$tw.utils.each(obj,function(value,name) {\n\t\tself.variables[name] = value;\n\t});\n};\n\nSimpleServer.prototype.get = function(name) {\n\treturn this.variables[name];\n};\n\nSimpleServer.prototype.addRoute = function(route) {\n\tthis.routes.push(route);\n};\n\nSimpleServer.prototype.findMatchingRoute = function(request,state) {\n\tvar pathprefix = this.get(\&quot;pathprefix\&quot;) || \&quot;\&quot;;\n\tfor(var t=0; t&lt;this.routes.length; t++) {\n\t\tvar potentialRoute = this.routes[t],\n\t\t\tpathRegExp = potentialRoute.path,\n\t\t\tpathname = state.urlInfo.pathname,\n\t\t\tmatch;\n\t\tif(pathprefix) {\n\t\t\tif(pathname.substr(0,pathprefix.length) === pathprefix) {\n\t\t\t\tpathname = pathname.substr(pathprefix.length);\n\t\t\t\tmatch = potentialRoute.path.exec(pathname);\n\t\t\t} else {\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t} else {\n\t\t\tmatch = potentialRoute.path.exec(pathname);\n\t\t}\n\t\tif(match &amp;&amp; request.method === potentialRoute.method) {\n\t\t\tstate.params = [];\n\t\t\tfor(var p=1; p&lt;match.length; p++) {\n\t\t\t\tstate.params.push(match[p]);\n\t\t\t}\n\t\t\treturn potentialRoute;\n\t\t}\n\t}\n\treturn null;\n};\n\nSimpleServer.prototype.checkCredentials = function(request,incomingUsername,incomingPassword) {\n\tvar header = request.headers.authorization || \&quot;\&quot;,\n\t\ttoken = header.split(/\\s+/).pop() || \&quot;\&quot;,\n\t\tauth = $tw.utils.base64Decode(token),\n\t\tparts = auth.split(/:/),\n\t\tusername = parts[0],\n\t\tpassword = parts[1];\n\tif(incomingUsername === username &amp;&amp; incomingPassword === password) {\n\t\treturn \&quot;ALLOWED\&quot;;\n\t} else {\n\t\treturn \&quot;DENIED\&quot;;\n\t}\n};\n\nSimpleServer.prototype.listen = function(port,host) {\n\tvar self = this;\n\thttp.createServer(function(request,response) {\n\t\t// Compose the state object\n\t\tvar state = {};\n\t\tstate.wiki = self.wiki;\n\t\tstate.server = self;\n\t\tstate.urlInfo = url.parse(request.url);\n\t\t// Find the route that matches this path\n\t\tvar route = self.findMatchingRoute(request,state);\n\t\t// Check for the username and password if we've got one\n\t\tvar username = self.get(\&quot;username\&quot;),\n\t\t\tpassword = self.get(\&quot;password\&quot;);\n\t\tif(username &amp;&amp; password) {\n\t\t\t// Check they match\n\t\t\tif(self.checkCredentials(request,username,password) !== \&quot;ALLOWED\&quot;) {\n\t\t\t\tvar servername = state.wiki.getTiddlerText(\&quot;$:/SiteTitle\&quot;) || \&quot;TiddlyWiki5\&quot;;\n\t\t\t\tresponse.writeHead(401,\&quot;Authentication required\&quot;,{\n\t\t\t\t\t\&quot;WWW-Authenticate\&quot;: 'Basic realm=\&quot;Please provide your username and password to login to ' + servername + '\&quot;'\n\t\t\t\t});\n\t\t\t\tresponse.end();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t// Return a 404 if we didn't find a route\n\t\tif(!route) {\n\t\t\tresponse.writeHead(404);\n\t\t\tresponse.end();\n\t\t\treturn;\n\t\t}\n\t\t// Set the encoding for the incoming request\n\t\t// TODO: Presumably this would need tweaking if we supported PUTting binary tiddlers\n\t\trequest.setEncoding(\&quot;utf8\&quot;);\n\t\t// Dispatch the appropriate method\n\t\tswitch(request.method) {\n\t\t\tcase \&quot;GET\&quot;: // Intentional fall-through\n\t\t\tcase \&quot;DELETE\&quot;:\n\t\t\t\troute.handler(request,response,state);\n\t\t\t\tbreak;\n\t\t\tcase \&quot;PUT\&quot;:\n\t\t\t\tvar data = \&quot;\&quot;;\n\t\t\t\trequest.on(\&quot;data\&quot;,function(chunk) {\n\t\t\t\t\tdata += chunk.toString();\n\t\t\t\t});\n\t\t\t\trequest.on(\&quot;end\&quot;,function() {\n\t\t\t\t\tstate.data = data;\n\t\t\t\t\troute.handler(request,response,state);\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t}\n\t}).listen(port,host);\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n\t// Set up server\n\tthis.server = new SimpleServer({\n\t\twiki: this.commander.wiki\n\t});\n\t// Add route handlers\n\tthis.server.addRoute({\n\t\tmethod: \&quot;PUT\&quot;,\n\t\tpath: /^\\/recipes\\/default\\/tiddlers\\/(.+)$/,\n\t\thandler: function(request,response,state) {\n\t\t\tvar title = decodeURIComponent(state.params[0]),\n\t\t\t\tfields = JSON.parse(state.data);\n\t\t\t// Pull up any subfields in the `fields` object\n\t\t\tif(fields.fields) {\n\t\t\t\t$tw.utils.each(fields.fields,function(field,name) {\n\t\t\t\t\tfields[name] = field;\n\t\t\t\t});\n\t\t\t\tdelete fields.fields;\n\t\t\t}\n\t\t\t// Remove any revision field\n\t\t\tif(fields.revision) {\n\t\t\t\tdelete fields.revision;\n\t\t\t}\n\t\t\tstate.wiki.addTiddler(new $tw.Tiddler(state.wiki.getCreationFields(),fields,{title: title}));\n\t\t\tvar changeCount = state.wiki.getChangeCount(title).toString();\n\t\t\tresponse.writeHead(204, \&quot;OK\&quot;,{\n\t\t\t\tEtag: \&quot;\\\&quot;default/\&quot; + encodeURIComponent(title) + \&quot;/\&quot; + changeCount + \&quot;:\\\&quot;\&quot;,\n\t\t\t\t\&quot;Content-Type\&quot;: \&quot;text/plain\&quot;\n\t\t\t});\n\t\t\tresponse.end();\n\t\t}\n\t});\n\tthis.server.addRoute({\n\t\tmethod: \&quot;DELETE\&quot;,\n\t\tpath: /^\\/bags\\/default\\/tiddlers\\/(.+)$/,\n\t\thandler: function(request,response,state) {\n\t\t\tvar title = decodeURIComponent(state.params[0]);\n\t\t\tstate.wiki.deleteTiddler(title);\n\t\t\tresponse.writeHead(204, \&quot;OK\&quot;, {\n\t\t\t\t\&quot;Content-Type\&quot;: \&quot;text/plain\&quot;\n\t\t\t});\n\t\t\tresponse.end();\n\t\t}\n\t});\n\tthis.server.addRoute({\n\t\tmethod: \&quot;GET\&quot;,\n\t\tpath: /^\\/$/,\n\t\thandler: function(request,response,state) {\n\t\t\tresponse.writeHead(200, {\&quot;Content-Type\&quot;: state.server.get(\&quot;serveType\&quot;)});\n\t\t\tvar text = state.wiki.renderTiddler(state.server.get(\&quot;renderType\&quot;),state.server.get(\&quot;rootTiddler\&quot;));\n\t\t\tresponse.end(text,\&quot;utf8\&quot;);\n\t\t}\n\t});\n\tthis.server.addRoute({\n\t\tmethod: \&quot;GET\&quot;,\n\t\tpath: /^\\/status$/,\n\t\thandler: function(request,response,state) {\n\t\t\tresponse.writeHead(200, {\&quot;Content-Type\&quot;: \&quot;application/json\&quot;});\n\t\t\tvar text = JSON.stringify({\n\t\t\t\tusername: state.server.get(\&quot;username\&quot;),\n\t\t\t\tspace: {\n\t\t\t\t\trecipe: \&quot;default\&quot;\n\t\t\t\t},\n\t\t\t\ttiddlywiki_version: $tw.version\n\t\t\t});\n\t\t\tresponse.end(text,\&quot;utf8\&quot;);\n\t\t}\n\t});\n\tthis.server.addRoute({\n\t\tmethod: \&quot;GET\&quot;,\n\t\tpath: /^\\/favicon.ico$/,\n\t\thandler: function(request,response,state) {\n\t\t\tresponse.writeHead(200, {\&quot;Content-Type\&quot;: \&quot;image/x-icon\&quot;});\n\t\t\tvar buffer = state.wiki.getTiddlerText(\&quot;$:/favicon.ico\&quot;,\&quot;\&quot;);\n\t\t\tresponse.end(buffer,\&quot;base64\&quot;);\n\t\t}\n\t});\n\tthis.server.addRoute({\n\t\tmethod: \&quot;GET\&quot;,\n\t\tpath: /^\\/recipes\\/default\\/tiddlers.json$/,\n\t\thandler: function(request,response,state) {\n\t\t\tresponse.writeHead(200, {\&quot;Content-Type\&quot;: \&quot;application/json\&quot;});\n\t\t\tvar tiddlers = [];\n\t\t\tstate.wiki.forEachTiddler({sortField: \&quot;title\&quot;},function(title,tiddler) {\n\t\t\t\tvar tiddlerFields = {};\n\t\t\t\t$tw.utils.each(tiddler.fields,function(field,name) {\n\t\t\t\t\tif(name !== \&quot;text\&quot;) {\n\t\t\t\t\t\ttiddlerFields[name] = tiddler.getFieldString(name);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\ttiddlerFields.revision = state.wiki.getChangeCount(title);\n\t\t\t\ttiddlerFields.type = tiddlerFields.type || \&quot;text/vnd.tiddlywiki\&quot;;\n\t\t\t\ttiddlers.push(tiddlerFields);\n\t\t\t});\n\t\t\tvar text = JSON.stringify(tiddlers);\n\t\t\tresponse.end(text,\&quot;utf8\&quot;);\n\t\t}\n\t});\n\tthis.server.addRoute({\n\t\tmethod: \&quot;GET\&quot;,\n\t\tpath: /^\\/recipes\\/default\\/tiddlers\\/(.+)$/,\n\t\thandler: function(request,response,state) {\n\t\t\tvar title = decodeURIComponent(state.params[0]),\n\t\t\t\ttiddler = state.wiki.getTiddler(title),\n\t\t\t\ttiddlerFields = {},\n\t\t\t\tknownFields = [\n\t\t\t\t\t\&quot;bag\&quot;, \&quot;created\&quot;, \&quot;creator\&quot;, \&quot;modified\&quot;, \&quot;modifier\&quot;, \&quot;permissions\&quot;, \&quot;recipe\&quot;, \&quot;revision\&quot;, \&quot;tags\&quot;, \&quot;text\&quot;, \&quot;title\&quot;, \&quot;type\&quot;, \&quot;uri\&quot;\n\t\t\t\t];\n\t\t\tif(tiddler) {\n\t\t\t\t$tw.utils.each(tiddler.fields,function(field,name) {\n\t\t\t\t\tvar value = tiddler.getFieldString(name);\n\t\t\t\t\tif(knownFields.indexOf(name) !== -1) {\n\t\t\t\t\t\ttiddlerFields[name] = value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttiddlerFields.fields = tiddlerFields.fields || {};\n\t\t\t\t\t\ttiddlerFields.fields[name] = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\ttiddlerFields.revision = state.wiki.getChangeCount(title);\n\t\t\t\ttiddlerFields.type = tiddlerFields.type || \&quot;text/vnd.tiddlywiki\&quot;;\n\t\t\t\tresponse.writeHead(200, {\&quot;Content-Type\&quot;: \&quot;application/json\&quot;});\n\t\t\t\tresponse.end(JSON.stringify(tiddlerFields),\&quot;utf8\&quot;);\n\t\t\t} else {\n\t\t\t\tresponse.writeHead(404);\n\t\t\t\tresponse.end();\n\t\t\t}\n\t\t}\n\t});\n};\n\nCommand.prototype.execute = function() {\n\tif(!$tw.boot.wikiTiddlersPath) {\n\t\t$tw.utils.warning(\&quot;Warning: Wiki folder '\&quot; + $tw.boot.wikiPath + \&quot;' does not exist or is missing a tiddlywiki.info file\&quot;);\n\t}\n\tvar port = this.params[0] || \&quot;8080\&quot;,\n\t\trootTiddler = this.params[1] || \&quot;$:/core/save/all\&quot;,\n\t\trenderType = this.params[2] || \&quot;text/plain\&quot;,\n\t\tserveType = this.params[3] || \&quot;text/html\&quot;,\n\t\tusername = this.params[4],\n\t\tpassword = this.params[5],\n\t\thost = this.params[6] || \&quot;127.0.0.1\&quot;,\n\t\tpathprefix = this.params[7];\n\tthis.server.set({\n\t\trootTiddler: rootTiddler,\n\t\trenderType: renderType,\n\t\tserveType: serveType,\n\t\tusername: username,\n\t\tpassword: password,\n\t\tpathprefix: pathprefix\n\t});\n\tthis.server.listen(port,host);\n\tconsole.log(\&quot;Serving on \&quot; + host + \&quot;:\&quot; + port);\n\tconsole.log(\&quot;(press ctrl-C to exit)\&quot;);\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/server.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/setfield.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/setfield.js\ntype: application/javascript\nmodule-type: command\n\nCommand to modify selected tiddlers to set a field to the text of a template tiddler that has been wikified with the selected tiddler as the current tiddler.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;);\n\nexports.info = {\n\tname: \&quot;setfield\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 4) {\n\t\treturn \&quot;Missing parameters\&quot;;\n\t}\n\tvar self = this,\n\t\twiki = this.commander.wiki,\n\t\tfilter = this.params[0],\n\t\tfieldname = this.params[1] || \&quot;text\&quot;,\n\t\ttemplatetitle = this.params[2],\n\t\trendertype = this.params[3] || \&quot;text/plain\&quot;,\n\t\ttiddlers = wiki.filterTiddlers(filter);\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar parser = wiki.parseTiddler(templatetitle),\n\t\t\tnewFields = {},\n\t\t\ttiddler = wiki.getTiddler(title);\n\t\tif(parser) {\n\t\t\tvar widgetNode = wiki.makeWidget(parser,{variables: {currentTiddler: title}});\n\t\t\tvar container = $tw.fakeDocument.createElement(\&quot;div\&quot;);\n\t\t\twidgetNode.render(container,null);\n\t\t\tnewFields[fieldname] = rendertype === \&quot;text/html\&quot; ? container.innerHTML : container.textContent;\n\t\t} else {\n\t\t\tnewFields[fieldname] = undefined;\n\t\t}\n\t\twiki.addTiddler(new $tw.Tiddler(tiddler,newFields));\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/setfield.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/unpackplugin.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/unpackplugin.js\ntype: application/javascript\nmodule-type: command\n\nCommand to extract the shadow tiddlers from within a plugin\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;unpackplugin\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 1) {\n\t\treturn \&quot;Missing plugin name\&quot;;\n\t}\n\tvar self = this,\n\t\ttitle = this.params[0],\n\t\tpluginData = this.commander.wiki.getTiddlerData(title);\n\tif(!pluginData) {\n\t\treturn \&quot;Plugin '\&quot; + title + \&quot;' not found\&quot;;\n\t}\n\t$tw.utils.each(pluginData.tiddlers,function(tiddler) {\n\t\tself.commander.wiki.addTiddler(new $tw.Tiddler(tiddler));\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/unpackplugin.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/verbose.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/verbose.js\ntype: application/javascript\nmodule-type: command\n\nVerbose command\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;verbose\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tthis.commander.verbose = true;\n\t// Output the boot message log\n\tthis.commander.streams.output.write(\&quot;Boot log:\\n  \&quot; + $tw.boot.logMessages.join(\&quot;\\n  \&quot;) + \&quot;\\n\&quot;);\n\treturn null; // No error\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/verbose.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/version.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/version.js\ntype: application/javascript\nmodule-type: command\n\nVersion command\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;version\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tthis.commander.streams.output.write($tw.version + \&quot;\\n\&quot;);\n\treturn null; // No error\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/version.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/config.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/config.js\ntype: application/javascript\nmodule-type: config\n\nCore configuration constants\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.preferences = {};\n\nexports.preferences.notificationDuration = 3 * 1000;\nexports.preferences.jsonSpaces = 4;\n\nexports.textPrimitives = {\n\tupperLetter: \&quot;[A-Z\\u00c0-\\u00d6\\u00d8-\\u00de\\u0150\\u0170]\&quot;,\n\tlowerLetter: \&quot;[a-z\\u00df-\\u00f6\\u00f8-\\u00ff\\u0151\\u0171]\&quot;,\n\tanyLetter:   \&quot;[A-Za-z0-9\\u00c0-\\u00d6\\u00d8-\\u00de\\u00df-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]\&quot;,\n\tblockPrefixLetters:\t\&quot;[A-Za-z0-9-_\\u00c0-\\u00d6\\u00d8-\\u00de\\u00df-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]\&quot;\n};\n\nexports.textPrimitives.unWikiLink = \&quot;~\&quot;;\nexports.textPrimitives.wikiLink = exports.textPrimitives.upperLetter + \&quot;+\&quot; +\n\texports.textPrimitives.lowerLetter + \&quot;+\&quot; +\n\texports.textPrimitives.upperLetter +\n\texports.textPrimitives.anyLetter + \&quot;*\&quot;;\n\nexports.htmlEntities = {quot:34, amp:38, apos:39, lt:60, gt:62, nbsp:160, iexcl:161, cent:162, pound:163, curren:164, yen:165, brvbar:166, sect:167, uml:168, copy:169, ordf:170, laquo:171, not:172, shy:173, reg:174, macr:175, deg:176, plusmn:177, sup2:178, sup3:179, acute:180, micro:181, para:182, middot:183, cedil:184, sup1:185, ordm:186, raquo:187, frac14:188, frac12:189, frac34:190, iquest:191, Agrave:192, Aacute:193, Acirc:194, Atilde:195, Auml:196, Aring:197, AElig:198, Ccedil:199, Egrave:200, Eacute:201, Ecirc:202, Euml:203, Igrave:204, Iacute:205, Icirc:206, Iuml:207, ETH:208, Ntilde:209, Ograve:210, Oacute:211, Ocirc:212, Otilde:213, Ouml:214, times:215, Oslash:216, Ugrave:217, Uacute:218, Ucirc:219, Uuml:220, Yacute:221, THORN:222, szlig:223, agrave:224, aacute:225, acirc:226, atilde:227, auml:228, aring:229, aelig:230, ccedil:231, egrave:232, eacute:233, ecirc:234, euml:235, igrave:236, iacute:237, icirc:238, iuml:239, eth:240, ntilde:241, ograve:242, oacute:243, ocirc:244, otilde:245, ouml:246, divide:247, oslash:248, ugrave:249, uacute:250, ucirc:251, uuml:252, yacute:253, thorn:254, yuml:255, OElig:338, oelig:339, Scaron:352, scaron:353, Yuml:376, fnof:402, circ:710, tilde:732, Alpha:913, Beta:914, Gamma:915, Delta:916, Epsilon:917, Zeta:918, Eta:919, Theta:920, Iota:921, Kappa:922, Lambda:923, Mu:924, Nu:925, Xi:926, Omicron:927, Pi:928, Rho:929, Sigma:931, Tau:932, Upsilon:933, Phi:934, Chi:935, Psi:936, Omega:937, alpha:945, beta:946, gamma:947, delta:948, epsilon:949, zeta:950, eta:951, theta:952, iota:953, kappa:954, lambda:955, mu:956, nu:957, xi:958, omicron:959, pi:960, rho:961, sigmaf:962, sigma:963, tau:964, upsilon:965, phi:966, chi:967, psi:968, omega:969, thetasym:977, upsih:978, piv:982, ensp:8194, emsp:8195, thinsp:8201, zwnj:8204, zwj:8205, lrm:8206, rlm:8207, ndash:8211, mdash:8212, lsquo:8216, rsquo:8217, sbquo:8218, ldquo:8220, rdquo:8221, bdquo:8222, dagger:8224, Dagger:8225, bull:8226, hellip:8230, permil:8240, prime:8242, Prime:8243, lsaquo:8249, rsaquo:8250, oline:8254, frasl:8260, euro:8364, image:8465, weierp:8472, real:8476, trade:8482, alefsym:8501, larr:8592, uarr:8593, rarr:8594, darr:8595, harr:8596, crarr:8629, lArr:8656, uArr:8657, rArr:8658, dArr:8659, hArr:8660, forall:8704, part:8706, exist:8707, empty:8709, nabla:8711, isin:8712, notin:8713, ni:8715, prod:8719, sum:8721, minus:8722, lowast:8727, radic:8730, prop:8733, infin:8734, ang:8736, and:8743, or:8744, cap:8745, cup:8746, int:8747, there4:8756, sim:8764, cong:8773, asymp:8776, ne:8800, equiv:8801, le:8804, ge:8805, sub:8834, sup:8835, nsub:8836, sube:8838, supe:8839, oplus:8853, otimes:8855, perp:8869, sdot:8901, lceil:8968, rceil:8969, lfloor:8970, rfloor:8971, lang:9001, rang:9002, loz:9674, spades:9824, clubs:9827, hearts:9829, diams:9830 };\n\nexports.htmlVoidElements = \&quot;area,base,br,col,command,embed,hr,img,input,keygen,link,meta,param,source,track,wbr\&quot;.split(\&quot;,\&quot;);\n\nexports.htmlBlockElements = \&quot;address,article,aside,audio,blockquote,canvas,dd,div,dl,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,hr,li,noscript,ol,output,p,pre,section,table,tfoot,ul,video\&quot;.split(\&quot;,\&quot;);\n\nexports.htmlUnsafeElements = \&quot;script\&quot;.split(\&quot;,\&quot;);\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/config.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;config&quot;
        },
        &quot;$:/core/modules/deserializers.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/deserializers.js\ntype: application/javascript\nmodule-type: tiddlerdeserializer\n\nFunctions to deserialise tiddlers from a block of text\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nUtility function to parse an old-style tiddler DIV in a *.tid file. It looks like this:\n\n&lt;div title=\&quot;Title\&quot; creator=\&quot;JoeBloggs\&quot; modifier=\&quot;JoeBloggs\&quot; created=\&quot;201102111106\&quot; modified=\&quot;201102111310\&quot; tags=\&quot;myTag [[my long tag]]\&quot;&gt;\n&lt;pre&gt;The text of the tiddler (without the expected HTML encoding).\n&lt;/pre&gt;\n&lt;/div&gt;\n\nNote that the field attributes are HTML encoded, but that the body of the &lt;PRE&gt; tag is not encoded.\n\nWhen these tiddler DIVs are encountered within a TiddlyWiki HTML file then the body is encoded in the usual way.\n*/\nvar parseTiddlerDiv = function(text /* [,fields] */) {\n\t// Slot together the default results\n\tvar result = {};\n\tif(arguments.length &gt; 1) {\n\t\tfor(var f=1; f&lt;arguments.length; f++) {\n\t\t\tvar fields = arguments[f];\n\t\t\tfor(var t in fields) {\n\t\t\t\tresult[t] = fields[t];\t\t\n\t\t\t}\n\t\t}\n\t}\n\t// Parse the DIV body\n\tvar startRegExp = /^\\s*&lt;div\\s+([^&gt;]*)&gt;(\\s*&lt;pre&gt;)?/gi,\n\t\tendRegExp,\n\t\tmatch = startRegExp.exec(text);\n\tif(match) {\n\t\t// Old-style DIVs don't have the &lt;pre&gt; tag\n\t\tif(match[2]) {\n\t\t\tendRegExp = /&lt;\\/pre&gt;\\s*&lt;\\/div&gt;\\s*$/gi;\n\t\t} else {\n\t\t\tendRegExp = /&lt;\\/div&gt;\\s*$/gi;\n\t\t}\n\t\tvar endMatch = endRegExp.exec(text);\n\t\tif(endMatch) {\n\t\t\t// Extract the text\n\t\t\tresult.text = text.substring(match.index + match[0].length,endMatch.index);\n\t\t\t// Process the attributes\n\t\t\tvar attrRegExp = /\\s*([^=\\s]+)\\s*=\\s*(?:\&quot;([^\&quot;]*)\&quot;|'([^']*)')/gi,\n\t\t\t\tattrMatch;\n\t\t\tdo {\n\t\t\t\tattrMatch = attrRegExp.exec(match[1]);\n\t\t\t\tif(attrMatch) {\n\t\t\t\t\tvar name = attrMatch[1];\n\t\t\t\t\tvar value = attrMatch[2] !== undefined ? attrMatch[2] : attrMatch[3];\n\t\t\t\t\tresult[name] = value;\n\t\t\t\t}\n\t\t\t} while(attrMatch);\n\t\t\treturn result;\n\t\t}\n\t}\n\treturn undefined;\n};\n\nexports[\&quot;application/x-tiddler-html-div\&quot;] = function(text,fields) {\n\treturn [parseTiddlerDiv(text,fields)];\n};\n\nexports[\&quot;application/json\&quot;] = function(text,fields) {\n\tvar incoming = JSON.parse(text),\n\t\tresults = [];\n\tif($tw.utils.isArray(incoming)) {\n\t\tfor(var t=0; t&lt;incoming.length; t++) {\n\t\t\tvar incomingFields = incoming[t],\n\t\t\t\tfields = {};\n\t\t\tfor(var f in incomingFields) {\n\t\t\t\tif(typeof incomingFields[f] === \&quot;string\&quot;) {\n\t\t\t\t\tfields[f] = incomingFields[f];\n\t\t\t\t}\n\t\t\t}\n\t\t\tresults.push(fields);\n\t\t}\n\t}\n\treturn results;\n};\n\n/*\nParse an HTML file into tiddlers. There are three possibilities:\n# A TiddlyWiki classic HTML file containing `text/x-tiddlywiki` tiddlers\n# A TiddlyWiki5 HTML file containing `text/vnd.tiddlywiki` tiddlers\n# An ordinary HTML file\n*/\nexports[\&quot;text/html\&quot;] = function(text,fields) {\n\t// Check if we've got a store area\n\tvar storeAreaMarkerRegExp = /&lt;div id=[\&quot;']?storeArea['\&quot;]?( style=[\&quot;']?display:none;[\&quot;']?)?&gt;/gi,\n\t\tmatch = storeAreaMarkerRegExp.exec(text);\n\tif(match) {\n\t\t// If so, it's either a classic TiddlyWiki file or an unencrypted TW5 file\n\t\t// First read the normal tiddlers\n\t\tvar results = deserializeTiddlyWikiFile(text,storeAreaMarkerRegExp.lastIndex,!!match[1],fields);\n\t\t// Then any system tiddlers\n\t\tvar systemAreaMarkerRegExp = /&lt;div id=[\&quot;']?systemArea['\&quot;]?( style=[\&quot;']?display:none;[\&quot;']?)?&gt;/gi,\n\t\t\tsysMatch = systemAreaMarkerRegExp.exec(text);\n\t\tif(sysMatch) {\n\t\t\tresults.push.apply(results,deserializeTiddlyWikiFile(text,systemAreaMarkerRegExp.lastIndex,!!sysMatch[1],fields));\n\t\t}\n\t\treturn results;\n\t} else {\n\t\t// Check whether we've got an encrypted file\n\t\tvar encryptedStoreArea = $tw.utils.extractEncryptedStoreArea(text);\n\t\tif(encryptedStoreArea) {\n\t\t\t// If so, attempt to decrypt it using the current password\n\t\t\treturn $tw.utils.decryptStoreArea(encryptedStoreArea);\n\t\t} else {\n\t\t\t// It's not a TiddlyWiki so we'll return the entire HTML file as a tiddler\n\t\t\treturn deserializeHtmlFile(text,fields);\n\t\t}\n\t}\n};\n\nfunction deserializeHtmlFile(text,fields) {\n\tvar result = {};\n\t$tw.utils.each(fields,function(value,name) {\n\t\tresult[name] = value;\n\t});\n\tresult.text = text;\n\tresult.type = \&quot;text/html\&quot;;\n\treturn [result];\n}\n\nfunction deserializeTiddlyWikiFile(text,storeAreaEnd,isTiddlyWiki5,fields) {\n\tvar results = [],\n\t\tendOfDivRegExp = /(&lt;\\/div&gt;\\s*)/gi,\n\t\tstartPos = storeAreaEnd,\n\t\tdefaultType = isTiddlyWiki5 ? undefined : \&quot;text/x-tiddlywiki\&quot;;\n\tendOfDivRegExp.lastIndex = startPos;\n\tvar match = endOfDivRegExp.exec(text);\n\twhile(match) {\n\t\tvar endPos = endOfDivRegExp.lastIndex,\n\t\t\ttiddlerFields = parseTiddlerDiv(text.substring(startPos,endPos),fields,{type: defaultType});\n\t\tif(!tiddlerFields) {\n\t\t\tbreak;\n\t\t}\n\t\t$tw.utils.each(tiddlerFields,function(value,name) {\n\t\t\tif(typeof value === \&quot;string\&quot;) {\n\t\t\t\ttiddlerFields[name] = $tw.utils.htmlDecode(value);\n\t\t\t}\n\t\t});\n\t\tif(tiddlerFields.text !== null) {\n\t\t\tresults.push(tiddlerFields);\n\t\t}\n\t\tstartPos = endPos;\n\t\tmatch = endOfDivRegExp.exec(text);\n\t}\n\treturn results;\n}\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/deserializers.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;tiddlerdeserializer&quot;
        },
        &quot;$:/core/modules/filters/addprefix.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/addprefix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for adding a prefix to each title in the list. This is\nespecially useful in contexts where only a filter expression is allowed\nand macro substitution isn't available.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.addprefix = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(operator.operand + title);\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/addprefix.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/addsuffix.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/addsuffix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for adding a suffix to each title in the list. This is\nespecially useful in contexts where only a filter expression is allowed\nand macro substitution isn't available.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.addsuffix = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title + operator.operand);\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/addsuffix.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/after.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/after.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddler from the current list that is after the tiddler named in the operand.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.after = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\tvar index = results.indexOf(operator.operand);\n\tif(index === -1 || index &gt; (results.length - 2)) {\n\t\treturn [];\n\t} else {\n\t\treturn [results[index + 1]];\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/after.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/all/current.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/all/current.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[current]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.current = function(source,prefix,options) {\n\tvar currTiddlerTitle = options.widget &amp;&amp; options.widget.getVariable(\&quot;currentTiddler\&quot;);\n\tif(currTiddlerTitle) {\n\t\treturn [currTiddlerTitle];\n\t} else {\n\t\treturn [];\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/all/current.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;allfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/all/missing.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/all/missing.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[missing]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.missing = function(source,prefix,options) {\n\treturn options.wiki.getMissingTitles();\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/all/missing.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;allfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/all/orphans.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/all/orphans.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[orphans]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.orphans = function(source,prefix,options) {\n\treturn options.wiki.getOrphanTitles();\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/all/orphans.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;allfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/all/shadows.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/all/shadows.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[shadows]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.shadows = function(source,prefix,options) {\n\treturn options.wiki.allShadowTitles();\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/all/shadows.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;allfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/all/tiddlers.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/all/tiddlers.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[tiddlers]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.tiddlers = function(source,prefix,options) {\n\treturn options.wiki.allTitles();\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/all/tiddlers.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;allfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/all.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/all.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for selecting tiddlers\n\n[all[shadows+tiddlers]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar allFilterOperators;\n\nfunction getAllFilterOperators() {\n\tif(!allFilterOperators) {\n\t\tallFilterOperators = {};\n\t\t$tw.modules.applyMethods(\&quot;allfilteroperator\&quot;,allFilterOperators);\n\t}\n\treturn allFilterOperators;\n}\n\n/*\nExport our filter function\n*/\nexports.all = function(source,operator,options) {\n\t// Get our suboperators\n\tvar allFilterOperators = getAllFilterOperators();\n\t// Cycle through the suboperators accumulating their results\n\tvar results = [],\n\t\tsubops = operator.operand.split(\&quot;+\&quot;);\n\t// Check for common optimisations\n\tif(subops.length === 1 &amp;&amp; subops[0] === \&quot;\&quot;) {\n\t\treturn source;\n\t} else if(subops.length === 1 &amp;&amp; subops[0] === \&quot;tiddlers\&quot;) {\n\t\treturn options.wiki.each;\n\t} else if(subops.length === 1 &amp;&amp; subops[0] === \&quot;shadows\&quot;) {\n\t\treturn options.wiki.eachShadow;\n\t} else if(subops.length === 2 &amp;&amp; subops[0] === \&quot;tiddlers\&quot; &amp;&amp; subops[1] === \&quot;shadows\&quot;) {\n\t\treturn options.wiki.eachTiddlerPlusShadows;\n\t} else if(subops.length === 2 &amp;&amp; subops[0] === \&quot;shadows\&quot; &amp;&amp; subops[1] === \&quot;tiddlers\&quot;) {\n\t\treturn options.wiki.eachShadowPlusTiddlers;\n\t}\n\t// Do it the hard way\n\tfor(var t=0; t&lt;subops.length; t++) {\n\t\tvar subop = allFilterOperators[subops[t]];\n\t\tif(subop) {\n\t\t\t$tw.utils.pushTop(results,subop(source,operator.prefix,options));\n\t\t}\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/all.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/backlinks.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/backlinks.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning all the backlinks from a tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.backlinks = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.pushTop(results,options.wiki.getTiddlerBacklinks(title));\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/backlinks.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/before.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/before.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddler from the current list that is before the tiddler named in the operand.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.before = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\tvar index = results.indexOf(operator.operand);\n\tif(index &lt;= 0) {\n\t\treturn [];\n\t} else {\n\t\treturn [results[index - 1]];\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/before.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/commands.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/commands.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the commands available in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.commands = function(source,operator,options) {\n\tvar results = [];\n\t$tw.utils.each($tw.commands,function(commandInfo,name) {\n\t\tresults.push(name);\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/commands.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/each.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/each.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator that selects one tiddler for each unique value of the specified field\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.each = function(source,operator,options) {\n\tvar results = [],\n\t\tvalues = {};\n\tsource(function(tiddler,title) {\n\t\tif(tiddler) {\n\t\t\tvar value;\n\t\t\tif((operator.operand === \&quot;\&quot;) || (operator.operand === \&quot;title\&quot;)) {\n\t\t\t\tvalue = title;\n\t\t\t} else {\n\t\t\t\tvalue = tiddler.getFieldString(operator.operand);\n\t\t\t}\n\t\t\tif(!$tw.utils.hop(values,value)) {\n\t\t\t\tvalues[value] = true;\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/each.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/eachday.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/eachday.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator that selects one tiddler for each unique day covered by the specified date field\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.eachday = function(source,operator,options) {\n\tvar results = [],\n\t\tvalues = [];\n\t// Function to convert a date/time to a date integer\n\tvar toDate = function(value) {\n\t\tvalue = (new Date(value)).setHours(0,0,0,0);\n\t\treturn value+0;\n\t};\n\tsource(function(tiddler,title) {\n\t\tif(tiddler &amp;&amp; tiddler.fields[operator.operand]) {\n\t\t\tvar value = toDate(tiddler.fields[operator.operand]);\n\t\t\tif(values.indexOf(value) === -1) {\n\t\t\t\tvalues.push(value);\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/eachday.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/field.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/field.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for comparing fields for equality\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.field = function(source,operator,options) {\n\tvar results = [],\n\t\tfieldname = (operator.suffix || operator.operator || \&quot;title\&quot;).toLowerCase();\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tif(operator.regexp) {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler) {\n\t\t\t\t\tvar text = tiddler.getFieldString(fieldname);\n\t\t\t\t\tif(text !== null &amp;&amp; !operator.regexp.exec(text)) {\n\t\t\t\t\t\tresults.push(title);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler) {\n\t\t\t\t\tvar text = tiddler.getFieldString(fieldname);\n\t\t\t\t\tif(text !== null &amp;&amp; text !== operator.operand) {\n\t\t\t\t\t\tresults.push(title);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t} else {\n\t\tif(operator.regexp) {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler) {\n\t\t\t\t\tvar text = tiddler.getFieldString(fieldname);\n\t\t\t\t\tif(text !== null &amp;&amp; !!operator.regexp.exec(text)) {\n\t\t\t\t\t\tresults.push(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler) {\n\t\t\t\t\tvar text = tiddler.getFieldString(fieldname);\n\t\t\t\t\tif(text !== null &amp;&amp; text === operator.operand) {\n\t\t\t\t\t\tresults.push(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/field.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/fields.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/fields.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the fields on the selected tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.fields = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tif(tiddler) {\n\t\t\tfor(var fieldName in tiddler.fields) {\n\t\t\t\t$tw.utils.pushTop(results,fieldName);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/fields.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/get.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/get.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for replacing tiddler titles by the value of the field specified in the operand.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.get = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tif(tiddler) {\n\t\t\tvar value = tiddler.getFieldString(operator.operand);\n\t\t\tif(value) {\n\t\t\t\tresults.push(value);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/get.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/has.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/has.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking if a tiddler has the specified field\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.has = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!tiddler || (tiddler &amp;&amp; (!$tw.utils.hop(tiddler.fields,operator.operand) || tiddler.fields[operator.operand] === \&quot;\&quot;))) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; $tw.utils.hop(tiddler.fields,operator.operand) &amp;&amp; tiddler.fields[operator.operand] !== \&quot;\&quot;) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/has.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/indexes.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/indexes.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the indexes of a data tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.indexes = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tvar data = options.wiki.getTiddlerData(title);\n\t\tif(data) {\n\t\t\t$tw.utils.pushTop(results,Object.keys(data));\n\t\t}\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/indexes.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/is/current.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/is/current.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[current]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.current = function(source,prefix,options) {\n\tvar results = [],\n\t\tcurrTiddlerTitle = options.widget &amp;&amp; options.widget.getVariable(\&quot;currentTiddler\&quot;);\n\tif(prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title !== currTiddlerTitle) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title === currTiddlerTitle) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/is/current.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;isfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/is/image.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/is/image.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[image]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.image = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.isImageTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.isImageTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/is/image.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;isfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/is/missing.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/is/missing.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[missing]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.missing = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.tiddlerExists(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.tiddlerExists(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/is/missing.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;isfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/is/orphan.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/is/orphan.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[orphan]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.orphan = function(source,prefix,options) {\n\tvar results = [],\n\t\torphanTitles = options.wiki.getOrphanTitles();\n\tif(prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(orphanTitles.indexOf(title) === -1) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(orphanTitles.indexOf(title) !== -1) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/is/orphan.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;isfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/is/shadow.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/is/shadow.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[shadow]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.shadow = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.isShadowTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.isShadowTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/is/shadow.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;isfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/is/system.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/is/system.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[system]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.system = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.isSystemTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.isSystemTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/is/system.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;isfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/is/tag.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/is/tag.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[tag]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.tag = function(source,prefix,options) {\n\tvar results = [],\n\t\ttagMap = options.wiki.getTagMap();\n\tif(prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!$tw.utils.hop(tagMap,title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif($tw.utils.hop(tagMap,title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/is/tag.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;isfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/is/tiddler.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/is/tiddler.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[tiddler]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.tiddler = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.tiddlerExists(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.tiddlerExists(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/is/tiddler.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;isfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/is.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/is.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking tiddler properties\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar isFilterOperators;\n\nfunction getIsFilterOperators() {\n\tif(!isFilterOperators) {\n\t\tisFilterOperators = {};\n\t\t$tw.modules.applyMethods(\&quot;isfilteroperator\&quot;,isFilterOperators);\n\t}\n\treturn isFilterOperators;\n}\n\n/*\nExport our filter function\n*/\nexports.is = function(source,operator,options) {\n\t// Dispatch to the correct isfilteroperator\n\tvar isFilterOperators = getIsFilterOperators();\n\tvar isFilterOperator = isFilterOperators[operator.operand];\n\tif(isFilterOperator) {\n\t\treturn isFilterOperator(source,operator.prefix,options);\n\t} else {\n\t\treturn [\&quot;Filter Error: Unknown operand for the 'is' filter operator\&quot;];\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/is.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/limit.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/limit.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for chopping the results to a specified maximum number of entries\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.limit = function(source,operator,options) {\n\tvar results = [];\n\t// Convert to an array\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\t// Slice the array if necessary\n\tvar limit = Math.min(results.length,parseInt(operator.operand,10));\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tresults = results.slice(-limit);\n\t} else {\n\t\tresults = results.slice(0,limit);\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/limit.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/links.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/links.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning all the links from a tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.links = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.pushTop(results,options.wiki.getTiddlerLinks(title));\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/links.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/list.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/list.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddlers whose title is listed in the operand tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.list = function(source,operator,options) {\n\tvar results = [],\n\t\ttr = $tw.utils.parseTextReference(operator.operand),\n\t\tcurrTiddlerTitle = options.widget &amp;&amp; options.widget.getVariable(\&quot;currentTiddler\&quot;),\n\t\tlist = options.wiki.getTiddlerList(tr.title || currTiddlerTitle,tr.field,tr.index);\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(list.indexOf(title) === -1) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tresults = list;\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/list.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/listed.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/listed.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning all tiddlers that have the selected tiddlers in a list\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.listed = function(source,operator,options) {\n\tvar field = operator.operand || \&quot;list\&quot;,\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.pushTop(results,options.wiki.findListingsOfTiddler(title,field));\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/listed.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/listops.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/listops.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operators for manipulating the current selection list\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nReverse list\n*/\nexports.reverse = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.unshift(title);\n\t});\n\treturn results;\n};\n\n/*\nFirst entry/entries in list\n*/\nexports.first = function(source,operator,options) {\n\tvar count = parseInt(operator.operand) || 1,\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(0,count);\n};\n\n/*\nLast entry/entries in list\n*/\nexports.last = function(source,operator,options) {\n\tvar count = parseInt(operator.operand) || 1,\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(-count);\n};\n\n/*\nAll but the first entry/entries of the list\n*/\nexports.rest = function(source,operator,options) {\n\tvar count = parseInt(operator.operand) || 1,\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(count);\n};\nexports.butfirst = exports.rest;\nexports.bf = exports.rest;\n\n/*\nAll but the last entry/entries of the list\n*/\nexports.butlast = function(source,operator,options) {\n\tvar count = parseInt(operator.operand) || 1,\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(0,-count);\n};\nexports.bl = exports.butlast;\n\n/*\nThe nth member of the list\n*/\nexports.nth = function(source,operator,options) {\n\tvar count = parseInt(operator.operand) || 1,\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(count - 1,count);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/listops.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/modules.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/modules.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the titles of the modules of a given type in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.modules = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.each($tw.modules.types[title],function(moduleInfo,moduleName) {\n\t\t\tresults.push(moduleName);\n\t\t});\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/modules.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/moduletypes.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/moduletypes.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the module types in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.moduletypes = function(source,operator,options) {\n\tvar results = [];\n\t$tw.utils.each($tw.modules.types,function(moduleInfo,type) {\n\t\tresults.push(type);\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/moduletypes.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/next.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/next.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddler whose title occurs next in the list supplied in the operand tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.next = function(source,operator,options) {\n\tvar results = [],\n\t\tlist = options.wiki.getTiddlerList(operator.operand);\n\tsource(function(tiddler,title) {\n\t\tvar match = list.indexOf(title);\n\t\t// increment match and then test if result is in range\n\t\tmatch++;\n\t\tif(match &gt; 0 &amp;&amp; match &lt; list.length) {\n\t\t\tresults.push(list[match]);\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/next.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/plugintiddlers.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/plugintiddlers.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the titles of the shadow tiddlers within a plugin\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.plugintiddlers = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tvar pluginInfo = options.wiki.getPluginInfo(title) || options.wiki.getTiddlerData(title,{tiddlers:[]});\n\t\tif(pluginInfo &amp;&amp; pluginInfo.tiddlers) {\n\t\t\t$tw.utils.each(pluginInfo.tiddlers,function(fields,title) {\n\t\t\t\tresults.push(title);\n\t\t\t});\n\t\t}\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/plugintiddlers.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/prefix.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/prefix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking if a title starts with a prefix\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.prefix = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title.substr(0,operator.operand.length) !== operator.operand) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title.substr(0,operator.operand.length) === operator.operand) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/prefix.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/previous.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/previous.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddler whose title occurs immediately prior in the list supplied in the operand tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.previous = function(source,operator,options) {\n\tvar results = [],\n\t\tlist = options.wiki.getTiddlerList(operator.operand);\n\tsource(function(tiddler,title) {\n\t\tvar match = list.indexOf(title);\n\t\t// increment match and then test if result is in range\n\t\tmatch--;\n\t\tif(match &gt;= 0) {\n\t\t\tresults.push(list[match]);\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/previous.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/regexp.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/regexp.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for regexp matching\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.regexp = function(source,operator,options) {\n\tvar results = [],\n\t\tfieldname = (operator.suffix || \&quot;title\&quot;).toLowerCase(),\n\t\tregexpString, regexp, flags = \&quot;\&quot;, match,\n\t\tgetFieldString = function(tiddler,title) {\n\t\t\tif(tiddler) {\n\t\t\t\treturn tiddler.getFieldString(fieldname);\n\t\t\t} else if(fieldname === \&quot;title\&quot;) {\n\t\t\t\treturn title;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t};\n\t// Process flags and construct regexp\n\tregexpString = operator.operand;\n\tmatch = /^\\(\\?([gim]+)\\)/.exec(regexpString);\n\tif(match) {\n\t\tflags = match[1];\n\t\tregexpString = regexpString.substr(match[0].length);\n\t} else {\n\t\tmatch = /\\(\\?([gim]+)\\)$/.exec(regexpString);\n\t\tif(match) {\n\t\t\tflags = match[1];\n\t\t\tregexpString = regexpString.substr(0,regexpString.length - match[0].length);\n\t\t}\n\t}\n\tregexp = new RegExp(regexpString,flags);\n\t// Process the incoming tiddlers\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tvar text = getFieldString(tiddler,title);\n\t\t\tif(text !== null) {\n\t\t\t\tif(!regexp.exec(text)) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tvar text = getFieldString(tiddler,title);\n\t\t\tif(text !== null) {\n\t\t\t\tif(!!regexp.exec(text)) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/regexp.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/removeprefix.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/removeprefix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for removing a prefix from each title in the list. Titles that do not start with the prefix are removed.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.removeprefix = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tif(title.substr(0,operator.operand.length) === operator.operand) {\n\t\t\tresults.push(title.substr(operator.operand.length));\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/removeprefix.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/removesuffix.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/removesuffix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for removing a suffix from each title in the list. Titles that do not end with the suffix are removed.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.removesuffix = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tif(title.substr(-operator.operand.length) === operator.operand) {\n\t\t\tresults.push(title.substr(0,title.length - operator.operand.length));\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/removesuffix.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/sameday.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/sameday.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator that selects tiddlers with a modified date field on the same day as the provided value.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.sameday = function(source,operator,options) {\n\tvar results = [],\n\t\tfieldName = operator.suffix || \&quot;modified\&quot;,\n\t\ttargetDate = (new Date($tw.utils.parseDate(operator.operand))).setHours(0,0,0,0);\n\t// Function to convert a date/time to a date integer\n\tvar isSameDay = function(dateField) {\n\t\t\treturn (new Date(dateField)).setHours(0,0,0,0) === targetDate;\n\t\t};\n\tsource(function(tiddler,title) {\n\t\tif(tiddler &amp;&amp; tiddler.fields[fieldName]) {\n\t\t\tif(isSameDay(tiddler.fields[fieldName])) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/sameday.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/search.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/search.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for searching for the text in the operand tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.search = function(source,operator,options) {\n\tvar invert = operator.prefix === \&quot;!\&quot;;\n\tif(operator.suffix) {\n\t\treturn options.wiki.search(operator.operand,{\n\t\t\tsource: source,\n\t\t\tinvert: invert,\n\t\t\tfield: operator.suffix\n\t\t});\n\t} else {\n\t\treturn options.wiki.search(operator.operand,{\n\t\t\tsource: source,\n\t\t\tinvert: invert\n\t\t});\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/search.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/shadowsource.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/shadowsource.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the source plugins for shadow tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.shadowsource = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tvar source = options.wiki.getShadowSource(title);\n\t\tif(source) {\n\t\t\t$tw.utils.pushTop(results,source);\n\t\t}\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/shadowsource.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/sort.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/sort.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for sorting\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.sort = function(source,operator,options) {\n\tvar results = prepare_results(source);\n\toptions.wiki.sortTiddlers(results,operator.operand || \&quot;title\&quot;,operator.prefix === \&quot;!\&quot;,false,false);\n\treturn results;\n};\n\nexports.nsort = function(source,operator,options) {\n\tvar results = prepare_results(source);\n\toptions.wiki.sortTiddlers(results,operator.operand || \&quot;title\&quot;,operator.prefix === \&quot;!\&quot;,false,true);\n\treturn results;\n};\n\nexports.sortcs = function(source,operator,options) {\n\tvar results = prepare_results(source);\n\toptions.wiki.sortTiddlers(results,operator.operand || \&quot;title\&quot;,operator.prefix === \&quot;!\&quot;,true,false);\n\treturn results;\n};\n\nexports.nsortcs = function(source,operator,options) {\n\tvar results = prepare_results(source);\n\toptions.wiki.sortTiddlers(results,operator.operand || \&quot;title\&quot;,operator.prefix === \&quot;!\&quot;,true,true);\n\treturn results;\n};\n\nvar prepare_results = function (source) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/sort.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/splitbefore.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/splitbefore.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator that splits each result on the first occurance of the specified separator and returns the unique values.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.splitbefore = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tvar parts = title.split(operator.operand);\n\t\tif(parts.length === 1) {\n\t\t\t$tw.utils.pushTop(results,parts[0]);\n\t\t} else {\n\t\t\t$tw.utils.pushTop(results,parts[0] + operator.operand);\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/splitbefore.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/storyviews.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/storyviews.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the story views in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.storyviews = function(source,operator,options) {\n\tvar results = [],\n\t\tstoryviews = {};\n\t$tw.modules.applyMethods(\&quot;storyview\&quot;,storyviews);\n\t$tw.utils.each(storyviews,function(info,name) {\n\t\tresults.push(name);\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/storyviews.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/suffix.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/suffix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking if a title ends with a suffix\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.suffix = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title.substr(-operator.operand.length) !== operator.operand) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title.substr(-operator.operand.length) === operator.operand) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/suffix.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/tag.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/tag.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking for the presence of a tag\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.tag = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; !tiddler.hasTag(operator.operand)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; tiddler.hasTag(operator.operand)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t\tresults = options.wiki.sortByList(results,operator.operand);\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/tag.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/tagging.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/tagging.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning all tiddlers that are tagged with the selected tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.tagging = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.pushTop(results,options.wiki.getTiddlersWithTag(title));\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/tagging.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/tags.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/tags.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning all the tags of the selected tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.tags = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tif(tiddler &amp;&amp; tiddler.fields.tags) {\n\t\t\t$tw.utils.pushTop(results,tiddler.fields.tags);\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/tags.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/title.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/title.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for comparing title fields for equality\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.title = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; tiddler.fields.title !== operator.operand) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tresults.push(operator.operand);\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/title.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/untagged.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/untagged.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning all the selected tiddlers that are untagged\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.untagged = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; $tw.utils.isArray(tiddler.fields.tags) &amp;&amp; tiddler.fields.tags.length &gt; 0) {\n\t\t\t\t$tw.utils.pushTop(results,title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!tiddler || !tiddler.hasField(\&quot;tags\&quot;) || ($tw.utils.isArray(tiddler.fields.tags) &amp;&amp; tiddler.fields.tags.length === 0)) {\n\t\t\t\t$tw.utils.pushTop(results,title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/untagged.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters.js\ntype: application/javascript\nmodule-type: wikimethod\n\nAdds tiddler filtering methods to the $tw.Wiki object.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nParses an operation within a filter string\n\tresults: Array of array of operator nodes into which results should be inserted\n\tfilterString: filter string\n\tp: start position within the string\nReturns the new start position, after the parsed operation\n*/\nfunction parseFilterOperation(operators,filterString,p) {\n\tvar operator, operand, bracketPos, curlyBracketPos;\n\t// Skip the starting square bracket\n\tif(filterString.charAt(p++) !== \&quot;[\&quot;) {\n\t\tthrow \&quot;Missing [ in filter expression\&quot;;\n\t}\n\t// Process each operator in turn\n\tdo {\n\t\toperator = {};\n\t\t// Check for an operator prefix\n\t\tif(filterString.charAt(p) === \&quot;!\&quot;) {\n\t\t\toperator.prefix = filterString.charAt(p++);\n\t\t}\n\t\t// Get the operator name\n\t\tvar nextBracketPos = filterString.substring(p).search(/[\\[\\{&lt;\\/]/);\n\t\tif(nextBracketPos === -1) {\n\t\t\tthrow \&quot;Missing [ in filter expression\&quot;;\n\t\t}\n\t\tnextBracketPos += p;\n\t\tvar bracket = filterString.charAt(nextBracketPos);\n\t\toperator.operator = filterString.substring(p,nextBracketPos);\n\t\t\n\t\t// Any suffix?\n\t\tvar colon = operator.operator.indexOf(':');\n\t\tif(colon &gt; -1) {\n\t\t\toperator.suffix = operator.operator.substring(colon + 1);\n\t\t\toperator.operator = operator.operator.substring(0,colon) || \&quot;field\&quot;;\n\t\t}\n\t\t// Empty operator means: title\n\t\telse if(operator.operator === \&quot;\&quot;) {\n\t\t\toperator.operator = \&quot;title\&quot;;\n\t\t}\n\n\t\tp = nextBracketPos + 1;\n\t\tswitch (bracket) {\n\t\t\tcase \&quot;{\&quot;: // Curly brackets\n\t\t\t\toperator.indirect = true;\n\t\t\t\tnextBracketPos = filterString.indexOf(\&quot;}\&quot;,p);\n\t\t\t\tbreak;\n\t\t\tcase \&quot;[\&quot;: // Square brackets\n\t\t\t\tnextBracketPos = filterString.indexOf(\&quot;]\&quot;,p);\n\t\t\t\tbreak;\n\t\t\tcase \&quot;&lt;\&quot;: // Angle brackets\n\t\t\t\toperator.variable = true;\n\t\t\t\tnextBracketPos = filterString.indexOf(\&quot;&gt;\&quot;,p);\n\t\t\t\tbreak;\n\t\t\tcase \&quot;/\&quot;: // regexp brackets\n\t\t\t\tvar rex = /^((?:[^\\\\\\/]*|\\\\.)*)\\/(?:\\(([mygi]+)\\))?/g,\n\t\t\t\t\trexMatch = rex.exec(filterString.substring(p));\n\t\t\t\tif(rexMatch) {\n\t\t\t\t\toperator.regexp = new RegExp(rexMatch[1], rexMatch[2]);\n// DEPRECATION WARNING\nconsole.log(\&quot;WARNING: Filter\&quot;,operator.operator,\&quot;has a deprecated regexp operand\&quot;,operator.regexp);\n\t\t\t\t\tnextBracketPos = p + rex.lastIndex - 1;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthrow \&quot;Unterminated regular expression in filter expression\&quot;;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tif(nextBracketPos === -1) {\n\t\t\tthrow \&quot;Missing closing bracket in filter expression\&quot;;\n\t\t}\n\t\tif(!operator.regexp) {\n\t\t\toperator.operand = filterString.substring(p,nextBracketPos);\n\t\t}\n\t\tp = nextBracketPos + 1;\n\t\t\t\n\t\t// Push this operator\n\t\toperators.push(operator);\n\t} while(filterString.charAt(p) !== \&quot;]\&quot;);\n\t// Skip the ending square bracket\n\tif(filterString.charAt(p++) !== \&quot;]\&quot;) {\n\t\tthrow \&quot;Missing ] in filter expression\&quot;;\n\t}\n\t// Return the parsing position\n\treturn p;\n}\n\n/*\nParse a filter string\n*/\nexports.parseFilter = function(filterString) {\n\tfilterString = filterString || \&quot;\&quot;;\n\tvar results = [], // Array of arrays of operator nodes {operator:,operand:}\n\t\tp = 0, // Current position in the filter string\n\t\tmatch;\n\tvar whitespaceRegExp = /(\\s+)/mg,\n\t\toperandRegExp = /((?:\\+|\\-)?)(?:(\\[)|(\&quot;(?:[^\&quot;])*\&quot;)|('(?:[^'])*')|([^\\s\\[\\]]+))/mg;\n\twhile(p &lt; filterString.length) {\n\t\t// Skip any whitespace\n\t\twhitespaceRegExp.lastIndex = p;\n\t\tmatch = whitespaceRegExp.exec(filterString);\n\t\tif(match &amp;&amp; match.index === p) {\n\t\t\tp = p + match[0].length;\n\t\t}\n\t\t// Match the start of the operation\n\t\tif(p &lt; filterString.length) {\n\t\t\toperandRegExp.lastIndex = p;\n\t\t\tmatch = operandRegExp.exec(filterString);\n\t\t\tif(!match || match.index !== p) {\n\t\t\t\tthrow \&quot;Syntax error in filter expression\&quot;;\n\t\t\t}\n\t\t\tvar operation = {\n\t\t\t\tprefix: \&quot;\&quot;,\n\t\t\t\toperators: []\n\t\t\t};\n\t\t\tif(match[1]) {\n\t\t\t\toperation.prefix = match[1];\n\t\t\t\tp++;\n\t\t\t}\n\t\t\tif(match[2]) { // Opening square bracket\n\t\t\t\tp = parseFilterOperation(operation.operators,filterString,p);\n\t\t\t} else {\n\t\t\t\tp = match.index + match[0].length;\n\t\t\t}\n\t\t\tif(match[3] || match[4] || match[5]) { // Double quoted string, single quoted string or unquoted title\n\t\t\t\toperation.operators.push(\n\t\t\t\t\t{operator: \&quot;title\&quot;, operand: match[3] || match[4] || match[5]}\n\t\t\t\t);\n\t\t\t}\n\t\t\tresults.push(operation);\n\t\t}\n\t}\n\treturn results;\n};\n\nexports.getFilterOperators = function() {\n\tif(!this.filterOperators) {\n\t\t$tw.Wiki.prototype.filterOperators = {};\n\t\t$tw.modules.applyMethods(\&quot;filteroperator\&quot;,this.filterOperators);\n\t}\n\treturn this.filterOperators;\n};\n\nexports.filterTiddlers = function(filterString,widget,source) {\n\tvar fn = this.compileFilter(filterString);\n\treturn fn.call(this,source,widget);\n};\n\n/*\nCompile a filter into a function with the signature fn(source,widget) where:\nsource: an iterator function for the source tiddlers, called source(iterator), where iterator is called as iterator(tiddler,title)\nwidget: an optional widget node for retrieving the current tiddler etc.\n*/\nexports.compileFilter = function(filterString) {\n\tvar filterParseTree;\n\ttry {\n\t\tfilterParseTree = this.parseFilter(filterString);\n\t} catch(e) {\n\t\treturn function(source,widget) {\n\t\t\treturn [\&quot;Filter error: \&quot; + e];\n\t\t};\n\t}\n\t// Get the hashmap of filter operator functions\n\tvar filterOperators = this.getFilterOperators();\n\t// Assemble array of functions, one for each operation\n\tvar operationFunctions = [];\n\t// Step through the operations\n\tvar self = this;\n\t$tw.utils.each(filterParseTree,function(operation) {\n\t\t// Create a function for the chain of operators in the operation\n\t\tvar operationSubFunction = function(source,widget) {\n\t\t\tvar accumulator = source,\n\t\t\t\tresults = [],\n\t\t\t\tcurrTiddlerTitle = widget &amp;&amp; widget.getVariable(\&quot;currentTiddler\&quot;);\n\t\t\t$tw.utils.each(operation.operators,function(operator) {\n\t\t\t\tvar operand = operator.operand,\n\t\t\t\t\toperatorFunction;\n\t\t\t\tif(!operator.operator) {\n\t\t\t\t\toperatorFunction = filterOperators.title;\n\t\t\t\t} else if(!filterOperators[operator.operator]) {\n\t\t\t\t\toperatorFunction = filterOperators.field;\n\t\t\t\t} else {\n\t\t\t\t\toperatorFunction = filterOperators[operator.operator];\n\t\t\t\t}\n\t\t\t\tif(operator.indirect) {\n\t\t\t\t\toperand = self.getTextReference(operator.operand,\&quot;\&quot;,currTiddlerTitle);\n\t\t\t\t}\n\t\t\t\tif(operator.variable) {\n\t\t\t\t\toperand = widget.getVariable(operator.operand,{defaultValue: \&quot;\&quot;});\n\t\t\t\t}\n\t\t\t\tresults = operatorFunction(accumulator,{\n\t\t\t\t\t\t\toperator: operator.operator,\n\t\t\t\t\t\t\toperand: operand,\n\t\t\t\t\t\t\tprefix: operator.prefix,\n\t\t\t\t\t\t\tsuffix: operator.suffix,\n\t\t\t\t\t\t\tregexp: operator.regexp\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\twiki: self,\n\t\t\t\t\t\t\twidget: widget\n\t\t\t\t\t\t});\n\t\t\t\tif($tw.utils.isArray(results)) {\n\t\t\t\t\taccumulator = self.makeTiddlerIterator(results);\n\t\t\t\t} else {\n\t\t\t\t\taccumulator = results;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif($tw.utils.isArray(results)) {\n\t\t\t\treturn results;\n\t\t\t} else {\n\t\t\t\tvar resultArray = [];\n\t\t\t\tresults(function(tiddler,title) {\n\t\t\t\t\tresultArray.push(title);\n\t\t\t\t});\n\t\t\t\treturn resultArray;\n\t\t\t}\n\t\t};\n\t\t// Wrap the operator functions in a wrapper function that depends on the prefix\n\t\toperationFunctions.push((function() {\n\t\t\tswitch(operation.prefix || \&quot;\&quot;) {\n\t\t\t\tcase \&quot;\&quot;: // No prefix means that the operation is unioned into the result\n\t\t\t\t\treturn function(results,source,widget) {\n\t\t\t\t\t\t$tw.utils.pushTop(results,operationSubFunction(source,widget));\n\t\t\t\t\t};\n\t\t\t\tcase \&quot;-\&quot;: // The results of this operation are removed from the main result\n\t\t\t\t\treturn function(results,source,widget) {\n\t\t\t\t\t\t$tw.utils.removeArrayEntries(results,operationSubFunction(source,widget));\n\t\t\t\t\t};\n\t\t\t\tcase \&quot;+\&quot;: // This operation is applied to the main results so far\n\t\t\t\t\treturn function(results,source,widget) {\n\t\t\t\t\t\t// This replaces all the elements of the array, but keeps the actual array so that references to it are preserved\n\t\t\t\t\t\tsource = self.makeTiddlerIterator(results);\n\t\t\t\t\t\tresults.splice(0,results.length);\n\t\t\t\t\t\t$tw.utils.pushTop(results,operationSubFunction(source,widget));\n\t\t\t\t\t};\n\t\t\t}\n\t\t})());\n\t});\n\t// Return a function that applies the operations to a source iterator of tiddler titles\n\treturn $tw.perf.measure(\&quot;filter\&quot;,function filterFunction(source,widget) {\n\t\tif(!source) {\n\t\t\tsource = self.each;\n\t\t} else if(typeof source === \&quot;object\&quot;) { // Array or hashmap\n\t\t\tsource = self.makeTiddlerIterator(source);\n\t\t}\n\t\tvar results = [];\n\t\t$tw.utils.each(operationFunctions,function(operationFunction) {\n\t\t\toperationFunction(results,source,widget);\n\t\t});\n\t\treturn results;\n\t});\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikimethod&quot;
        },
        &quot;$:/core/modules/info/platform.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/info/platform.js\ntype: application/javascript\nmodule-type: info\n\nInitialise basic platform $:/info/ tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.getInfoTiddlerFields = function() {\n\tvar mapBoolean = function(value) {return value ? \&quot;yes\&quot; : \&quot;no\&quot;;},\n\t\tinfoTiddlerFields = [];\n\t// Basics\n\tinfoTiddlerFields.push({title: \&quot;$:/info/browser\&quot;, text: mapBoolean(!!$tw.browser)});\n\tinfoTiddlerFields.push({title: \&quot;$:/info/node\&quot;, text: mapBoolean(!!$tw.node)});\n\treturn infoTiddlerFields;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/info/platform.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;info&quot;
        },
        &quot;$:/core/modules/language.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/language.js\ntype: application/javascript\nmodule-type: global\n\nThe $tw.Language() manages translateable strings\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nCreate an instance of the language manager. Options include:\nwiki: wiki from which to retrieve translation tiddlers\n*/\nfunction Language(options) {\n\toptions = options || \&quot;\&quot;;\n\tthis.wiki = options.wiki || $tw.wiki;\n}\n\n/*\nReturn a single translateable string. The title is automatically prefixed with \&quot;$:/language/\&quot;\nOptions include:\nvariables: optional hashmap of variables to supply to the language wikification\n*/\nLanguage.prototype.getString = function(title,options) {\n\toptions = options || {};\n\ttitle = \&quot;$:/language/\&quot; + title;\n\treturn this.wiki.renderTiddler(\&quot;text/plain\&quot;,title,{variables: options.variables});\n};\n\nexports.Language = Language;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/language.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;global&quot;
        },
        &quot;$:/core/modules/macros/changecount.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/changecount.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to return the changecount for the current tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInformation about this macro\n*/\n\nexports.name = \&quot;changecount\&quot;;\n\nexports.params = [];\n\n/*\nRun the macro\n*/\nexports.run = function() {\n\treturn this.wiki.getChangeCount(this.getVariable(\&quot;currentTiddler\&quot;)) + \&quot;\&quot;;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/changecount.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/macros/contrastcolour.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/contrastcolour.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to choose which of two colours has the highest contrast with a base colour\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInformation about this macro\n*/\n\nexports.name = \&quot;contrastcolour\&quot;;\n\nexports.params = [\n\t{name: \&quot;target\&quot;},\n\t{name: \&quot;fallbackTarget\&quot;},\n\t{name: \&quot;colourA\&quot;},\n\t{name: \&quot;colourB\&quot;}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(target,fallbackTarget,colourA,colourB) {\n\tvar rgbTarget = $tw.utils.parseCSSColor(target) || $tw.utils.parseCSSColor(fallbackTarget);\n\tif(!rgbTarget) {\n\t\treturn colourA;\n\t}\n\t// Colour brightness formula derived from http://www.w3.org/WAI/ER/WD-AERT/#color-contrast\n\tvar rgbColourA = $tw.utils.parseCSSColor(colourA),\n\t\trgbColourB = $tw.utils.parseCSSColor(colourB),\n\t\tbrightnessTarget = rgbTarget[0] * 0.299 + rgbTarget[1] * 0.587 + rgbTarget[2] * 0.114,\n\t\tbrightnessA = rgbColourA[0] * 0.299 + rgbColourA[1] * 0.587 + rgbColourA[2] * 0.114,\n\t\tbrightnessB = rgbColourB[0] * 0.299 + rgbColourB[1] * 0.587 + rgbColourB[2] * 0.114;\n\treturn Math.abs(brightnessTarget - brightnessA) &gt; Math.abs(brightnessTarget - brightnessB) ? colourA : colourB;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/contrastcolour.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/macros/csvtiddlers.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/csvtiddlers.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to output tiddlers matching a filter to CSV\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInformation about this macro\n*/\n\nexports.name = \&quot;csvtiddlers\&quot;;\n\nexports.params = [\n\t{name: \&quot;filter\&quot;},\n\t{name: \&quot;format\&quot;},\n];\n\n/*\nRun the macro\n*/\nexports.run = function(filter,format) {\n\tvar self = this,\n\t\ttiddlers = this.wiki.filterTiddlers(filter),\n\t\ttiddler,\n\t\tfields = [],\n\t\tt,f;\n\t// Collect all the fields\n\tfor(t=0;t&lt;tiddlers.length; t++) {\n\t\ttiddler = this.wiki.getTiddler(tiddlers[t]);\n\t\tfor(f in tiddler.fields) {\n\t\t\tif(fields.indexOf(f) === -1) {\n\t\t\t\tfields.push(f);\n\t\t\t}\n\t\t}\n\t}\n\t// Sort the fields and bring the standard ones to the front\n\tfields.sort();\n\t\&quot;title text modified modifier created creator\&quot;.split(\&quot; \&quot;).reverse().forEach(function(value,index) {\n\t\tvar p = fields.indexOf(value);\n\t\tif(p !== -1) {\n\t\t\tfields.splice(p,1);\n\t\t\tfields.unshift(value)\n\t\t}\n\t});\n\t// Output the column headings\n\tvar output = [], row = [];\n\tfields.forEach(function(value) {\n\t\trow.push(quoteAndEscape(value))\n\t});\n\toutput.push(row.join(\&quot;,\&quot;));\n\t// Output each tiddler\n\tfor(var t=0;t&lt;tiddlers.length; t++) {\n\t\trow = [];\n\t\ttiddler = this.wiki.getTiddler(tiddlers[t]);\n\t\t\tfor(f=0; f&lt;fields.length; f++) {\n\t\t\t\trow.push(quoteAndEscape(tiddler ? tiddler.getFieldString(fields[f]) || \&quot;\&quot; : \&quot;\&quot;));\n\t\t\t}\n\t\toutput.push(row.join(\&quot;,\&quot;));\n\t}\n\treturn output.join(\&quot;\\n\&quot;);\n};\n\nfunction quoteAndEscape(value) {\n\treturn \&quot;\\\&quot;\&quot; + value.replace(/\&quot;/mg,\&quot;\\\&quot;\\\&quot;\&quot;) + \&quot;\\\&quot;\&quot;;\n}\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/csvtiddlers.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/macros/dumpvariables.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/dumpvariables.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to dump all active variable values\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInformation about this macro\n*/\n\nexports.name = \&quot;dumpvariables\&quot;;\n\nexports.params = [\n];\n\n/*\nRun the macro\n*/\nexports.run = function() {\n\tvar output = [\&quot;|!Variable |!Value |\&quot;],\n\t\tvariables = [], variable;\n\tfor(variable in this.variables) {\n\t\tvariables.push(variable);\n\t}\n\tvariables.sort();\n\tfor(var index=0; index&lt;variables.length; index++) {\n\t\tvar variable = variables[index];\n\t\toutput.push(\&quot;|\&quot; + variable + \&quot; |&lt;input size=50 value=&lt;&lt;\&quot; + variable + \&quot;&gt;&gt;/&gt; |\&quot;)\n\t}\n\treturn output.join(\&quot;\\n\&quot;);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/dumpvariables.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/macros/jsontiddlers.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/jsontiddlers.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to output tiddlers matching a filter to JSON\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInformation about this macro\n*/\n\nexports.name = \&quot;jsontiddlers\&quot;;\n\nexports.params = [\n\t{name: \&quot;filter\&quot;}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(filter) {\n\tvar tiddlers = this.wiki.filterTiddlers(filter),\n\t\tdata = [];\n\tfor(var t=0;t&lt;tiddlers.length; t++) {\n\t\tvar tiddler = this.wiki.getTiddler(tiddlers[t]);\n\t\tif(tiddler) {\n\t\t\tvar fields = new Object();\n\t\t\tfor(var field in tiddler.fields) {\n\t\t\t\tfields[field] = tiddler.getFieldString(field);\n\t\t\t}\n\t\t\tdata.push(fields);\n\t\t}\n\t}\n\treturn JSON.stringify(data,null,$tw.config.preferences.jsonSpaces);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/jsontiddlers.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/macros/makedatauri.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/makedatauri.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to convert the content of a tiddler to a data URI\n\n&lt;&lt;makedatauri text:\&quot;Text to be converted\&quot; type:\&quot;text/vnd.tiddlywiki\&quot;&gt;&gt;\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInformation about this macro\n*/\n\nexports.name = \&quot;makedatauri\&quot;;\n\nexports.params = [\n\t{name: \&quot;text\&quot;},\n\t{name: \&quot;type\&quot;}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(text,type) {\n\ttype = type || \&quot;text/vnd.tiddlywiki\&quot;;\n\tvar typeInfo = $tw.config.contentTypeInfo[type] || $tw.config.contentTypeInfo[\&quot;text/plain\&quot;],\n\t\tisBase64 = typeInfo.encoding === \&quot;base64\&quot;,\n\t\tparts = [];\n\tparts.push(\&quot;data:\&quot;);\n\tparts.push(type);\n\tparts.push(isBase64 ? \&quot;;base64\&quot; : \&quot;\&quot;);\n\tparts.push(\&quot;,\&quot;);\n\tparts.push(isBase64 ? text : encodeURIComponent(text));\n\treturn parts.join(\&quot;\&quot;);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/makedatauri.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/macros/now.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/now.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to return a formatted version of the current time\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInformation about this macro\n*/\n\nexports.name = \&quot;now\&quot;;\n\nexports.params = [\n\t{name: \&quot;format\&quot;}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(format) {\n\treturn $tw.utils.formatDateString(new Date(),format || \&quot;0hh:0mm, DDth MMM YYYY\&quot;);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/now.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/macros/qualify.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/qualify.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to qualify a state tiddler title according\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInformation about this macro\n*/\n\nexports.name = \&quot;qualify\&quot;;\n\nexports.params = [\n\t{name: \&quot;title\&quot;}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(title) {\n\treturn title + \&quot;-\&quot; + this.getStateQualifier();\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/qualify.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/macros/version.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/version.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to return the TiddlyWiki core version number\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInformation about this macro\n*/\n\nexports.name = \&quot;version\&quot;;\n\nexports.params = [];\n\n/*\nRun the macro\n*/\nexports.run = function() {\n\treturn $tw.version;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/version.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/parsers/audioparser.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/audioparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe audio parser parses an audio tiddler into an embeddable HTML element\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar AudioParser = function(type,text,options) {\n\tvar element = {\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;audio\&quot;,\n\t\t\tattributes: {\n\t\t\t\tcontrols: {type: \&quot;string\&quot;, value: \&quot;controls\&quot;}\n\t\t\t}\n\t\t},\n\t\tsrc;\n\tif(options._canonical_uri) {\n\t\telement.attributes.src = {type: \&quot;string\&quot;, value: options._canonical_uri};\n\t} else if(text) {\n\t\telement.attributes.src = {type: \&quot;string\&quot;, value: \&quot;data:\&quot; + type + \&quot;;base64,\&quot; + text};\n\t}\n\tthis.tree = [element];\n};\n\nexports[\&quot;audio/ogg\&quot;] = AudioParser;\nexports[\&quot;audio/mpeg\&quot;] = AudioParser;\nexports[\&quot;audio/mp3\&quot;] = AudioParser;\nexports[\&quot;audio/mp4\&quot;] = AudioParser;\n\n})();\n\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/audioparser.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;parser&quot;
        },
        &quot;$:/core/modules/parsers/csvparser.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/csvparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe CSV text parser processes CSV files into a table wrapped in a scrollable widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar CsvParser = function(type,text,options) {\n\t// Table framework\n\tthis.tree = [{\n\t\t\&quot;type\&quot;: \&quot;scrollable\&quot;, \&quot;children\&quot;: [{\n\t\t\t\&quot;type\&quot;: \&quot;element\&quot;, \&quot;tag\&quot;: \&quot;table\&quot;, \&quot;children\&quot;: [{\n\t\t\t\t\&quot;type\&quot;: \&quot;element\&quot;, \&quot;tag\&quot;: \&quot;tbody\&quot;, \&quot;children\&quot;: []\n\t\t\t}], \&quot;attributes\&quot;: {\n\t\t\t\t\&quot;class\&quot;: {\&quot;type\&quot;: \&quot;string\&quot;, \&quot;value\&quot;: \&quot;tc-csv-table\&quot;}\n\t\t\t}\n\t\t}]\n\t}];\n\t// Split the text into lines\n\tvar lines = text.split(/\\r?\\n/mg),\n\t\ttag = \&quot;th\&quot;;\n\tfor(var line=0; line&lt;lines.length; line++) {\n\t\tvar lineText = lines[line];\n\t\tif(lineText) {\n\t\t\tvar row = {\n\t\t\t\t\t\&quot;type\&quot;: \&quot;element\&quot;, \&quot;tag\&quot;: \&quot;tr\&quot;, \&quot;children\&quot;: []\n\t\t\t\t};\n\t\t\tvar columns = lineText.split(\&quot;,\&quot;);\n\t\t\tfor(var column=0; column&lt;columns.length; column++) {\n\t\t\t\trow.children.push({\n\t\t\t\t\t\t\&quot;type\&quot;: \&quot;element\&quot;, \&quot;tag\&quot;: tag, \&quot;children\&quot;: [{\n\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;text\&quot;,\n\t\t\t\t\t\t\t\&quot;text\&quot;: columns[column]\n\t\t\t\t\t\t}]\n\t\t\t\t\t});\n\t\t\t}\n\t\t\ttag = \&quot;td\&quot;;\n\t\t\tthis.tree[0].children[0].children[0].children.push(row);\n\t\t}\n\t}\n};\n\nexports[\&quot;text/csv\&quot;] = CsvParser;\n\n})();\n\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/csvparser.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;parser&quot;
        },
        &quot;$:/core/modules/parsers/htmlparser.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/htmlparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe HTML parser displays text as raw HTML\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar HtmlParser = function(type,text,options) {\n\tvar src;\n\tif(options._canonical_uri) {\n\t\tsrc = options._canonical_uri;\n\t} else if(text) {\n\t\tsrc = \&quot;data:text/html;charset=utf-8,\&quot; + encodeURIComponent(text);\n\t}\n\tthis.tree = [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;iframe\&quot;,\n\t\tattributes: {\n\t\t\tsrc: {type: \&quot;string\&quot;, value: src}\n\t\t}\n\t}];\n};\n\nexports[\&quot;text/html\&quot;] = HtmlParser;\n\n})();\n\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/htmlparser.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;parser&quot;
        },
        &quot;$:/core/modules/parsers/imageparser.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/imageparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe image parser parses an image into an embeddable HTML element\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar ImageParser = function(type,text,options) {\n\tvar element = {\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;img\&quot;,\n\t\t\tattributes: {}\n\t\t},\n\t\tsrc;\n\tif(options._canonical_uri) {\n\t\telement.attributes.src = {type: \&quot;string\&quot;, value: options._canonical_uri};\n\t\tif(type === \&quot;application/pdf\&quot; || type === \&quot;.pdf\&quot;) {\n\t\t\telement.tag = \&quot;embed\&quot;;\n\t\t}\n\t} else if(text) {\n\t\tif(type === \&quot;application/pdf\&quot; || type === \&quot;.pdf\&quot;) {\n\t\t\telement.attributes.src = {type: \&quot;string\&quot;, value: \&quot;data:application/pdf;base64,\&quot; + text};\n\t\t\telement.tag = \&quot;embed\&quot;;\n\t\t} else if(type === \&quot;image/svg+xml\&quot; || type === \&quot;.svg\&quot;) {\n\t\t\telement.attributes.src = {type: \&quot;string\&quot;, value: \&quot;data:image/svg+xml,\&quot; + encodeURIComponent(text)};\n\t\t} else {\n\t\t\telement.attributes.src = {type: \&quot;string\&quot;, value: \&quot;data:\&quot; + type + \&quot;;base64,\&quot; + text};\n\t\t}\n\t}\n\tthis.tree = [element];\n};\n\nexports[\&quot;image/svg+xml\&quot;] = ImageParser;\nexports[\&quot;image/jpg\&quot;] = ImageParser;\nexports[\&quot;image/jpeg\&quot;] = ImageParser;\nexports[\&quot;image/png\&quot;] = ImageParser;\nexports[\&quot;image/gif\&quot;] = ImageParser;\nexports[\&quot;application/pdf\&quot;] = ImageParser;\nexports[\&quot;image/x-icon\&quot;] = ImageParser;\n\n})();\n\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/imageparser.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;parser&quot;
        },
        &quot;$:/core/modules/utils/parseutils.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/parseutils.js\ntype: application/javascript\nmodule-type: utils\n\nUtility functions concerned with parsing text into tokens.\n\nMost functions have the following pattern:\n\n* The parameters are:\n** `source`: the source string being parsed\n** `pos`: the current parse position within the string\n** Any further parameters are used to identify the token that is being parsed\n* The return value is:\n** null if the token was not found at the specified position\n** an object representing the token with the following standard fields:\n*** `type`: string indicating the type of the token\n*** `start`: start position of the token in the source string\n*** `end`: end position of the token in the source string\n*** Any further fields required to describe the token\n\nThe exception is `skipWhiteSpace`, which just returns the position after the whitespace.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nLook for a whitespace token. Returns null if not found, otherwise returns {type: \&quot;whitespace\&quot;, start:, end:,}\n*/\nexports.parseWhiteSpace = function(source,pos) {\n\tvar node = {\n\t\ttype: \&quot;whitespace\&quot;,\n\t\tstart: pos\n\t};\n\tvar re = /(\\s)+/g;\n\tre.lastIndex = pos;\n\tvar match = re.exec(source);\n\tif(match &amp;&amp; match.index === pos) {\n\t\tnode.end = pos + match[0].length;\n\t\treturn node;\n\t}\n\treturn null;\n};\n\n/*\nConvenience wrapper for parseWhiteSpace. Returns the position after the whitespace\n*/\nexports.skipWhiteSpace = function(source,pos) {\n\tvar whitespace = $tw.utils.parseWhiteSpace(source,pos);\n\tif(whitespace) {\n\t\treturn whitespace.end;\n\t}\n\treturn pos;\n};\n\n/*\nLook for a given string token. Returns null if not found, otherwise returns {type: \&quot;token\&quot;, value:, start:, end:,}\n*/\nexports.parseTokenString = function(source,pos,token) {\n\tvar match = source.indexOf(token,pos) === pos;\n\tif(match) {\n\t\treturn {\n\t\t\ttype: \&quot;token\&quot;,\n\t\t\tvalue: token,\n\t\t\tstart: pos,\n\t\t\tend: pos + token.length\n\t\t};\n\t}\n\treturn null;\n};\n\n/*\nLook for a token matching a regex. Returns null if not found, otherwise returns {type: \&quot;regexp\&quot;, match:, start:, end:,}\n*/\nexports.parseTokenRegExp = function(source,pos,reToken) {\n\tvar node = {\n\t\ttype: \&quot;regexp\&quot;,\n\t\tstart: pos\n\t};\n\treToken.lastIndex = pos;\n\tnode.match = reToken.exec(source);\n\tif(node.match &amp;&amp; node.match.index === pos) {\n\t\tnode.end = pos + node.match[0].length;\n\t\treturn node;\n\t} else {\n\t\treturn null;\n\t}\n};\n\n/*\nLook for a string literal. Returns null if not found, otherwise returns {type: \&quot;string\&quot;, value:, start:, end:,}\n*/\nexports.parseStringLiteral = function(source,pos) {\n\tvar node = {\n\t\ttype: \&quot;string\&quot;,\n\t\tstart: pos\n\t};\n\tvar reString = /(?:\&quot;\&quot;\&quot;([\\s\\S]*?)\&quot;\&quot;\&quot;|\&quot;([^\&quot;]*)\&quot;)|(?:'([^']*)')/g;\n\treString.lastIndex = pos;\n\tvar match = reString.exec(source);\n\tif(match &amp;&amp; match.index === pos) {\n\t\tnode.value = match[1] !== undefined ? match[1] :(\n\t\t\tmatch[2] !== undefined ? match[2] : match[3] \n\t\t\t\t\t);\n\t\tnode.end = pos + match[0].length;\n\t\treturn node;\n\t} else {\n\t\treturn null;\n\t}\n};\n\n/*\nLook for a macro invocation parameter. Returns null if not found, or {type: \&quot;macro-parameter\&quot;, name:, value:, start:, end:}\n*/\nexports.parseMacroParameter = function(source,pos) {\n\tvar node = {\n\t\ttype: \&quot;macro-parameter\&quot;,\n\t\tstart: pos\n\t};\n\t// Define our regexp\n\tvar reMacroParameter = /(?:([A-Za-z0-9\\-_]+)\\s*:)?(?:\\s*(?:\&quot;\&quot;\&quot;([\\s\\S]*?)\&quot;\&quot;\&quot;|\&quot;([^\&quot;]*)\&quot;|'([^']*)'|\\[\\[([^\\]]*)\\]\\]|([^\\s&gt;\&quot;'=]+)))/g;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for the parameter\n\tvar token = $tw.utils.parseTokenRegExp(source,pos,reMacroParameter);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Get the parameter details\n\tnode.value = token.match[2] !== undefined ? token.match[2] : (\n\t\t\t\t\ttoken.match[3] !== undefined ? token.match[3] : (\n\t\t\t\t\t\ttoken.match[4] !== undefined ? token.match[4] : (\n\t\t\t\t\t\t\ttoken.match[5] !== undefined ? token.match[5] : (\n\t\t\t\t\t\t\t\ttoken.match[6] !== undefined ? token.match[6] : (\n\t\t\t\t\t\t\t\t\t\&quot;\&quot;\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\tif(token.match[1]) {\n\t\tnode.name = token.match[1];\n\t}\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\n/*\nLook for a macro invocation. Returns null if not found, or {type: \&quot;macrocall\&quot;, name:, parameters:, start:, end:}\n*/\nexports.parseMacroInvocation = function(source,pos) {\n\tvar node = {\n\t\ttype: \&quot;macrocall\&quot;,\n\t\tstart: pos,\n\t\tparams: []\n\t};\n\t// Define our regexps\n\tvar reMacroName = /([^\\s&gt;\&quot;'=]+)/g;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for a double less than sign\n\tvar token = $tw.utils.parseTokenString(source,pos,\&quot;&lt;&lt;\&quot;);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Get the macro name\n\tvar name = $tw.utils.parseTokenRegExp(source,pos,reMacroName);\n\tif(!name) {\n\t\treturn null;\n\t}\n\tnode.name = name.match[1];\n\tpos = name.end;\n\t// Process parameters\n\tvar parameter = $tw.utils.parseMacroParameter(source,pos);\n\twhile(parameter) {\n\t\tnode.params.push(parameter);\n\t\tpos = parameter.end;\n\t\t// Get the next parameter\n\t\tparameter = $tw.utils.parseMacroParameter(source,pos);\n\t}\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for a double greater than sign\n\ttoken = $tw.utils.parseTokenString(source,pos,\&quot;&gt;&gt;\&quot;);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\n/*\nLook for an HTML attribute definition. Returns null if not found, otherwise returns {type: \&quot;attribute\&quot;, name:, valueType: \&quot;string|indirect|macro\&quot;, value:, start:, end:,}\n*/\nexports.parseAttribute = function(source,pos) {\n\tvar node = {\n\t\tstart: pos\n\t};\n\t// Define our regexps\n\tvar reAttributeName = /([^\\/\\s&gt;\&quot;'=]+)/g,\n\t\treUnquotedAttribute = /([^\\/\\s&lt;&gt;\&quot;'=]+)/g,\n\t\treIndirectValue = /\\{\\{([^\\}]+)\\}\\}/g;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Get the attribute name\n\tvar name = $tw.utils.parseTokenRegExp(source,pos,reAttributeName);\n\tif(!name) {\n\t\treturn null;\n\t}\n\tnode.name = name.match[1];\n\tpos = name.end;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for an equals sign\n\tvar token = $tw.utils.parseTokenString(source,pos,\&quot;=\&quot;);\n\tif(token) {\n\t\tpos = token.end;\n\t\t// Skip whitespace\n\t\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t\t// Look for a string literal\n\t\tvar stringLiteral = $tw.utils.parseStringLiteral(source,pos);\n\t\tif(stringLiteral) {\n\t\t\tpos = stringLiteral.end;\n\t\t\tnode.type = \&quot;string\&quot;;\n\t\t\tnode.value = stringLiteral.value;\n\t\t} else {\n\t\t\t// Look for an indirect value\n\t\t\tvar indirectValue = $tw.utils.parseTokenRegExp(source,pos,reIndirectValue);\n\t\t\tif(indirectValue) {\n\t\t\t\tpos = indirectValue.end;\n\t\t\t\tnode.type = \&quot;indirect\&quot;;\n\t\t\t\tnode.textReference = indirectValue.match[1];\n\t\t\t} else {\n\t\t\t\t// Look for a unquoted value\n\t\t\t\tvar unquotedValue = $tw.utils.parseTokenRegExp(source,pos,reUnquotedAttribute);\n\t\t\t\tif(unquotedValue) {\n\t\t\t\t\tpos = unquotedValue.end;\n\t\t\t\t\tnode.type = \&quot;string\&quot;;\n\t\t\t\t\tnode.value = unquotedValue.match[1];\n\t\t\t\t} else {\n\t\t\t\t\t// Look for a macro invocation value\n\t\t\t\t\tvar macroInvocation = $tw.utils.parseMacroInvocation(source,pos);\n\t\t\t\t\tif(macroInvocation) {\n\t\t\t\t\t\tpos = macroInvocation.end;\n\t\t\t\t\t\tnode.type = \&quot;macro\&quot;;\n\t\t\t\t\t\tnode.value = macroInvocation;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode.type = \&quot;string\&quot;;\n\t\t\t\t\t\tnode.value = \&quot;true\&quot;;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tnode.type = \&quot;string\&quot;;\n\t\tnode.value = \&quot;true\&quot;;\n\t}\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/parseutils.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/parsers/textparser.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/textparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe plain text parser processes blocks of source text into a degenerate parse tree consisting of a single text node\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar TextParser = function(type,text,options) {\n\tthis.tree = [{\n\t\ttype: \&quot;codeblock\&quot;,\n\t\tattributes: {\n\t\t\tcode: {type: \&quot;string\&quot;, value: text},\n\t\t\tlanguage: {type: \&quot;string\&quot;, value: type}\n\t\t}\n\t}];\n};\n\nexports[\&quot;text/plain\&quot;] = TextParser;\nexports[\&quot;text/x-tiddlywiki\&quot;] = TextParser;\nexports[\&quot;application/javascript\&quot;] = TextParser;\nexports[\&quot;application/json\&quot;] = TextParser;\nexports[\&quot;text/css\&quot;] = TextParser;\nexports[\&quot;application/x-tiddler-dictionary\&quot;] = TextParser;\n\n})();\n\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/textparser.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;parser&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/codeblock.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/codeblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for code blocks. For example:\n\n```\n\t```\n\tThis text will not be //wikified//\n\t```\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;codeblock\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match and get language if defined\n\tthis.matchRegExp = /```([\\w-]*)\\r?\\n/mg;\n};\n\nexports.parse = function() {\n\tvar reEnd = /(\\r?\\n```$)/mg;\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Look for the end of the block\n\treEnd.lastIndex = this.parser.pos;\n\tvar match = reEnd.exec(this.parser.source),\n\t\ttext;\n\t// Process the block\n\tif(match) {\n\t\ttext = this.parser.source.substring(this.parser.pos,match.index);\n\t\tthis.parser.pos = match.index + match[0].length;\n\t} else {\n\t\ttext = this.parser.source.substr(this.parser.pos);\n\t\tthis.parser.pos = this.parser.sourceLength;\n\t}\n\t// Return the $codeblock widget\n\treturn [{\n\t\t\ttype: \&quot;codeblock\&quot;,\n\t\t\tattributes: {\n\t\t\t\t\tcode: {type: \&quot;string\&quot;, value: text},\n\t\t\t\t\tlanguage: {type: \&quot;string\&quot;, value: this.match[1]}\n\t\t\t}\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/codeblock.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/codeinline.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/codeinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for code runs. For example:\n\n```\n\tThis is a `code run`.\n\tThis is another ``code run``\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;codeinline\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /(``?)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\tvar reEnd = new RegExp(this.match[1], \&quot;mg\&quot;);\n\t// Look for the end marker\n\treEnd.lastIndex = this.parser.pos;\n\tvar match = reEnd.exec(this.parser.source),\n\t\ttext;\n\t// Process the text\n\tif(match) {\n\t\ttext = this.parser.source.substring(this.parser.pos,match.index);\n\t\tthis.parser.pos = match.index + match[0].length;\n\t} else {\n\t\ttext = this.parser.source.substr(this.parser.pos);\n\t\tthis.parser.pos = this.parser.sourceLength;\n\t}\n\treturn [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;code\&quot;,\n\t\tchildren: [{\n\t\t\ttype: \&quot;text\&quot;,\n\t\t\ttext: text\n\t\t}]\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/codeinline.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/commentblock.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/commentblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for HTML comments. For example:\n\n```\n&lt;!-- This is a comment --&gt;\n```\n\nNote that the syntax for comments is simplified to an opening \&quot;&lt;!--\&quot; sequence and a closing \&quot;--&gt;\&quot; sequence -- HTML itself implements a more complex format (see http://ostermiller.org/findhtmlcomment.html)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;commentblock\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\tthis.matchRegExp = /&lt;!--/mg;\n\tthis.endMatchRegExp = /--&gt;/mg;\n};\n\nexports.findNextMatch = function(startPos) {\n\tthis.matchRegExp.lastIndex = startPos;\n\tthis.match = this.matchRegExp.exec(this.parser.source);\n\tif(this.match) {\n\t\tthis.endMatchRegExp.lastIndex = startPos + this.match[0].length;\n\t\tthis.endMatch = this.endMatchRegExp.exec(this.parser.source);\n\t\tif(this.endMatch) {\n\t\t\treturn this.match.index;\n\t\t}\n\t}\n\treturn undefined;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.endMatchRegExp.lastIndex;\n\t// Don't return any elements\n\treturn [];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/commentblock.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/commentinline.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/commentinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for HTML comments. For example:\n\n```\n&lt;!-- This is a comment --&gt;\n```\n\nNote that the syntax for comments is simplified to an opening \&quot;&lt;!--\&quot; sequence and a closing \&quot;--&gt;\&quot; sequence -- HTML itself implements a more complex format (see http://ostermiller.org/findhtmlcomment.html)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;commentinline\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\tthis.matchRegExp = /&lt;!--/mg;\n\tthis.endMatchRegExp = /--&gt;/mg;\n};\n\nexports.findNextMatch = function(startPos) {\n\tthis.matchRegExp.lastIndex = startPos;\n\tthis.match = this.matchRegExp.exec(this.parser.source);\n\tif(this.match) {\n\t\tthis.endMatchRegExp.lastIndex = startPos + this.match[0].length;\n\t\tthis.endMatch = this.endMatchRegExp.exec(this.parser.source);\n\t\tif(this.endMatch) {\n\t\t\treturn this.match.index;\n\t\t}\n\t}\n\treturn undefined;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.endMatchRegExp.lastIndex;\n\t// Don't return any elements\n\treturn [];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/commentinline.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/dash.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/dash.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for dashes. For example:\n\n```\nThis is an en-dash: --\n\nThis is an em-dash: ---\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;dash\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /-{2,3}(?!-)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\tvar dash = this.match[0].length === 2 ? \&quot;&amp;ndash;\&quot; : \&quot;&amp;mdash;\&quot;;\n\treturn [{\n\t\ttype: \&quot;entity\&quot;,\n\t\tentity: dash\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/dash.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/bold.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis/bold.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis - bold. For example:\n\n```\n\tThis is ''bold'' text\n```\n\nThis wikiparser can be modified using the rules eg:\n\n```\n\\rules except bold \n\\rules only bold \n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;bold\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /''/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(/''/mg,{eatTerminator: true});\n\n\t// Return the classed span\n\treturn [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;strong\&quot;,\n\t\tchildren: tree\n\t}];\n};\n\n})();&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/bold.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/italic.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis/italic.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis - italic. For example:\n\n```\n\tThis is //italic// text\n```\n\nThis wikiparser can be modified using the rules eg:\n\n```\n\\rules except italic\n\\rules only italic\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;italic\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\/\\//mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(/\\/\\//mg,{eatTerminator: true});\n\n\t// Return the classed span\n\treturn [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;em\&quot;,\n\t\tchildren: tree\n\t}];\n};\n\n})();&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/italic.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/strikethrough.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis/strikethrough.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis - strikethrough. For example:\n\n```\n\tThis is ~~strikethrough~~ text\n```\n\nThis wikiparser can be modified using the rules eg:\n\n```\n\\rules except strikethrough \n\\rules only strikethrough \n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;strikethrough\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /~~/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(/~~/mg,{eatTerminator: true});\n\n\t// Return the classed span\n\treturn [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;strike\&quot;,\n\t\tchildren: tree\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/strikethrough.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/subscript.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis/subscript.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis - subscript. For example:\n\n```\n\tThis is ,,subscript,, text\n```\n\nThis wikiparser can be modified using the rules eg:\n\n```\n\\rules except subscript \n\\rules only subscript \n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;subscript\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /,,/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(/,,/mg,{eatTerminator: true});\n\n\t// Return the classed span\n\treturn [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;sub\&quot;,\n\t\tchildren: tree\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/subscript.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/superscript.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis/superscript.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis - superscript. For example:\n\n```\n\tThis is ^^superscript^^ text\n```\n\nThis wikiparser can be modified using the rules eg:\n\n```\n\\rules except superscript \n\\rules only superscript \n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;superscript\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\^\\^/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(/\\^\\^/mg,{eatTerminator: true});\n\n\t// Return the classed span\n\treturn [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;sup\&quot;,\n\t\tchildren: tree\n\t}];\n};\n\n})();&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/superscript.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/underscore.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis/underscore.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis - underscore. For example:\n\n```\n\tThis is __underscore__ text\n```\n\nThis wikiparser can be modified using the rules eg:\n\n```\n\\rules except underscore \n\\rules only underscore\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;underscore\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /__/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(/__/mg,{eatTerminator: true});\n\n\t// Return the classed span\n\treturn [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;u\&quot;,\n\t\tchildren: tree\n\t}];\n};\n\n})();&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/underscore.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/entity.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/entity.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for HTML entities. For example:\n\n```\n\tThis is a copyright symbol: &amp;copy;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;entity\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /(&amp;#?[a-zA-Z0-9]{2,8};)/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Get all the details of the match\n\tvar entityString = this.match[1];\n\t// Move past the macro call\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Return the entity\n\treturn [{type: \&quot;entity\&quot;, entity: this.match[0]}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/entity.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/extlink.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/extlink.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for external links. For example:\n\n```\nAn external link: http://www.tiddlywiki.com/\n\nA suppressed external link: ~http://www.tiddlyspace.com/\n```\n\nExternal links can be suppressed by preceding them with `~`.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;extlink\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /~?(?:file|http|https|mailto|ftp|irc|news|data|skype):[^\\s&lt;&gt;{}\\[\\]`|'\&quot;\\\\^~]+(?:\\/|\\b)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Create the link unless it is suppressed\n\tif(this.match[0].substr(0,1) === \&quot;~\&quot;) {\n\t\treturn [{type: \&quot;text\&quot;, text: this.match[0].substr(1)}];\n\t} else {\n\t\treturn [{\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;a\&quot;,\n\t\t\tattributes: {\n\t\t\t\thref: {type: \&quot;string\&quot;, value: this.match[0]},\n\t\t\t\t\&quot;class\&quot;: {type: \&quot;string\&quot;, value: \&quot;tc-tiddlylink-external\&quot;},\n\t\t\t\ttarget: {type: \&quot;string\&quot;, value: \&quot;_blank\&quot;}\n\t\t\t},\n\t\t\tchildren: [{\n\t\t\t\ttype: \&quot;text\&quot;, text: this.match[0]\n\t\t\t}]\n\t\t}];\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/extlink.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/filteredtranscludeblock.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/filteredtranscludeblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for block-level filtered transclusion. For example:\n\n```\n{{{ [tag[docs]] }}}\n{{{ [tag[docs]] |tooltip}}}\n{{{ [tag[docs]] ||TemplateTitle}}}\n{{{ [tag[docs]] |tooltip||TemplateTitle}}}\n{{{ [tag[docs]] }}width:40;height:50;}.class.class\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;filteredtranscludeblock\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\{\\{\\{([^\\|]+?)(?:\\|([^\\|\\{\\}]+))?(?:\\|\\|([^\\|\\{\\}]+))?\\}\\}([^\\}]*)\\}(?:\\.(\\S+))?(?:\\r?\\n|$)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Get the match details\n\tvar filter = this.match[1],\n\t\ttooltip = this.match[2],\n\t\ttemplate = $tw.utils.trim(this.match[3]),\n\t\tstyle = this.match[4],\n\t\tclasses = this.match[5];\n\t// Return the list widget\n\tvar node = {\n\t\ttype: \&quot;list\&quot;,\n\t\tattributes: {\n\t\t\tfilter: {type: \&quot;string\&quot;, value: filter}\n\t\t},\n\t\tisBlock: true\n\t};\n\tif(tooltip) {\n\t\tnode.attributes.tooltip = {type: \&quot;string\&quot;, value: tooltip};\n\t}\n\tif(template) {\n\t\tnode.attributes.template = {type: \&quot;string\&quot;, value: template};\n\t}\n\tif(style) {\n\t\tnode.attributes.style = {type: \&quot;string\&quot;, value: style};\n\t}\n\tif(classes) {\n\t\tnode.attributes.itemClass = {type: \&quot;string\&quot;, value: classes.split(\&quot;.\&quot;).join(\&quot; \&quot;)};\n\t}\n\treturn [node];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/filteredtranscludeblock.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/filteredtranscludeinline.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/filteredtranscludeinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for inline filtered transclusion. For example:\n\n```\n{{{ [tag[docs]] }}}\n{{{ [tag[docs]] |tooltip}}}\n{{{ [tag[docs]] ||TemplateTitle}}}\n{{{ [tag[docs]] |tooltip||TemplateTitle}}}\n{{{ [tag[docs]] }}width:40;height:50;}.class.class\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;filteredtranscludeinline\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\{\\{\\{([^\\|]+?)(?:\\|([^\\|\\{\\}]+))?(?:\\|\\|([^\\|\\{\\}]+))?\\}\\}([^\\}]*)\\}(?:\\.(\\S+))?/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Get the match details\n\tvar filter = this.match[1],\n\t\ttooltip = this.match[2],\n\t\ttemplate = $tw.utils.trim(this.match[3]),\n\t\tstyle = this.match[4],\n\t\tclasses = this.match[5];\n\t// Return the list widget\n\tvar node = {\n\t\ttype: \&quot;list\&quot;,\n\t\tattributes: {\n\t\t\tfilter: {type: \&quot;string\&quot;, value: filter}\n\t\t}\n\t};\n\tif(tooltip) {\n\t\tnode.attributes.tooltip = {type: \&quot;string\&quot;, value: tooltip};\n\t}\n\tif(template) {\n\t\tnode.attributes.template = {type: \&quot;string\&quot;, value: template};\n\t}\n\tif(style) {\n\t\tnode.attributes.style = {type: \&quot;string\&quot;, value: style};\n\t}\n\tif(classes) {\n\t\tnode.attributes.itemClass = {type: \&quot;string\&quot;, value: classes.split(\&quot;.\&quot;).join(\&quot; \&quot;)};\n\t}\n\treturn [node];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/filteredtranscludeinline.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/hardlinebreaks.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/hardlinebreaks.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for marking areas with hard line breaks. For example:\n\n```\n\&quot;\&quot;\&quot;\nThis is some text\nThat is set like\nIt is a Poem\nWhen it is\nClearly\nNot\n\&quot;\&quot;\&quot;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;hardlinebreaks\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\&quot;\&quot;\&quot;(?:\\r?\\n)?/mg;\n};\n\nexports.parse = function() {\n\tvar reEnd = /(\&quot;\&quot;\&quot;)|(\\r?\\n)/mg,\n\t\ttree = [],\n\t\tmatch;\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\tdo {\n\t\t// Parse the run up to the terminator\n\t\ttree.push.apply(tree,this.parser.parseInlineRun(reEnd,{eatTerminator: false}));\n\t\t// Redo the terminator match\n\t\treEnd.lastIndex = this.parser.pos;\n\t\tmatch = reEnd.exec(this.parser.source);\n\t\tif(match) {\n\t\t\tthis.parser.pos = reEnd.lastIndex;\n\t\t\t// Add a line break if the terminator was a line break\n\t\t\tif(match[2]) {\n\t\t\t\ttree.push({type: \&quot;element\&quot;, tag: \&quot;br\&quot;});\n\t\t\t}\n\t\t}\n\t} while(match &amp;&amp; !match[1]);\n\t// Return the nodes\n\treturn tree;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/hardlinebreaks.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/heading.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/heading.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for headings\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;heading\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /(!{1,6})/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Get all the details of the match\n\tvar headingLevel = this.match[1].length;\n\t// Move past the !s\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Parse any classes, whitespace and then the heading itself\n\tvar classes = this.parser.parseClasses();\n\tthis.parser.skipWhitespace({treatNewlinesAsNonWhitespace: true});\n\tvar tree = this.parser.parseInlineRun(/(\\r?\\n)/mg);\n\t// Return the heading\n\treturn [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;h\&quot; + headingLevel, \n\t\tattributes: {\n\t\t\t\&quot;class\&quot;: {type: \&quot;string\&quot;, value: classes.join(\&quot; \&quot;)}\n\t\t},\n\t\tchildren: tree\n\t}];\n};\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/heading.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/horizrule.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/horizrule.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for rules. For example:\n\n```\n---\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;horizrule\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /-{3,}\\r?(?:\\n|$)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\treturn [{type: \&quot;element\&quot;, tag: \&quot;hr\&quot;}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/horizrule.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/html.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/html.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki rule for HTML elements and widgets. For example:\n\n{{{\n&lt;aside&gt;\nThis is an HTML5 aside element\n&lt;/aside&gt;\n\n&lt;$slider target=\&quot;MyTiddler\&quot;&gt;\nThis is a widget invocation\n&lt;/$slider&gt;\n\n}}}\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;html\&quot;;\nexports.types = {inline: true, block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n};\n\nexports.findNextMatch = function(startPos) {\n\t// Find the next tag\n\tthis.nextTag = this.findNextTag(this.parser.source,startPos,{\n\t\trequireLineBreak: this.is.block\n\t});\n\treturn this.nextTag ? this.nextTag.start : undefined;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Retrieve the most recent match so that recursive calls don't overwrite it\n\tvar tag = this.nextTag;\n\tthis.nextTag = null;\n\t// Advance the parser position to past the tag\n\tthis.parser.pos = tag.end;\n\t// Check for an immediately following double linebreak\n\tvar hasLineBreak = !tag.isSelfClosing &amp;&amp; !!$tw.utils.parseTokenRegExp(this.parser.source,this.parser.pos,/([^\\S\\n\\r]*\\r?\\n(?:[^\\S\\n\\r]*\\r?\\n|$))/g);\n\t// Set whether we're in block mode\n\ttag.isBlock = this.is.block || hasLineBreak;\n\t// Parse the body if we need to\n\tif(!tag.isSelfClosing &amp;&amp; $tw.config.htmlVoidElements.indexOf(tag.tag) === -1) {\n\t\t\tvar reEndString = \&quot;&lt;/\&quot; + $tw.utils.escapeRegExp(tag.tag) + \&quot;&gt;\&quot;,\n\t\t\t\treEnd = new RegExp(\&quot;(\&quot; + reEndString + \&quot;)\&quot;,\&quot;mg\&quot;);\n\t\tif(hasLineBreak) {\n\t\t\ttag.children = this.parser.parseBlocks(reEndString);\n\t\t} else {\n\t\t\ttag.children = this.parser.parseInlineRun(reEnd);\n\t\t}\n\t\treEnd.lastIndex = this.parser.pos;\n\t\tvar endMatch = reEnd.exec(this.parser.source);\n\t\tif(endMatch &amp;&amp; endMatch.index === this.parser.pos) {\n\t\t\tthis.parser.pos = endMatch.index + endMatch[0].length;\n\t\t}\n\t}\n\t// Return the tag\n\treturn [tag];\n};\n\n/*\nLook for an HTML tag. Returns null if not found, otherwise returns {type: \&quot;element\&quot;, name:, attributes: [], isSelfClosing:, start:, end:,}\n*/\nexports.parseTag = function(source,pos,options) {\n\toptions = options || {};\n\tvar token,\n\t\tnode = {\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\tstart: pos,\n\t\t\tattributes: {}\n\t\t};\n\t// Define our regexps\n\tvar reTagName = /([a-zA-Z0-9\\-\\$]+)/g;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for a less than sign\n\ttoken = $tw.utils.parseTokenString(source,pos,\&quot;&lt;\&quot;);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Get the tag name\n\ttoken = $tw.utils.parseTokenRegExp(source,pos,reTagName);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tnode.tag = token.match[1];\n\tif(node.tag.charAt(0) === \&quot;$\&quot;) {\n\t\tnode.type = node.tag.substr(1);\n\t}\n\tpos = token.end;\n\t// Process attributes\n\tvar attribute = $tw.utils.parseAttribute(source,pos);\n\twhile(attribute) {\n\t\tnode.attributes[attribute.name] = attribute;\n\t\tpos = attribute.end;\n\t\t// Get the next attribute\n\t\tattribute = $tw.utils.parseAttribute(source,pos);\n\t}\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for a closing slash\n\ttoken = $tw.utils.parseTokenString(source,pos,\&quot;/\&quot;);\n\tif(token) {\n\t\tpos = token.end;\n\t\tnode.isSelfClosing = true;\n\t}\n\t// Look for a greater than sign\n\ttoken = $tw.utils.parseTokenString(source,pos,\&quot;&gt;\&quot;);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Check for a required line break\n\tif(options.requireLineBreak) {\n\t\ttoken = $tw.utils.parseTokenRegExp(source,pos,/([^\\S\\n\\r]*\\r?\\n(?:[^\\S\\n\\r]*\\r?\\n|$))/g);\n\t\tif(!token) {\n\t\t\treturn null;\n\t\t}\n\t}\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\nexports.findNextTag = function(source,pos,options) {\n\t// A regexp for finding candidate HTML tags\n\tvar reLookahead = /&lt;([a-zA-Z\\-\\$]+)/g;\n\t// Find the next candidate\n\treLookahead.lastIndex = pos;\n\tvar match = reLookahead.exec(source);\n\twhile(match) {\n\t\t// Try to parse the candidate as a tag\n\t\tvar tag = this.parseTag(source,match.index,options);\n\t\t// Return success\n\t\tif(tag &amp;&amp; this.isLegalTag(tag)) {\n\t\t\treturn tag;\n\t\t}\n\t\t// Look for the next match\n\t\treLookahead.lastIndex = match.index + 1;\n\t\tmatch = reLookahead.exec(source);\n\t}\n\t// Failed\n\treturn null;\n};\n\nexports.isLegalTag = function(tag) {\n\t// Widgets are always OK\n\tif(tag.type !== \&quot;element\&quot;) {\n\t\treturn true;\n\t// If it's an HTML tag that starts with a dash then it's not legal\n\t} else if(tag.tag.charAt(0) === \&quot;-\&quot;) {\n\t\treturn false;\n\t} else {\n\t\t// Otherwise it's OK\n\t\treturn true;\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/html.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/image.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/image.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for embedding images. For example:\n\n```\n[img[http://tiddlywiki.com/fractalveg.jpg]]\n[img width=23 height=24 [http://tiddlywiki.com/fractalveg.jpg]]\n[img width={{!!width}} height={{!!height}} [http://tiddlywiki.com/fractalveg.jpg]]\n[img[Description of image|http://tiddlywiki.com/fractalveg.jpg]]\n[img[TiddlerTitle]]\n[img[Description of image|TiddlerTitle]]\n```\n\nGenerates the `&lt;$image&gt;` widget.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;image\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n};\n\nexports.findNextMatch = function(startPos) {\n\t// Find the next tag\n\tthis.nextImage = this.findNextImage(this.parser.source,startPos);\n\treturn this.nextImage ? this.nextImage.start : undefined;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.nextImage.end;\n\tvar node = {\n\t\ttype: \&quot;image\&quot;,\n\t\tattributes: this.nextImage.attributes\n\t};\n\treturn [node];\n};\n\n/*\nFind the next image from the current position\n*/\nexports.findNextImage = function(source,pos) {\n\t// A regexp for finding candidate HTML tags\n\tvar reLookahead = /(\\[img)/g;\n\t// Find the next candidate\n\treLookahead.lastIndex = pos;\n\tvar match = reLookahead.exec(source);\n\twhile(match) {\n\t\t// Try to parse the candidate as a tag\n\t\tvar tag = this.parseImage(source,match.index);\n\t\t// Return success\n\t\tif(tag) {\n\t\t\treturn tag;\n\t\t}\n\t\t// Look for the next match\n\t\treLookahead.lastIndex = match.index + 1;\n\t\tmatch = reLookahead.exec(source);\n\t}\n\t// Failed\n\treturn null;\n};\n\n/*\nLook for an image at the specified position. Returns null if not found, otherwise returns {type: \&quot;image\&quot;, attributes: [], isSelfClosing:, start:, end:,}\n*/\nexports.parseImage = function(source,pos) {\n\tvar token,\n\t\tnode = {\n\t\t\ttype: \&quot;image\&quot;,\n\t\t\tstart: pos,\n\t\t\tattributes: {}\n\t\t};\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for the `[img`\n\ttoken = $tw.utils.parseTokenString(source,pos,\&quot;[img\&quot;);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Process attributes\n\tif(source.charAt(pos) !== \&quot;[\&quot;) {\n\t\tvar attribute = $tw.utils.parseAttribute(source,pos);\n\t\twhile(attribute) {\n\t\t\tnode.attributes[attribute.name] = attribute;\n\t\t\tpos = attribute.end;\n\t\t\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t\t\tif(source.charAt(pos) !== \&quot;[\&quot;) {\n\t\t\t\t// Get the next attribute\n\t\t\t\tattribute = $tw.utils.parseAttribute(source,pos);\n\t\t\t} else {\n\t\t\t\tattribute = null;\n\t\t\t}\n\t\t}\n\t}\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for the `[` after the attributes\n\ttoken = $tw.utils.parseTokenString(source,pos,\&quot;[\&quot;);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Get the source up to the terminating `]]`\n\ttoken = $tw.utils.parseTokenRegExp(source,pos,/(?:([^|\\]]*?)\\|)?([^\\]]+?)\\]\\]/g);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\tif(token.match[1]) {\n\t\tnode.attributes.tooltip = {type: \&quot;string\&quot;, value: token.match[1].trim()};\n\t}\n\tnode.attributes.source = {type: \&quot;string\&quot;, value: (token.match[2] || \&quot;\&quot;).trim()};\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/image.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/list.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/list.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for lists. For example:\n\n```\n* This is an unordered list\n* It has two items\n\n# This is a numbered list\n## With a subitem\n# And a third item\n\n; This is a term that is being defined\n: This is the definition of that term\n```\n\nNote that lists can be nested arbitrarily:\n\n```\n#** One\n#* Two\n#** Three\n#**** Four\n#**# Five\n#**## Six\n## Seven\n### Eight\n## Nine\n```\n\nA CSS class can be applied to a list item as follows:\n\n```\n* List item one\n*.active List item two has the class `active`\n* List item three\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;list\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /([\\*#;:&gt;]+)/mg;\n};\n\nvar listTypes = {\n\t\&quot;*\&quot;: {listTag: \&quot;ul\&quot;, itemTag: \&quot;li\&quot;},\n\t\&quot;#\&quot;: {listTag: \&quot;ol\&quot;, itemTag: \&quot;li\&quot;},\n\t\&quot;;\&quot;: {listTag: \&quot;dl\&quot;, itemTag: \&quot;dt\&quot;},\n\t\&quot;:\&quot;: {listTag: \&quot;dl\&quot;, itemTag: \&quot;dd\&quot;},\n\t\&quot;&gt;\&quot;: {listTag: \&quot;blockquote\&quot;, itemTag: \&quot;p\&quot;}\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Array of parse tree nodes for the previous row of the list\n\tvar listStack = [];\n\t// Cycle through the items in the list\n\twhile(true) {\n\t\t// Match the list marker\n\t\tvar reMatch = /([\\*#;:&gt;]+)/mg;\n\t\treMatch.lastIndex = this.parser.pos;\n\t\tvar match = reMatch.exec(this.parser.source);\n\t\tif(!match || match.index !== this.parser.pos) {\n\t\t\tbreak;\n\t\t}\n\t\t// Check whether the list type of the top level matches\n\t\tvar listInfo = listTypes[match[0].charAt(0)];\n\t\tif(listStack.length &gt; 0 &amp;&amp; listStack[0].tag !== listInfo.listTag) {\n\t\t\tbreak;\n\t\t}\n\t\t// Move past the list marker\n\t\tthis.parser.pos = match.index + match[0].length;\n\t\t// Walk through the list markers for the current row\n\t\tfor(var t=0; t&lt;match[0].length; t++) {\n\t\t\tlistInfo = listTypes[match[0].charAt(t)];\n\t\t\t// Remove any stacked up element if we can't re-use it because the list type doesn't match\n\t\t\tif(listStack.length &gt; t &amp;&amp; listStack[t].tag !== listInfo.listTag) {\n\t\t\t\tlistStack.splice(t,listStack.length - t);\n\t\t\t}\n\t\t\t// Construct the list element or reuse the previous one at this level\n\t\t\tif(listStack.length &lt;= t) {\n\t\t\t\tvar listElement = {type: \&quot;element\&quot;, tag: listInfo.listTag, children: [\n\t\t\t\t\t{type: \&quot;element\&quot;, tag: listInfo.itemTag, children: []}\n\t\t\t\t]};\n\t\t\t\t// Link this list element into the last child item of the parent list item\n\t\t\t\tif(t) {\n\t\t\t\t\tvar prevListItem = listStack[t-1].children[listStack[t-1].children.length-1];\n\t\t\t\t\tprevListItem.children.push(listElement);\n\t\t\t\t}\n\t\t\t\t// Save this element in the stack\n\t\t\t\tlistStack[t] = listElement;\n\t\t\t} else if(t === (match[0].length - 1)) {\n\t\t\t\tlistStack[t].children.push({type: \&quot;element\&quot;, tag: listInfo.itemTag, children: []});\n\t\t\t}\n\t\t}\n\t\tif(listStack.length &gt; match[0].length) {\n\t\t\tlistStack.splice(match[0].length,listStack.length - match[0].length);\n\t\t}\n\t\t// Process the body of the list item into the last list item\n\t\tvar lastListChildren = listStack[listStack.length-1].children,\n\t\t\tlastListItem = lastListChildren[lastListChildren.length-1],\n\t\t\tclasses = this.parser.parseClasses();\n\t\tthis.parser.skipWhitespace({treatNewlinesAsNonWhitespace: true});\n\t\tvar tree = this.parser.parseInlineRun(/(\\r?\\n)/mg);\n\t\tlastListItem.children.push.apply(lastListItem.children,tree);\n\t\tif(classes.length &gt; 0) {\n\t\t\t$tw.utils.addClassToParseTreeNode(lastListItem,classes.join(\&quot; \&quot;));\n\t\t}\n\t\t// Consume any whitespace following the list item\n\t\tthis.parser.skipWhitespace();\n\t}\n\t// Return the root element of the list\n\treturn [listStack[0]];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/list.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/macrocallblock.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/macrocallblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki rule for block macro calls\n\n```\n&lt;&lt;name value value2&gt;&gt;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;macrocallblock\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /&lt;&lt;([^&gt;\\s]+)(?:\\s*)((?:[^&gt;]|(?:&gt;(?!&gt;)))*?)&gt;&gt;(?:\\r?\\n|$)/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Get all the details of the match\n\tvar macroName = this.match[1],\n\t\tparamString = this.match[2];\n\t// Move past the macro call\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\tvar params = [],\n\t\treParam = /\\s*(?:([A-Za-z0-9\\-_]+)\\s*:)?(?:\\s*(?:\&quot;\&quot;\&quot;([\\s\\S]*?)\&quot;\&quot;\&quot;|\&quot;([^\&quot;]*)\&quot;|'([^']*)'|\\[\\[([^\\]]*)\\]\\]|([^\&quot;'\\s]+)))/mg,\n\t\tparamMatch = reParam.exec(paramString);\n\twhile(paramMatch) {\n\t\t// Process this parameter\n\t\tvar paramInfo = {\n\t\t\tvalue: paramMatch[2] || paramMatch[3] || paramMatch[4] || paramMatch[5] || paramMatch[6]\n\t\t};\n\t\tif(paramMatch[1]) {\n\t\t\tparamInfo.name = paramMatch[1];\n\t\t}\n\t\tparams.push(paramInfo);\n\t\t// Find the next match\n\t\tparamMatch = reParam.exec(paramString);\n\t}\n\treturn [{\n\t\ttype: \&quot;macrocall\&quot;,\n\t\tname: macroName,\n\t\tparams: params,\n\t\tisBlock: true\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/macrocallblock.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/macrocallinline.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/macrocallinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki rule for macro calls\n\n```\n&lt;&lt;name value value2&gt;&gt;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;macrocallinline\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /&lt;&lt;([^\\s&gt;]+)\\s*([\\s\\S]*?)&gt;&gt;/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Get all the details of the match\n\tvar macroName = this.match[1],\n\t\tparamString = this.match[2];\n\t// Move past the macro call\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\tvar params = [],\n\t\treParam = /\\s*(?:([A-Za-z0-9\\-_]+)\\s*:)?(?:\\s*(?:\&quot;\&quot;\&quot;([\\s\\S]*?)\&quot;\&quot;\&quot;|\&quot;([^\&quot;]*)\&quot;|'([^']*)'|\\[\\[([^\\]]*)\\]\\]|([^\&quot;'\\s]+)))/mg,\n\t\tparamMatch = reParam.exec(paramString);\n\twhile(paramMatch) {\n\t\t// Process this parameter\n\t\tvar paramInfo = {\n\t\t\tvalue: paramMatch[2] || paramMatch[3] || paramMatch[4] || paramMatch[5]|| paramMatch[6]\n\t\t};\n\t\tif(paramMatch[1]) {\n\t\t\tparamInfo.name = paramMatch[1];\n\t\t}\n\t\tparams.push(paramInfo);\n\t\t// Find the next match\n\t\tparamMatch = reParam.exec(paramString);\n\t}\n\treturn [{\n\t\ttype: \&quot;macrocall\&quot;,\n\t\tname: macroName,\n\t\tparams: params\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/macrocallinline.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/macrodef.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/macrodef.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki pragma rule for macro definitions\n\n```\n\\define name(param:defaultvalue,param2:defaultvalue)\ndefinition text, including $param$ markers\n\\end\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;macrodef\&quot;;\nexports.types = {pragma: true};\n\n/*\nInstantiate parse rule\n*/\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /^\\\\define\\s+([^(\\s]+)\\(\\s*([^)]*)\\)(\\s*\\r?\\n)?/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Move past the macro name and parameters\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Parse the parameters\n\tvar paramString = this.match[2],\n\t\tparams = [];\n\tif(paramString !== \&quot;\&quot;) {\n\t\tvar reParam = /\\s*([A-Za-z0-9\\-_]+)(?:\\s*:\\s*(?:\&quot;\&quot;\&quot;([\\s\\S]*?)\&quot;\&quot;\&quot;|\&quot;([^\&quot;]*)\&quot;|'([^']*)'|\\[\\[([^\\]]*)\\]\\]|([^\&quot;'\\s]+)))?/mg,\n\t\t\tparamMatch = reParam.exec(paramString);\n\t\twhile(paramMatch) {\n\t\t\t// Save the parameter details\n\t\t\tvar paramInfo = {name: paramMatch[1]},\n\t\t\t\tdefaultValue = paramMatch[2] || paramMatch[3] || paramMatch[4] || paramMatch[5] || paramMatch[6];\n\t\t\tif(defaultValue) {\n\t\t\t\tparamInfo[\&quot;default\&quot;] = defaultValue;\n\t\t\t}\n\t\t\tparams.push(paramInfo);\n\t\t\t// Look for the next parameter\n\t\t\tparamMatch = reParam.exec(paramString);\n\t\t}\n\t}\n\t// Is this a multiline definition?\n\tvar reEnd;\n\tif(this.match[3]) {\n\t\t// If so, the end of the body is marked with \\end\n\t\treEnd = /(\\r?\\n\\\\end[^\\S\\n\\r]*(?:$|\\r?\\n))/mg;\n\t} else {\n\t\t// Otherwise, the end of the definition is marked by the end of the line\n\t\treEnd = /(\\r?\\n)/mg;\n\t\t// Move past any whitespace\n\t\tthis.parser.pos = $tw.utils.skipWhiteSpace(this.parser.source,this.parser.pos);\n\t}\n\t// Find the end of the definition\n\treEnd.lastIndex = this.parser.pos;\n\tvar text,\n\t\tendMatch = reEnd.exec(this.parser.source);\n\tif(endMatch) {\n\t\ttext = this.parser.source.substring(this.parser.pos,endMatch.index);\n\t\tthis.parser.pos = endMatch.index + endMatch[0].length;\n\t} else {\n\t\t// We didn't find the end of the definition, so we'll make it blank\n\t\ttext = \&quot;\&quot;;\n\t}\n\t// Save the macro definition\n\treturn [{\n\t\ttype: \&quot;macrodef\&quot;,\n\t\tname: this.match[1],\n\t\tparams: params,\n\t\ttext: text\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/macrodef.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/prettyextlink.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/prettyextlink.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for external links. For example:\n\n```\n[ext[http://tiddlywiki.com/fractalveg.jpg]]\n[ext[Tooltip|http://tiddlywiki.com/fractalveg.jpg]]\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;prettyextlink\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n};\n\nexports.findNextMatch = function(startPos) {\n\t// Find the next tag\n\tthis.nextLink = this.findNextLink(this.parser.source,startPos);\n\treturn this.nextLink ? this.nextLink.start : undefined;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.nextLink.end;\n\treturn [this.nextLink];\n};\n\n/*\nFind the next link from the current position\n*/\nexports.findNextLink = function(source,pos) {\n\t// A regexp for finding candidate links\n\tvar reLookahead = /(\\[ext\\[)/g;\n\t// Find the next candidate\n\treLookahead.lastIndex = pos;\n\tvar match = reLookahead.exec(source);\n\twhile(match) {\n\t\t// Try to parse the candidate as a link\n\t\tvar link = this.parseLink(source,match.index);\n\t\t// Return success\n\t\tif(link) {\n\t\t\treturn link;\n\t\t}\n\t\t// Look for the next match\n\t\treLookahead.lastIndex = match.index + 1;\n\t\tmatch = reLookahead.exec(source);\n\t}\n\t// Failed\n\treturn null;\n};\n\n/*\nLook for an link at the specified position. Returns null if not found, otherwise returns {type: \&quot;element\&quot;, tag: \&quot;a\&quot;, attributes: [], isSelfClosing:, start:, end:,}\n*/\nexports.parseLink = function(source,pos) {\n\tvar token,\n\t\ttextNode = {\n\t\t\ttype: \&quot;text\&quot;\n\t\t},\n\t\tnode = {\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;a\&quot;,\n\t\t\tstart: pos,\n\t\t\tattributes: {\n\t\t\t\t\&quot;class\&quot;: {type: \&quot;string\&quot;, value: \&quot;tc-tiddlylink-external\&quot;},\n\t\t\t},\n\t\t\tchildren: [textNode]\n\t\t};\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for the `[ext[`\n\ttoken = $tw.utils.parseTokenString(source,pos,\&quot;[ext[\&quot;);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Look ahead for the terminating `]]`\n\tvar closePos = source.indexOf(\&quot;]]\&quot;,pos);\n\tif(closePos === -1) {\n\t\treturn null;\n\t}\n\t// Look for a `|` separating the tooltip\n\tvar splitPos = source.indexOf(\&quot;|\&quot;,pos);\n\tif(splitPos === -1 || splitPos &gt; closePos) {\n\t\tsplitPos = null;\n\t}\n\t// Pull out the tooltip and URL\n\tvar tooltip, URL;\n\tif(splitPos) {\n\t\tURL = source.substring(splitPos + 1,closePos).trim();\n\t\ttextNode.text = source.substring(pos,splitPos).trim();\n\t} else {\n\t\tURL = source.substring(pos,closePos).trim();\n\t\ttextNode.text = URL;\n\t}\n\tnode.attributes.href = {type: \&quot;string\&quot;, value: URL};\n\tnode.attributes.target = {type: \&quot;string\&quot;, value: \&quot;_blank\&quot;};\n\t// Update the end position\n\tnode.end = closePos + 2;\n\treturn node;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/prettyextlink.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/prettylink.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/prettylink.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for pretty links. For example:\n\n```\n[[Introduction]]\n\n[[Link description|TiddlerTitle]]\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;prettylink\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\[\\[(.*?)(?:\\|(.*?))?\\]\\]/mg;\n};\n\nvar isLinkExternal = function(to) {\n\tvar externalRegExp = /(?:file|http|https|mailto|ftp|irc|news|data|skype):[^\\s&lt;&gt;{}\\[\\]`|'\&quot;\\\\^~]+(?:\\/|\\b)/i;\n\treturn externalRegExp.test(to);\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Process the link\n\tvar text = this.match[1],\n\t\tlink = this.match[2] || text;\n\tif(isLinkExternal(link)) {\n\t\treturn [{\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;a\&quot;,\n\t\t\tattributes: {\n\t\t\t\thref: {type: \&quot;string\&quot;, value: link},\n\t\t\t\t\&quot;class\&quot;: {type: \&quot;string\&quot;, value: \&quot;tc-tiddlylink-external\&quot;},\n\t\t\t\ttarget: {type: \&quot;string\&quot;, value: \&quot;_blank\&quot;}\n\t\t\t},\n\t\t\tchildren: [{\n\t\t\t\ttype: \&quot;text\&quot;, text: text\n\t\t\t}]\n\t\t}];\n\t} else {\n\t\treturn [{\n\t\t\ttype: \&quot;link\&quot;,\n\t\t\tattributes: {\n\t\t\t\tto: {type: \&quot;string\&quot;, value: link}\n\t\t\t},\n\t\t\tchildren: [{\n\t\t\t\ttype: \&quot;text\&quot;, text: text\n\t\t\t}]\n\t\t}];\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/prettylink.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/quoteblock.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/quoteblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for quote blocks. For example:\n\n```\n\t&lt;&lt;&lt;.optionalClass(es) optional cited from\n\ta quote\n\t&lt;&lt;&lt;\n\t\n\t&lt;&lt;&lt;.optionalClass(es)\n\ta quote\n\t&lt;&lt;&lt; optional cited from\n```\n\nQuotes can be quoted by putting more &lt;s\n\n```\n\t&lt;&lt;&lt;\n\tQuote Level 1\n\t\n\t&lt;&lt;&lt;&lt;\n\tQuoteLevel 2\n\t&lt;&lt;&lt;&lt;\n\t\n\t&lt;&lt;&lt;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;quoteblock\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /(&lt;&lt;&lt;+)/mg;\n};\n\nexports.parse = function() {\n\tvar classes = [\&quot;tc-quote\&quot;];\n\t// Get all the details of the match\n\tvar reEndString = \&quot;^\&quot; + this.match[1] + \&quot;(?!&lt;)\&quot;;\n\t// Move past the &lt;s\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t\n\t// Parse any classes, whitespace and then the optional cite itself\n\tclasses.push.apply(classes, this.parser.parseClasses());\n\tthis.parser.skipWhitespace({treatNewlinesAsNonWhitespace: true});\n\tvar cite = this.parser.parseInlineRun(/(\\r?\\n)/mg);\n\t// before handling the cite, parse the body of the quote\n\tvar tree= this.parser.parseBlocks(reEndString);\n\t// If we got a cite, put it before the text\n\tif(cite.length &gt; 0) {\n\t\ttree.unshift({\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;cite\&quot;,\n\t\t\tchildren: cite\n\t\t});\n\t}\n\t// Parse any optional cite\n\tthis.parser.skipWhitespace({treatNewlinesAsNonWhitespace: true});\n\tcite = this.parser.parseInlineRun(/(\\r?\\n)/mg);\n\t// If we got a cite, push it\n\tif(cite.length &gt; 0) {\n\t\ttree.push({\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;cite\&quot;,\n\t\t\tchildren: cite\n\t\t});\n\t}\n\t// Return the blockquote element\n\treturn [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;blockquote\&quot;,\n\t\tattributes: {\n\t\t\tclass: { type: \&quot;string\&quot;, value: classes.join(\&quot; \&quot;) },\n\t\t},\n\t\tchildren: tree\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/quoteblock.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/rules.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/rules.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki pragma rule for rules specifications\n\n```\n\\rules except ruleone ruletwo rulethree\n\\rules only ruleone ruletwo rulethree\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;rules\&quot;;\nexports.types = {pragma: true};\n\n/*\nInstantiate parse rule\n*/\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /^\\\\rules[^\\S\\n]/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Move past the pragma invocation\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Parse whitespace delimited tokens terminated by a line break\n\tvar reMatch = /[^\\S\\n]*(\\S+)|(\\r?\\n)/mg,\n\t\ttokens = [];\n\treMatch.lastIndex = this.parser.pos;\n\tvar match = reMatch.exec(this.parser.source);\n\twhile(match &amp;&amp; match.index === this.parser.pos) {\n\t\tthis.parser.pos = reMatch.lastIndex;\n\t\t// Exit if we've got the line break\n\t\tif(match[2]) {\n\t\t\tbreak;\n\t\t}\n\t\t// Process the token\n\t\tif(match[1]) {\n\t\t\ttokens.push(match[1]);\n\t\t}\n\t\t// Match the next token\n\t\tmatch = reMatch.exec(this.parser.source);\n\t}\n\t// Process the tokens\n\tif(tokens.length &gt; 0) {\n\t\tthis.parser.amendRules(tokens[0],tokens.slice(1));\n\t}\n\t// No parse tree nodes to return\n\treturn [];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/rules.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/styleblock.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/styleblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for assigning styles and classes to paragraphs and other blocks. For example:\n\n```\n@@.myClass\n@@background-color:red;\nThis paragraph will have the CSS class `myClass`.\n\n* The `&lt;ul&gt;` around this list will also have the class `myClass`\n* List item 2\n\n@@\n```\n\nNote that classes and styles can be mixed subject to the rule that styles must precede classes. For example\n\n```\n@@.myFirstClass.mySecondClass\n@@width:100px;.myThirdClass\nThis is a paragraph\n@@\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;styleblock\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /@@((?:[^\\.\\r\\n\\s:]+:[^\\r\\n;]+;)+)?(?:\\.([^\\r\\n\\s]+))?\\r?\\n/mg;\n};\n\nexports.parse = function() {\n\tvar reEndString = \&quot;^@@(?:\\\\r?\\\\n)?\&quot;;\n\tvar classes = [], styles = [];\n\tdo {\n\t\t// Get the class and style\n\t\tif(this.match[1]) {\n\t\t\tstyles.push(this.match[1]);\n\t\t}\n\t\tif(this.match[2]) {\n\t\t\tclasses.push(this.match[2].split(\&quot;.\&quot;).join(\&quot; \&quot;));\n\t\t}\n\t\t// Move past the match\n\t\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t\t// Look for another line of classes and styles\n\t\tthis.match = this.matchRegExp.exec(this.parser.source);\n\t} while(this.match &amp;&amp; this.match.index === this.parser.pos);\n\t// Parse the body\n\tvar tree = this.parser.parseBlocks(reEndString);\n\tfor(var t=0; t&lt;tree.length; t++) {\n\t\tif(classes.length &gt; 0) {\n\t\t\t$tw.utils.addClassToParseTreeNode(tree[t],classes.join(\&quot; \&quot;));\n\t\t}\n\t\tif(styles.length &gt; 0) {\n\t\t\t$tw.utils.addAttributeToParseTreeNode(tree[t],\&quot;style\&quot;,styles.join(\&quot;\&quot;));\n\t\t}\n\t}\n\treturn tree;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/styleblock.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/styleinline.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/styleinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for assigning styles and classes to inline runs. For example:\n\n```\n@@.myClass This is some text with a class@@\n@@background-color:red;This is some text with a background colour@@\n@@width:100px;.myClass This is some text with a class and a width@@\n```\n\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;styleinline\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /@@((?:[^\\.\\r\\n\\s:]+:[^\\r\\n;]+;)+)?(\\.(?:[^\\r\\n\\s]+)\\s+)?/mg;\n};\n\nexports.parse = function() {\n\tvar reEnd = /@@/g;\n\t// Get the styles and class\n\tvar stylesString = this.match[1],\n\t\tclassString = this.match[2] ? this.match[2].split(\&quot;.\&quot;).join(\&quot; \&quot;) : undefined;\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Parse the run up to the terminator\n\tvar tree = this.parser.parseInlineRun(reEnd,{eatTerminator: true});\n\t// Return the classed span\n\tvar node = {\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;span\&quot;,\n\t\tattributes: {\n\t\t\t\&quot;class\&quot;: {type: \&quot;string\&quot;, value: \&quot;tc-inline-style\&quot;}\n\t\t},\n\t\tchildren: tree\n\t};\n\tif(classString) {\n\t\t$tw.utils.addClassToParseTreeNode(node,classString);\n\t}\n\tif(stylesString) {\n\t\t$tw.utils.addAttributeToParseTreeNode(node,\&quot;style\&quot;,stylesString);\n\t}\n\treturn [node];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/styleinline.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/table.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/table.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for tables.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;table\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /^\\|(?:[^\\n]*)\\|(?:[fhck]?)\\r?(?:\\n|$)/mg;\n};\n\nvar processRow = function(prevColumns) {\n\tvar cellRegExp = /(?:\\|([^\\n\\|]*)\\|)|(\\|[fhck]?\\r?(?:\\n|$))/mg,\n\t\tcellTermRegExp = /((?:\\x20*)\\|)/mg,\n\t\ttree = [],\n\t\tcol = 0,\n\t\tcolSpanCount = 1,\n\t\tprevCell,\n\t\tvAlign;\n\t// Match a single cell\n\tcellRegExp.lastIndex = this.parser.pos;\n\tvar cellMatch = cellRegExp.exec(this.parser.source);\n\twhile(cellMatch &amp;&amp; cellMatch.index === this.parser.pos) {\n\t\tif(cellMatch[1] === \&quot;~\&quot;) {\n\t\t\t// Rowspan\n\t\t\tvar last = prevColumns[col];\n\t\t\tif(last) {\n\t\t\t\tlast.rowSpanCount++;\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(last.element,\&quot;rowspan\&quot;,last.rowSpanCount);\n\t\t\t\tvAlign = $tw.utils.getAttributeValueFromParseTreeNode(last.element,\&quot;valign\&quot;,\&quot;center\&quot;);\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(last.element,\&quot;valign\&quot;,vAlign);\n\t\t\t\tif(colSpanCount &gt; 1) {\n\t\t\t\t\t$tw.utils.addAttributeToParseTreeNode(last.element,\&quot;colspan\&quot;,colSpanCount);\n\t\t\t\t\tcolSpanCount = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Move to just before the `|` terminating the cell\n\t\t\tthis.parser.pos = cellRegExp.lastIndex - 1;\n\t\t} else if(cellMatch[1] === \&quot;&gt;\&quot;) {\n\t\t\t// Colspan\n\t\t\tcolSpanCount++;\n\t\t\t// Move to just before the `|` terminating the cell\n\t\t\tthis.parser.pos = cellRegExp.lastIndex - 1;\n\t\t} else if(cellMatch[1] === \&quot;&lt;\&quot; &amp;&amp; prevCell) {\n\t\t\tcolSpanCount = 1 + $tw.utils.getAttributeValueFromParseTreeNode(prevCell,\&quot;colspan\&quot;,1);\n\t\t\t$tw.utils.addAttributeToParseTreeNode(prevCell,\&quot;colspan\&quot;,colSpanCount);\n\t\t\tcolSpanCount = 1;\n\t\t\t// Move to just before the `|` terminating the cell\n\t\t\tthis.parser.pos = cellRegExp.lastIndex - 1;\n\t\t} else if(cellMatch[2]) {\n\t\t\t// End of row\n\t\t\tif(prevCell &amp;&amp; colSpanCount &gt; 1) {\n\t\t\t\tif(prevCell.attributes &amp;&amp; prevCell.attributes &amp;&amp; prevCell.attributes.colspan) {\n\t\t\t\t\t\tcolSpanCount += prevCell.attributes.colspan.value;\n\t\t\t\t} else {\n\t\t\t\t\tcolSpanCount -= 1;\n\t\t\t\t}\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(prevCell,\&quot;colspan\&quot;,colSpanCount);\n\t\t\t}\n\t\t\tthis.parser.pos = cellRegExp.lastIndex - 1;\n\t\t\tbreak;\n\t\t} else {\n\t\t\t// For ordinary cells, step beyond the opening `|`\n\t\t\tthis.parser.pos++;\n\t\t\t// Look for a space at the start of the cell\n\t\t\tvar spaceLeft = false;\n\t\t\tvAlign = null;\n\t\t\tif(this.parser.source.substr(this.parser.pos).search(/^\\^([^\\^]|\\^\\^)/) === 0) {\n\t\t\t\tvAlign = \&quot;top\&quot;;\n\t\t\t} else if(this.parser.source.substr(this.parser.pos).search(/^,([^,]|,,)/) === 0) {\n\t\t\t\tvAlign = \&quot;bottom\&quot;;\n\t\t\t}\n\t\t\tif(vAlign) {\n\t\t\t\tthis.parser.pos++;\n\t\t\t}\n\t\t\tvar chr = this.parser.source.substr(this.parser.pos,1);\n\t\t\twhile(chr === \&quot; \&quot;) {\n\t\t\t\tspaceLeft = true;\n\t\t\t\tthis.parser.pos++;\n\t\t\t\tchr = this.parser.source.substr(this.parser.pos,1);\n\t\t\t}\n\t\t\t// Check whether this is a heading cell\n\t\t\tvar cell;\n\t\t\tif(chr === \&quot;!\&quot;) {\n\t\t\t\tthis.parser.pos++;\n\t\t\t\tcell = {type: \&quot;element\&quot;, tag: \&quot;th\&quot;, children: []};\n\t\t\t} else {\n\t\t\t\tcell = {type: \&quot;element\&quot;, tag: \&quot;td\&quot;, children: []};\n\t\t\t}\n\t\t\ttree.push(cell);\n\t\t\t// Record information about this cell\n\t\t\tprevCell = cell;\n\t\t\tprevColumns[col] = {rowSpanCount:1,element:cell};\n\t\t\t// Check for a colspan\n\t\t\tif(colSpanCount &gt; 1) {\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(cell,\&quot;colspan\&quot;,colSpanCount);\n\t\t\t\tcolSpanCount = 1;\n\t\t\t}\n\t\t\t// Parse the cell\n\t\t\tcell.children = this.parser.parseInlineRun(cellTermRegExp,{eatTerminator: true});\n\t\t\t// Set the alignment for the cell\n\t\t\tif(vAlign) {\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(cell,\&quot;valign\&quot;,vAlign);\n\t\t\t}\n\t\t\tif(this.parser.source.substr(this.parser.pos - 2,1) === \&quot; \&quot;) { // spaceRight\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(cell,\&quot;align\&quot;,spaceLeft ? \&quot;center\&quot; : \&quot;left\&quot;);\n\t\t\t} else if(spaceLeft) {\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(cell,\&quot;align\&quot;,\&quot;right\&quot;);\n\t\t\t}\n\t\t\t// Move back to the closing `|`\n\t\t\tthis.parser.pos--;\n\t\t}\n\t\tcol++;\n\t\tcellRegExp.lastIndex = this.parser.pos;\n\t\tcellMatch = cellRegExp.exec(this.parser.source);\n\t}\n\treturn tree;\n};\n\nexports.parse = function() {\n\tvar rowContainerTypes = {\&quot;c\&quot;:\&quot;caption\&quot;, \&quot;h\&quot;:\&quot;thead\&quot;, \&quot;\&quot;:\&quot;tbody\&quot;, \&quot;f\&quot;:\&quot;tfoot\&quot;},\n\t\ttable = {type: \&quot;element\&quot;, tag: \&quot;table\&quot;, children: []},\n\t\trowRegExp = /^\\|([^\\n]*)\\|([fhck]?)\\r?(?:\\n|$)/mg,\n\t\trowTermRegExp = /(\\|(?:[fhck]?)\\r?(?:\\n|$))/mg,\n\t\tprevColumns = [],\n\t\tcurrRowType,\n\t\trowContainer,\n\t\trowCount = 0;\n\t// Match the row\n\trowRegExp.lastIndex = this.parser.pos;\n\tvar rowMatch = rowRegExp.exec(this.parser.source);\n\twhile(rowMatch &amp;&amp; rowMatch.index === this.parser.pos) {\n\t\tvar rowType = rowMatch[2];\n\t\t// Check if it is a class assignment\n\t\tif(rowType === \&quot;k\&quot;) {\n\t\t\t$tw.utils.addClassToParseTreeNode(table,rowMatch[1]);\n\t\t\tthis.parser.pos = rowMatch.index + rowMatch[0].length;\n\t\t} else {\n\t\t\t// Otherwise, create a new row if this one is of a different type\n\t\t\tif(rowType !== currRowType) {\n\t\t\t\trowContainer = {type: \&quot;element\&quot;, tag: rowContainerTypes[rowType], children: []};\n\t\t\t\ttable.children.push(rowContainer);\n\t\t\t\tcurrRowType = rowType;\n\t\t\t}\n\t\t\t// Is this a caption row?\n\t\t\tif(currRowType === \&quot;c\&quot;) {\n\t\t\t\t// If so, move past the opening `|` of the row\n\t\t\t\tthis.parser.pos++;\n\t\t\t\t// Move the caption to the first row if it isn't already\n\t\t\t\tif(table.children.length !== 1) {\n\t\t\t\t\ttable.children.pop(); // Take rowContainer out of the children array\n\t\t\t\t\ttable.children.splice(0,0,rowContainer); // Insert it at the bottom\t\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t// Set the alignment - TODO: figure out why TW did this\n//\t\t\t\trowContainer.attributes.align = rowCount === 0 ? \&quot;top\&quot; : \&quot;bottom\&quot;;\n\t\t\t\t// Parse the caption\n\t\t\t\trowContainer.children = this.parser.parseInlineRun(rowTermRegExp,{eatTerminator: true});\n\t\t\t} else {\n\t\t\t\t// Create the row\n\t\t\t\tvar theRow = {type: \&quot;element\&quot;, tag: \&quot;tr\&quot;, children: []};\n\t\t\t\t$tw.utils.addClassToParseTreeNode(theRow,rowCount%2 ? \&quot;oddRow\&quot; : \&quot;evenRow\&quot;);\n\t\t\t\trowContainer.children.push(theRow);\n\t\t\t\t// Process the row\n\t\t\t\ttheRow.children = processRow.call(this,prevColumns);\n\t\t\t\tthis.parser.pos = rowMatch.index + rowMatch[0].length;\n\t\t\t\t// Increment the row count\n\t\t\t\trowCount++;\n\t\t\t}\n\t\t}\n\t\trowMatch = rowRegExp.exec(this.parser.source);\n\t}\n\treturn [table];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/table.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/transcludeblock.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/transcludeblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for block-level transclusion. For example:\n\n```\n{{MyTiddler}}\n{{MyTiddler||TemplateTitle}}\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;transcludeblock\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\{\\{([^\\{\\}\\|]*)(?:\\|\\|([^\\|\\{\\}]+))?\\}\\}(?:\\r?\\n|$)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Get the match details\n\tvar template = $tw.utils.trim(this.match[2]),\n\t\ttextRef = $tw.utils.trim(this.match[1]);\n\t// Prepare the transclude widget\n\tvar transcludeNode = {\n\t\t\ttype: \&quot;transclude\&quot;,\n\t\t\tattributes: {},\n\t\t\tisBlock: true\n\t\t};\n\t// Prepare the tiddler widget\n\tvar tr, targetTitle, targetField, targetIndex, tiddlerNode;\n\tif(textRef) {\n\t\ttr = $tw.utils.parseTextReference(textRef);\n\t\ttargetTitle = tr.title;\n\t\ttargetField = tr.field;\n\t\ttargetIndex = tr.index;\n\t\ttiddlerNode = {\n\t\t\ttype: \&quot;tiddler\&quot;,\n\t\t\tattributes: {\n\t\t\t\ttiddler: {type: \&quot;string\&quot;, value: targetTitle}\n\t\t\t},\n\t\t\tisBlock: true,\n\t\t\tchildren: [transcludeNode]\n\t\t};\n\t}\n\tif(template) {\n\t\ttranscludeNode.attributes.tiddler = {type: \&quot;string\&quot;, value: template};\n\t\tif(textRef) {\n\t\t\treturn [tiddlerNode];\n\t\t} else {\n\t\t\treturn [transcludeNode];\n\t\t}\n\t} else {\n\t\tif(textRef) {\n\t\t\ttranscludeNode.attributes.tiddler = {type: \&quot;string\&quot;, value: targetTitle};\n\t\t\tif(targetField) {\n\t\t\t\ttranscludeNode.attributes.field = {type: \&quot;string\&quot;, value: targetField};\n\t\t\t}\n\t\t\tif(targetIndex) {\n\t\t\t\ttranscludeNode.attributes.index = {type: \&quot;string\&quot;, value: targetIndex};\n\t\t\t}\n\t\t\treturn [tiddlerNode];\n\t\t} else {\n\t\t\treturn [transcludeNode];\n\t\t}\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/transcludeblock.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/transcludeinline.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/transcludeinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for inline-level transclusion. For example:\n\n```\n{{MyTiddler}}\n{{MyTiddler||TemplateTitle}}\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;transcludeinline\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\{\\{([^\\{\\}\\|]*)(?:\\|\\|([^\\|\\{\\}]+))?\\}\\}/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Get the match details\n\tvar template = $tw.utils.trim(this.match[2]),\n\t\ttextRef = $tw.utils.trim(this.match[1]);\n\t// Prepare the transclude widget\n\tvar transcludeNode = {\n\t\t\ttype: \&quot;transclude\&quot;,\n\t\t\tattributes: {}\n\t\t};\n\t// Prepare the tiddler widget\n\tvar tr, targetTitle, targetField, targetIndex, tiddlerNode;\n\tif(textRef) {\n\t\ttr = $tw.utils.parseTextReference(textRef);\n\t\ttargetTitle = tr.title;\n\t\ttargetField = tr.field;\n\t\ttargetIndex = tr.index;\n\t\ttiddlerNode = {\n\t\t\ttype: \&quot;tiddler\&quot;,\n\t\t\tattributes: {\n\t\t\t\ttiddler: {type: \&quot;string\&quot;, value: targetTitle}\n\t\t\t},\n\t\t\tchildren: [transcludeNode]\n\t\t};\n\t}\n\tif(template) {\n\t\ttranscludeNode.attributes.tiddler = {type: \&quot;string\&quot;, value: template};\n\t\tif(textRef) {\n\t\t\treturn [tiddlerNode];\n\t\t} else {\n\t\t\treturn [transcludeNode];\n\t\t}\n\t} else {\n\t\tif(textRef) {\n\t\t\ttranscludeNode.attributes.tiddler = {type: \&quot;string\&quot;, value: targetTitle};\n\t\t\tif(targetField) {\n\t\t\t\ttranscludeNode.attributes.field = {type: \&quot;string\&quot;, value: targetField};\n\t\t\t}\n\t\t\tif(targetIndex) {\n\t\t\t\ttranscludeNode.attributes.index = {type: \&quot;string\&quot;, value: targetIndex};\n\t\t\t}\n\t\t\treturn [tiddlerNode];\n\t\t} else {\n\t\t\treturn [transcludeNode];\n\t\t}\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/transcludeinline.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/typedblock.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/typedblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for typed blocks. For example:\n\n```\n$$$.js\nThis will be rendered as JavaScript\n$$$\n\n$$$.svg\n&lt;svg xmlns=\&quot;http://www.w3.org/2000/svg\&quot; width=\&quot;150\&quot; height=\&quot;100\&quot;&gt;\n  &lt;circle cx=\&quot;100\&quot; cy=\&quot;50\&quot; r=\&quot;40\&quot; stroke=\&quot;black\&quot; stroke-width=\&quot;2\&quot; fill=\&quot;red\&quot; /&gt;\n&lt;/svg&gt;\n$$$\n\n$$$text/vnd.tiddlywiki&gt;text/html\nThis will be rendered as an //HTML representation// of WikiText\n$$$\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;);\n\nexports.name = \&quot;typedblock\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\$\\$\\$([^ &gt;\\r\\n]*)(?: *&gt; *([^ \\r\\n]+))?\\r?\\n/mg;\n};\n\nexports.parse = function() {\n\tvar reEnd = /\\r?\\n\\$\\$\\$\\r?(?:\\n|$)/mg;\n\t// Save the type\n\tvar parseType = this.match[1],\n\t\trenderType = this.match[2];\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Look for the end of the block\n\treEnd.lastIndex = this.parser.pos;\n\tvar match = reEnd.exec(this.parser.source),\n\t\ttext;\n\t// Process the block\n\tif(match) {\n\t\ttext = this.parser.source.substring(this.parser.pos,match.index);\n\t\tthis.parser.pos = match.index + match[0].length;\n\t} else {\n\t\ttext = this.parser.source.substr(this.parser.pos);\n\t\tthis.parser.pos = this.parser.sourceLength;\n\t}\n\t// Parse the block according to the specified type\n\tvar parser = this.parser.wiki.parseText(parseType,text,{defaultType: \&quot;text/plain\&quot;});\n\t// If there's no render type, just return the parse tree\n\tif(!renderType) {\n\t\treturn parser.tree;\n\t} else {\n\t\t// Otherwise, render to the rendertype and return in a &lt;PRE&gt; tag\n\t\tvar widgetNode = this.parser.wiki.makeWidget(parser),\n\t\t\tcontainer = $tw.fakeDocument.createElement(\&quot;div\&quot;);\n\t\twidgetNode.render(container,null);\n\t\ttext = renderType === \&quot;text/html\&quot; ? container.innerHTML : container.textContent;\n\t\treturn [{\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;pre\&quot;,\n\t\t\tchildren: [{\n\t\t\t\ttype: \&quot;text\&quot;,\n\t\t\t\ttext: text\n\t\t\t}]\n\t\t}];\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/typedblock.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/wikilink.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/wikilink.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for wiki links. For example:\n\n```\nAWikiLink\nAnotherLink\n~SuppressedLink\n```\n\nPrecede a camel case word with `~` to prevent it from being recognised as a link.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;wikilink\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = new RegExp($tw.config.textPrimitives.unWikiLink + \&quot;?\&quot; + $tw.config.textPrimitives.wikiLink,\&quot;mg\&quot;);\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Get the details of the match\n\tvar linkText = this.match[0];\n\t// Move past the macro call\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// If the link starts with the unwikilink character then just output it as plain text\n\tif(linkText.substr(0,1) === $tw.config.textPrimitives.unWikiLink) {\n\t\treturn [{type: \&quot;text\&quot;, text: linkText.substr(1)}];\n\t}\n\t// If the link has been preceded with a blocked letter then don't treat it as a link\n\tif(this.match.index &gt; 0) {\n\t\tvar preRegExp = new RegExp($tw.config.textPrimitives.blockPrefixLetters,\&quot;mg\&quot;);\n\t\tpreRegExp.lastIndex = this.match.index-1;\n\t\tvar preMatch = preRegExp.exec(this.parser.source);\n\t\tif(preMatch &amp;&amp; preMatch.index === this.match.index-1) {\n\t\t\treturn [{type: \&quot;text\&quot;, text: linkText}];\n\t\t}\n\t}\n\treturn [{\n\t\ttype: \&quot;link\&quot;,\n\t\tattributes: {\n\t\t\tto: {type: \&quot;string\&quot;, value: linkText}\n\t\t},\n\t\tchildren: [{\n\t\t\ttype: \&quot;text\&quot;,\n\t\t\ttext: linkText\n\t\t}]\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/wikilink.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/wikiparser.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/wikiparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe wiki text parser processes blocks of source text into a parse tree.\n\nThe parse tree is made up of nested arrays of these JavaScript objects:\n\n\t{type: \&quot;element\&quot;, tag: &lt;string&gt;, attributes: {}, children: []} - an HTML element\n\t{type: \&quot;text\&quot;, text: &lt;string&gt;} - a text node\n\t{type: \&quot;entity\&quot;, value: &lt;string&gt;} - an entity\n\t{type: \&quot;raw\&quot;, html: &lt;string&gt;} - raw HTML\n\nAttributes are stored as hashmaps of the following objects:\n\n\t{type: \&quot;string\&quot;, value: &lt;string&gt;} - literal string\n\t{type: \&quot;indirect\&quot;, textReference: &lt;textReference&gt;} - indirect through a text reference\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar WikiParser = function(type,text,options) {\n\tthis.wiki = options.wiki;\n\t// Initialise the classes if we don't have them already\n\tif(!this.pragmaRuleClasses) {\n\t\tWikiParser.prototype.pragmaRuleClasses = $tw.modules.createClassesFromModules(\&quot;wikirule\&quot;,\&quot;pragma\&quot;,$tw.WikiRuleBase);\n\t}\n\tif(!this.blockRuleClasses) {\n\t\tWikiParser.prototype.blockRuleClasses = $tw.modules.createClassesFromModules(\&quot;wikirule\&quot;,\&quot;block\&quot;,$tw.WikiRuleBase);\n\t}\n\tif(!this.inlineRuleClasses) {\n\t\tWikiParser.prototype.inlineRuleClasses = $tw.modules.createClassesFromModules(\&quot;wikirule\&quot;,\&quot;inline\&quot;,$tw.WikiRuleBase);\n\t}\n\t// Save the parse text\n\tthis.type = type || \&quot;text/vnd.tiddlywiki\&quot;;\n\tthis.source = text || \&quot;\&quot;;\n\tthis.sourceLength = this.source.length;\n\t// Set current parse position\n\tthis.pos = 0;\n\t// Instantiate the pragma parse rules\n\tthis.pragmaRules = this.instantiateRules(this.pragmaRuleClasses,\&quot;pragma\&quot;,0);\n\t// Instantiate the parser block and inline rules\n\tthis.blockRules = this.instantiateRules(this.blockRuleClasses,\&quot;block\&quot;,0);\n\tthis.inlineRules = this.instantiateRules(this.inlineRuleClasses,\&quot;inline\&quot;,0);\n\t// Parse any pragmas\n\tthis.tree = this.parsePragmas();\n\t// Parse the text into inline runs or blocks\n\tif(options.parseAsInline) {\n\t\tthis.tree.push.apply(this.tree,this.parseInlineRun());\n\t} else {\n\t\tthis.tree.push.apply(this.tree,this.parseBlocks());\n\t}\n\t// Return the parse tree\n};\n\n/*\nInstantiate an array of parse rules\n*/\nWikiParser.prototype.instantiateRules = function(classes,type,startPos) {\n\tvar rulesInfo = [],\n\t\tself = this;\n\t$tw.utils.each(classes,function(RuleClass) {\n\t\t// Instantiate the rule\n\t\tvar rule = new RuleClass(self);\n\t\trule.is = {};\n\t\trule.is[type] = true;\n\t\trule.init(self);\n\t\tvar matchIndex = rule.findNextMatch(startPos);\n\t\tif(matchIndex !== undefined) {\n\t\t\trulesInfo.push({\n\t\t\t\trule: rule,\n\t\t\t\tmatchIndex: matchIndex\n\t\t\t});\n\t\t}\n\t});\n\treturn rulesInfo;\n};\n\n/*\nSkip any whitespace at the current position. Options are:\n\ttreatNewlinesAsNonWhitespace: true if newlines are NOT to be treated as whitespace\n*/\nWikiParser.prototype.skipWhitespace = function(options) {\n\toptions = options || {};\n\tvar whitespaceRegExp = options.treatNewlinesAsNonWhitespace ? /([^\\S\\n]+)/mg : /(\\s+)/mg;\n\twhitespaceRegExp.lastIndex = this.pos;\n\tvar whitespaceMatch = whitespaceRegExp.exec(this.source);\n\tif(whitespaceMatch &amp;&amp; whitespaceMatch.index === this.pos) {\n\t\tthis.pos = whitespaceRegExp.lastIndex;\n\t}\n};\n\n/*\nGet the next match out of an array of parse rule instances\n*/\nWikiParser.prototype.findNextMatch = function(rules,startPos) {\n\t// Find the best matching rule by finding the closest match position\n\tvar matchingRule,\n\t\tmatchingRulePos = this.sourceLength;\n\t// Step through each rule\n\tfor(var t=0; t&lt;rules.length; t++) {\n\t\tvar ruleInfo = rules[t];\n\t\t// Ask the rule to get the next match if we've moved past the current one\n\t\tif(ruleInfo.matchIndex !== undefined  &amp;&amp; ruleInfo.matchIndex &lt; startPos) {\n\t\t\truleInfo.matchIndex = ruleInfo.rule.findNextMatch(startPos);\n\t\t}\n\t\t// Adopt this match if it's closer than the current best match\n\t\tif(ruleInfo.matchIndex !== undefined &amp;&amp; ruleInfo.matchIndex &lt;= matchingRulePos) {\n\t\t\tmatchingRule = ruleInfo;\n\t\t\tmatchingRulePos = ruleInfo.matchIndex;\n\t\t}\n\t}\n\treturn matchingRule;\n};\n\n/*\nParse any pragmas at the beginning of a block of parse text\n*/\nWikiParser.prototype.parsePragmas = function() {\n\tvar tree = [];\n\twhile(true) {\n\t\t// Skip whitespace\n\t\tthis.skipWhitespace();\n\t\t// Check for the end of the text\n\t\tif(this.pos &gt;= this.sourceLength) {\n\t\t\tbreak;\n\t\t}\n\t\t// Check if we've arrived at a pragma rule match\n\t\tvar nextMatch = this.findNextMatch(this.pragmaRules,this.pos);\n\t\t// If not, just exit\n\t\tif(!nextMatch || nextMatch.matchIndex !== this.pos) {\n\t\t\tbreak;\n\t\t}\n\t\t// Process the pragma rule\n\t\ttree.push.apply(tree,nextMatch.rule.parse());\n\t}\n\treturn tree;\n};\n\n/*\nParse a block from the current position\n\tterminatorRegExpString: optional regular expression string that identifies the end of plain paragraphs. Must not include capturing parenthesis\n*/\nWikiParser.prototype.parseBlock = function(terminatorRegExpString) {\n\tvar terminatorRegExp = terminatorRegExpString ? new RegExp(\&quot;(\&quot; + terminatorRegExpString + \&quot;|\\\\r?\\\\n\\\\r?\\\\n)\&quot;,\&quot;mg\&quot;) : /(\\r?\\n\\r?\\n)/mg;\n\tthis.skipWhitespace();\n\tif(this.pos &gt;= this.sourceLength) {\n\t\treturn [];\n\t}\n\t// Look for a block rule that applies at the current position\n\tvar nextMatch = this.findNextMatch(this.blockRules,this.pos);\n\tif(nextMatch &amp;&amp; nextMatch.matchIndex === this.pos) {\n\t\treturn nextMatch.rule.parse();\n\t}\n\t// Treat it as a paragraph if we didn't find a block rule\n\treturn [{type: \&quot;element\&quot;, tag: \&quot;p\&quot;, children: this.parseInlineRun(terminatorRegExp)}];\n};\n\n/*\nParse a series of blocks of text until a terminating regexp is encountered or the end of the text\n\tterminatorRegExpString: terminating regular expression\n*/\nWikiParser.prototype.parseBlocks = function(terminatorRegExpString) {\n\tif(terminatorRegExpString) {\n\t\treturn this.parseBlocksTerminated(terminatorRegExpString);\n\t} else {\n\t\treturn this.parseBlocksUnterminated();\n\t}\n};\n\n/*\nParse a block from the current position to the end of the text\n*/\nWikiParser.prototype.parseBlocksUnterminated = function() {\n\tvar tree = [];\n\twhile(this.pos &lt; this.sourceLength) {\n\t\ttree.push.apply(tree,this.parseBlock());\n\t}\n\treturn tree;\n};\n\n/*\nParse blocks of text until a terminating regexp is encountered\n*/\nWikiParser.prototype.parseBlocksTerminated = function(terminatorRegExpString) {\n\tvar terminatorRegExp = new RegExp(\&quot;(\&quot; + terminatorRegExpString + \&quot;)\&quot;,\&quot;mg\&quot;),\n\t\ttree = [];\n\t// Skip any whitespace\n\tthis.skipWhitespace();\n\t//  Check if we've got the end marker\n\tterminatorRegExp.lastIndex = this.pos;\n\tvar match = terminatorRegExp.exec(this.source);\n\t// Parse the text into blocks\n\twhile(this.pos &lt; this.sourceLength &amp;&amp; !(match &amp;&amp; match.index === this.pos)) {\n\t\tvar blocks = this.parseBlock(terminatorRegExpString);\n\t\ttree.push.apply(tree,blocks);\n\t\t// Skip any whitespace\n\t\tthis.skipWhitespace();\n\t\t//  Check if we've got the end marker\n\t\tterminatorRegExp.lastIndex = this.pos;\n\t\tmatch = terminatorRegExp.exec(this.source);\n\t}\n\tif(match &amp;&amp; match.index === this.pos) {\n\t\tthis.pos = match.index + match[0].length;\n\t}\n\treturn tree;\n};\n\n/*\nParse a run of text at the current position\n\tterminatorRegExp: a regexp at which to stop the run\n\toptions: see below\nOptions available:\n\teatTerminator: move the parse position past any encountered terminator (default false)\n*/\nWikiParser.prototype.parseInlineRun = function(terminatorRegExp,options) {\n\tif(terminatorRegExp) {\n\t\treturn this.parseInlineRunTerminated(terminatorRegExp,options);\n\t} else {\n\t\treturn this.parseInlineRunUnterminated(options);\n\t}\n};\n\nWikiParser.prototype.parseInlineRunUnterminated = function(options) {\n\tvar tree = [];\n\t// Find the next occurrence of an inline rule\n\tvar nextMatch = this.findNextMatch(this.inlineRules,this.pos);\n\t// Loop around the matches until we've reached the end of the text\n\twhile(this.pos &lt; this.sourceLength &amp;&amp; nextMatch) {\n\t\t// Process the text preceding the run rule\n\t\tif(nextMatch.matchIndex &gt; this.pos) {\n\t\t\ttree.push({type: \&quot;text\&quot;, text: this.source.substring(this.pos,nextMatch.matchIndex)});\n\t\t\tthis.pos = nextMatch.matchIndex;\n\t\t}\n\t\t// Process the run rule\n\t\ttree.push.apply(tree,nextMatch.rule.parse());\n\t\t// Look for the next run rule\n\t\tnextMatch = this.findNextMatch(this.inlineRules,this.pos);\n\t}\n\t// Process the remaining text\n\tif(this.pos &lt; this.sourceLength) {\n\t\ttree.push({type: \&quot;text\&quot;, text: this.source.substr(this.pos)});\n\t}\n\tthis.pos = this.sourceLength;\n\treturn tree;\n};\n\nWikiParser.prototype.parseInlineRunTerminated = function(terminatorRegExp,options) {\n\toptions = options || {};\n\tvar tree = [];\n\t// Find the next occurrence of the terminator\n\tterminatorRegExp.lastIndex = this.pos;\n\tvar terminatorMatch = terminatorRegExp.exec(this.source);\n\t// Find the next occurrence of a inlinerule\n\tvar inlineRuleMatch = this.findNextMatch(this.inlineRules,this.pos);\n\t// Loop around until we've reached the end of the text\n\twhile(this.pos &lt; this.sourceLength &amp;&amp; (terminatorMatch || inlineRuleMatch)) {\n\t\t// Return if we've found the terminator, and it precedes any inline rule match\n\t\tif(terminatorMatch) {\n\t\t\tif(!inlineRuleMatch || inlineRuleMatch.matchIndex &gt;= terminatorMatch.index) {\n\t\t\t\tif(terminatorMatch.index &gt; this.pos) {\n\t\t\t\t\ttree.push({type: \&quot;text\&quot;, text: this.source.substring(this.pos,terminatorMatch.index)});\n\t\t\t\t}\n\t\t\t\tthis.pos = terminatorMatch.index;\n\t\t\t\tif(options.eatTerminator) {\n\t\t\t\t\tthis.pos += terminatorMatch[0].length;\n\t\t\t\t}\n\t\t\t\treturn tree;\n\t\t\t}\n\t\t}\n\t\t// Process any inline rule, along with the text preceding it\n\t\tif(inlineRuleMatch) {\n\t\t\t// Preceding text\n\t\t\tif(inlineRuleMatch.matchIndex &gt; this.pos) {\n\t\t\t\ttree.push({type: \&quot;text\&quot;, text: this.source.substring(this.pos,inlineRuleMatch.matchIndex)});\n\t\t\t\tthis.pos = inlineRuleMatch.matchIndex;\n\t\t\t}\n\t\t\t// Process the inline rule\n\t\t\ttree.push.apply(tree,inlineRuleMatch.rule.parse());\n\t\t\t// Look for the next inline rule\n\t\t\tinlineRuleMatch = this.findNextMatch(this.inlineRules,this.pos);\n\t\t\t// Look for the next terminator match\n\t\t\tterminatorRegExp.lastIndex = this.pos;\n\t\t\tterminatorMatch = terminatorRegExp.exec(this.source);\n\t\t}\n\t}\n\t// Process the remaining text\n\tif(this.pos &lt; this.sourceLength) {\n\t\ttree.push({type: \&quot;text\&quot;, text: this.source.substr(this.pos)});\n\t}\n\tthis.pos = this.sourceLength;\n\treturn tree;\n};\n\n/*\nParse zero or more class specifiers `.classname`\n*/\nWikiParser.prototype.parseClasses = function() {\n\tvar classRegExp = /\\.([^\\s\\.]+)/mg,\n\t\tclassNames = [];\n\tclassRegExp.lastIndex = this.pos;\n\tvar match = classRegExp.exec(this.source);\n\twhile(match &amp;&amp; match.index === this.pos) {\n\t\tthis.pos = match.index + match[0].length;\n\t\tclassNames.push(match[1]);\n\t\tmatch = classRegExp.exec(this.source);\n\t}\n\treturn classNames;\n};\n\n/*\nAmend the rules used by this instance of the parser\n\ttype: `only` keeps just the named rules, `except` keeps all but the named rules\n\tnames: array of rule names\n*/\nWikiParser.prototype.amendRules = function(type,names) {\n\tnames = names || [];\n\t// Define the filter function\n\tvar keepFilter;\n\tif(type === \&quot;only\&quot;) {\n\t\tkeepFilter = function(name) {\n\t\t\treturn names.indexOf(name) !== -1;\n\t\t};\n\t} else if(type === \&quot;except\&quot;) {\n\t\tkeepFilter = function(name) {\n\t\t\treturn names.indexOf(name) === -1;\n\t\t};\n\t} else {\n\t\treturn;\n\t}\n\t// Define a function to process each of our rule arrays\n\tvar processRuleArray = function(ruleArray) {\n\t\tfor(var t=ruleArray.length-1; t&gt;=0; t--) {\n\t\t\tif(!keepFilter(ruleArray[t].rule.name)) {\n\t\t\t\truleArray.splice(t,1);\n\t\t\t}\n\t\t}\n\t};\n\t// Process each rule array\n\tprocessRuleArray(this.pragmaRules);\n\tprocessRuleArray(this.blockRules);\n\tprocessRuleArray(this.inlineRules);\n};\n\nexports[\&quot;text/vnd.tiddlywiki\&quot;] = WikiParser;\n\n})();\n\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/wikiparser.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;parser&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/wikirulebase.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/wikirulebase.js\ntype: application/javascript\nmodule-type: global\n\nBase class for wiki parser rules\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nThis constructor is always overridden with a blank constructor, and so shouldn't be used\n*/\nvar WikiRuleBase = function() {\n};\n\n/*\nTo be overridden by individual rules\n*/\nWikiRuleBase.prototype.init = function(parser) {\n\tthis.parser = parser;\n};\n\n/*\nDefault implementation of findNextMatch uses RegExp matching\n*/\nWikiRuleBase.prototype.findNextMatch = function(startPos) {\n\tthis.matchRegExp.lastIndex = startPos;\n\tthis.match = this.matchRegExp.exec(this.parser.source);\n\treturn this.match ? this.match.index : undefined;\n};\n\nexports.WikiRuleBase = WikiRuleBase;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/wikirulebase.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;global&quot;
        },
        &quot;$:/core/modules/pluginswitcher.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/pluginswitcher.js\ntype: application/javascript\nmodule-type: global\n\nManages switching plugins for themes and languages.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\noptions:\nwiki: wiki store to be used\npluginType: type of plugin to be switched\ncontrollerTitle: title of tiddler used to control switching of this resource\ndefaultPlugins: array of default plugins to be used if nominated plugin isn't found\n*/\nfunction PluginSwitcher(options) {\n\tthis.wiki = options.wiki;\n\tthis.pluginType = options.pluginType;\n\tthis.controllerTitle = options.controllerTitle;\n\tthis.defaultPlugins = options.defaultPlugins || [];\n\t// Switch to the current plugin\n\tthis.switchPlugins();\n\t// Listen for changes to the selected plugin\n\tvar self = this;\n\tthis.wiki.addEventListener(\&quot;change\&quot;,function(changes) {\n\t\tif($tw.utils.hop(changes,self.controllerTitle)) {\n\t\t\tself.switchPlugins();\n\t\t}\n\t});\n}\n\nPluginSwitcher.prototype.switchPlugins = function() {\n\t// Get the name of the current theme\n\tvar selectedPluginTitle = this.wiki.getTiddlerText(this.controllerTitle);\n\t// If it doesn't exist, then fallback to one of the default themes\n\tvar index = 0;\n\twhile(!this.wiki.getTiddler(selectedPluginTitle) &amp;&amp; index &lt; this.defaultPlugins.length) {\n\t\tselectedPluginTitle = this.defaultPlugins[index++];\n\t}\n\t// Accumulate the titles of the plugins that we need to load\n\tvar plugins = [],\n\t\tself = this,\n\t\taccumulatePlugin = function(title) {\n\t\t\tvar tiddler = self.wiki.getTiddler(title);\n\t\t\tif(tiddler &amp;&amp; tiddler.isPlugin() &amp;&amp; plugins.indexOf(title) === -1) {\n\t\t\t\tplugins.push(title);\n\t\t\t\tvar pluginInfo = JSON.parse(self.wiki.getTiddlerText(title)),\n\t\t\t\t\tdependents = $tw.utils.parseStringArray(tiddler.fields.dependents || \&quot;\&quot;);\n\t\t\t\t$tw.utils.each(dependents,function(title) {\n\t\t\t\t\taccumulatePlugin(title);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\taccumulatePlugin(selectedPluginTitle);\n\t// Unregister any existing theme tiddlers\n\tvar unregisteredTiddlers = $tw.wiki.unregisterPluginTiddlers(this.pluginType);\n\t// Register any new theme tiddlers\n\tvar registeredTiddlers = $tw.wiki.registerPluginTiddlers(this.pluginType,plugins);\n\t// Unpack the current theme tiddlers\n\t$tw.wiki.unpackPluginTiddlers();\n};\n\nexports.PluginSwitcher = PluginSwitcher;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/pluginswitcher.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;global&quot;
        },
        &quot;$:/core/modules/saver-handler.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/saver-handler.js\ntype: application/javascript\nmodule-type: global\n\nThe saver handler tracks changes to the store and handles saving the entire wiki via saver modules.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInstantiate the saver handler with the following options:\nwiki: wiki to be synced\ndirtyTracking: true if dirty tracking should be performed\n*/\nfunction SaverHandler(options) {\n\tvar self = this;\n\tthis.wiki = options.wiki;\n\tthis.dirtyTracking = options.dirtyTracking;\n\tthis.pendingAutoSave = false;\n\t// Make a logger\n\tthis.logger = new $tw.utils.Logger(\&quot;saver-handler\&quot;);\n\t// Initialise our savers\n\tif($tw.browser) {\n\t\tthis.initSavers();\n\t}\n\t// Only do dirty tracking if required\n\tif($tw.browser &amp;&amp; this.dirtyTracking) {\n\t\t// Compile the dirty tiddler filter\n\t\tthis.filterFn = this.wiki.compileFilter(this.wiki.getTiddlerText(this.titleSyncFilter));\n\t\t// Count of changes that have not yet been saved\n\t\tthis.numChanges = 0;\n\t\t// Listen out for changes to tiddlers\n\t\tthis.wiki.addEventListener(\&quot;change\&quot;,function(changes) {\n\t\t\t// Filter the changes so that we only count changes to tiddlers that we care about\n\t\t\tvar filteredChanges = self.filterFn.call(self.wiki,function(callback) {\n\t\t\t\t$tw.utils.each(changes,function(change,title) {\n\t\t\t\t\tvar tiddler = self.wiki.getTiddler(title);\n\t\t\t\t\tcallback(tiddler,title);\n\t\t\t\t});\n\t\t\t});\n\t\t\t// Adjust the number of changes\n\t\t\tself.numChanges += filteredChanges.length;\n\t\t\tself.updateDirtyStatus();\n\t\t\t// Do any autosave if one is pending and there's no more change events\n\t\t\tif(self.pendingAutoSave &amp;&amp; self.wiki.getSizeOfTiddlerEventQueue() === 0) {\n\t\t\t\t// Check if we're dirty\n\t\t\t\tif(self.numChanges &gt; 0) {\n\t\t\t\t\tself.saveWiki({\n\t\t\t\t\t\tmethod: \&quot;autosave\&quot;,\n\t\t\t\t\t\tdownloadType: \&quot;text/plain\&quot;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tself.pendingAutoSave = false;\n\t\t\t}\n\t\t});\n\t\t// Listen for the autosave event\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-auto-save-wiki\&quot;,function(event) {\n\t\t\t// Do the autosave unless there are outstanding tiddler change events\n\t\t\tif(self.wiki.getSizeOfTiddlerEventQueue() === 0) {\n\t\t\t\t// Check if we're dirty\n\t\t\t\tif(self.numChanges &gt; 0) {\n\t\t\t\t\tself.saveWiki({\n\t\t\t\t\t\tmethod: \&quot;autosave\&quot;,\n\t\t\t\t\t\tdownloadType: \&quot;text/plain\&quot;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Otherwise put ourselves in the \&quot;pending autosave\&quot; state and wait for the change event before we do the autosave\n\t\t\t\tself.pendingAutoSave = true;\n\t\t\t}\n\t\t});\n\t\t// Set up our beforeunload handler\n\t\twindow.addEventListener(\&quot;beforeunload\&quot;,function(event) {\n\t\t\tvar confirmationMessage;\n\t\t\tif(self.isDirty()) {\n\t\t\t\tconfirmationMessage = $tw.language.getString(\&quot;UnsavedChangesWarning\&quot;);\n\t\t\t\tevent.returnValue = confirmationMessage; // Gecko\n\t\t\t}\n\t\t\treturn confirmationMessage;\n\t\t});\n\t}\n\t// Install the save action handlers\n\tif($tw.browser) {\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-save-wiki\&quot;,function(event) {\n\t\t\tself.saveWiki({\n\t\t\t\ttemplate: event.param,\n\t\t\t\tdownloadType: \&quot;text/plain\&quot;,\n\t\t\t\tvariables: event.paramObject\n\t\t\t});\n\t\t});\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-download-file\&quot;,function(event) {\n\t\t\tself.saveWiki({\n\t\t\t\tmethod: \&quot;download\&quot;,\n\t\t\t\ttemplate: event.param,\n\t\t\t\tdownloadType: \&quot;text/plain\&quot;,\n\t\t\t\tvariables: event.paramObject\n\t\t\t});\n\t\t});\n\t}\n}\n\nSaverHandler.prototype.titleSyncFilter = \&quot;$:/config/SaverFilter\&quot;;\nSaverHandler.prototype.titleAutoSave = \&quot;$:/config/AutoSave\&quot;;\nSaverHandler.prototype.titleSavedNotification = \&quot;$:/language/Notifications/Save/Done\&quot;;\n\n/*\nSelect the appropriate saver modules and set them up\n*/\nSaverHandler.prototype.initSavers = function(moduleType) {\n\tmoduleType = moduleType || \&quot;saver\&quot;;\n\t// Instantiate the available savers\n\tthis.savers = [];\n\tvar self = this;\n\t$tw.modules.forEachModuleOfType(moduleType,function(title,module) {\n\t\tif(module.canSave(self)) {\n\t\t\tself.savers.push(module.create(self.wiki));\n\t\t}\n\t});\n\t// Sort the savers into priority order\n\tthis.savers.sort(function(a,b) {\n\t\tif(a.info.priority &lt; b.info.priority) {\n\t\t\treturn -1;\n\t\t} else {\n\t\t\tif(a.info.priority &gt; b.info.priority) {\n\t\t\t\treturn +1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t});\n};\n\n/*\nSave the wiki contents. Options are:\n\tmethod: \&quot;save\&quot;, \&quot;autosave\&quot; or \&quot;download\&quot;\n\ttemplate: the tiddler containing the template to save\n\tdownloadType: the content type for the saved file\n*/\nSaverHandler.prototype.saveWiki = function(options) {\n\toptions = options || {};\n\tvar self = this,\n\t\tmethod = options.method || \&quot;save\&quot;,\n\t\tvariables = options.variables || {},\n\t\ttemplate = options.template || \&quot;$:/core/save/all\&quot;,\n\t\tdownloadType = options.downloadType || \&quot;text/plain\&quot;,\n\t\ttext = this.wiki.renderTiddler(downloadType,template,options),\n\t\tcallback = function(err) {\n\t\t\tif(err) {\n\t\t\t\talert(\&quot;Error while saving:\\n\\n\&quot; + err);\n\t\t\t} else {\n\t\t\t\t// Clear the task queue if we're saving (rather than downloading)\n\t\t\t\tif(method !== \&quot;download\&quot;) {\n\t\t\t\t\tself.numChanges = 0;\n\t\t\t\t\tself.updateDirtyStatus();\n\t\t\t\t}\n\t\t\t\t$tw.notifier.display(self.titleSavedNotification);\n\t\t\t\tif(options.callback) {\n\t\t\t\t\toptions.callback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t// Ignore autosave if disabled\n\tif(method === \&quot;autosave\&quot; &amp;&amp; this.wiki.getTiddlerText(this.titleAutoSave,\&quot;yes\&quot;) !== \&quot;yes\&quot;) {\n\t\treturn false;\n\t}\n\t// Call the highest priority saver that supports this method\n\tfor(var t=this.savers.length-1; t&gt;=0; t--) {\n\t\tvar saver = this.savers[t];\n\t\tif(saver.info.capabilities.indexOf(method) !== -1 &amp;&amp; saver.save(text,method,callback,{variables: {filename: variables.filename}})) {\n\t\t\tthis.logger.log(\&quot;Saving wiki with method\&quot;,method,\&quot;through saver\&quot;,saver.info.name);\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\n/*\nChecks whether the wiki is dirty (ie the window shouldn't be closed)\n*/\nSaverHandler.prototype.isDirty = function() {\n\treturn this.numChanges &gt; 0;\n};\n\n/*\nUpdate the document body with the class \&quot;tc-dirty\&quot; if the wiki has unsaved/unsynced changes\n*/\nSaverHandler.prototype.updateDirtyStatus = function() {\n\tif($tw.browser) {\n\t\t$tw.utils.toggleClass(document.body,\&quot;tc-dirty\&quot;,this.isDirty());\n\t}\n};\n\nexports.SaverHandler = SaverHandler;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/saver-handler.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;global&quot;
        },
        &quot;$:/core/modules/savers/andtidwiki.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/savers/andtidwiki.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via the AndTidWiki Android app\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false, netscape: false, Components: false */\n\&quot;use strict\&quot;;\n\nvar AndTidWiki = function(wiki) {\n};\n\nAndTidWiki.prototype.save = function(text,method,callback) {\n\t// Get the pathname of this document\n\tvar pathname = decodeURIComponent(document.location.toString().split(\&quot;#\&quot;)[0]);\n\t// Strip the file://\n\tif(pathname.indexOf(\&quot;file://\&quot;) === 0) {\n\t\tpathname = pathname.substr(7);\n\t}\n\t// Strip any query or location part\n\tvar p = pathname.indexOf(\&quot;?\&quot;);\n\tif(p !== -1) {\n\t\tpathname = pathname.substr(0,p);\n\t}\n\tp = pathname.indexOf(\&quot;#\&quot;);\n\tif(p !== -1) {\n\t\tpathname = pathname.substr(0,p);\n\t}\n\t// Save the file\n\twindow.twi.saveFile(pathname,text);\n\t// Call the callback\n\tcallback(null);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nAndTidWiki.prototype.info = {\n\tname: \&quot;andtidwiki\&quot;,\n\tpriority: 1600,\n\tcapabilities: [\&quot;save\&quot;, \&quot;autosave\&quot;]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn !!window.twi &amp;&amp; !!window.twi.saveFile;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new AndTidWiki(wiki);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/savers/andtidwiki.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;saver&quot;
        },
        &quot;$:/core/modules/savers/download.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/savers/download.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via HTML5's download APIs\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar DownloadSaver = function(wiki) {\n};\n\nDownloadSaver.prototype.save = function(text,method,callback,options) {\n\toptions = options || {};\n\t// Get the current filename\n\tvar filename = options.variables.filename;\n\tif(!filename) {\n\t\tvar p = document.location.pathname.lastIndexOf(\&quot;/\&quot;);\n\t\tif(p !== -1) {\n\t\t\tfilename = document.location.pathname.substr(p+1);\n\t\t}\n\t}\n\tif(!filename) {\n\t\tfilename = \&quot;tiddlywiki.html\&quot;;\n\t}\n\t// Set up the link\n\tvar link = document.createElement(\&quot;a\&quot;);\n\tlink.setAttribute(\&quot;target\&quot;,\&quot;_blank\&quot;);\n\tif(Blob !== undefined) {\n\t\tvar blob = new Blob([text], {type: \&quot;text/html\&quot;});\n\t\tlink.setAttribute(\&quot;href\&quot;, URL.createObjectURL(blob));\n\t} else {\n\t\tlink.setAttribute(\&quot;href\&quot;,\&quot;data:text/html,\&quot; + encodeURIComponent(text));\n\t}\n\tlink.setAttribute(\&quot;download\&quot;,filename);\n\tdocument.body.appendChild(link);\n\tlink.click();\n\tdocument.body.removeChild(link);\n\t// Callback that we succeeded\n\tcallback(null);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nDownloadSaver.prototype.info = {\n\tname: \&quot;download\&quot;,\n\tpriority: 100,\n\tcapabilities: [\&quot;save\&quot;, \&quot;download\&quot;]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn document.createElement(\&quot;a\&quot;).download !== undefined;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new DownloadSaver(wiki);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/savers/download.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;saver&quot;
        },
        &quot;$:/core/modules/savers/fsosaver.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/savers/fsosaver.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via MS FileSystemObject ActiveXObject\n\nNote: Since TiddlyWiki's markup contains the MOTW, the FileSystemObject normally won't be available. \nHowever, if the wiki is loaded as an .HTA file (Windows HTML Applications) then the FSO can be used.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar FSOSaver = function(wiki) {\n};\n\nFSOSaver.prototype.save = function(text,method,callback) {\n\t// Get the pathname of this document\n\tvar pathname = unescape(document.location.pathname);\n\t// Test for a Windows path of the form /x:\\blah...\n\tif(/^\\/[A-Z]\\:\\\\[^\\\\]+/i.test(pathname)) {\t// ie: ^/[a-z]:/[^/]+\n\t\t// Remove the leading slash\n\t\tpathname = pathname.substr(1);\n\t} else if(document.location.hostname !== \&quot;\&quot; &amp;&amp; /^\\/\\\\[^\\\\]+\\\\[^\\\\]+/i.test(pathname)) {\t// test for \\\\server\\share\\blah... - ^/[^/]+/[^/]+\n\t\t// Remove the leading slash\n\t\tpathname = pathname.substr(1);\n\t\t// reconstruct UNC path\n\t\tpathname = \&quot;\\\\\\\\\&quot; + document.location.hostname + pathname;\n\t} else {\n\t\treturn false;\n\t}\n\t// Save the file (as UTF-16)\n\tvar fso = new ActiveXObject(\&quot;Scripting.FileSystemObject\&quot;);\n\tvar file = fso.OpenTextFile(pathname,2,-1,-1);\n\tfile.Write(text);\n\tfile.Close();\n\t// Callback that we succeeded\n\tcallback(null);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nFSOSaver.prototype.info = {\n\tname: \&quot;FSOSaver\&quot;,\n\tpriority: 120,\n\tcapabilities: [\&quot;save\&quot;, \&quot;autosave\&quot;]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\ttry {\n\t\treturn (window.location.protocol === \&quot;file:\&quot;) &amp;&amp; !!(new ActiveXObject(\&quot;Scripting.FileSystemObject\&quot;));\n\t} catch(e) { return false; }\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new FSOSaver(wiki);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/savers/fsosaver.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;saver&quot;
        },
        &quot;$:/core/modules/savers/manualdownload.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/savers/manualdownload.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via HTML5's download APIs\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Title of the tiddler containing the download message\nvar downloadInstructionsTitle = \&quot;$:/language/Modals/Download\&quot;;\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar ManualDownloadSaver = function(wiki) {\n};\n\nManualDownloadSaver.prototype.save = function(text,method,callback) {\n\t$tw.modal.display(downloadInstructionsTitle,{\n\t\tdownloadLink: \&quot;data:text/html,\&quot; + encodeURIComponent(text)\n\t});\n\t// Callback that we succeeded\n\tcallback(null);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nManualDownloadSaver.prototype.info = {\n\tname: \&quot;manualdownload\&quot;,\n\tpriority: 0,\n\tcapabilities: [\&quot;save\&quot;, \&quot;download\&quot;]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn true;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new ManualDownloadSaver(wiki);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/savers/manualdownload.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;saver&quot;
        },
        &quot;$:/core/modules/savers/msdownload.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/savers/msdownload.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via window.navigator.msSaveBlob()\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar MsDownloadSaver = function(wiki) {\n};\n\nMsDownloadSaver.prototype.save = function(text,method,callback) {\n\t// Get the current filename\n\tvar filename = \&quot;tiddlywiki.html\&quot;,\n\t\tp = document.location.pathname.lastIndexOf(\&quot;/\&quot;);\n\tif(p !== -1) {\n\t\tfilename = document.location.pathname.substr(p+1);\n\t}\n\t// Set up the link\n\tvar blob = new Blob([text], {type: \&quot;text/html\&quot;});\n\twindow.navigator.msSaveBlob(blob,filename);\n\t// Callback that we succeeded\n\tcallback(null);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nMsDownloadSaver.prototype.info = {\n\tname: \&quot;msdownload\&quot;,\n\tpriority: 110,\n\tcapabilities: [\&quot;save\&quot;, \&quot;download\&quot;]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn !!window.navigator.msSaveBlob;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new MsDownloadSaver(wiki);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/savers/msdownload.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;saver&quot;
        },
        &quot;$:/core/modules/savers/tiddlyfox.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/savers/tiddlyfox.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via the TiddlyFox file extension\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false, netscape: false, Components: false */\n\&quot;use strict\&quot;;\n\nvar TiddlyFoxSaver = function(wiki) {\n};\n\nTiddlyFoxSaver.prototype.save = function(text,method,callback) {\n\tvar messageBox = document.getElementById(\&quot;tiddlyfox-message-box\&quot;);\n\tif(messageBox) {\n\t\t// Get the pathname of this document\n\t\tvar pathname = document.location.toString().split(\&quot;#\&quot;)[0];\n\t\t// Replace file://localhost/ with file:///\n\t\tif(pathname.indexOf(\&quot;file://localhost/\&quot;) === 0) {\n\t\t\tpathname = \&quot;file://\&quot; + pathname.substr(16);\n\t\t}\n\t\t// Windows path file:///x:/blah/blah --&gt; x:\\blah\\blah\n\t\tif(/^file\\:\\/\\/\\/[A-Z]\\:\\//i.test(pathname)) {\n\t\t\t// Remove the leading slash and convert slashes to backslashes\n\t\t\tpathname = pathname.substr(8).replace(/\\//g,\&quot;\\\\\&quot;);\n\t\t// Firefox Windows network path file://///server/share/blah/blah --&gt; //server/share/blah/blah\n\t\t} else if(pathname.indexOf(\&quot;file://///\&quot;) === 0) {\n\t\t\tpathname = \&quot;\\\\\\\\\&quot; + unescape(pathname.substr(10)).replace(/\\//g,\&quot;\\\\\&quot;);\n\t\t// Mac/Unix local path file:///path/path --&gt; /path/path\n\t\t} else if(pathname.indexOf(\&quot;file:///\&quot;) === 0) {\n\t\t\tpathname = unescape(pathname.substr(7));\n\t\t// Mac/Unix local path file:/path/path --&gt; /path/path\n\t\t} else if(pathname.indexOf(\&quot;file:/\&quot;) === 0) {\n\t\t\tpathname = unescape(pathname.substr(5));\n\t\t// Otherwise Windows networth path file://server/share/path/path --&gt; \\\\server\\share\\path\\path\n\t\t} else {\n\t\t\tpathname = \&quot;\\\\\\\\\&quot; + unescape(pathname.substr(7)).replace(new RegExp(\&quot;/\&quot;,\&quot;g\&quot;),\&quot;\\\\\&quot;);\n\t\t}\n\t\t// Create the message element and put it in the message box\n\t\tvar message = document.createElement(\&quot;div\&quot;);\n\t\tmessage.setAttribute(\&quot;data-tiddlyfox-path\&quot;,decodeURIComponent(pathname));\n\t\tmessage.setAttribute(\&quot;data-tiddlyfox-content\&quot;,text);\n\t\tmessageBox.appendChild(message);\n\t\t// Add an event handler for when the file has been saved\n\t\tmessage.addEventListener(\&quot;tiddlyfox-have-saved-file\&quot;,function(event) {\n\t\t\tcallback(null);\n\t\t}, false);\n\t\t// Create and dispatch the custom event to the extension\n\t\tvar event = document.createEvent(\&quot;Events\&quot;);\n\t\tevent.initEvent(\&quot;tiddlyfox-save-file\&quot;,true,false);\n\t\tmessage.dispatchEvent(event);\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/*\nInformation about this saver\n*/\nTiddlyFoxSaver.prototype.info = {\n\tname: \&quot;tiddlyfox\&quot;,\n\tpriority: 1500,\n\tcapabilities: [\&quot;save\&quot;, \&quot;autosave\&quot;]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn (window.location.protocol === \&quot;file:\&quot;);\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new TiddlyFoxSaver(wiki);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/savers/tiddlyfox.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;saver&quot;
        },
        &quot;$:/core/modules/savers/tiddlyie.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/savers/tiddlyie.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via Internet Explorer BHO extenion (TiddlyIE)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar TiddlyIESaver = function(wiki) {\n};\n\nTiddlyIESaver.prototype.save = function(text,method,callback) {\n\t// Check existence of TiddlyIE BHO extension (note: only works after document is complete)\n\tif(typeof(window.TiddlyIE) != \&quot;undefined\&quot;) {\n\t\t// Get the pathname of this document\n\t\tvar pathname = unescape(document.location.pathname);\n\t\t// Test for a Windows path of the form /x:/blah...\n\t\tif(/^\\/[A-Z]\\:\\/[^\\/]+/i.test(pathname)) {\t// ie: ^/[a-z]:/[^/]+ (is this better?: ^/[a-z]:/[^/]+(/[^/]+)*\\.[^/]+ )\n\t\t\t// Remove the leading slash\n\t\t\tpathname = pathname.substr(1);\n\t\t\t// Convert slashes to backslashes\n\t\t\tpathname = pathname.replace(/\\//g,\&quot;\\\\\&quot;);\n\t\t} else if(document.hostname !== \&quot;\&quot; &amp;&amp; /^\\/[^\\/]+\\/[^\\/]+/i.test(pathname)) {\t// test for \\\\server\\share\\blah... - ^/[^/]+/[^/]+\n\t\t\t// Convert slashes to backslashes\n\t\t\tpathname = pathname.replace(/\\//g,\&quot;\\\\\&quot;);\n\t\t\t// reconstruct UNC path\n\t\t\tpathname = \&quot;\\\\\\\\\&quot; + document.location.hostname + pathname;\n\t\t} else return false;\n\t\t// Prompt the user to save the file\n\t\twindow.TiddlyIE.save(pathname, text);\n\t\t// Callback that we succeeded\n\t\tcallback(null);\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/*\nInformation about this saver\n*/\nTiddlyIESaver.prototype.info = {\n\tname: \&quot;tiddlyiesaver\&quot;,\n\tpriority: 1500,\n\tcapabilities: [\&quot;save\&quot;]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn (window.location.protocol === \&quot;file:\&quot;);\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new TiddlyIESaver(wiki);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/savers/tiddlyie.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;saver&quot;
        },
        &quot;$:/core/modules/savers/twedit.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/savers/twedit.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via the TWEdit iOS app\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false, netscape: false, Components: false */\n\&quot;use strict\&quot;;\n\nvar TWEditSaver = function(wiki) {\n};\n\nTWEditSaver.prototype.save = function(text,method,callback) {\n\t// Bail if we're not running under TWEdit\n\tif(typeof DeviceInfo !== \&quot;object\&quot;) {\n\t\treturn false;\n\t}\n\t// Get the pathname of this document\n\tvar pathname = decodeURIComponent(document.location.pathname);\n\t// Strip any query or location part\n\tvar p = pathname.indexOf(\&quot;?\&quot;);\n\tif(p !== -1) {\n\t\tpathname = pathname.substr(0,p);\n\t}\n\tp = pathname.indexOf(\&quot;#\&quot;);\n\tif(p !== -1) {\n\t\tpathname = pathname.substr(0,p);\n\t}\n\t// Remove the leading \&quot;/Documents\&quot; from path\n\tvar prefix = \&quot;/Documents\&quot;;\n\tif(pathname.indexOf(prefix) === 0) {\n\t\tpathname = pathname.substr(prefix.length);\n\t}\n\t// Error handler\n\tvar errorHandler = function(event) {\n\t\t// Error\n\t\tcallback(\&quot;Error saving to TWEdit: \&quot; + event.target.error.code);\n\t};\n\t// Get the file system\n\twindow.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(fileSystem) {\n\t\t// Now we've got the filesystem, get the fileEntry\n\t\tfileSystem.root.getFile(pathname, {create: true}, function(fileEntry) {\n\t\t\t// Now we've got the fileEntry, create the writer\n\t\t\tfileEntry.createWriter(function(writer) {\n\t\t\t\twriter.onerror = errorHandler;\n\t\t\t\twriter.onwrite = function() {\n\t\t\t\t\tcallback(null);\n\t\t\t\t};\n\t\t\t\twriter.position = 0;\n\t\t\t\twriter.write(text);\n\t\t\t},errorHandler);\n\t\t}, errorHandler);\n\t}, errorHandler);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nTWEditSaver.prototype.info = {\n\tname: \&quot;twedit\&quot;,\n\tpriority: 1600,\n\tcapabilities: [\&quot;save\&quot;, \&quot;autosave\&quot;]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn true;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new TWEditSaver(wiki);\n};\n\n/////////////////////////// Hack\n// HACK: This ensures that TWEdit recognises us as a TiddlyWiki document\nif($tw.browser) {\n\twindow.version = {title: \&quot;TiddlyWiki\&quot;};\n}\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/savers/twedit.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;saver&quot;
        },
        &quot;$:/core/modules/savers/upload.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/savers/upload.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via upload to a server.\n\nDesigned to be compatible with BidiX's UploadPlugin at http://tiddlywiki.bidix.info/#UploadPlugin\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar UploadSaver = function(wiki) {\n\tthis.wiki = wiki;\n};\n\nUploadSaver.prototype.save = function(text,method,callback) {\n\t// Get the various parameters we need\n\tvar backupDir = this.wiki.getTextReference(\&quot;$:/UploadBackupDir\&quot;) || \&quot;.\&quot;,\n\t\tusername = this.wiki.getTextReference(\&quot;$:/UploadName\&quot;),\n\t\tpassword = $tw.utils.getPassword(\&quot;upload\&quot;),\n\t\tuploadDir = this.wiki.getTextReference(\&quot;$:/UploadDir\&quot;) || \&quot;.\&quot;,\n\t\tuploadFilename = this.wiki.getTextReference(\&quot;$:/UploadFilename\&quot;) || \&quot;index.html\&quot;,\n\t\turl = this.wiki.getTextReference(\&quot;$:/UploadURL\&quot;);\n\t// Bail out if we don't have the bits we need\n\tif(!username || username.toString().trim() === \&quot;\&quot; || !password || password.toString().trim() === \&quot;\&quot;) {\n\t\treturn false;\n\t}\n\t// Construct the url if not provided\n\tif(!url) {\n\t\turl = \&quot;http://\&quot; + username + \&quot;.tiddlyspot.com/store.cgi\&quot;;\n\t}\n\t// Assemble the header\n\tvar boundary = \&quot;---------------------------\&quot; + \&quot;AaB03x\&quot;;\t\n\tvar uploadFormName = \&quot;UploadPlugin\&quot;;\n\tvar head = [];\n\thead.push(\&quot;--\&quot; + boundary + \&quot;\\r\\nContent-disposition: form-data; name=\\\&quot;UploadPlugin\\\&quot;\\r\\n\&quot;);\n\thead.push(\&quot;backupDir=\&quot; + backupDir + \&quot;;user=\&quot; + username + \&quot;;password=\&quot; + password + \&quot;;uploaddir=\&quot; + uploadDir + \&quot;;;\&quot;); \n\thead.push(\&quot;\\r\\n\&quot; + \&quot;--\&quot; + boundary);\n\thead.push(\&quot;Content-disposition: form-data; name=\\\&quot;userfile\\\&quot;; filename=\\\&quot;\&quot; + uploadFilename + \&quot;\\\&quot;\&quot;);\n\thead.push(\&quot;Content-Type: text/html;charset=UTF-8\&quot;);\n\thead.push(\&quot;Content-Length: \&quot; + text.length + \&quot;\\r\\n\&quot;);\n\thead.push(\&quot;\&quot;);\n\t// Assemble the tail and the data itself\n\tvar tail = \&quot;\\r\\n--\&quot; + boundary + \&quot;--\\r\\n\&quot;,\n\t\tdata = head.join(\&quot;\\r\\n\&quot;) + text + tail;\n\t// Do the HTTP post\n\tvar http = new XMLHttpRequest();\n\thttp.open(\&quot;POST\&quot;,url,true,username,password);\n\thttp.setRequestHeader(\&quot;Content-Type\&quot;,\&quot;multipart/form-data; ;charset=UTF-8; boundary=\&quot; + boundary);\n\thttp.onreadystatechange = function() {\n\t\tif(http.readyState == 4 &amp;&amp; http.status == 200) {\n\t\t\tif(http.responseText.substr(0,4) === \&quot;0 - \&quot;) {\n\t\t\t\tcallback(null);\n\t\t\t} else {\n\t\t\t\tcallback(http.responseText);\n\t\t\t}\n\t\t}\n\t};\n\ttry {\n\t\thttp.send(data);\n\t} catch(ex) {\n\t\treturn callback(\&quot;Error:\&quot; + ex);\n\t}\n\t$tw.notifier.display(\&quot;$:/language/Notifications/Save/Starting\&quot;);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nUploadSaver.prototype.info = {\n\tname: \&quot;upload\&quot;,\n\tpriority: 2000,\n\tcapabilities: [\&quot;save\&quot;, \&quot;autosave\&quot;]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn true;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new UploadSaver(wiki);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/savers/upload.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;saver&quot;
        },
        &quot;$:/core/modules/startup/commands.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup/commands.js\ntype: application/javascript\nmodule-type: startup\n\nCommand processing\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;commands\&quot;;\nexports.platforms = [\&quot;node\&quot;];\nexports.after = [\&quot;story\&quot;];\nexports.synchronous = false;\n\nexports.startup = function(callback) {\n\t// On the server, start a commander with the command line arguments\n\tvar commander = new $tw.Commander(\n\t\t$tw.boot.argv,\n\t\tfunction(err) {\n\t\t\tif(err) {\n\t\t\t\treturn $tw.utils.error(\&quot;Error: \&quot; + err);\n\t\t\t}\n\t\t\tcallback();\n\t\t},\n\t\t$tw.wiki,\n\t\t{output: process.stdout, error: process.stderr}\n\t);\n\tcommander.execute();\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup/commands.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/startup/favicon.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup/favicon.js\ntype: application/javascript\nmodule-type: startup\n\nFavicon handling\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;favicon\&quot;;\nexports.platforms = [\&quot;browser\&quot;];\nexports.after = [\&quot;startup\&quot;];\nexports.synchronous = true;\n\t\t\n// Favicon tiddler\nvar FAVICON_TITLE = \&quot;$:/favicon.ico\&quot;;\n\nexports.startup = function() {\n\t// Set up the favicon\n\tsetFavicon();\n\t// Reset the favicon when the tiddler changes\n\t$tw.wiki.addEventListener(\&quot;change\&quot;,function(changes) {\n\t\tif($tw.utils.hop(changes,FAVICON_TITLE)) {\n\t\t\tsetFavicon();\n\t\t}\n\t});\n};\n\nfunction setFavicon() {\n\tvar tiddler = $tw.wiki.getTiddler(FAVICON_TITLE);\n\tif(tiddler) {\n\t\tvar faviconLink = document.getElementById(\&quot;faviconLink\&quot;);\n\t\tfaviconLink.setAttribute(\&quot;href\&quot;,\&quot;data:\&quot; + tiddler.fields.type + \&quot;;base64,\&quot; + tiddler.fields.text);\n\t}\n}\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup/favicon.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/startup/info.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup/info.js\ntype: application/javascript\nmodule-type: startup\n\nInitialise $:/info tiddlers via $:/temp/info-plugin pseudo-plugin\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;info\&quot;;\nexports.before = [\&quot;startup\&quot;];\nexports.after = [\&quot;load-modules\&quot;];\nexports.synchronous = true;\n\nexports.startup = function() {\n\t// Collect up the info tiddlers\n\tvar infoTiddlerFields = {};\n\t// Give each info module a chance to fill in as many info tiddlers as they want\n\t$tw.modules.forEachModuleOfType(\&quot;info\&quot;,function(title,moduleExports) {\n\t\tif(moduleExports &amp;&amp; moduleExports.getInfoTiddlerFields) {\n\t\t\tvar tiddlerFieldsArray = moduleExports.getInfoTiddlerFields(infoTiddlerFields);\n\t\t\t$tw.utils.each(tiddlerFieldsArray,function(fields) {\n\t\t\t\tif(fields) {\n\t\t\t\t\tinfoTiddlerFields[fields.title] = fields;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\t// Bake the info tiddlers into a plugin\n\tvar fields = {\n\t\ttitle: \&quot;$:/temp/info-plugin\&quot;,\n\t\ttype: \&quot;application/json\&quot;,\n\t\t\&quot;plugin-type\&quot;: \&quot;info\&quot;,\n\t\ttext: JSON.stringify({tiddlers: infoTiddlerFields},null,$tw.config.preferences.jsonSpaces)\n\t};\n\t$tw.wiki.addTiddler(new $tw.Tiddler(fields));\n\t$tw.wiki.readPluginInfo();\n\t$tw.wiki.registerPluginTiddlers(\&quot;info\&quot;);\n\t$tw.wiki.unpackPluginTiddlers();\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup/info.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/startup/load-modules.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup/load-modules.js\ntype: application/javascript\nmodule-type: startup\n\nLoad core modules\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;load-modules\&quot;;\nexports.synchronous = true;\n\nexports.startup = function() {\n\t// Load modules\n\t$tw.modules.applyMethods(\&quot;utils\&quot;,$tw.utils);\n\tif($tw.node) {\n\t\t$tw.modules.applyMethods(\&quot;utils-node\&quot;,$tw.utils);\n\t}\n\t$tw.modules.applyMethods(\&quot;global\&quot;,$tw);\n\t$tw.modules.applyMethods(\&quot;config\&quot;,$tw.config);\n\t$tw.Tiddler.fieldModules = $tw.modules.getModulesByTypeAsHashmap(\&quot;tiddlerfield\&quot;);\n\t$tw.modules.applyMethods(\&quot;tiddlermethod\&quot;,$tw.Tiddler.prototype);\n\t$tw.modules.applyMethods(\&quot;wikimethod\&quot;,$tw.Wiki.prototype);\n\t$tw.modules.applyMethods(\&quot;tiddlerdeserializer\&quot;,$tw.Wiki.tiddlerDeserializerModules);\n\t$tw.macros = $tw.modules.getModulesByTypeAsHashmap(\&quot;macro\&quot;);\n\t$tw.wiki.initParsers();\n\t$tw.Commander.initCommands();\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup/load-modules.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/startup/password.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup/password.js\ntype: application/javascript\nmodule-type: startup\n\nPassword handling\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;password\&quot;;\nexports.platforms = [\&quot;browser\&quot;];\nexports.after = [\&quot;startup\&quot;];\nexports.synchronous = true;\n\nexports.startup = function() {\n\t$tw.rootWidget.addEventListener(\&quot;tm-set-password\&quot;,function(event) {\n\t\t$tw.passwordPrompt.createPrompt({\n\t\t\tserviceName: $tw.language.getString(\&quot;Encryption/PromptSetPassword\&quot;),\n\t\t\tnoUserName: true,\n\t\t\tsubmitText: \&quot;Set password\&quot;,\n\t\t\tcanCancel: true,\n\t\t\trepeatPassword: true,\n\t\t\tcallback: function(data) {\n\t\t\t\tif(data) {\n\t\t\t\t\t$tw.crypto.setPassword(data.password);\n\t\t\t\t}\n\t\t\t\treturn true; // Get rid of the password prompt\n\t\t\t}\n\t\t});\n\t});\n\t$tw.rootWidget.addEventListener(\&quot;tm-clear-password\&quot;,function(event) {\n\t\tif($tw.browser) {\n\t\t\tif(!confirm($tw.language.getString(\&quot;Encryption/ConfirmClearPassword\&quot;))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t$tw.crypto.setPassword(null);\n\t});\n\t// Ensure that $:/isEncrypted is maintained properly\n\t$tw.wiki.addEventListener(\&quot;change\&quot;,function(changes) {\n\t\tif($tw.utils.hop(changes,\&quot;$:/isEncrypted\&quot;)) {\n\t\t\t$tw.crypto.updateCryptoStateTiddler();\n\t\t}\n\t});\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup/password.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/startup/render.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup/render.js\ntype: application/javascript\nmodule-type: startup\n\nTitle, stylesheet and page rendering\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;render\&quot;;\nexports.platforms = [\&quot;browser\&quot;];\nexports.after = [\&quot;story\&quot;];\nexports.synchronous = true;\n\n// Default story and history lists\nvar PAGE_TITLE_TITLE = \&quot;$:/core/wiki/title\&quot;;\nvar PAGE_STYLESHEET_TITLE = \&quot;$:/core/ui/PageStylesheet\&quot;;\nvar PAGE_TEMPLATE_TITLE = \&quot;$:/core/ui/PageTemplate\&quot;;\n\n// Time (in ms) that we defer refreshing changes to draft tiddlers\nvar DRAFT_TIDDLER_TIMEOUT = 400;\n\nexports.startup = function() {\n\t// Set up the title\n\t$tw.titleWidgetNode = $tw.wiki.makeTranscludeWidget(PAGE_TITLE_TITLE,{document: $tw.fakeDocument, parseAsInline: true});\n\t$tw.titleContainer = $tw.fakeDocument.createElement(\&quot;div\&quot;);\n\t$tw.titleWidgetNode.render($tw.titleContainer,null);\n\tdocument.title = $tw.titleContainer.textContent;\n\t$tw.wiki.addEventListener(\&quot;change\&quot;,function(changes) {\n\t\tif($tw.titleWidgetNode.refresh(changes,$tw.titleContainer,null)) {\n\t\t\tdocument.title = $tw.titleContainer.textContent;\n\t\t}\n\t});\n\t// Set up the styles\n\t$tw.styleWidgetNode = $tw.wiki.makeTranscludeWidget(PAGE_STYLESHEET_TITLE,{document: $tw.fakeDocument});\n\t$tw.styleContainer = $tw.fakeDocument.createElement(\&quot;style\&quot;);\n\t$tw.styleWidgetNode.render($tw.styleContainer,null);\n\t$tw.styleElement = document.createElement(\&quot;style\&quot;);\n\t$tw.styleElement.innerHTML = $tw.styleContainer.textContent;\n\tdocument.head.insertBefore($tw.styleElement,document.head.firstChild);\n\t$tw.wiki.addEventListener(\&quot;change\&quot;,$tw.perf.report(\&quot;styleRefresh\&quot;,function(changes) {\n\t\tif($tw.styleWidgetNode.refresh(changes,$tw.styleContainer,null)) {\n\t\t\t$tw.styleElement.innerHTML = $tw.styleContainer.textContent;\n\t\t}\n\t}));\n\t// Display the $:/core/ui/PageTemplate tiddler to kick off the display\n\t$tw.perf.report(\&quot;mainRender\&quot;,function() {\n\t\t$tw.pageWidgetNode = $tw.wiki.makeTranscludeWidget(PAGE_TEMPLATE_TITLE,{document: document, parentWidget: $tw.rootWidget});\n\t\t$tw.pageContainer = document.createElement(\&quot;div\&quot;);\n\t\t$tw.utils.addClass($tw.pageContainer,\&quot;tc-page-container-wrapper\&quot;);\n\t\tdocument.body.insertBefore($tw.pageContainer,document.body.firstChild);\n\t\t$tw.pageWidgetNode.render($tw.pageContainer,null);\n\t})();\n\t// Prepare refresh mechanism\n\tvar deferredChanges = Object.create(null),\n\t\ttimerId;\n\tfunction refresh() {\n\t\t// Process the refresh\n\t\t$tw.pageWidgetNode.refresh(deferredChanges,$tw.pageContainer,null);\n\t\tdeferredChanges = Object.create(null);\n\t}\n\t// Add the change event handler\n\t$tw.wiki.addEventListener(\&quot;change\&quot;,$tw.perf.report(\&quot;mainRefresh\&quot;,function(changes) {\n\t\t// Check if only drafts have changed\n\t\tvar onlyDraftsHaveChanged = true;\n\t\tfor(var title in changes) {\n\t\t\tvar tiddler = $tw.wiki.getTiddler(title);\n\t\t\tif(!tiddler || !tiddler.hasField(\&quot;draft.of\&quot;)) {\n\t\t\t\tonlyDraftsHaveChanged = false;\n\t\t\t}\n\t\t}\n\t\t// Defer the change if only drafts have changed\n\t\tif(timerId) {\n\t\t\tclearTimeout(timerId);\n\t\t}\n\t\ttimerId = null;\n\t\tif(onlyDraftsHaveChanged) {\n\t\t\ttimerId = setTimeout(refresh,DRAFT_TIDDLER_TIMEOUT);\n\t\t\t$tw.utils.extend(deferredChanges,changes);\n\t\t} else {\n\t\t\t$tw.utils.extend(deferredChanges,changes);\n\t\t\trefresh();\n\t\t}\n\t}));\n\t// Fix up the link between the root widget and the page container\n\t$tw.rootWidget.domNodes = [$tw.pageContainer];\n\t$tw.rootWidget.children = [$tw.pageWidgetNode];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup/render.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/startup/rootwidget.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup/rootwidget.js\ntype: application/javascript\nmodule-type: startup\n\nSetup the root widget and the core root widget handlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;rootwidget\&quot;;\nexports.platforms = [\&quot;browser\&quot;];\nexports.after = [\&quot;startup\&quot;];\nexports.before = [\&quot;story\&quot;];\nexports.synchronous = true;\n\nexports.startup = function() {\n\t// Install the modal message mechanism\n\t$tw.modal = new $tw.utils.Modal($tw.wiki);\n\t$tw.rootWidget.addEventListener(\&quot;tm-modal\&quot;,function(event) {\n\t\t$tw.modal.display(event.param,{variables: event.paramObject});\n\t});\n\t// Install the notification  mechanism\n\t$tw.notifier = new $tw.utils.Notifier($tw.wiki);\n\t$tw.rootWidget.addEventListener(\&quot;tm-notify\&quot;,function(event) {\n\t\t$tw.notifier.display(event.param);\n\t});\n\t// Install the scroller\n\t$tw.pageScroller = new $tw.utils.PageScroller();\n\t$tw.rootWidget.addEventListener(\&quot;tm-scroll\&quot;,function(event) {\n\t\t$tw.pageScroller.handleEvent(event);\n\t});\n\tvar fullscreen = $tw.utils.getFullScreenApis();\n\tif(fullscreen) {\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-full-screen\&quot;,function(event) {\n\t\t\tif(document[fullscreen._fullscreenElement]) {\n\t\t\t\tdocument[fullscreen._exitFullscreen]();\n\t\t\t} else {\n\t\t\t\tdocument.documentElement[fullscreen._requestFullscreen](Element.ALLOW_KEYBOARD_INPUT);\n\t\t\t}\n\t\t});\n\t}\n\t// If we're being viewed on a data: URI then give instructions for how to save\n\tif(document.location.protocol === \&quot;data:\&quot;) {\n\t\t$tw.rootWidget.dispatchEvent({\n\t\t\ttype: \&quot;tm-modal\&quot;,\n\t\t\tparam: \&quot;$:/language/Modals/SaveInstructions\&quot;\n\t\t});\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup/rootwidget.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/startup.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup.js\ntype: application/javascript\nmodule-type: startup\n\nMiscellaneous startup logic for both the client and server.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;startup\&quot;;\nexports.after = [\&quot;load-modules\&quot;];\nexports.synchronous = true;\n\n// Set to `true` to enable performance instrumentation\nvar PERFORMANCE_INSTRUMENTATION = false;\n\nvar widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;);\n\nexports.startup = function() {\n\tvar modules,n,m,f;\n\tif($tw.browser) {\n\t\t$tw.browser.isIE = (/msie|trident/i.test(navigator.userAgent));\n\t}\n\t$tw.version = $tw.utils.extractVersionInfo();\n\t// Set up the performance framework\n\t$tw.perf = new $tw.Performance(PERFORMANCE_INSTRUMENTATION);\n\t// Kick off the language manager and switcher\n\t$tw.language = new $tw.Language();\n\t$tw.languageSwitcher = new $tw.PluginSwitcher({\n\t\twiki: $tw.wiki,\n\t\tpluginType: \&quot;language\&quot;,\n\t\tcontrollerTitle: \&quot;$:/language\&quot;,\n\t\tdefaultPlugins: [\n\t\t\t\&quot;$:/languages/en-US\&quot;\n\t\t]\n\t});\n\t// Kick off the theme manager\n\t$tw.themeManager = new $tw.PluginSwitcher({\n\t\twiki: $tw.wiki,\n\t\tpluginType: \&quot;theme\&quot;,\n\t\tcontrollerTitle: \&quot;$:/theme\&quot;,\n\t\tdefaultPlugins: [\n\t\t\t\&quot;$:/themes/tiddlywiki/snowwhite\&quot;,\n\t\t\t\&quot;$:/themes/tiddlywiki/vanilla\&quot;\n\t\t]\n\t});\n\t// Clear outstanding tiddler store change events to avoid an unnecessary refresh cycle at startup\n\t$tw.wiki.clearTiddlerEventQueue();\n\t// Create a root widget for attaching event handlers. By using it as the parentWidget for another widget tree, one can reuse the event handlers\n\tif($tw.browser) {\n\t\t$tw.rootWidget = new widget.widget({\n\t\t\ttype: \&quot;widget\&quot;,\n\t\t\tchildren: []\n\t\t},{\n\t\t\twiki: $tw.wiki,\n\t\t\tdocument: document\n\t\t});\n\t}\n\t// Find a working syncadaptor\n\t$tw.syncadaptor = undefined;\n\t$tw.modules.forEachModuleOfType(\&quot;syncadaptor\&quot;,function(title,module) {\n\t\tif(!$tw.syncadaptor &amp;&amp; module.adaptorClass) {\n\t\t\t$tw.syncadaptor = new module.adaptorClass({wiki: $tw.wiki});\n\t\t}\n\t});\n\t// Set up the syncer object if we've got a syncadaptor\n\tif($tw.syncadaptor) {\n\t\t$tw.syncer = new $tw.Syncer({wiki: $tw.wiki, syncadaptor: $tw.syncadaptor});\n\t} \n\t// Setup the saver handler\n\t$tw.saverHandler = new $tw.SaverHandler({wiki: $tw.wiki, dirtyTracking: !$tw.syncadaptor});\n\t// Host-specific startup\n\tif($tw.browser) {\n\t\t// Install the popup manager\n\t\t$tw.popup = new $tw.utils.Popup();\n\t\t// Install the animator\n\t\t$tw.anim = new $tw.utils.Animator();\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/startup/story.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup/story.js\ntype: application/javascript\nmodule-type: startup\n\nLoad core modules\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;story\&quot;;\nexports.after = [\&quot;startup\&quot;];\nexports.synchronous = true;\n\n// Default story and history lists\nvar DEFAULT_STORY_TITLE = \&quot;$:/StoryList\&quot;;\nvar DEFAULT_HISTORY_TITLE = \&quot;$:/HistoryList\&quot;;\n\n// Default tiddlers\nvar DEFAULT_TIDDLERS_TITLE = \&quot;$:/DefaultTiddlers\&quot;;\n\n// Config\nvar CONFIG_UPDATE_ADDRESS_BAR = \&quot;$:/config/Navigation/UpdateAddressBar\&quot;; // Can be \&quot;no\&quot;, \&quot;permalink\&quot;, \&quot;permaview\&quot;\nvar CONFIG_UPDATE_HISTORY = \&quot;$:/config/Navigation/UpdateHistory\&quot;; // Can be \&quot;yes\&quot; or \&quot;no\&quot;\n\nexports.startup = function() {\n\t// Open startup tiddlers\n\topenStartupTiddlers();\n\tif($tw.browser) {\n\t\t// Set up location hash update\n\t\t$tw.wiki.addEventListener(\&quot;change\&quot;,function(changes) {\n\t\t\tif($tw.utils.hop(changes,DEFAULT_STORY_TITLE) || $tw.utils.hop(changes,DEFAULT_HISTORY_TITLE)) {\n\t\t\t\tupdateLocationHash({\n\t\t\t\t\tupdateAddressBar: $tw.wiki.getTiddlerText(CONFIG_UPDATE_ADDRESS_BAR,\&quot;permaview\&quot;).trim(),\n\t\t\t\t\tupdateHistory: $tw.wiki.getTiddlerText(CONFIG_UPDATE_HISTORY,\&quot;no\&quot;).trim()\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t// Listen for changes to the browser location hash\n\t\twindow.addEventListener(\&quot;hashchange\&quot;,function() {\n\t\t\tvar hash = $tw.utils.getLocationHash();\n\t\t\tif(hash !== $tw.locationHash) {\n\t\t\t\t$tw.locationHash = hash;\n\t\t\t\topenStartupTiddlers({defaultToCurrentStory: true});\n\t\t\t}\n\t\t},false);\n\t\t// Listen for the tm-browser-refresh message\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-browser-refresh\&quot;,function(event) {\n\t\t\twindow.location.reload(true);\n\t\t});\n\t\t// Listen for the tm-home message\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-home\&quot;,function(event) {\n\t\t\twindow.location.hash = \&quot;\&quot;;\n\t\t\tvar storyFilter = $tw.wiki.getTiddlerText(DEFAULT_TIDDLERS_TITLE),\n\t\t\t\tstoryList = $tw.wiki.filterTiddlers(storyFilter);\n\t\t\t//invoke any hooks that might change the default story list\n\t\t\tstoryList = $tw.hooks.invokeHook(\&quot;th-opening-default-tiddlers-list\&quot;,storyList);\n\t\t\t$tw.wiki.addTiddler({title: DEFAULT_STORY_TITLE, text: \&quot;\&quot;, list: storyList},$tw.wiki.getModificationFields());\n\t\t\tif(storyList[0]) {\n\t\t\t\t$tw.wiki.addToHistory(storyList[0]);\t\t\t\t\n\t\t\t}\n\t\t});\n\t\t// Listen for the tm-permalink message\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-permalink\&quot;,function(event) {\n\t\t\tupdateLocationHash({\n\t\t\t\tupdateAddressBar: \&quot;permalink\&quot;,\n\t\t\t\tupdateHistory: $tw.wiki.getTiddlerText(CONFIG_UPDATE_HISTORY,\&quot;no\&quot;).trim(),\n\t\t\t\ttargetTiddler: event.param || event.tiddlerTitle\n\t\t\t});\n\t\t});\n\t\t// Listen for the tm-permaview message\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-permaview\&quot;,function(event) {\n\t\t\tupdateLocationHash({\n\t\t\t\tupdateAddressBar: \&quot;permaview\&quot;,\n\t\t\t\tupdateHistory: $tw.wiki.getTiddlerText(CONFIG_UPDATE_HISTORY,\&quot;no\&quot;).trim(),\n\t\t\t\ttargetTiddler: event.param || event.tiddlerTitle\n\t\t\t});\n\t\t});\n\t}\n};\n\n/*\nProcess the location hash to open the specified tiddlers. Options:\ndefaultToCurrentStory: If true, the current story is retained as the default, instead of opening the default tiddlers\n*/\nfunction openStartupTiddlers(options) {\n\toptions = options || {};\n\t// Work out the target tiddler and the story filter. \&quot;null\&quot; means \&quot;unspecified\&quot;\n\tvar target = null,\n\t\tstoryFilter = null;\n\tif($tw.locationHash.length &gt; 1) {\n\t\tvar hash = $tw.locationHash.substr(1),\n\t\t\tsplit = hash.indexOf(\&quot;:\&quot;);\n\t\tif(split === -1) {\n\t\t\ttarget = decodeURIComponent(hash.trim());\n\t\t} else {\n\t\t\ttarget = decodeURIComponent(hash.substr(0,split).trim());\n\t\t\tstoryFilter = decodeURIComponent(hash.substr(split + 1).trim());\n\t\t}\n\t}\n\t// If the story wasn't specified use the current tiddlers or a blank story\n\tif(storyFilter === null) {\n\t\tif(options.defaultToCurrentStory) {\n\t\t\tvar currStoryList = $tw.wiki.getTiddlerList(DEFAULT_STORY_TITLE);\n\t\t\tstoryFilter = $tw.utils.stringifyList(currStoryList);\n\t\t} else {\n\t\t\tif(target &amp;&amp; target !== \&quot;\&quot;) {\n\t\t\t\tstoryFilter = \&quot;\&quot;;\n\t\t\t} else {\n\t\t\t\tstoryFilter = $tw.wiki.getTiddlerText(DEFAULT_TIDDLERS_TITLE);\n\t\t\t}\n\t\t}\n\t}\n\t// Process the story filter to get the story list\n\tvar storyList = $tw.wiki.filterTiddlers(storyFilter);\n\t//invoke any hooks that might change the default story list\n\tstoryList = $tw.hooks.invokeHook(\&quot;th-opening-default-tiddlers-list\&quot;,storyList);\n\t// If the target tiddler isn't included then splice it in at the top\n\tif(target &amp;&amp; storyList.indexOf(target) === -1) {\n\t\tstoryList.unshift(target);\n\t}\n\t// Save the story list\n\t$tw.wiki.addTiddler({title: DEFAULT_STORY_TITLE, text: \&quot;\&quot;, list: storyList},$tw.wiki.getModificationFields());\n\t// If a target tiddler was specified add it to the history stack\n\tif(target &amp;&amp; target !== \&quot;\&quot;) {\n\t\t// The target tiddler doesn't need double square brackets, but we'll silently remove them if they're present\n\t\tif(target.indexOf(\&quot;[[\&quot;) === 0 &amp;&amp; target.substr(-2) === \&quot;]]\&quot;) {\n\t\t\ttarget = target.substr(2,target.length - 4);\n\t\t}\n\t\t$tw.wiki.addToHistory(target);\n\t} else if(storyList.length &gt; 0) {\n\t\t$tw.wiki.addToHistory(storyList[0]);\n\t}\n}\n\n/*\noptions: See below\noptions.updateAddressBar: \&quot;permalink\&quot;, \&quot;permaview\&quot; or \&quot;no\&quot; (defaults to \&quot;permaview\&quot;)\noptions.updateHistory: \&quot;yes\&quot; or \&quot;no\&quot; (defaults to \&quot;no\&quot;)\noptions.targetTiddler: optional title of target tiddler for permalink\n*/\nfunction updateLocationHash(options) {\n\tif(options.updateAddressBar !== \&quot;no\&quot;) {\n\t\t// Get the story and the history stack\n\t\tvar storyList = $tw.wiki.getTiddlerList(DEFAULT_STORY_TITLE),\n\t\t\thistoryList = $tw.wiki.getTiddlerData(DEFAULT_HISTORY_TITLE,[]),\n\t\t\ttargetTiddler = \&quot;\&quot;;\n\t\tif(options.targetTiddler) {\n\t\t\ttargetTiddler = options.targetTiddler;\n\t\t} else {\n\t\t\t// The target tiddler is the one at the top of the stack\n\t\t\tif(historyList.length &gt; 0) {\n\t\t\t\ttargetTiddler = historyList[historyList.length-1].title;\n\t\t\t}\n\t\t\t// Blank the target tiddler if it isn't present in the story\n\t\t\tif(storyList.indexOf(targetTiddler) === -1) {\n\t\t\t\ttargetTiddler = \&quot;\&quot;;\n\t\t\t}\n\t\t}\n\t\t// Assemble the location hash\n\t\tif(options.updateAddressBar === \&quot;permalink\&quot;) {\n\t\t\t$tw.locationHash = \&quot;#\&quot; + encodeURIComponent(targetTiddler);\n\t\t} else {\n\t\t\t$tw.locationHash = \&quot;#\&quot; + encodeURIComponent(targetTiddler) + \&quot;:\&quot; + encodeURIComponent($tw.utils.stringifyList(storyList));\n\t\t}\n\t\t// Only change the location hash if we must, thus avoiding unnecessary onhashchange events\n\t\tif($tw.utils.getLocationHash() !== $tw.locationHash) {\n\t\t\tif(options.updateHistory === \&quot;yes\&quot;) {\n\t\t\t\t// Assign the location hash so that history is updated\n\t\t\t\twindow.location.hash = $tw.locationHash;\n\t\t\t} else {\n\t\t\t\t// We use replace so that browser history isn't affected\n\t\t\t\twindow.location.replace(window.location.toString().split(\&quot;#\&quot;)[0] + $tw.locationHash);\n\t\t\t}\n\t\t}\n\t}\n}\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup/story.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/storyviews/classic.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/storyviews/classic.js\ntype: application/javascript\nmodule-type: storyview\n\nViews the story as a linear sequence\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar easing = \&quot;cubic-bezier(0.645, 0.045, 0.355, 1)\&quot;; // From http://easings.net/#easeInOutCubic\n\nvar ClassicStoryView = function(listWidget) {\n\tthis.listWidget = listWidget;\n};\n\nClassicStoryView.prototype.navigateTo = function(historyInfo) {\n\tvar listElementIndex = this.listWidget.findListItem(0,historyInfo.title);\n\tif(listElementIndex === undefined) {\n\t\treturn;\n\t}\n\tvar listItemWidget = this.listWidget.children[listElementIndex],\n\t\ttargetElement = listItemWidget.findFirstDomNode();\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\treturn;\n\t}\n\t// Scroll the node into view\n\tthis.listWidget.dispatchEvent({type: \&quot;tm-scroll\&quot;, target: targetElement});\n};\n\nClassicStoryView.prototype.insert = function(widget) {\n\tvar targetElement = widget.findFirstDomNode(),\n\t\tduration = $tw.utils.getAnimationDuration();\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\treturn;\n\t}\n\t// Get the current height of the tiddler\n\tvar computedStyle = window.getComputedStyle(targetElement),\n\t\tcurrMarginBottom = parseInt(computedStyle.marginBottom,10),\n\t\tcurrMarginTop = parseInt(computedStyle.marginTop,10),\n\t\tcurrHeight = targetElement.offsetHeight + currMarginTop;\n\t// Reset the margin once the transition is over\n\tsetTimeout(function() {\n\t\t$tw.utils.setStyle(targetElement,[\n\t\t\t{transition: \&quot;none\&quot;},\n\t\t\t{marginBottom: \&quot;\&quot;}\n\t\t]);\n\t},duration);\n\t// Set up the initial position of the element\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: \&quot;none\&quot;},\n\t\t{marginBottom: (-currHeight) + \&quot;px\&quot;},\n\t\t{opacity: \&quot;0.0\&quot;}\n\t]);\n\t$tw.utils.forceLayout(targetElement);\n\t// Transition to the final position\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: \&quot;opacity \&quot; + duration + \&quot;ms \&quot; + easing + \&quot;, \&quot; +\n\t\t\t\t\t\&quot;margin-bottom \&quot; + duration + \&quot;ms \&quot; + easing},\n\t\t{marginBottom: currMarginBottom + \&quot;px\&quot;},\n\t\t{opacity: \&quot;1.0\&quot;}\n\t]);\n};\n\nClassicStoryView.prototype.remove = function(widget) {\n\tvar targetElement = widget.findFirstDomNode(),\n\t\tduration = $tw.utils.getAnimationDuration(),\n\t\tremoveElement = function() {\n\t\t\twidget.removeChildDomNodes();\n\t\t};\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\tremoveElement();\n\t\treturn;\n\t}\n\t// Get the current height of the tiddler\n\tvar currWidth = targetElement.offsetWidth,\n\t\tcomputedStyle = window.getComputedStyle(targetElement),\n\t\tcurrMarginBottom = parseInt(computedStyle.marginBottom,10),\n\t\tcurrMarginTop = parseInt(computedStyle.marginTop,10),\n\t\tcurrHeight = targetElement.offsetHeight + currMarginTop;\n\t// Remove the dom nodes of the widget at the end of the transition\n\tsetTimeout(removeElement,duration);\n\t// Animate the closure\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: \&quot;none\&quot;},\n\t\t{transform: \&quot;translateX(0px)\&quot;},\n\t\t{marginBottom:  currMarginBottom + \&quot;px\&quot;},\n\t\t{opacity: \&quot;1.0\&quot;}\n\t]);\n\t$tw.utils.forceLayout(targetElement);\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\&quot;transform\&quot;) + \&quot; \&quot; + duration + \&quot;ms \&quot; + easing + \&quot;, \&quot; +\n\t\t\t\t\t\&quot;opacity \&quot; + duration + \&quot;ms \&quot; + easing + \&quot;, \&quot; +\n\t\t\t\t\t\&quot;margin-bottom \&quot; + duration + \&quot;ms \&quot; + easing},\n\t\t{transform: \&quot;translateX(-\&quot; + currWidth + \&quot;px)\&quot;},\n\t\t{marginBottom: (-currHeight) + \&quot;px\&quot;},\n\t\t{opacity: \&quot;0.0\&quot;}\n\t]);\n};\n\nexports.classic = ClassicStoryView;\n\n})();&quot;,
            &quot;title&quot;: &quot;$:/core/modules/storyviews/classic.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;storyview&quot;
        },
        &quot;$:/core/modules/storyviews/pop.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/storyviews/pop.js\ntype: application/javascript\nmodule-type: storyview\n\nAnimates list insertions and removals\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar PopStoryView = function(listWidget) {\n\tthis.listWidget = listWidget;\n};\n\nPopStoryView.prototype.navigateTo = function(historyInfo) {\n\tvar listElementIndex = this.listWidget.findListItem(0,historyInfo.title);\n\tif(listElementIndex === undefined) {\n\t\treturn;\n\t}\n\tvar listItemWidget = this.listWidget.children[listElementIndex],\n\t\ttargetElement = listItemWidget.findFirstDomNode();\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\treturn;\n\t}\n\t// Scroll the node into view\n\tthis.listWidget.dispatchEvent({type: \&quot;tm-scroll\&quot;, target: targetElement});\n};\n\nPopStoryView.prototype.insert = function(widget) {\n\tvar targetElement = widget.findFirstDomNode(),\n\t\tduration = $tw.utils.getAnimationDuration();\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\treturn;\n\t}\n\t// Reset once the transition is over\n\tsetTimeout(function() {\n\t\t$tw.utils.setStyle(targetElement,[\n\t\t\t{transition: \&quot;none\&quot;},\n\t\t\t{transform: \&quot;none\&quot;}\n\t\t]);\n\t},duration);\n\t// Set up the initial position of the element\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: \&quot;none\&quot;},\n\t\t{transform: \&quot;scale(2)\&quot;},\n\t\t{opacity: \&quot;0.0\&quot;}\n\t]);\n\t$tw.utils.forceLayout(targetElement);\n\t// Transition to the final position\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\&quot;transform\&quot;) + \&quot; \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;opacity \&quot; + duration + \&quot;ms ease-in-out\&quot;},\n\t\t{transform: \&quot;scale(1)\&quot;},\n\t\t{opacity: \&quot;1.0\&quot;}\n\t]);\n};\n\nPopStoryView.prototype.remove = function(widget) {\n\tvar targetElement = widget.findFirstDomNode(),\n\t\tduration = $tw.utils.getAnimationDuration(),\n\t\tremoveElement = function() {\n\t\t\tif(targetElement.parentNode) {\n\t\t\t\twidget.removeChildDomNodes();\n\t\t\t}\n\t\t};\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\tremoveElement();\n\t\treturn;\n\t}\n\t// Remove the element at the end of the transition\n\tsetTimeout(removeElement,duration);\n\t// Animate the closure\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: \&quot;none\&quot;},\n\t\t{transform: \&quot;scale(1)\&quot;},\n\t\t{opacity: \&quot;1.0\&quot;}\n\t]);\n\t$tw.utils.forceLayout(targetElement);\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\&quot;transform\&quot;) + \&quot; \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;opacity \&quot; + duration + \&quot;ms ease-in-out\&quot;},\n\t\t{transform: \&quot;scale(0.1)\&quot;},\n\t\t{opacity: \&quot;0.0\&quot;}\n\t]);\n};\n\nexports.pop = PopStoryView;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/storyviews/pop.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;storyview&quot;
        },
        &quot;$:/core/modules/storyviews/zoomin.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/storyviews/zoomin.js\ntype: application/javascript\nmodule-type: storyview\n\nZooms between individual tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar easing = \&quot;cubic-bezier(0.645, 0.045, 0.355, 1)\&quot;; // From http://easings.net/#easeInOutCubic\n\nvar ZoominListView = function(listWidget) {\n\tvar self = this;\n\tthis.listWidget = listWidget;\n\t// Get the index of the tiddler that is at the top of the history\n\tvar history = this.listWidget.wiki.getTiddlerData(this.listWidget.historyTitle,[]),\n\t\ttargetTiddler;\n\tif(history.length &gt; 0) {\n\t\ttargetTiddler = history[history.length-1].title;\n\t}\n\t// Make all the tiddlers position absolute, and hide all but the top (or first) one\n\t$tw.utils.each(this.listWidget.children,function(itemWidget,index) {\n\t\tvar domNode = itemWidget.findFirstDomNode();\n\t\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\t\tif(!(domNode instanceof Element)) {\n\t\t\treturn;\n\t\t}\n\t\tif(targetTiddler !== itemWidget.parseTreeNode.itemTitle || (!targetTiddler &amp;&amp; index)) {\n\t\t\tdomNode.style.display = \&quot;none\&quot;;\n\t\t} else {\n\t\t\tself.currentTiddlerDomNode = domNode;\n\t\t}\n\t\t$tw.utils.addClass(domNode,\&quot;tc-storyview-zoomin-tiddler\&quot;);\n\t});\n};\n\nZoominListView.prototype.navigateTo = function(historyInfo) {\n\tvar duration = $tw.utils.getAnimationDuration(),\n\t\tlistElementIndex = this.listWidget.findListItem(0,historyInfo.title);\n\tif(listElementIndex === undefined) {\n\t\treturn;\n\t}\n\tvar listItemWidget = this.listWidget.children[listElementIndex],\n\t\ttargetElement = listItemWidget.findFirstDomNode();\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\treturn;\n\t}\n\t// Make the new tiddler be position absolute and visible so that we can measure it\n\t$tw.utils.addClass(targetElement,\&quot;tc-storyview-zoomin-tiddler\&quot;);\n\t$tw.utils.setStyle(targetElement,[\n\t\t{display: \&quot;block\&quot;},\n\t\t{transformOrigin: \&quot;0 0\&quot;},\n\t\t{transform: \&quot;translateX(0px) translateY(0px) scale(1)\&quot;},\n\t\t{transition: \&quot;none\&quot;},\n\t\t{opacity: \&quot;0.0\&quot;}\n\t]);\n\t// Get the position of the source node, or use the centre of the window as the source position\n\tvar sourceBounds = historyInfo.fromPageRect || {\n\t\t\tleft: window.innerWidth/2 - 2,\n\t\t\ttop: window.innerHeight/2 - 2,\n\t\t\twidth: window.innerWidth/8,\n\t\t\theight: window.innerHeight/8\n\t\t};\n\t// Try to find the title node in the target tiddler\n\tvar titleDomNode = findTitleDomNode(listItemWidget) || listItemWidget.findFirstDomNode(),\n\t\tzoomBounds = titleDomNode.getBoundingClientRect();\n\t// Compute the transform for the target tiddler to make the title lie over the source rectange\n\tvar targetBounds = targetElement.getBoundingClientRect(),\n\t\tscale = sourceBounds.width / zoomBounds.width,\n\t\tx = sourceBounds.left - targetBounds.left - (zoomBounds.left - targetBounds.left) * scale,\n\t\ty = sourceBounds.top - targetBounds.top - (zoomBounds.top - targetBounds.top) * scale;\n\t// Transform the target tiddler to its starting position\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transform: \&quot;translateX(\&quot; + x + \&quot;px) translateY(\&quot; + y + \&quot;px) scale(\&quot; + scale + \&quot;)\&quot;}\n\t]);\n\t// Force layout\n\t$tw.utils.forceLayout(targetElement);\n\t// Apply the ending transitions with a timeout to ensure that the previously applied transformations are applied first\n\tvar self = this,\n\t\tprevCurrentTiddler = this.currentTiddlerDomNode;\n\tthis.currentTiddlerDomNode = targetElement;\n\t// Transform the target tiddler to its natural size\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\&quot;transform\&quot;) + \&quot; \&quot; + duration + \&quot;ms \&quot; + easing + \&quot;, opacity \&quot; + duration + \&quot;ms \&quot; + easing},\n\t\t{opacity: \&quot;1.0\&quot;},\n\t\t{transform: \&quot;translateX(0px) translateY(0px) scale(1)\&quot;},\n\t\t{zIndex: \&quot;500\&quot;},\n\t]);\n\t// Transform the previous tiddler out of the way and then hide it\n\tif(prevCurrentTiddler &amp;&amp; prevCurrentTiddler !== targetElement) {\n\t\tscale = zoomBounds.width / sourceBounds.width;\n\t\tx =  zoomBounds.left - targetBounds.left - (sourceBounds.left - targetBounds.left) * scale;\n\t\ty =  zoomBounds.top - targetBounds.top - (sourceBounds.top - targetBounds.top) * scale;\n\t\t$tw.utils.setStyle(prevCurrentTiddler,[\n\t\t\t{transition: $tw.utils.roundTripPropertyName(\&quot;transform\&quot;) + \&quot; \&quot; + duration + \&quot;ms \&quot; + easing + \&quot;, opacity \&quot; + duration + \&quot;ms \&quot; + easing},\n\t\t\t{opacity: \&quot;0.0\&quot;},\n\t\t\t{transformOrigin: \&quot;0 0\&quot;},\n\t\t\t{transform: \&quot;translateX(\&quot; + x + \&quot;px) translateY(\&quot; + y + \&quot;px) scale(\&quot; + scale + \&quot;)\&quot;},\n\t\t\t{zIndex: \&quot;0\&quot;}\n\t\t]);\n\t\t// Hide the tiddler when the transition has finished\n\t\tsetTimeout(function() {\n\t\t\tif(self.currentTiddlerDomNode !== prevCurrentTiddler) {\n\t\t\t\tprevCurrentTiddler.style.display = \&quot;none\&quot;;\n\t\t\t}\n\t\t},duration);\n\t}\n\t// Scroll the target into view\n//\t$tw.pageScroller.scrollIntoView(targetElement);\n};\n\n/*\nFind the first child DOM node of a widget that has the class \&quot;tc-title\&quot;\n*/\nfunction findTitleDomNode(widget,targetClass) {\n\ttargetClass = targetClass || \&quot;tc-title\&quot;;\n\tvar domNode = widget.findFirstDomNode();\n\tif(domNode &amp;&amp; domNode.querySelector) {\n\t\treturn domNode.querySelector(\&quot;.\&quot; + targetClass);\n\t}\n\treturn null;\n}\n\nZoominListView.prototype.insert = function(widget) {\n\tvar targetElement = widget.findFirstDomNode();\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\treturn;\n\t}\n\t// Make the newly inserted node position absolute and hidden\n\t$tw.utils.addClass(targetElement,\&quot;tc-storyview-zoomin-tiddler\&quot;);\n\t$tw.utils.setStyle(targetElement,[\n\t\t{display: \&quot;none\&quot;}\n\t]);\n};\n\nZoominListView.prototype.remove = function(widget) {\n\tvar targetElement = widget.findFirstDomNode(),\n\t\tduration = $tw.utils.getAnimationDuration(),\n\t\tremoveElement = function() {\n\t\t\twidget.removeChildDomNodes();\n\t\t};\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\tremoveElement();\n\t\treturn;\n\t}\n\t// Set up the tiddler that is being closed\n\t$tw.utils.addClass(targetElement,\&quot;tc-storyview-zoomin-tiddler\&quot;);\n\t$tw.utils.setStyle(targetElement,[\n\t\t{display: \&quot;block\&quot;},\n\t\t{transformOrigin: \&quot;50% 50%\&quot;},\n\t\t{transform: \&quot;translateX(0px) translateY(0px) scale(1)\&quot;},\n\t\t{transition: \&quot;none\&quot;},\n\t\t{zIndex: \&quot;0\&quot;}\n\t]);\n\t// We'll move back to the previous or next element in the story\n\tvar toWidget = widget.previousSibling();\n\tif(!toWidget) {\n\t\ttoWidget = widget.nextSibling();\n\t}\n\tvar toWidgetDomNode = toWidget &amp;&amp; toWidget.findFirstDomNode();\n\t// Set up the tiddler we're moving back in\n\tif(toWidgetDomNode) {\n\t\t$tw.utils.addClass(toWidgetDomNode,\&quot;tc-storyview-zoomin-tiddler\&quot;);\n\t\t$tw.utils.setStyle(toWidgetDomNode,[\n\t\t\t{display: \&quot;block\&quot;},\n\t\t\t{transformOrigin: \&quot;50% 50%\&quot;},\n\t\t\t{transform: \&quot;translateX(0px) translateY(0px) scale(10)\&quot;},\n\t\t\t{transition: $tw.utils.roundTripPropertyName(\&quot;transform\&quot;) + \&quot; \&quot; + duration + \&quot;ms \&quot; + easing + \&quot;, opacity \&quot; + duration + \&quot;ms \&quot; + easing},\n\t\t\t{opacity: \&quot;0\&quot;},\n\t\t\t{zIndex: \&quot;500\&quot;}\n\t\t]);\n\t\tthis.currentTiddlerDomNode = toWidgetDomNode;\n\t}\n\t// Animate them both\n\t// Force layout\n\t$tw.utils.forceLayout(this.listWidget.parentDomNode);\n\t// First, the tiddler we're closing\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transformOrigin: \&quot;50% 50%\&quot;},\n\t\t{transform: \&quot;translateX(0px) translateY(0px) scale(0.1)\&quot;},\n\t\t{transition: $tw.utils.roundTripPropertyName(\&quot;transform\&quot;) + \&quot; \&quot; + duration + \&quot;ms \&quot; + easing + \&quot;, opacity \&quot; + duration + \&quot;ms \&quot; + easing},\n\t\t{opacity: \&quot;0\&quot;},\n\t\t{zIndex: \&quot;0\&quot;}\n\t]);\n\tsetTimeout(removeElement,duration);\n\t// Now the tiddler we're going back to\n\tif(toWidgetDomNode) {\n\t\t$tw.utils.setStyle(toWidgetDomNode,[\n\t\t\t{transform: \&quot;translateX(0px) translateY(0px) scale(1)\&quot;},\n\t\t\t{opacity: \&quot;1\&quot;}\n\t\t]);\n\t}\n\treturn true; // Indicate that we'll delete the DOM node\n};\n\nexports.zoomin = ZoominListView;\n\n})();&quot;,
            &quot;title&quot;: &quot;$:/core/modules/storyviews/zoomin.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;storyview&quot;
        },
        &quot;$:/core/modules/syncer.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/syncer.js\ntype: application/javascript\nmodule-type: global\n\nThe syncer tracks changes to the store. If a syncadaptor is used then individual tiddlers are synchronised through it. If there is no syncadaptor then the entire wiki is saved via saver modules.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInstantiate the syncer with the following options:\nsyncadaptor: reference to syncadaptor to be used\nwiki: wiki to be synced\n*/\nfunction Syncer(options) {\n\tvar self = this;\n\tthis.wiki = options.wiki;\n\tthis.syncadaptor = options.syncadaptor;\n\t// Make a logger\n\tthis.logger = new $tw.utils.Logger(\&quot;syncer\&quot; + ($tw.browser ? \&quot;-browser\&quot; : \&quot;\&quot;) + ($tw.node ? \&quot;-server\&quot; : \&quot;\&quot;));\n\t// Compile the dirty tiddler filter\n\tthis.filterFn = this.wiki.compileFilter(this.wiki.getTiddlerText(this.titleSyncFilter));\n\t// Record information for known tiddlers\n\tthis.readTiddlerInfo();\n\t// Tasks are {type: \&quot;load\&quot;/\&quot;save\&quot;/\&quot;delete\&quot;, title:, queueTime:, lastModificationTime:}\n\tthis.taskQueue = {}; // Hashmap of tasks yet to be performed\n\tthis.taskInProgress = {}; // Hash of tasks in progress\n\tthis.taskTimerId = null; // Timer for task dispatch\n\tthis.pollTimerId = null; // Timer for polling server\n\t// Listen out for changes to tiddlers\n\tthis.wiki.addEventListener(\&quot;change\&quot;,function(changes) {\n\t\tself.syncToServer(changes);\n\t});\n\t// Browser event handlers\n\tif($tw.browser) {\n\t\t// Set up our beforeunload handler\n\t\twindow.addEventListener(\&quot;beforeunload\&quot;,function(event) {\n\t\t\tvar confirmationMessage;\n\t\t\tif(self.isDirty()) {\n\t\t\t\tconfirmationMessage = $tw.language.getString(\&quot;UnsavedChangesWarning\&quot;);\n\t\t\t\tevent.returnValue = confirmationMessage; // Gecko\n\t\t\t}\n\t\t\treturn confirmationMessage;\n\t\t});\n\t\t// Listen out for login/logout/refresh events in the browser\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-login\&quot;,function() {\n\t\t\tself.handleLoginEvent();\n\t\t});\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-logout\&quot;,function() {\n\t\t\tself.handleLogoutEvent();\n\t\t});\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-server-refresh\&quot;,function() {\n\t\t\tself.handleRefreshEvent();\n\t\t});\n\t}\n\t// Listen out for lazyLoad events\n\tthis.wiki.addEventListener(\&quot;lazyLoad\&quot;,function(title) {\n\t\tself.handleLazyLoadEvent(title);\n\t});\n\t// Get the login status\n\tthis.getStatus(function(err,isLoggedIn) {\n\t\t// Do a sync from the server\n\t\tself.syncFromServer();\n\t});\n}\n\n/*\nConstants\n*/\nSyncer.prototype.titleIsLoggedIn = \&quot;$:/status/IsLoggedIn\&quot;;\nSyncer.prototype.titleUserName = \&quot;$:/status/UserName\&quot;;\nSyncer.prototype.titleSyncFilter = \&quot;$:/config/SyncFilter\&quot;;\nSyncer.prototype.titleSavedNotification = \&quot;$:/language/Notifications/Save/Done\&quot;;\nSyncer.prototype.taskTimerInterval = 1 * 1000; // Interval for sync timer\nSyncer.prototype.throttleInterval = 1 * 1000; // Defer saving tiddlers if they've changed in the last 1s...\nSyncer.prototype.fallbackInterval = 10 * 1000; // Unless the task is older than 10s\nSyncer.prototype.pollTimerInterval = 60 * 1000; // Interval for polling for changes from the adaptor\n\n\n/*\nRead (or re-read) the latest tiddler info from the store\n*/\nSyncer.prototype.readTiddlerInfo = function() {\n\t// Hashmap by title of {revision:,changeCount:,adaptorInfo:}\n\tthis.tiddlerInfo = {};\n\t// Record information for known tiddlers\n\tvar self = this,\n\t\ttiddlers = this.filterFn.call(this.wiki);\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar tiddler = self.wiki.getTiddler(title);\n\t\tself.tiddlerInfo[title] = {\n\t\t\trevision: tiddler.fields.revision,\n\t\t\tadaptorInfo: self.syncadaptor &amp;&amp; self.syncadaptor.getTiddlerInfo(tiddler),\n\t\t\tchangeCount: self.wiki.getChangeCount(title)\n\t\t};\n\t});\n};\n\n/*\nChecks whether the wiki is dirty (ie the window shouldn't be closed)\n*/\nSyncer.prototype.isDirty = function() {\n\treturn (this.numTasksInQueue() &gt; 0) || (this.numTasksInProgress() &gt; 0);\n};\n\n/*\nUpdate the document body with the class \&quot;tc-dirty\&quot; if the wiki has unsaved/unsynced changes\n*/\nSyncer.prototype.updateDirtyStatus = function() {\n\tif($tw.browser) {\n\t\t$tw.utils.toggleClass(document.body,\&quot;tc-dirty\&quot;,this.isDirty());\n\t}\n};\n\n/*\nSave an incoming tiddler in the store, and updates the associated tiddlerInfo\n*/\nSyncer.prototype.storeTiddler = function(tiddlerFields) {\n\t// Save the tiddler\n\tvar tiddler = new $tw.Tiddler(this.wiki.getTiddler(tiddlerFields.title),tiddlerFields);\n\tthis.wiki.addTiddler(tiddler);\n\t// Save the tiddler revision and changeCount details\n\tthis.tiddlerInfo[tiddlerFields.title] = {\n\t\trevision: tiddlerFields.revision,\n\t\tadaptorInfo: this.syncadaptor.getTiddlerInfo(tiddler),\n\t\tchangeCount: this.wiki.getChangeCount(tiddlerFields.title)\n\t};\n};\n\nSyncer.prototype.getStatus = function(callback) {\n\tvar self = this;\n\t// Check if the adaptor supports getStatus()\n\tif(this.syncadaptor &amp;&amp; this.syncadaptor.getStatus) {\n\t\t// Mark us as not logged in\n\t\tthis.wiki.addTiddler({title: this.titleIsLoggedIn,text: \&quot;no\&quot;});\n\t\t// Get login status\n\t\tthis.syncadaptor.getStatus(function(err,isLoggedIn,username) {\n\t\t\tif(err) {\n\t\t\t\tself.logger.alert(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Set the various status tiddlers\n\t\t\tself.wiki.addTiddler({title: self.titleIsLoggedIn,text: isLoggedIn ? \&quot;yes\&quot; : \&quot;no\&quot;});\n\t\t\tif(isLoggedIn) {\n\t\t\t\tself.wiki.addTiddler({title: self.titleUserName,text: username || \&quot;\&quot;});\n\t\t\t} else {\n\t\t\t\tself.wiki.deleteTiddler(self.titleUserName);\n\t\t\t}\n\t\t\t// Invoke the callback\n\t\t\tif(callback) {\n\t\t\t\tcallback(err,isLoggedIn,username);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tcallback(null,true,\&quot;UNAUTHENTICATED\&quot;);\n\t}\n};\n\n/*\nSynchronise from the server by reading the skinny tiddler list and queuing up loads for any tiddlers that we don't already have up to date\n*/\nSyncer.prototype.syncFromServer = function() {\n\tif(this.syncadaptor &amp;&amp; this.syncadaptor.getSkinnyTiddlers) {\n\t\tthis.logger.log(\&quot;Retrieving skinny tiddler list\&quot;);\n\t\tvar self = this;\n\t\tif(this.pollTimerId) {\n\t\t\tclearTimeout(this.pollTimerId);\n\t\t\tthis.pollTimerId = null;\n\t\t}\n\t\tthis.syncadaptor.getSkinnyTiddlers(function(err,tiddlers) {\n\t\t\t// Trigger the next sync\n\t\t\tself.pollTimerId = setTimeout(function() {\n\t\t\t\tself.pollTimerId = null;\n\t\t\t\tself.syncFromServer.call(self);\n\t\t\t},self.pollTimerInterval);\n\t\t\t// Check for errors\n\t\t\tif(err) {\n\t\t\t\tself.logger.alert(\&quot;Error retrieving skinny tiddler list:\&quot;,err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Process each incoming tiddler\n\t\t\tfor(var t=0; t&lt;tiddlers.length; t++) {\n\t\t\t\t// Get the incoming tiddler fields, and the existing tiddler\n\t\t\t\tvar tiddlerFields = tiddlers[t],\n\t\t\t\t\tincomingRevision = tiddlerFields.revision + \&quot;\&quot;,\n\t\t\t\t\ttiddler = self.wiki.getTiddler(tiddlerFields.title),\n\t\t\t\t\ttiddlerInfo = self.tiddlerInfo[tiddlerFields.title],\n\t\t\t\t\tcurrRevision = tiddlerInfo ? tiddlerInfo.revision : null;\n\t\t\t\t// Ignore the incoming tiddler if it's the same as the revision we've already got\n\t\t\t\tif(currRevision !== incomingRevision) {\n\t\t\t\t\t// Do a full load if we've already got a fat version of the tiddler\n\t\t\t\t\tif(tiddler &amp;&amp; tiddler.fields.text !== undefined) {\n\t\t\t\t\t\t// Do a full load of this tiddler\n\t\t\t\t\t\tself.enqueueSyncTask({\n\t\t\t\t\t\t\ttype: \&quot;load\&quot;,\n\t\t\t\t\t\t\ttitle: tiddlerFields.title\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Load the skinny version of the tiddler\n\t\t\t\t\t\tself.storeTiddler(tiddlerFields);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n};\n\n/*\nSynchronise a set of changes to the server\n*/\nSyncer.prototype.syncToServer = function(changes) {\n\tvar self = this,\n\t\tnow = Date.now(),\n\t\tfilteredChanges = this.filterFn.call(this.wiki,function(callback) {\n\t\t\t$tw.utils.each(changes,function(change,title) {\n\t\t\t\tvar tiddler = self.wiki.getTiddler(title);\n\t\t\t\tcallback(tiddler,title);\n\t\t\t});\n\t\t});\n\t$tw.utils.each(changes,function(change,title,object) {\n\t\t// Process the change if it is a deletion of a tiddler we're already syncing, or is on the filtered change list\n\t\tif((change.deleted &amp;&amp; $tw.utils.hop(self.tiddlerInfo,title)) || filteredChanges.indexOf(title) !== -1) {\n\t\t\t// Queue a task to sync this tiddler\n\t\t\tself.enqueueSyncTask({\n\t\t\t\ttype: change.deleted ? \&quot;delete\&quot; : \&quot;save\&quot;,\n\t\t\t\ttitle: title\n\t\t\t});\n\t\t}\n\t});\n};\n\n/*\nLazily load a skinny tiddler if we can\n*/\nSyncer.prototype.handleLazyLoadEvent = function(title) {\n\t// Queue up a sync task to load this tiddler\n\tthis.enqueueSyncTask({\n\t\ttype: \&quot;load\&quot;,\n\t\ttitle: title\n\t});\n};\n\n/*\nDispay a password prompt and allow the user to login\n*/\nSyncer.prototype.handleLoginEvent = function() {\n\tvar self = this;\n\tthis.getStatus(function(err,isLoggedIn,username) {\n\t\tif(!isLoggedIn) {\n\t\t\t$tw.passwordPrompt.createPrompt({\n\t\t\t\tserviceName: \&quot;Login to TiddlySpace\&quot;,\n\t\t\t\tcallback: function(data) {\n\t\t\t\t\tself.login(data.username,data.password,function(err,isLoggedIn) {\n\t\t\t\t\t\tself.syncFromServer();\n\t\t\t\t\t});\n\t\t\t\t\treturn true; // Get rid of the password prompt\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n};\n\n/*\nAttempt to login to TiddlyWeb.\n\tusername: username\n\tpassword: password\n\tcallback: invoked with arguments (err,isLoggedIn)\n*/\nSyncer.prototype.login = function(username,password,callback) {\n\tthis.logger.log(\&quot;Attempting to login as\&quot;,username);\n\tvar self = this;\n\tif(this.syncadaptor.login) {\n\t\tthis.syncadaptor.login(username,password,function(err) {\n\t\t\tif(err) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\t\tself.getStatus(function(err,isLoggedIn,username) {\n\t\t\t\tif(callback) {\n\t\t\t\t\tcallback(null,isLoggedIn);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t} else {\n\t\tcallback(null,true);\n\t}\n};\n\n/*\nAttempt to log out of TiddlyWeb\n*/\nSyncer.prototype.handleLogoutEvent = function() {\n\tthis.logger.log(\&quot;Attempting to logout\&quot;);\n\tvar self = this;\n\tif(this.syncadaptor.logout) {\n\t\tthis.syncadaptor.logout(function(err) {\n\t\t\tif(err) {\n\t\t\t\tself.logger.alert(err);\n\t\t\t} else {\n\t\t\t\tself.getStatus();\n\t\t\t}\n\t\t});\n\t}\n};\n\n/*\nImmediately refresh from the server\n*/\nSyncer.prototype.handleRefreshEvent = function() {\n\tthis.syncFromServer();\n};\n\n/*\nQueue up a sync task. If there is already a pending task for the tiddler, just update the last modification time\n*/\nSyncer.prototype.enqueueSyncTask = function(task) {\n\tvar self = this,\n\t\tnow = Date.now();\n\t// Set the timestamps on this task\n\ttask.queueTime = now;\n\ttask.lastModificationTime = now;\n\t// Fill in some tiddlerInfo if the tiddler is one we haven't seen before\n\tif(!$tw.utils.hop(this.tiddlerInfo,task.title)) {\n\t\tthis.tiddlerInfo[task.title] = {\n\t\t\trevision: null,\n\t\t\tadaptorInfo: {},\n\t\t\tchangeCount: -1\n\t\t};\n\t}\n\t// Bail if this is a save and the tiddler is already at the changeCount that the server has\n\tif(task.type === \&quot;save\&quot; &amp;&amp; this.wiki.getChangeCount(task.title) &lt;= this.tiddlerInfo[task.title].changeCount) {\n\t\treturn;\n\t}\n\t// Check if this tiddler is already in the queue\n\tif($tw.utils.hop(this.taskQueue,task.title)) {\n\t\t// this.logger.log(\&quot;Re-queueing up sync task with type:\&quot;,task.type,\&quot;title:\&quot;,task.title);\n\t\tvar existingTask = this.taskQueue[task.title];\n\t\t// If so, just update the last modification time\n\t\texistingTask.lastModificationTime = task.lastModificationTime;\n\t\t// If the new task is a save then we upgrade the existing task to a save. Thus a pending load is turned into a save if the tiddler changes locally in the meantime. But a pending save is not modified to become a load\n\t\tif(task.type === \&quot;save\&quot; || task.type === \&quot;delete\&quot;) {\n\t\t\texistingTask.type = task.type;\n\t\t}\n\t} else {\n\t\t// this.logger.log(\&quot;Queuing up sync task with type:\&quot;,task.type,\&quot;title:\&quot;,task.title);\n\t\t// If it is not in the queue, insert it\n\t\tthis.taskQueue[task.title] = task;\n\t\tthis.updateDirtyStatus();\n\t}\n\t// Process the queue\n\t$tw.utils.nextTick(function() {self.processTaskQueue.call(self);});\n};\n\n/*\nReturn the number of tasks in progress\n*/\nSyncer.prototype.numTasksInProgress = function() {\n\treturn $tw.utils.count(this.taskInProgress);\n};\n\n/*\nReturn the number of tasks in the queue\n*/\nSyncer.prototype.numTasksInQueue = function() {\n\treturn $tw.utils.count(this.taskQueue);\n};\n\n/*\nTrigger a timeout if one isn't already outstanding\n*/\nSyncer.prototype.triggerTimeout = function() {\n\tvar self = this;\n\tif(!this.taskTimerId) {\n\t\tthis.taskTimerId = setTimeout(function() {\n\t\t\tself.taskTimerId = null;\n\t\t\tself.processTaskQueue.call(self);\n\t\t},self.taskTimerInterval);\n\t}\n};\n\n/*\nProcess the task queue, performing the next task if appropriate\n*/\nSyncer.prototype.processTaskQueue = function() {\n\tvar self = this;\n\t// Only process a task if we're not already performing a task. If we are already performing a task then we'll dispatch the next one when it completes\n\tif(this.numTasksInProgress() === 0) {\n\t\t// Choose the next task to perform\n\t\tvar task = this.chooseNextTask();\n\t\t// Perform the task if we had one\n\t\tif(task) {\n\t\t\t// Remove the task from the queue and add it to the in progress list\n\t\t\tdelete this.taskQueue[task.title];\n\t\t\tthis.taskInProgress[task.title] = task;\n\t\t\tthis.updateDirtyStatus();\n\t\t\t// Dispatch the task\n\t\t\tthis.dispatchTask(task,function(err) {\n\t\t\t\tif(err) {\n\t\t\t\t\tself.logger.alert(\&quot;Sync error while processing '\&quot; + task.title + \&quot;':\\n\&quot; + err);\n\t\t\t\t}\n\t\t\t\t// Mark that this task is no longer in progress\n\t\t\t\tdelete self.taskInProgress[task.title];\n\t\t\t\tself.updateDirtyStatus();\n\t\t\t\t// Process the next task\n\t\t\t\tself.processTaskQueue.call(self);\n\t\t\t});\n\t\t} else {\n\t\t\t// Make sure we've set a time if there wasn't a task to perform, but we've still got tasks in the queue\n\t\t\tif(this.numTasksInQueue() &gt; 0) {\n\t\t\t\tthis.triggerTimeout();\n\t\t\t}\n\t\t}\n\t}\n};\n\n/*\nChoose the next applicable task\n*/\nSyncer.prototype.chooseNextTask = function() {\n\tvar self = this,\n\t\tcandidateTask = null,\n\t\tnow = Date.now();\n\t// Select the best candidate task\n\t$tw.utils.each(this.taskQueue,function(task,title) {\n\t\t// Exclude the task if there's one of the same name in progress\n\t\tif($tw.utils.hop(self.taskInProgress,title)) {\n\t\t\treturn;\n\t\t}\n\t\t// Exclude the task if it is a save and the tiddler has been modified recently, but not hit the fallback time\n\t\tif(task.type === \&quot;save\&quot; &amp;&amp; (now - task.lastModificationTime) &lt; self.throttleInterval &amp;&amp;\n\t\t\t(now - task.queueTime) &lt; self.fallbackInterval) {\n\t\t\treturn;\n\t\t}\n\t\t// Exclude the task if it is newer than the current best candidate\n\t\tif(candidateTask &amp;&amp; candidateTask.queueTime &lt; task.queueTime) {\n\t\t\treturn;\n\t\t}\n\t\t// Now this is our best candidate\n\t\tcandidateTask = task;\n\t});\n\treturn candidateTask;\n};\n\n/*\nDispatch a task and invoke the callback\n*/\nSyncer.prototype.dispatchTask = function(task,callback) {\n\tvar self = this;\n\tif(task.type === \&quot;save\&quot;) {\n\t\tvar changeCount = this.wiki.getChangeCount(task.title),\n\t\t\ttiddler = this.wiki.getTiddler(task.title);\n\t\tthis.logger.log(\&quot;Dispatching 'save' task:\&quot;,task.title);\n\t\tif(tiddler) {\n\t\t\tthis.syncadaptor.saveTiddler(tiddler,function(err,adaptorInfo,revision) {\n\t\t\t\tif(err) {\n\t\t\t\t\treturn callback(err);\n\t\t\t\t}\n\t\t\t\t// Adjust the info stored about this tiddler\n\t\t\t\tself.tiddlerInfo[task.title] = {\n\t\t\t\t\tchangeCount: changeCount,\n\t\t\t\t\tadaptorInfo: adaptorInfo,\n\t\t\t\t\trevision: revision\n\t\t\t\t};\n\t\t\t\t// Invoke the callback\n\t\t\t\tcallback(null);\n\t\t\t},{\n\t\t\t\ttiddlerInfo: self.tiddlerInfo[task.title]\n\t\t\t});\n\t\t} else {\n\t\t\tthis.logger.log(\&quot; Not Dispatching 'save' task:\&quot;,task.title,\&quot;tiddler does not exist\&quot;);\n\t\t\treturn callback(null);\n\t\t}\n\t} else if(task.type === \&quot;load\&quot;) {\n\t\t// Load the tiddler\n\t\tthis.logger.log(\&quot;Dispatching 'load' task:\&quot;,task.title);\n\t\tthis.syncadaptor.loadTiddler(task.title,function(err,tiddlerFields) {\n\t\t\tif(err) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\t\t// Store the tiddler\n\t\t\tif(tiddlerFields) {\n\t\t\t\tself.storeTiddler(tiddlerFields);\n\t\t\t}\n\t\t\t// Invoke the callback\n\t\t\tcallback(null);\n\t\t});\n\t} else if(task.type === \&quot;delete\&quot;) {\n\t\t// Delete the tiddler\n\t\tthis.logger.log(\&quot;Dispatching 'delete' task:\&quot;,task.title);\n\t\tthis.syncadaptor.deleteTiddler(task.title,function(err) {\n\t\t\tif(err) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\t\tdelete self.tiddlerInfo[task.title];\n\t\t\t// Invoke the callback\n\t\t\tcallback(null);\n\t\t},{\n\t\t\ttiddlerInfo: self.tiddlerInfo[task.title]\n\t\t});\n\t}\n};\n\nexports.Syncer = Syncer;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/syncer.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;global&quot;
        },
        &quot;$:/core/modules/tiddler.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/tiddler.js\ntype: application/javascript\nmodule-type: tiddlermethod\n\nExtension methods for the $tw.Tiddler object (constructor and methods required at boot time are in boot/boot.js)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.hasTag = function(tag) {\n\treturn this.fields.tags &amp;&amp; this.fields.tags.indexOf(tag) !== -1;\n};\n\nexports.isPlugin = function() {\n\treturn this.fields.type === \&quot;application/json\&quot; &amp;&amp; this.hasField(\&quot;plugin-type\&quot;);\n};\n\nexports.isDraft = function() {\n\treturn this.hasField(\&quot;draft.of\&quot;);\n};\n\nexports.getFieldString = function(field) {\n\tvar value = this.fields[field];\n\t// Check for a missing field\n\tif(value === undefined || value === null) {\n\t\treturn \&quot;\&quot;;\n\t}\n\t// Parse the field with the associated module (if any)\n\tvar fieldModule = $tw.Tiddler.fieldModules[field];\n\tif(fieldModule &amp;&amp; fieldModule.stringify) {\n\t\treturn fieldModule.stringify.call(this,value);\n\t} else {\n\t\treturn value.toString();\n\t}\n};\n\n/*\nGet all the fields as a name:value block. Options:\n\texclude: an array of field names to exclude\n*/\nexports.getFieldStringBlock = function(options) {\n\toptions = options || {};\n\tvar exclude = options.exclude || [];\n\tvar fields = [];\n\tfor(var field in this.fields) {\n\t\tif($tw.utils.hop(this.fields,field)) {\n\t\t\tif(exclude.indexOf(field) === -1) {\n\t\t\t\tfields.push(field + \&quot;: \&quot; + this.getFieldString(field));\n\t\t\t}\n\t\t}\n\t}\n\treturn fields.join(\&quot;\\n\&quot;);\n};\n\n/*\nCompare two tiddlers for equality\ntiddler: the tiddler to compare\nexcludeFields: array of field names to exclude from the comparison\n*/\nexports.isEqual = function(tiddler,excludeFields) {\n\tif(!(tiddler instanceof $tw.Tiddler)) {\n\t\treturn false;\n\t}\n\texcludeFields = excludeFields || [];\n\tvar self = this,\n\t\tdifferences = []; // Fields that have differences\n\t// Add to the differences array\n\tfunction addDifference(fieldName) {\n\t\t// Check for this field being excluded\n\t\tif(excludeFields.indexOf(fieldName) === -1) {\n\t\t\t// Save the field as a difference\n\t\t\t$tw.utils.pushTop(differences,fieldName);\n\t\t}\n\t}\n\t// Returns true if the two values of this field are equal\n\tfunction isFieldValueEqual(fieldName) {\n\t\tvar valueA = self.fields[fieldName],\n\t\t\tvalueB = tiddler.fields[fieldName];\n\t\t// Check for identical string values\n\t\tif(typeof(valueA) === \&quot;string\&quot; &amp;&amp; typeof(valueB) === \&quot;string\&quot; &amp;&amp; valueA === valueB) {\n\t\t\treturn true;\n\t\t}\n\t\t// Check for identical array values\n\t\tif($tw.utils.isArray(valueA) &amp;&amp; $tw.utils.isArray(valueB) &amp;&amp; $tw.utils.isArrayEqual(valueA,valueB)) {\n\t\t\treturn true;\n\t\t}\n\t\t// Otherwise the fields must be different\n\t\treturn false;\n\t}\n\t// Compare our fields\n\tfor(var fieldName in this.fields) {\n\t\tif(!isFieldValueEqual(fieldName)) {\n\t\t\taddDifference(fieldName);\n\t\t}\n\t}\n\t// There's a difference for every field in the other tiddler that we don't have\n\tfor(fieldName in tiddler.fields) {\n\t\tif(!(fieldName in this.fields)) {\n\t\t\taddDifference(fieldName);\n\t\t}\n\t}\n\t// Return whether there were any differences\n\treturn differences.length === 0;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/tiddler.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;tiddlermethod&quot;
        },
        &quot;$:/core/modules/upgraders/plugins.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/upgraders/plugins.js\ntype: application/javascript\nmodule-type: upgrader\n\nUpgrader module that checks that plugins are newer than any already installed version\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar UPGRADE_LIBRARY_TITLE = \&quot;$:/UpgradeLibrary\&quot;;\n\nvar BLOCKED_PLUGINS = {\n\t\&quot;$:/plugins/tiddlywiki/fullscreen\&quot;: {\n\t\tversions: [\&quot;*\&quot;]\n\t}\n};\n\nexports.upgrade = function(wiki,titles,tiddlers) {\n\tvar self = this,\n\t\tmessages = {},\n\t\tupgradeLibrary,\n\t\tgetLibraryTiddler = function(title) {\n\t\t\tif(!upgradeLibrary) {\n\t\t\t\tupgradeLibrary = wiki.getTiddlerData(UPGRADE_LIBRARY_TITLE,{});\n\t\t\t\tupgradeLibrary.tiddlers = upgradeLibrary.tiddlers || {};\n\t\t\t}\n\t\t\treturn upgradeLibrary.tiddlers[title];\n\t\t};\n\n\t// Go through all the incoming tiddlers\n\t$tw.utils.each(titles,function(title) {\n\t\tvar incomingTiddler = tiddlers[title];\n\t\t// Check if we're dealing with a plugin\n\t\tif(incomingTiddler &amp;&amp; incomingTiddler[\&quot;plugin-type\&quot;] &amp;&amp; incomingTiddler.version) {\n\t\t\t// Upgrade the incoming plugin if we've got a newer version in the upgrade library\n\t\t\tvar libraryTiddler = getLibraryTiddler(title);\n\t\t\tif(libraryTiddler &amp;&amp; libraryTiddler[\&quot;plugin-type\&quot;] &amp;&amp; libraryTiddler.version) {\n\t\t\t\tif($tw.utils.checkVersions(libraryTiddler.version,incomingTiddler.version)) {\n\t\t\t\t\ttiddlers[title] = libraryTiddler;\n\t\t\t\t\tmessages[title] = $tw.language.getString(\&quot;Import/Upgrader/Plugins/Upgraded\&quot;,{variables: {incoming: incomingTiddler.version, upgraded: libraryTiddler.version}});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Suppress the incoming plugin if it is older than the currently installed one\n\t\t\tvar existingTiddler = wiki.getTiddler(title);\n\t\t\tif(existingTiddler &amp;&amp; existingTiddler.hasField(\&quot;plugin-type\&quot;) &amp;&amp; existingTiddler.hasField(\&quot;version\&quot;)) {\n\t\t\t\t// Reject the incoming plugin by blanking all its fields\n\t\t\t\tif($tw.utils.checkVersions(existingTiddler.fields.version,incomingTiddler.version)) {\n\t\t\t\t\ttiddlers[title] = Object.create(null);\n\t\t\t\t\tmessages[title] = $tw.language.getString(\&quot;Import/Upgrader/Plugins/Suppressed/Version\&quot;,{variables: {incoming: incomingTiddler.version, existing: existingTiddler.fields.version}});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(incomingTiddler &amp;&amp; incomingTiddler[\&quot;plugin-type\&quot;]) {\n\t\t\t// Check whether the plugin is on the blocked list\n\t\t\tvar blockInfo = BLOCKED_PLUGINS[title];\n\t\t\tif(blockInfo) {\n\t\t\t\tif(blockInfo.versions.indexOf(\&quot;*\&quot;) !== -1 || (incomingTiddler.version &amp;&amp; blockInfo.versions.indexOf(incomingTiddler.version) !== -1)) {\n\t\t\t\t\ttiddlers[title] = Object.create(null);\n\t\t\t\t\tmessages[title] = $tw.language.getString(\&quot;Import/Upgrader/Plugins/Suppressed/Incompatible\&quot;);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\treturn messages;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/upgraders/plugins.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;upgrader&quot;
        },
        &quot;$:/core/modules/upgraders/system.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/upgraders/system.js\ntype: application/javascript\nmodule-type: upgrader\n\nUpgrader module that suppresses certain system tiddlers that shouldn't be imported\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar DONT_IMPORT_LIST = [\&quot;$:/StoryList\&quot;,\&quot;$:/HistoryList\&quot;],\n\tDONT_IMPORT_PREFIX_LIST = [\&quot;$:/temp/\&quot;,\&quot;$:/state/\&quot;];\n\nexports.upgrade = function(wiki,titles,tiddlers) {\n\tvar self = this,\n\t\tmessages = {};\n\t// Check for tiddlers on our list\n\t$tw.utils.each(titles,function(title) {\n\t\tif(DONT_IMPORT_LIST.indexOf(title) !== -1) {\n\t\t\ttiddlers[title] = Object.create(null);\n\t\t\tmessages[title] = $tw.language.getString(\&quot;Import/Upgrader/System/Suppressed\&quot;);\n\t\t} else {\n\t\t\tfor(var t=0; t&lt;DONT_IMPORT_PREFIX_LIST.length; t++) {\n\t\t\t\tvar prefix = DONT_IMPORT_PREFIX_LIST[t];\n\t\t\t\tif(title.substr(0,prefix.length) === prefix) {\n\t\t\t\t\ttiddlers[title] = Object.create(null);\n\t\t\t\t\tmessages[title] = $tw.language.getString(\&quot;Import/Upgrader/State/Suppressed\&quot;);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\treturn messages;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/upgraders/system.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;upgrader&quot;
        },
        &quot;$:/core/modules/upgraders/themetweaks.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/upgraders/themetweaks.js\ntype: application/javascript\nmodule-type: upgrader\n\nUpgrader module that handles the change in theme tweak storage introduced in 5.0.14-beta.\n\nPreviously, theme tweaks were stored in two data tiddlers:\n\n* $:/themes/tiddlywiki/vanilla/metrics\n* $:/themes/tiddlywiki/vanilla/settings\n\nNow, each tweak is stored in its own separate tiddler.\n\nThis upgrader copies any values from the old format to the new. The old data tiddlers are not deleted in case they have been used to store additional indexes.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar MAPPINGS = {\n\t\&quot;$:/themes/tiddlywiki/vanilla/metrics\&quot;: {\n\t\t\&quot;fontsize\&quot;: \&quot;$:/themes/tiddlywiki/vanilla/metrics/fontsize\&quot;,\n\t\t\&quot;lineheight\&quot;: \&quot;$:/themes/tiddlywiki/vanilla/metrics/lineheight\&quot;,\n\t\t\&quot;storyleft\&quot;: \&quot;$:/themes/tiddlywiki/vanilla/metrics/storyleft\&quot;,\n\t\t\&quot;storytop\&quot;: \&quot;$:/themes/tiddlywiki/vanilla/metrics/storytop\&quot;,\n\t\t\&quot;storyright\&quot;: \&quot;$:/themes/tiddlywiki/vanilla/metrics/storyright\&quot;,\n\t\t\&quot;storywidth\&quot;: \&quot;$:/themes/tiddlywiki/vanilla/metrics/storywidth\&quot;,\n\t\t\&quot;tiddlerwidth\&quot;: \&quot;$:/themes/tiddlywiki/vanilla/metrics/tiddlerwidth\&quot;\n\t},\n\t\&quot;$:/themes/tiddlywiki/vanilla/settings\&quot;: {\n\t\t\&quot;fontfamily\&quot;: \&quot;$:/themes/tiddlywiki/vanilla/settings/fontfamily\&quot;\n\t}\n};\n\nexports.upgrade = function(wiki,titles,tiddlers) {\n\tvar self = this,\n\t\tmessages = {};\n\t// Check for tiddlers on our list\n\t$tw.utils.each(titles,function(title) {\n\t\tvar mapping = MAPPINGS[title];\n\t\tif(mapping) {\n\t\t\tvar tiddler = new $tw.Tiddler(tiddlers[title]),\n\t\t\t\ttiddlerData = wiki.getTiddlerData(tiddler,{});\n\t\t\tfor(var index in mapping) {\n\t\t\t\tvar mappedTitle = mapping[index];\n\t\t\t\tif(!tiddlers[mappedTitle] || tiddlers[mappedTitle].title !== mappedTitle) {\n\t\t\t\t\ttiddlers[mappedTitle] = {\n\t\t\t\t\t\ttitle: mappedTitle,\n\t\t\t\t\t\ttext: tiddlerData[index]\n\t\t\t\t\t};\n\t\t\t\t\tmessages[mappedTitle] = $tw.language.getString(\&quot;Import/Upgrader/ThemeTweaks/Created\&quot;,{variables: {\n\t\t\t\t\t\tfrom: title + \&quot;##\&quot; + index\n\t\t\t\t\t}});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\treturn messages;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/upgraders/themetweaks.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;upgrader&quot;
        },
        &quot;$:/core/modules/utils/crypto.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/crypto.js\ntype: application/javascript\nmodule-type: utils\n\nUtility functions related to crypto.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nLook for an encrypted store area in the text of a TiddlyWiki file\n*/\nexports.extractEncryptedStoreArea = function(text) {\n\tvar encryptedStoreAreaStartMarker = \&quot;&lt;pre id=\\\&quot;encryptedStoreArea\\\&quot; type=\\\&quot;text/plain\\\&quot; style=\\\&quot;display:none;\\\&quot;&gt;\&quot;,\n\t\tencryptedStoreAreaStart = text.indexOf(encryptedStoreAreaStartMarker);\n\tif(encryptedStoreAreaStart !== -1) {\n\t\tvar encryptedStoreAreaEnd = text.indexOf(\&quot;&lt;/pre&gt;\&quot;,encryptedStoreAreaStart);\n\t\tif(encryptedStoreAreaEnd !== -1) {\n\t\t\treturn $tw.utils.htmlDecode(text.substring(encryptedStoreAreaStart + encryptedStoreAreaStartMarker.length,encryptedStoreAreaEnd-1));\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nAttempt to extract the tiddlers from an encrypted store area using the current password. If the password is not provided then the password in the password store will be used\n*/\nexports.decryptStoreArea = function(encryptedStoreArea,password) {\n\tvar decryptedText = $tw.crypto.decrypt(encryptedStoreArea,password);\n\tif(decryptedText) {\n\t\tvar json = JSON.parse(decryptedText),\n\t\t\ttiddlers = [];\n\t\tfor(var title in json) {\n\t\t\tif(title !== \&quot;$:/isEncrypted\&quot;) {\n\t\t\t\ttiddlers.push(json[title]);\n\t\t\t}\n\t\t}\n\t\treturn tiddlers;\n\t} else {\n\t\treturn null;\n\t}\n};\n\n\n/*\nAttempt to extract the tiddlers from an encrypted store area using the current password. If that fails, the user is prompted for a password.\nencryptedStoreArea: text of the TiddlyWiki encrypted store area\ncallback: function(tiddlers) called with the array of decrypted tiddlers\n\nThe following configuration settings are supported:\n\n$tw.config.usePasswordVault: causes any password entered by the user to also be put into the system password vault\n*/\nexports.decryptStoreAreaInteractive = function(encryptedStoreArea,callback,options) {\n\t// Try to decrypt with the current password\n\tvar tiddlers = $tw.utils.decryptStoreArea(encryptedStoreArea);\n\tif(tiddlers) {\n\t\tcallback(tiddlers);\n\t} else {\n\t\t// Prompt for a new password and keep trying\n\t\t$tw.passwordPrompt.createPrompt({\n\t\t\tserviceName: \&quot;Enter a password to decrypt the imported TiddlyWiki\&quot;,\n\t\t\tnoUserName: true,\n\t\t\tcanCancel: true,\n\t\t\tsubmitText: \&quot;Decrypt\&quot;,\n\t\t\tcallback: function(data) {\n\t\t\t\t// Exit if the user cancelled\n\t\t\t\tif(!data) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// Attempt to decrypt the tiddlers\n\t\t\t\tvar tiddlers = $tw.utils.decryptStoreArea(encryptedStoreArea,data.password);\n\t\t\t\tif(tiddlers) {\n\t\t\t\t\tif($tw.config.usePasswordVault) {\n\t\t\t\t\t\t$tw.crypto.setPassword(data.password);\n\t\t\t\t\t}\n\t\t\t\t\tcallback(tiddlers);\n\t\t\t\t\t// Exit and remove the password prompt\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\t// We didn't decrypt everything, so continue to prompt for password\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/crypto.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom/animations/slide.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom/animations/slide.js\ntype: application/javascript\nmodule-type: animation\n\nA simple slide animation that varies the height of the element\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nfunction slideOpen(domNode,options) {\n\toptions = options || {};\n\tvar duration = options.duration || $tw.utils.getAnimationDuration();\n\t// Get the current height of the domNode\n\tvar computedStyle = window.getComputedStyle(domNode),\n\t\tcurrMarginBottom = parseInt(computedStyle.marginBottom,10),\n\t\tcurrMarginTop = parseInt(computedStyle.marginTop,10),\n\t\tcurrPaddingBottom = parseInt(computedStyle.paddingBottom,10),\n\t\tcurrPaddingTop = parseInt(computedStyle.paddingTop,10),\n\t\tcurrHeight = domNode.offsetHeight;\n\t// Reset the margin once the transition is over\n\tsetTimeout(function() {\n\t\t$tw.utils.setStyle(domNode,[\n\t\t\t{transition: \&quot;none\&quot;},\n\t\t\t{marginBottom: \&quot;\&quot;},\n\t\t\t{marginTop: \&quot;\&quot;},\n\t\t\t{paddingBottom: \&quot;\&quot;},\n\t\t\t{paddingTop: \&quot;\&quot;},\n\t\t\t{height: \&quot;auto\&quot;},\n\t\t\t{opacity: \&quot;\&quot;}\n\t\t]);\n\t\tif(options.callback) {\n\t\t\toptions.callback();\n\t\t}\n\t},duration);\n\t// Set up the initial position of the element\n\t$tw.utils.setStyle(domNode,[\n\t\t{transition: \&quot;none\&quot;},\n\t\t{marginTop: \&quot;0px\&quot;},\n\t\t{marginBottom: \&quot;0px\&quot;},\n\t\t{paddingTop: \&quot;0px\&quot;},\n\t\t{paddingBottom: \&quot;0px\&quot;},\n\t\t{height: \&quot;0px\&quot;},\n\t\t{opacity: \&quot;0\&quot;}\n\t]);\n\t$tw.utils.forceLayout(domNode);\n\t// Transition to the final position\n\t$tw.utils.setStyle(domNode,[\n\t\t{transition: \&quot;margin-top \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;margin-bottom \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;padding-top \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;padding-bottom \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;height \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;opacity \&quot; + duration + \&quot;ms ease-in-out\&quot;},\n\t\t{marginBottom: currMarginBottom + \&quot;px\&quot;},\n\t\t{marginTop: currMarginTop + \&quot;px\&quot;},\n\t\t{paddingBottom: currPaddingBottom + \&quot;px\&quot;},\n\t\t{paddingTop: currPaddingTop + \&quot;px\&quot;},\n\t\t{height: currHeight + \&quot;px\&quot;},\n\t\t{opacity: \&quot;1\&quot;}\n\t]);\n}\n\nfunction slideClosed(domNode,options) {\n\toptions = options || {};\n\tvar duration = options.duration || $tw.utils.getAnimationDuration(),\n\t\tcurrHeight = domNode.offsetHeight;\n\t// Clear the properties we've set when the animation is over\n\tsetTimeout(function() {\n\t\t$tw.utils.setStyle(domNode,[\n\t\t\t{transition: \&quot;none\&quot;},\n\t\t\t{marginBottom: \&quot;\&quot;},\n\t\t\t{marginTop: \&quot;\&quot;},\n\t\t\t{paddingBottom: \&quot;\&quot;},\n\t\t\t{paddingTop: \&quot;\&quot;},\n\t\t\t{height: \&quot;auto\&quot;},\n\t\t\t{opacity: \&quot;\&quot;}\n\t\t]);\n\t\tif(options.callback) {\n\t\t\toptions.callback();\n\t\t}\n\t},duration);\n\t// Set up the initial position of the element\n\t$tw.utils.setStyle(domNode,[\n\t\t{height: currHeight + \&quot;px\&quot;},\n\t\t{opacity: \&quot;1\&quot;}\n\t]);\n\t$tw.utils.forceLayout(domNode);\n\t// Transition to the final position\n\t$tw.utils.setStyle(domNode,[\n\t\t{transition: \&quot;margin-top \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;margin-bottom \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;padding-top \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;padding-bottom \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;height \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;opacity \&quot; + duration + \&quot;ms ease-in-out\&quot;},\n\t\t{marginTop: \&quot;0px\&quot;},\n\t\t{marginBottom: \&quot;0px\&quot;},\n\t\t{paddingTop: \&quot;0px\&quot;},\n\t\t{paddingBottom: \&quot;0px\&quot;},\n\t\t{height: \&quot;0px\&quot;},\n\t\t{opacity: \&quot;0\&quot;}\n\t]);\n}\n\nexports.slide = {\n\topen: slideOpen,\n\tclose: slideClosed\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/animations/slide.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;animation&quot;
        },
        &quot;$:/core/modules/utils/dom/animator.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom/animator.js\ntype: application/javascript\nmodule-type: utils\n\nOrchestrates animations and transitions\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nfunction Animator() {\n\t// Get the registered animation modules\n\tthis.animations = {};\n\t$tw.modules.applyMethods(\&quot;animation\&quot;,this.animations);\n}\n\nAnimator.prototype.perform = function(type,domNode,options) {\n\toptions = options || {};\n\t// Find an animation that can handle this type\n\tvar chosenAnimation;\n\t$tw.utils.each(this.animations,function(animation,name) {\n\t\tif($tw.utils.hop(animation,type)) {\n\t\t\tchosenAnimation = animation[type];\n\t\t}\n\t});\n\tif(!chosenAnimation) {\n\t\tchosenAnimation = function(domNode,options) {\n\t\t\tif(options.callback) {\n\t\t\t\toptions.callback();\n\t\t\t}\n\t\t};\n\t}\n\t// Call the animation\n\tchosenAnimation(domNode,options);\n};\n\nexports.Animator = Animator;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/animator.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom/browser.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom/browser.js\ntype: application/javascript\nmodule-type: utils\n\nBrowser feature detection\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nSet style properties of an element\n\telement: dom node\n\tstyles: ordered array of {name: value} pairs\n*/\nexports.setStyle = function(element,styles) {\n\tif(element.nodeType === 1) { // Element.ELEMENT_NODE\n\t\tfor(var t=0; t&lt;styles.length; t++) {\n\t\t\tfor(var styleName in styles[t]) {\n\t\t\t\telement.style[$tw.utils.convertStyleNameToPropertyName(styleName)] = styles[t][styleName];\n\t\t\t}\n\t\t}\n\t}\n};\n\n/*\nConverts a standard CSS property name into the local browser-specific equivalent. For example:\n\t\&quot;background-color\&quot; --&gt; \&quot;backgroundColor\&quot;\n\t\&quot;transition\&quot; --&gt; \&quot;webkitTransition\&quot;\n*/\n\nvar styleNameCache = {}; // We'll cache the style name conversions\n\nexports.convertStyleNameToPropertyName = function(styleName) {\n\t// Return from the cache if we can\n\tif(styleNameCache[styleName]) {\n\t\treturn styleNameCache[styleName];\n\t}\n\t// Convert it by first removing any hyphens\n\tvar propertyName = $tw.utils.unHyphenateCss(styleName);\n\t// Then check if it needs a prefix\n\tif(document.body.style[propertyName] === undefined) {\n\t\tvar prefixes = [\&quot;O\&quot;,\&quot;MS\&quot;,\&quot;Moz\&quot;,\&quot;webkit\&quot;];\n\t\tfor(var t=0; t&lt;prefixes.length; t++) {\n\t\t\tvar prefixedName = prefixes[t] + propertyName.substr(0,1).toUpperCase() + propertyName.substr(1);\n\t\t\tif(document.body.style[prefixedName] !== undefined) {\n\t\t\t\tpropertyName = prefixedName;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t// Put it in the cache too\n\tstyleNameCache[styleName] = propertyName;\n\treturn propertyName;\n};\n\n/*\nConverts a JS format CSS property name back into the dashed form used in CSS declarations. For example:\n\t\&quot;backgroundColor\&quot; --&gt; \&quot;background-color\&quot;\n\t\&quot;webkitTransform\&quot; --&gt; \&quot;-webkit-transform\&quot;\n*/\nexports.convertPropertyNameToStyleName = function(propertyName) {\n\t// Rehyphenate the name\n\tvar styleName = $tw.utils.hyphenateCss(propertyName);\n\t// If there's a webkit prefix, add a dash (other browsers have uppercase prefixes, and so get the dash automatically)\n\tif(styleName.indexOf(\&quot;webkit\&quot;) === 0) {\n\t\tstyleName = \&quot;-\&quot; + styleName;\n\t} else if(styleName.indexOf(\&quot;-m-s\&quot;) === 0) {\n\t\tstyleName = \&quot;-ms\&quot; + styleName.substr(4);\n\t}\n\treturn styleName;\n};\n\n/*\nRound trip a stylename to a property name and back again. For example:\n\t\&quot;transform\&quot; --&gt; \&quot;webkitTransform\&quot; --&gt; \&quot;-webkit-transform\&quot;\n*/\nexports.roundTripPropertyName = function(propertyName) {\n\treturn $tw.utils.convertPropertyNameToStyleName($tw.utils.convertStyleNameToPropertyName(propertyName));\n};\n\n/*\nConverts a standard event name into the local browser specific equivalent. For example:\n\t\&quot;animationEnd\&quot; --&gt; \&quot;webkitAnimationEnd\&quot;\n*/\n\nvar eventNameCache = {}; // We'll cache the conversions\n\nvar eventNameMappings = {\n\t\&quot;transitionEnd\&quot;: {\n\t\tcorrespondingCssProperty: \&quot;transition\&quot;,\n\t\tmappings: {\n\t\t\ttransition: \&quot;transitionend\&quot;,\n\t\t\tOTransition: \&quot;oTransitionEnd\&quot;,\n\t\t\tMSTransition: \&quot;msTransitionEnd\&quot;,\n\t\t\tMozTransition: \&quot;transitionend\&quot;,\n\t\t\twebkitTransition: \&quot;webkitTransitionEnd\&quot;\n\t\t}\n\t},\n\t\&quot;animationEnd\&quot;: {\n\t\tcorrespondingCssProperty: \&quot;animation\&quot;,\n\t\tmappings: {\n\t\t\tanimation: \&quot;animationend\&quot;,\n\t\t\tOAnimation: \&quot;oAnimationEnd\&quot;,\n\t\t\tMSAnimation: \&quot;msAnimationEnd\&quot;,\n\t\t\tMozAnimation: \&quot;animationend\&quot;,\n\t\t\twebkitAnimation: \&quot;webkitAnimationEnd\&quot;\n\t\t}\n\t}\n};\n\nexports.convertEventName = function(eventName) {\n\tif(eventNameCache[eventName]) {\n\t\treturn eventNameCache[eventName];\n\t}\n\tvar newEventName = eventName,\n\t\tmappings = eventNameMappings[eventName];\n\tif(mappings) {\n\t\tvar convertedProperty = $tw.utils.convertStyleNameToPropertyName(mappings.correspondingCssProperty);\n\t\tif(mappings.mappings[convertedProperty]) {\n\t\t\tnewEventName = mappings.mappings[convertedProperty];\n\t\t}\n\t}\n\t// Put it in the cache too\n\teventNameCache[eventName] = newEventName;\n\treturn newEventName;\n};\n\n/*\nReturn the names of the fullscreen APIs\n*/\nexports.getFullScreenApis = function() {\n\tvar d = document,\n\t\tdb = d.body,\n\t\tresult = {\n\t\t\&quot;_requestFullscreen\&quot;: db.webkitRequestFullscreen !== undefined ? \&quot;webkitRequestFullscreen\&quot; :\n\t\t\t\t\t\t\tdb.mozRequestFullScreen !== undefined ? \&quot;mozRequestFullScreen\&quot; :\n\t\t\t\t\t\t\tdb.msRequestFullscreen !== undefined ? \&quot;msRequestFullscreen\&quot; :\n\t\t\t\t\t\t\tdb.requestFullscreen !== undefined ? \&quot;requestFullscreen\&quot; : \&quot;\&quot;,\n\t\t\&quot;_exitFullscreen\&quot;: d.webkitExitFullscreen !== undefined ? \&quot;webkitExitFullscreen\&quot; :\n\t\t\t\t\t\t\td.mozCancelFullScreen !== undefined ? \&quot;mozCancelFullScreen\&quot; :\n\t\t\t\t\t\t\td.msExitFullscreen !== undefined ? \&quot;msExitFullscreen\&quot; :\n\t\t\t\t\t\t\td.exitFullscreen !== undefined ? \&quot;exitFullscreen\&quot; : \&quot;\&quot;,\n\t\t\&quot;_fullscreenElement\&quot;: d.webkitFullscreenElement !== undefined ? \&quot;webkitFullscreenElement\&quot; :\n\t\t\t\t\t\t\td.mozFullScreenElement !== undefined ? \&quot;mozFullScreenElement\&quot; :\n\t\t\t\t\t\t\td.msFullscreenElement !== undefined ? \&quot;msFullscreenElement\&quot; :\n\t\t\t\t\t\t\td.fullscreenElement !== undefined ? \&quot;fullscreenElement\&quot; : \&quot;\&quot;\n\t};\n\tif(!result._requestFullscreen || !result._exitFullscreen || !result._fullscreenElement) {\n\t\treturn null;\n\t} else {\n\t\treturn result;\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/browser.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom/csscolorparser.js&quot;: {
            &quot;text&quot;: &quot;// (c) Dean McNamee &lt;dean@gmail.com&gt;, 2012.\n//\n// https://github.com/deanm/css-color-parser-js\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \&quot;Software\&quot;), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \&quot;AS IS\&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n// IN THE SOFTWARE.\n\n// http://www.w3.org/TR/css3-color/\nvar kCSSColorTable = {\n  \&quot;transparent\&quot;: [0,0,0,0], \&quot;aliceblue\&quot;: [240,248,255,1],\n  \&quot;antiquewhite\&quot;: [250,235,215,1], \&quot;aqua\&quot;: [0,255,255,1],\n  \&quot;aquamarine\&quot;: [127,255,212,1], \&quot;azure\&quot;: [240,255,255,1],\n  \&quot;beige\&quot;: [245,245,220,1], \&quot;bisque\&quot;: [255,228,196,1],\n  \&quot;black\&quot;: [0,0,0,1], \&quot;blanchedalmond\&quot;: [255,235,205,1],\n  \&quot;blue\&quot;: [0,0,255,1], \&quot;blueviolet\&quot;: [138,43,226,1],\n  \&quot;brown\&quot;: [165,42,42,1], \&quot;burlywood\&quot;: [222,184,135,1],\n  \&quot;cadetblue\&quot;: [95,158,160,1], \&quot;chartreuse\&quot;: [127,255,0,1],\n  \&quot;chocolate\&quot;: [210,105,30,1], \&quot;coral\&quot;: [255,127,80,1],\n  \&quot;cornflowerblue\&quot;: [100,149,237,1], \&quot;cornsilk\&quot;: [255,248,220,1],\n  \&quot;crimson\&quot;: [220,20,60,1], \&quot;cyan\&quot;: [0,255,255,1],\n  \&quot;darkblue\&quot;: [0,0,139,1], \&quot;darkcyan\&quot;: [0,139,139,1],\n  \&quot;darkgoldenrod\&quot;: [184,134,11,1], \&quot;darkgray\&quot;: [169,169,169,1],\n  \&quot;darkgreen\&quot;: [0,100,0,1], \&quot;darkgrey\&quot;: [169,169,169,1],\n  \&quot;darkkhaki\&quot;: [189,183,107,1], \&quot;darkmagenta\&quot;: [139,0,139,1],\n  \&quot;darkolivegreen\&quot;: [85,107,47,1], \&quot;darkorange\&quot;: [255,140,0,1],\n  \&quot;darkorchid\&quot;: [153,50,204,1], \&quot;darkred\&quot;: [139,0,0,1],\n  \&quot;darksalmon\&quot;: [233,150,122,1], \&quot;darkseagreen\&quot;: [143,188,143,1],\n  \&quot;darkslateblue\&quot;: [72,61,139,1], \&quot;darkslategray\&quot;: [47,79,79,1],\n  \&quot;darkslategrey\&quot;: [47,79,79,1], \&quot;darkturquoise\&quot;: [0,206,209,1],\n  \&quot;darkviolet\&quot;: [148,0,211,1], \&quot;deeppink\&quot;: [255,20,147,1],\n  \&quot;deepskyblue\&quot;: [0,191,255,1], \&quot;dimgray\&quot;: [105,105,105,1],\n  \&quot;dimgrey\&quot;: [105,105,105,1], \&quot;dodgerblue\&quot;: [30,144,255,1],\n  \&quot;firebrick\&quot;: [178,34,34,1], \&quot;floralwhite\&quot;: [255,250,240,1],\n  \&quot;forestgreen\&quot;: [34,139,34,1], \&quot;fuchsia\&quot;: [255,0,255,1],\n  \&quot;gainsboro\&quot;: [220,220,220,1], \&quot;ghostwhite\&quot;: [248,248,255,1],\n  \&quot;gold\&quot;: [255,215,0,1], \&quot;goldenrod\&quot;: [218,165,32,1],\n  \&quot;gray\&quot;: [128,128,128,1], \&quot;green\&quot;: [0,128,0,1],\n  \&quot;greenyellow\&quot;: [173,255,47,1], \&quot;grey\&quot;: [128,128,128,1],\n  \&quot;honeydew\&quot;: [240,255,240,1], \&quot;hotpink\&quot;: [255,105,180,1],\n  \&quot;indianred\&quot;: [205,92,92,1], \&quot;indigo\&quot;: [75,0,130,1],\n  \&quot;ivory\&quot;: [255,255,240,1], \&quot;khaki\&quot;: [240,230,140,1],\n  \&quot;lavender\&quot;: [230,230,250,1], \&quot;lavenderblush\&quot;: [255,240,245,1],\n  \&quot;lawngreen\&quot;: [124,252,0,1], \&quot;lemonchiffon\&quot;: [255,250,205,1],\n  \&quot;lightblue\&quot;: [173,216,230,1], \&quot;lightcoral\&quot;: [240,128,128,1],\n  \&quot;lightcyan\&quot;: [224,255,255,1], \&quot;lightgoldenrodyellow\&quot;: [250,250,210,1],\n  \&quot;lightgray\&quot;: [211,211,211,1], \&quot;lightgreen\&quot;: [144,238,144,1],\n  \&quot;lightgrey\&quot;: [211,211,211,1], \&quot;lightpink\&quot;: [255,182,193,1],\n  \&quot;lightsalmon\&quot;: [255,160,122,1], \&quot;lightseagreen\&quot;: [32,178,170,1],\n  \&quot;lightskyblue\&quot;: [135,206,250,1], \&quot;lightslategray\&quot;: [119,136,153,1],\n  \&quot;lightslategrey\&quot;: [119,136,153,1], \&quot;lightsteelblue\&quot;: [176,196,222,1],\n  \&quot;lightyellow\&quot;: [255,255,224,1], \&quot;lime\&quot;: [0,255,0,1],\n  \&quot;limegreen\&quot;: [50,205,50,1], \&quot;linen\&quot;: [250,240,230,1],\n  \&quot;magenta\&quot;: [255,0,255,1], \&quot;maroon\&quot;: [128,0,0,1],\n  \&quot;mediumaquamarine\&quot;: [102,205,170,1], \&quot;mediumblue\&quot;: [0,0,205,1],\n  \&quot;mediumorchid\&quot;: [186,85,211,1], \&quot;mediumpurple\&quot;: [147,112,219,1],\n  \&quot;mediumseagreen\&quot;: [60,179,113,1], \&quot;mediumslateblue\&quot;: [123,104,238,1],\n  \&quot;mediumspringgreen\&quot;: [0,250,154,1], \&quot;mediumturquoise\&quot;: [72,209,204,1],\n  \&quot;mediumvioletred\&quot;: [199,21,133,1], \&quot;midnightblue\&quot;: [25,25,112,1],\n  \&quot;mintcream\&quot;: [245,255,250,1], \&quot;mistyrose\&quot;: [255,228,225,1],\n  \&quot;moccasin\&quot;: [255,228,181,1], \&quot;navajowhite\&quot;: [255,222,173,1],\n  \&quot;navy\&quot;: [0,0,128,1], \&quot;oldlace\&quot;: [253,245,230,1],\n  \&quot;olive\&quot;: [128,128,0,1], \&quot;olivedrab\&quot;: [107,142,35,1],\n  \&quot;orange\&quot;: [255,165,0,1], \&quot;orangered\&quot;: [255,69,0,1],\n  \&quot;orchid\&quot;: [218,112,214,1], \&quot;palegoldenrod\&quot;: [238,232,170,1],\n  \&quot;palegreen\&quot;: [152,251,152,1], \&quot;paleturquoise\&quot;: [175,238,238,1],\n  \&quot;palevioletred\&quot;: [219,112,147,1], \&quot;papayawhip\&quot;: [255,239,213,1],\n  \&quot;peachpuff\&quot;: [255,218,185,1], \&quot;peru\&quot;: [205,133,63,1],\n  \&quot;pink\&quot;: [255,192,203,1], \&quot;plum\&quot;: [221,160,221,1],\n  \&quot;powderblue\&quot;: [176,224,230,1], \&quot;purple\&quot;: [128,0,128,1],\n  \&quot;red\&quot;: [255,0,0,1], \&quot;rosybrown\&quot;: [188,143,143,1],\n  \&quot;royalblue\&quot;: [65,105,225,1], \&quot;saddlebrown\&quot;: [139,69,19,1],\n  \&quot;salmon\&quot;: [250,128,114,1], \&quot;sandybrown\&quot;: [244,164,96,1],\n  \&quot;seagreen\&quot;: [46,139,87,1], \&quot;seashell\&quot;: [255,245,238,1],\n  \&quot;sienna\&quot;: [160,82,45,1], \&quot;silver\&quot;: [192,192,192,1],\n  \&quot;skyblue\&quot;: [135,206,235,1], \&quot;slateblue\&quot;: [106,90,205,1],\n  \&quot;slategray\&quot;: [112,128,144,1], \&quot;slategrey\&quot;: [112,128,144,1],\n  \&quot;snow\&quot;: [255,250,250,1], \&quot;springgreen\&quot;: [0,255,127,1],\n  \&quot;steelblue\&quot;: [70,130,180,1], \&quot;tan\&quot;: [210,180,140,1],\n  \&quot;teal\&quot;: [0,128,128,1], \&quot;thistle\&quot;: [216,191,216,1],\n  \&quot;tomato\&quot;: [255,99,71,1], \&quot;turquoise\&quot;: [64,224,208,1],\n  \&quot;violet\&quot;: [238,130,238,1], \&quot;wheat\&quot;: [245,222,179,1],\n  \&quot;white\&quot;: [255,255,255,1], \&quot;whitesmoke\&quot;: [245,245,245,1],\n  \&quot;yellow\&quot;: [255,255,0,1], \&quot;yellowgreen\&quot;: [154,205,50,1]}\n\nfunction clamp_css_byte(i) {  // Clamp to integer 0 .. 255.\n  i = Math.round(i);  // Seems to be what Chrome does (vs truncation).\n  return i &lt; 0 ? 0 : i &gt; 255 ? 255 : i;\n}\n\nfunction clamp_css_float(f) {  // Clamp to float 0.0 .. 1.0.\n  return f &lt; 0 ? 0 : f &gt; 1 ? 1 : f;\n}\n\nfunction parse_css_int(str) {  // int or percentage.\n  if (str[str.length - 1] === '%')\n    return clamp_css_byte(parseFloat(str) / 100 * 255);\n  return clamp_css_byte(parseInt(str));\n}\n\nfunction parse_css_float(str) {  // float or percentage.\n  if (str[str.length - 1] === '%')\n    return clamp_css_float(parseFloat(str) / 100);\n  return clamp_css_float(parseFloat(str));\n}\n\nfunction css_hue_to_rgb(m1, m2, h) {\n  if (h &lt; 0) h += 1;\n  else if (h &gt; 1) h -= 1;\n\n  if (h * 6 &lt; 1) return m1 + (m2 - m1) * h * 6;\n  if (h * 2 &lt; 1) return m2;\n  if (h * 3 &lt; 2) return m1 + (m2 - m1) * (2/3 - h) * 6;\n  return m1;\n}\n\nfunction parseCSSColor(css_str) {\n  // Remove all whitespace, not compliant, but should just be more accepting.\n  var str = css_str.replace(/ /g, '').toLowerCase();\n\n  // Color keywords (and transparent) lookup.\n  if (str in kCSSColorTable) return kCSSColorTable[str].slice();  // dup.\n\n  // #abc and #abc123 syntax.\n  if (str[0] === '#') {\n    if (str.length === 4) {\n      var iv = parseInt(str.substr(1), 16);  // TODO(deanm): Stricter parsing.\n      if (!(iv &gt;= 0 &amp;&amp; iv &lt;= 0xfff)) return null;  // Covers NaN.\n      return [((iv &amp; 0xf00) &gt;&gt; 4) | ((iv &amp; 0xf00) &gt;&gt; 8),\n              (iv &amp; 0xf0) | ((iv &amp; 0xf0) &gt;&gt; 4),\n              (iv &amp; 0xf) | ((iv &amp; 0xf) &lt;&lt; 4),\n              1];\n    } else if (str.length === 7) {\n      var iv = parseInt(str.substr(1), 16);  // TODO(deanm): Stricter parsing.\n      if (!(iv &gt;= 0 &amp;&amp; iv &lt;= 0xffffff)) return null;  // Covers NaN.\n      return [(iv &amp; 0xff0000) &gt;&gt; 16,\n              (iv &amp; 0xff00) &gt;&gt; 8,\n              iv &amp; 0xff,\n              1];\n    }\n\n    return null;\n  }\n\n  var op = str.indexOf('('), ep = str.indexOf(')');\n  if (op !== -1 &amp;&amp; ep + 1 === str.length) {\n    var fname = str.substr(0, op);\n    var params = str.substr(op+1, ep-(op+1)).split(',');\n    var alpha = 1;  // To allow case fallthrough.\n    switch (fname) {\n      case 'rgba':\n        if (params.length !== 4) return null;\n        alpha = parse_css_float(params.pop());\n        // Fall through.\n      case 'rgb':\n        if (params.length !== 3) return null;\n        return [parse_css_int(params[0]),\n                parse_css_int(params[1]),\n                parse_css_int(params[2]),\n                alpha];\n      case 'hsla':\n        if (params.length !== 4) return null;\n        alpha = parse_css_float(params.pop());\n        // Fall through.\n      case 'hsl':\n        if (params.length !== 3) return null;\n        var h = (((parseFloat(params[0]) % 360) + 360) % 360) / 360;  // 0 .. 1\n        // NOTE(deanm): According to the CSS spec s/l should only be\n        // percentages, but we don't bother and let float or percentage.\n        var s = parse_css_float(params[1]);\n        var l = parse_css_float(params[2]);\n        var m2 = l &lt;= 0.5 ? l * (s + 1) : l + s - l * s;\n        var m1 = l * 2 - m2;\n        return [clamp_css_byte(css_hue_to_rgb(m1, m2, h+1/3) * 255),\n                clamp_css_byte(css_hue_to_rgb(m1, m2, h) * 255),\n                clamp_css_byte(css_hue_to_rgb(m1, m2, h-1/3) * 255),\n                alpha];\n      default:\n        return null;\n    }\n  }\n\n  return null;\n}\n\ntry { exports.parseCSSColor = parseCSSColor } catch(e) { }\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/csscolorparser.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom.js\ntype: application/javascript\nmodule-type: utils\n\nVarious static DOM-related utility functions.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nDetermines whether element 'a' contains element 'b'\nCode thanks to John Resig, http://ejohn.org/blog/comparing-document-position/\n*/\nexports.domContains = function(a,b) {\n\treturn a.contains ?\n\t\ta !== b &amp;&amp; a.contains(b) :\n\t\t!!(a.compareDocumentPosition(b) &amp; 16);\n};\n\nexports.removeChildren = function(node) {\n\twhile(node.hasChildNodes()) {\n\t\tnode.removeChild(node.firstChild);\n\t}\n};\n\nexports.hasClass = function(el,className) {\n\treturn el &amp;&amp; el.className &amp;&amp; el.className.toString().split(\&quot; \&quot;).indexOf(className) !== -1;\n};\n\nexports.addClass = function(el,className) {\n\tvar c = el.className.split(\&quot; \&quot;);\n\tif(c.indexOf(className) === -1) {\n\t\tc.push(className);\n\t}\n\tel.className = c.join(\&quot; \&quot;);\n};\n\nexports.removeClass = function(el,className) {\n\tvar c = el.className.split(\&quot; \&quot;),\n\t\tp = c.indexOf(className);\n\tif(p !== -1) {\n\t\tc.splice(p,1);\n\t\tel.className = c.join(\&quot; \&quot;);\n\t}\n};\n\nexports.toggleClass = function(el,className,status) {\n\tif(status === undefined) {\n\t\tstatus = !exports.hasClass(el,className);\n\t}\n\tif(status) {\n\t\texports.addClass(el,className);\n\t} else {\n\t\texports.removeClass(el,className);\n\t}\n};\n\n/*\nGet the scroll position of the viewport\nReturns:\n\t{\n\t\tx: horizontal scroll position in pixels,\n\t\ty: vertical scroll position in pixels\n\t}\n*/\nexports.getScrollPosition = function() {\n\tif(\&quot;scrollX\&quot; in window) {\n\t\treturn {x: window.scrollX, y: window.scrollY};\n\t} else {\n\t\treturn {x: document.documentElement.scrollLeft, y: document.documentElement.scrollTop};\n\t}\n};\n\n/*\nGets the bounding rectangle of an element in absolute page coordinates\n*/\nexports.getBoundingPageRect = function(element) {\n\tvar scrollPos = $tw.utils.getScrollPosition(),\n\t\tclientRect = element.getBoundingClientRect();\n\treturn {\n\t\tleft: clientRect.left + scrollPos.x,\n\t\twidth: clientRect.width,\n\t\tright: clientRect.right + scrollPos.x,\n\t\ttop: clientRect.top + scrollPos.y,\n\t\theight: clientRect.height,\n\t\tbottom: clientRect.bottom + scrollPos.y\n\t};\n};\n\n/*\nSaves a named password in the browser\n*/\nexports.savePassword = function(name,password) {\n\ttry {\n\t\tif(window.localStorage) {\n\t\t\tlocalStorage.setItem(\&quot;tw5-password-\&quot; + name,password);\n\t\t}\n\t} catch(e) {\n\t}\n};\n\n/*\nRetrieve a named password from the browser\n*/\nexports.getPassword = function(name) {\n\ttry {\n\t\treturn window.localStorage ? localStorage.getItem(\&quot;tw5-password-\&quot; + name) : \&quot;\&quot;;\n\t} catch(e) {\n\t\treturn \&quot;\&quot;;\n\t}\n};\n\n/*\nForce layout of a dom node and its descendents\n*/\nexports.forceLayout = function(element) {\n\tvar dummy = element.offsetWidth;\n};\n\n/*\nPulse an element for debugging purposes\n*/\nexports.pulseElement = function(element) {\n\t// Event handler to remove the class at the end\n\telement.addEventListener($tw.browser.animationEnd,function handler(event) {\n\t\telement.removeEventListener($tw.browser.animationEnd,handler,false);\n\t\t$tw.utils.removeClass(element,\&quot;pulse\&quot;);\n\t},false);\n\t// Apply the pulse class\n\t$tw.utils.removeClass(element,\&quot;pulse\&quot;);\n\t$tw.utils.forceLayout(element);\n\t$tw.utils.addClass(element,\&quot;pulse\&quot;);\n};\n\n/*\nAttach specified event handlers to a DOM node\ndomNode: where to attach the event handlers\nevents: array of event handlers to be added (see below)\nEach entry in the events array is an object with these properties:\nhandlerFunction: optional event handler function\nhandlerObject: optional event handler object\nhandlerMethod: optionally specifies object handler method name (defaults to `handleEvent`)\n*/\nexports.addEventListeners = function(domNode,events) {\n\t$tw.utils.each(events,function(eventInfo) {\n\t\tvar handler;\n\t\tif(eventInfo.handlerFunction) {\n\t\t\thandler = eventInfo.handlerFunction;\n\t\t} else if(eventInfo.handlerObject) {\n\t\t\tif(eventInfo.handlerMethod) {\n\t\t\t\thandler = function(event) {\n\t\t\t\t\teventInfo.handlerObject[eventInfo.handlerMethod].call(eventInfo.handlerObject,event);\n\t\t\t\t};\t\n\t\t\t} else {\n\t\t\t\thandler = eventInfo.handlerObject;\n\t\t\t}\n\t\t}\n\t\tdomNode.addEventListener(eventInfo.name,handler,false);\n\t});\n};\n\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom/http.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom/http.js\ntype: application/javascript\nmodule-type: utils\n\nBrowser HTTP support\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nA quick and dirty HTTP function; to be refactored later. Options are:\n\turl: URL to retrieve\n\ttype: GET, PUT, POST etc\n\tcallback: function invoked with (err,data)\n*/\nexports.httpRequest = function(options) {\n\tvar type = options.type || \&quot;GET\&quot;,\n\t\theaders = options.headers || {accept: \&quot;application/json\&quot;},\n\t\trequest = new XMLHttpRequest(),\n\t\tdata = \&quot;\&quot;,\n\t\tf,results;\n\t// Massage the data hashmap into a string\n\tif(options.data) {\n\t\tif(typeof options.data === \&quot;string\&quot;) { // Already a string\n\t\t\tdata = options.data;\n\t\t} else { // A hashmap of strings\n\t\t\tresults = [];\n\t\t\t$tw.utils.each(options.data,function(dataItem,dataItemTitle) {\n\t\t\t\tresults.push(dataItemTitle + \&quot;=\&quot; + encodeURIComponent(dataItem));\n\t\t\t});\n\t\t\tdata = results.join(\&quot;&amp;\&quot;);\n\t\t}\n\t}\n\t// Set up the state change handler\n\trequest.onreadystatechange = function() {\n\t\tif(this.readyState === 4) {\n\t\t\tif(this.status === 200 || this.status === 201 || this.status === 204) {\n\t\t\t\t// Success!\n\t\t\t\toptions.callback(null,this.responseText,this);\n\t\t\t\treturn;\n\t\t\t}\n\t\t// Something went wrong\n\t\toptions.callback(\&quot;XMLHttpRequest error code: \&quot; + this.status);\n\t\t}\n\t};\n\t// Make the request\n\trequest.open(type,options.url,true);\n\tif(headers) {\n\t\t$tw.utils.each(headers,function(header,headerTitle,object) {\n\t\t\trequest.setRequestHeader(headerTitle,header);\n\t\t});\n\t}\n\tif(data &amp;&amp; !$tw.utils.hop(headers,\&quot;Content-type\&quot;)) {\n\t\trequest.setRequestHeader(\&quot;Content-type\&quot;,\&quot;application/x-www-form-urlencoded; charset=UTF-8\&quot;);\n\t}\n\trequest.send(data);\n\treturn request;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/http.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom/keyboard.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom/keyboard.js\ntype: application/javascript\nmodule-type: utils\n\nKeyboard utilities\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar namedKeys = {\n\t\&quot;backspace\&quot;: 8,\n\t\&quot;tab\&quot;: 9,\n\t\&quot;enter\&quot;: 13,\n\t\&quot;escape\&quot;: 27\n};\n\n/*\nParses a key descriptor into the structure:\n{\n\tkeyCode: numeric keycode\n\tshiftKey: boolean\n\taltKey: boolean\n\tctrlKey: boolean\n}\nKey descriptors have the following format:\n\tctrl+enter\n\tctrl+shift+alt+A\n*/\nexports.parseKeyDescriptor = function(keyDescriptor) {\n\tvar components = keyDescriptor.split(\&quot;+\&quot;),\n\t\tinfo = {\n\t\t\tkeyCode: 0,\n\t\t\tshiftKey: false,\n\t\t\taltKey: false,\n\t\t\tctrlKey: false\n\t\t};\n\tfor(var t=0; t&lt;components.length; t++) {\n\t\tvar s = components[t].toLowerCase();\n\t\t// Look for modifier keys\n\t\tif(s === \&quot;ctrl\&quot;) {\n\t\t\tinfo.ctrlKey = true;\n\t\t} else if(s === \&quot;shift\&quot;) {\n\t\t\tinfo.shiftKey = true;\n\t\t} else if(s === \&quot;alt\&quot;) {\n\t\t\tinfo.altKey = true;\n\t\t} else if(s === \&quot;meta\&quot;) {\n\t\t\tinfo.metaKey = true;\n\t\t}\n\t\t// Replace named keys with their code\n\t\tif(namedKeys[s]) {\n\t\t\tinfo.keyCode = namedKeys[s];\n\t\t}\n\t}\n\treturn info;\n};\n\nexports.checkKeyDescriptor = function(event,keyInfo) {\n\tvar metaKeyStatus = !!keyInfo.metaKey; // Using a temporary variable to keep JSHint happy\n\treturn event.keyCode === keyInfo.keyCode &amp;&amp; \n\t\t\tevent.shiftKey === keyInfo.shiftKey &amp;&amp; \n\t\t\tevent.altKey === keyInfo.altKey &amp;&amp; \n\t\t\tevent.ctrlKey === keyInfo.ctrlKey &amp;&amp; \n\t\t\tevent.metaKey === metaKeyStatus;\t\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/keyboard.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom/modal.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom/modal.js\ntype: application/javascript\nmodule-type: utils\n\nModal message mechanism\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;);\n\nvar Modal = function(wiki) {\n\tthis.wiki = wiki;\n\tthis.modalCount = 0;\n};\n\n/*\nDisplay a modal dialogue\n\ttitle: Title of tiddler to display\n\toptions: see below\nOptions include:\n\tdownloadLink: Text of a big download link to include\n*/\nModal.prototype.display = function(title,options) {\n\toptions = options || {};\n\tvar self = this,\n\t\tduration = $tw.utils.getAnimationDuration(),\n\t\ttiddler = this.wiki.getTiddler(title);\n\t// Don't do anything if the tiddler doesn't exist\n\tif(!tiddler) {\n\t\treturn;\n\t}\n\t// Create the variables\n\tvar variables = $tw.utils.extend({currentTiddler: title},options.variables);\n\t// Create the wrapper divs\n\tvar wrapper = document.createElement(\&quot;div\&quot;),\n\t\tmodalBackdrop = document.createElement(\&quot;div\&quot;),\n\t\tmodalWrapper = document.createElement(\&quot;div\&quot;),\n\t\tmodalHeader = document.createElement(\&quot;div\&quot;),\n\t\theaderTitle = document.createElement(\&quot;h3\&quot;),\n\t\tmodalBody = document.createElement(\&quot;div\&quot;),\n\t\tmodalLink = document.createElement(\&quot;a\&quot;),\n\t\tmodalFooter = document.createElement(\&quot;div\&quot;),\n\t\tmodalFooterHelp = document.createElement(\&quot;span\&quot;),\n\t\tmodalFooterButtons = document.createElement(\&quot;span\&quot;);\n\t// Up the modal count and adjust the body class\n\tthis.modalCount++;\n\tthis.adjustPageClass();\n\t// Add classes\n\t$tw.utils.addClass(wrapper,\&quot;tc-modal-wrapper\&quot;);\n\t$tw.utils.addClass(modalBackdrop,\&quot;tc-modal-backdrop\&quot;);\n\t$tw.utils.addClass(modalWrapper,\&quot;tc-modal\&quot;);\n\t$tw.utils.addClass(modalHeader,\&quot;tc-modal-header\&quot;);\n\t$tw.utils.addClass(modalBody,\&quot;tc-modal-body\&quot;);\n\t$tw.utils.addClass(modalFooter,\&quot;tc-modal-footer\&quot;);\n\t// Join them together\n\twrapper.appendChild(modalBackdrop);\n\twrapper.appendChild(modalWrapper);\n\tmodalHeader.appendChild(headerTitle);\n\tmodalWrapper.appendChild(modalHeader);\n\tmodalWrapper.appendChild(modalBody);\n\tmodalFooter.appendChild(modalFooterHelp);\n\tmodalFooter.appendChild(modalFooterButtons);\n\tmodalWrapper.appendChild(modalFooter);\n\t// Render the title of the message\n\tvar headerWidgetNode = this.wiki.makeTranscludeWidget(title,{\n\t\tfield: \&quot;subtitle\&quot;,\n\t\tchildren: [{\n\t\t\ttype: \&quot;text\&quot;,\n\t\t\tattributes: {\n\t\t\t\ttext: {\n\t\t\t\t\ttype: \&quot;string\&quot;,\n\t\t\t\t\tvalue: title\n\t\t}}}],\n\t\tparentWidget: $tw.rootWidget,\n\t\tdocument: document,\n\t\tvariables: variables\n\t});\n\theaderWidgetNode.render(headerTitle,null);\n\tthis.wiki.addEventListener(\&quot;change\&quot;,function(changes) {\n\t\theaderWidgetNode.refresh(changes,modalHeader,null);\n\t});\n\t// Render the body of the message\n\tvar bodyWidgetNode = this.wiki.makeTranscludeWidget(title,{\n\t\tparentWidget: $tw.rootWidget,\n\t\tdocument: document,\n\t\tvariables: variables\n\t});\n\tbodyWidgetNode.render(modalBody,null);\n\tthis.wiki.addEventListener(\&quot;change\&quot;,function(changes) {\n\t\tbodyWidgetNode.refresh(changes,modalBody,null);\n\t});\n\t// Setup the link if present\n\tif(options.downloadLink) {\n\t\tmodalLink.href = options.downloadLink;\n\t\tmodalLink.appendChild(document.createTextNode(\&quot;Right-click to save changes\&quot;));\n\t\tmodalBody.appendChild(modalLink);\n\t}\n\t// Render the footer of the message\n\tif(tiddler &amp;&amp; tiddler.fields &amp;&amp; tiddler.fields.help) {\n\t\tvar link = document.createElement(\&quot;a\&quot;);\n\t\tlink.setAttribute(\&quot;href\&quot;,tiddler.fields.help);\n\t\tlink.setAttribute(\&quot;target\&quot;,\&quot;_blank\&quot;);\n\t\tlink.appendChild(document.createTextNode(\&quot;Help\&quot;));\n\t\tmodalFooterHelp.appendChild(link);\n\t\tmodalFooterHelp.style.float = \&quot;left\&quot;;\n\t}\n\tvar footerWidgetNode = this.wiki.makeTranscludeWidget(title,{\n\t\tfield: \&quot;footer\&quot;,\n\t\tchildren: [{\n\t\t\ttype: \&quot;button\&quot;,\n\t\t\tattributes: {\n\t\t\t\tmessage: {\n\t\t\t\t\ttype: \&quot;string\&quot;,\n\t\t\t\t\tvalue: \&quot;tm-close-tiddler\&quot;\n\t\t\t\t}\n\t\t\t},\n\t\t\tchildren: [{\n\t\t\t\ttype: \&quot;text\&quot;,\n\t\t\t\tattributes: {\n\t\t\t\t\ttext: {\n\t\t\t\t\t\ttype: \&quot;string\&quot;,\n\t\t\t\t\t\tvalue: \&quot;Close\&quot;\n\t\t\t}}}\n\t\t]}],\n\t\tparentWidget: $tw.rootWidget,\n\t\tdocument: document,\n\t\tvariables: variables\n\t});\n\tfooterWidgetNode.render(modalFooterButtons,null);\n\tthis.wiki.addEventListener(\&quot;change\&quot;,function(changes) {\n\t\tfooterWidgetNode.refresh(changes,modalFooterButtons,null);\n\t});\n\t// Add the close event handler\n\tvar closeHandler = function(event) {\n\t\t// Decrease the modal count and adjust the body class\n\t\tself.modalCount--;\n\t\tself.adjustPageClass();\n\t\t// Force layout and animate the modal message away\n\t\t$tw.utils.forceLayout(modalBackdrop);\n\t\t$tw.utils.forceLayout(modalWrapper);\n\t\t$tw.utils.setStyle(modalBackdrop,[\n\t\t\t{opacity: \&quot;0\&quot;}\n\t\t]);\n\t\t$tw.utils.setStyle(modalWrapper,[\n\t\t\t{transform: \&quot;translateY(\&quot; + window.innerHeight + \&quot;px)\&quot;}\n\t\t]);\n\t\t// Set up an event for the transition end\n\t\twindow.setTimeout(function() {\n\t\t\tif(wrapper.parentNode) {\n\t\t\t\t// Remove the modal message from the DOM\n\t\t\t\tdocument.body.removeChild(wrapper);\n\t\t\t}\n\t\t},duration);\n\t\t// Don't let anyone else handle the tm-close-tiddler message\n\t\treturn false;\n\t};\n\theaderWidgetNode.addEventListener(\&quot;tm-close-tiddler\&quot;,closeHandler,false);\n\tbodyWidgetNode.addEventListener(\&quot;tm-close-tiddler\&quot;,closeHandler,false);\n\tfooterWidgetNode.addEventListener(\&quot;tm-close-tiddler\&quot;,closeHandler,false);\n\t// Set the initial styles for the message\n\t$tw.utils.setStyle(modalBackdrop,[\n\t\t{opacity: \&quot;0\&quot;}\n\t]);\n\t$tw.utils.setStyle(modalWrapper,[\n\t\t{transformOrigin: \&quot;0% 0%\&quot;},\n\t\t{transform: \&quot;translateY(\&quot; + (-window.innerHeight) + \&quot;px)\&quot;}\n\t]);\n\t// Put the message into the document\n\tdocument.body.appendChild(wrapper);\n\t// Set up animation for the styles\n\t$tw.utils.setStyle(modalBackdrop,[\n\t\t{transition: \&quot;opacity \&quot; + duration + \&quot;ms ease-out\&quot;}\n\t]);\n\t$tw.utils.setStyle(modalWrapper,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\&quot;transform\&quot;) + \&quot; \&quot; + duration + \&quot;ms ease-in-out\&quot;}\n\t]);\n\t// Force layout\n\t$tw.utils.forceLayout(modalBackdrop);\n\t$tw.utils.forceLayout(modalWrapper);\n\t// Set final animated styles\n\t$tw.utils.setStyle(modalBackdrop,[\n\t\t{opacity: \&quot;0.7\&quot;}\n\t]);\n\t$tw.utils.setStyle(modalWrapper,[\n\t\t{transform: \&quot;translateY(0px)\&quot;}\n\t]);\n};\n\nModal.prototype.adjustPageClass = function() {\n\tif($tw.pageContainer) {\n\t\t$tw.utils.toggleClass($tw.pageContainer,\&quot;tc-modal-displayed\&quot;,this.modalCount &gt; 0);\n\t}\n};\n\nexports.Modal = Modal;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/modal.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom/notifier.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom/notifier.js\ntype: application/javascript\nmodule-type: utils\n\nNotifier mechanism\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;);\n\nvar Notifier = function(wiki) {\n\tthis.wiki = wiki;\n};\n\n/*\nDisplay a notification\n\ttitle: Title of tiddler containing the notification text\n\toptions: see below\nOptions include:\n*/\nNotifier.prototype.display = function(title,options) {\n\toptions = options || {};\n\t// Create the wrapper divs\n\tvar notification = document.createElement(\&quot;div\&quot;),\n\t\ttiddler = this.wiki.getTiddler(title),\n\t\tduration = $tw.utils.getAnimationDuration();\n\t// Don't do anything if the tiddler doesn't exist\n\tif(!tiddler) {\n\t\treturn;\n\t}\n\t// Add classes\n\t$tw.utils.addClass(notification,\&quot;tc-notification\&quot;);\n\t// Render the body of the notification\n\tvar widgetNode = this.wiki.makeTranscludeWidget(title,{parentWidget: $tw.rootWidget, document: document});\n\twidgetNode.render(notification,null);\n\tthis.wiki.addEventListener(\&quot;change\&quot;,function(changes) {\n\t\twidgetNode.refresh(changes,notification,null);\n\t});\n\t// Set the initial styles for the notification\n\t$tw.utils.setStyle(notification,[\n\t\t{opacity: \&quot;0\&quot;},\n\t\t{transformOrigin: \&quot;0% 0%\&quot;},\n\t\t{transform: \&quot;translateY(\&quot; + (-window.innerHeight) + \&quot;px)\&quot;},\n\t\t{transition: \&quot;opacity \&quot; + duration + \&quot;ms ease-out, \&quot; + $tw.utils.roundTripPropertyName(\&quot;transform\&quot;) + \&quot; \&quot; + duration + \&quot;ms ease-in-out\&quot;}\n\t]);\n\t// Add the notification to the DOM\n\tdocument.body.appendChild(notification);\n\t// Force layout\n\t$tw.utils.forceLayout(notification);\n\t// Set final animated styles\n\t$tw.utils.setStyle(notification,[\n\t\t{opacity: \&quot;1.0\&quot;},\n\t\t{transform: \&quot;translateY(0px)\&quot;}\n\t]);\n\t// Set a timer to remove the notification\n\twindow.setTimeout(function() {\n\t\t// Force layout and animate the notification away\n\t\t$tw.utils.forceLayout(notification);\n\t\t$tw.utils.setStyle(notification,[\n\t\t\t{opacity: \&quot;0.0\&quot;},\n\t\t\t{transform: \&quot;translateX(\&quot; + (notification.offsetWidth) + \&quot;px)\&quot;}\n\t\t]);\n\t\t// Remove the modal message from the DOM once the transition ends\n\t\tsetTimeout(function() {\n\t\t\tif(notification.parentNode) {\n\t\t\t\tdocument.body.removeChild(notification);\n\t\t\t}\n\t\t},duration);\n\t},$tw.config.preferences.notificationDuration);\n};\n\nexports.Notifier = Notifier;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/notifier.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom/popup.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom/popup.js\ntype: application/javascript\nmodule-type: utils\n\nModule that creates a $tw.utils.Popup object prototype that manages popups in the browser\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nCreates a Popup object with these options:\n\trootElement: the DOM element to which the popup zapper should be attached\n*/\nvar Popup = function(options) {\n\toptions = options || {};\n\tthis.rootElement = options.rootElement || document.documentElement;\n\tthis.popups = []; // Array of {title:,wiki:,domNode:} objects\n};\n\n/*\nTrigger a popup open or closed. Parameters are in a hashmap:\n\ttitle: title of the tiddler where the popup details are stored\n\tdomNode: dom node to which the popup will be positioned\n\twiki: wiki\n\tforce: if specified, forces the popup state to true or false (instead of toggling it)\n*/\nPopup.prototype.triggerPopup = function(options) {\n\t// Check if this popup is already active\n\tvar index = -1;\n\tfor(var t=0; t&lt;this.popups.length; t++) {\n\t\tif(this.popups[t].title === options.title) {\n\t\t\tindex = t;\n\t\t}\n\t}\n\t// Compute the new state\n\tvar state = index === -1;\n\tif(options.force !== undefined) {\n\t\tstate = options.force;\n\t}\n\t// Show or cancel the popup according to the new state\n\tif(state) {\n\t\tthis.show(options);\n\t} else {\n\t\tthis.cancel(index);\n\t}\n};\n\nPopup.prototype.handleEvent = function(event) {\n\tif(event.type === \&quot;click\&quot;) {\n\t\t// Find out what was clicked on\n\t\tvar info = this.popupInfo(event.target),\n\t\t\tcancelLevel = info.popupLevel - 1;\n\t\t// Don't remove the level that was clicked on if we clicked on a handle\n\t\tif(info.isHandle) {\n\t\t\tcancelLevel++;\n\t\t}\n\t\t// Cancel\n\t\tthis.cancel(cancelLevel);\n\t}\n};\n\n/*\nFind the popup level containing a DOM node. Returns:\npopupLevel: count of the number of nested popups containing the specified element\nisHandle: true if the specified element is within a popup handle\n*/\nPopup.prototype.popupInfo = function(domNode) {\n\tvar isHandle = false,\n\t\tpopupCount = 0,\n\t\tnode = domNode;\n\t// First check ancestors to see if we're within a popup handle\n\twhile(node) {\n\t\tif($tw.utils.hasClass(node,\&quot;tc-popup-handle\&quot;)) {\n\t\t\tisHandle = true;\n\t\t\tpopupCount++;\n\t\t}\n\t\tif($tw.utils.hasClass(node,\&quot;tc-popup-keep\&quot;)) {\n\t\t\tisHandle = true;\n\t\t}\n\t\tnode = node.parentNode;\n\t}\n\t// Then count the number of ancestor popups\n\tnode = domNode;\n\twhile(node) {\n\t\tif($tw.utils.hasClass(node,\&quot;tc-popup\&quot;)) {\n\t\t\tpopupCount++;\n\t\t}\n\t\tnode = node.parentNode;\n\t}\n\tvar info = {\n\t\tpopupLevel: popupCount,\n\t\tisHandle: isHandle\n\t};\n\treturn info;\n};\n\n/*\nDisplay a popup by adding it to the stack\n*/\nPopup.prototype.show = function(options) {\n\t// Find out what was clicked on\n\tvar info = this.popupInfo(options.domNode);\n\t// Cancel any higher level popups\n\tthis.cancel(info.popupLevel);\n\t// Store the popup details\n\tthis.popups.push({\n\t\ttitle: options.title,\n\t\twiki: options.wiki,\n\t\tdomNode: options.domNode\n\t});\n\t// Set the state tiddler\n\toptions.wiki.setTextReference(options.title,\n\t\t\t\&quot;(\&quot; + options.domNode.offsetLeft + \&quot;,\&quot; + options.domNode.offsetTop + \&quot;,\&quot; + \n\t\t\t\toptions.domNode.offsetWidth + \&quot;,\&quot; + options.domNode.offsetHeight + \&quot;)\&quot;);\n\t// Add the click handler if we have any popups\n\tif(this.popups.length &gt; 0) {\n\t\tthis.rootElement.addEventListener(\&quot;click\&quot;,this,true);\t\t\n\t}\n};\n\n/*\nCancel all popups at or above a specified level or DOM node\nlevel: popup level to cancel (0 cancels all popups)\n*/\nPopup.prototype.cancel = function(level) {\n\tvar numPopups = this.popups.length;\n\tlevel = Math.max(0,Math.min(level,numPopups));\n\tfor(var t=level; t&lt;numPopups; t++) {\n\t\tvar popup = this.popups.pop();\n\t\tif(popup.title) {\n\t\t\tpopup.wiki.deleteTiddler(popup.title);\n\t\t}\n\t}\n\tif(this.popups.length === 0) {\n\t\tthis.rootElement.removeEventListener(\&quot;click\&quot;,this,false);\n\t}\n};\n\n/*\nReturns true if the specified title and text identifies an active popup\n*/\nPopup.prototype.readPopupState = function(text) {\n\tvar popupLocationRegExp = /^\\((-?[0-9\\.E]+),(-?[0-9\\.E]+),(-?[0-9\\.E]+),(-?[0-9\\.E]+)\\)$/;\n\treturn popupLocationRegExp.test(text);\n};\n\nexports.Popup = Popup;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/popup.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom/scroller.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom/scroller.js\ntype: application/javascript\nmodule-type: utils\n\nModule that creates a $tw.utils.Scroller object prototype that manages scrolling in the browser\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nEvent handler for when the `tm-scroll` event hits the document body\n*/\nvar PageScroller = function() {\n\tthis.idRequestFrame = null;\n\tthis.requestAnimationFrame = window.requestAnimationFrame ||\n\t\twindow.webkitRequestAnimationFrame ||\n\t\twindow.mozRequestAnimationFrame ||\n\t\tfunction(callback) {\n\t\t\treturn window.setTimeout(callback, 1000/60);\n\t\t};\n\tthis.cancelAnimationFrame = window.cancelAnimationFrame ||\n\t\twindow.webkitCancelAnimationFrame ||\n\t\twindow.webkitCancelRequestAnimationFrame ||\n\t\twindow.mozCancelAnimationFrame ||\n\t\twindow.mozCancelRequestAnimationFrame ||\n\t\tfunction(id) {\n\t\t\twindow.clearTimeout(id);\n\t\t};\n};\n\nPageScroller.prototype.cancelScroll = function() {\n\tif(this.idRequestFrame) {\n\t\tthis.cancelAnimationFrame.call(window,this.idRequestFrame);\n\t\tthis.idRequestFrame = null;\n\t}\n};\n\n/*\nHandle an event\n*/\nPageScroller.prototype.handleEvent = function(event) {\n\tif(event.type === \&quot;tm-scroll\&quot;) {\n\t\treturn this.scrollIntoView(event.target);\n\t}\n\treturn true;\n};\n\n/*\nHandle a scroll event hitting the page document\n*/\nPageScroller.prototype.scrollIntoView = function(element) {\n\tvar duration = $tw.utils.getAnimationDuration();\n\t// Now get ready to scroll the body\n\tthis.cancelScroll();\n\tthis.startTime = Date.now();\n\tvar scrollPosition = $tw.utils.getScrollPosition();\n\t// Get the client bounds of the element and adjust by the scroll position\n\tvar clientBounds = element.getBoundingClientRect(),\n\t\tbounds = {\n\t\t\tleft: clientBounds.left + scrollPosition.x,\n\t\t\ttop: clientBounds.top + scrollPosition.y,\n\t\t\twidth: clientBounds.width,\n\t\t\theight: clientBounds.height\n\t\t};\n\t// We'll consider the horizontal and vertical scroll directions separately via this function\n\tvar getEndPos = function(targetPos,targetSize,currentPos,currentSize) {\n\t\t\t// If the target is above/left of the current view, then scroll to it's top/left\n\t\t\tif(targetPos &lt;= currentPos) {\n\t\t\t\treturn targetPos;\n\t\t\t// If the target is smaller than the window and the scroll position is too far up, then scroll till the target is at the bottom of the window\n\t\t\t} else if(targetSize &lt; currentSize &amp;&amp; currentPos &lt; (targetPos + targetSize - currentSize)) {\n\t\t\t\treturn targetPos + targetSize - currentSize;\n\t\t\t// If the target is big, then just scroll to the top\n\t\t\t} else if(currentPos &lt; targetPos) {\n\t\t\t\treturn targetPos;\n\t\t\t// Otherwise, stay where we are\n\t\t\t} else {\n\t\t\t\treturn currentPos;\n\t\t\t}\n\t\t},\n\t\tendX = getEndPos(bounds.left,bounds.width,scrollPosition.x,window.innerWidth),\n\t\tendY = getEndPos(bounds.top,bounds.height,scrollPosition.y,window.innerHeight);\n\t// Only scroll if necessary\n\tif(endX !== scrollPosition.x || endY !== scrollPosition.y) {\n\t\tvar self = this,\n\t\t\tdrawFrame;\n\t\tdrawFrame = function () {\n\t\t\tvar t;\n\t\t\tif(duration &lt;= 0) {\n\t\t\t\tt = 1;\n\t\t\t} else {\n\t\t\t\tt = ((Date.now()) - self.startTime) / duration;\t\n\t\t\t}\n\t\t\tif(t &gt;= 1) {\n\t\t\t\tself.cancelScroll();\n\t\t\t\tt = 1;\n\t\t\t}\n\t\t\tt = $tw.utils.slowInSlowOut(t);\n\t\t\twindow.scrollTo(scrollPosition.x + (endX - scrollPosition.x) * t,scrollPosition.y + (endY - scrollPosition.y) * t);\n\t\t\tif(t &lt; 1) {\n\t\t\t\tself.idRequestFrame = self.requestAnimationFrame.call(window,drawFrame);\n\t\t\t}\n\t\t};\n\t\tdrawFrame();\n\t}\n};\n\nexports.PageScroller = PageScroller;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/scroller.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/fakedom.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/fakedom.js\ntype: application/javascript\nmodule-type: global\n\nA barebones implementation of DOM interfaces needed by the rendering mechanism.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Sequence number used to enable us to track objects for testing\nvar sequenceNumber = null;\n\nvar bumpSequenceNumber = function(object) {\n\tif(sequenceNumber !== null) {\n\t\tobject.sequenceNumber = sequenceNumber++;\n\t}\n};\n\nvar TW_TextNode = function(text) {\n\tbumpSequenceNumber(this);\n\tthis.textContent = text;\n};\n\nObject.defineProperty(TW_TextNode.prototype, \&quot;formattedTextContent\&quot;, {\n\tget: function() {\n\t\treturn this.textContent.replace(/(\\r?\\n)/g,\&quot;\&quot;);\n\t}\n});\n\nvar TW_Element = function(tag,namespace) {\n\tbumpSequenceNumber(this);\n\tthis.isTiddlyWikiFakeDom = true;\n\tthis.tag = tag;\n\tthis.attributes = {};\n\tthis.isRaw = false;\n\tthis.children = [];\n\tthis.style = {};\n\tthis.namespaceURI = namespace || \&quot;http://www.w3.org/1999/xhtml\&quot;;\n};\n\nTW_Element.prototype.setAttribute = function(name,value) {\n\tif(this.isRaw) {\n\t\tthrow \&quot;Cannot setAttribute on a raw TW_Element\&quot;;\n\t}\n\tthis.attributes[name] = value;\n};\n\nTW_Element.prototype.setAttributeNS = function(namespace,name,value) {\n\tthis.setAttribute(name,value);\n};\n\nTW_Element.prototype.removeAttribute = function(name) {\n\tif(this.isRaw) {\n\t\tthrow \&quot;Cannot removeAttribute on a raw TW_Element\&quot;;\n\t}\n\tif($tw.utils.hop(this.attributes,name)) {\n\t\tdelete this.attributes[name];\n\t}\n};\n\nTW_Element.prototype.appendChild = function(node) {\n\tthis.children.push(node);\n\tnode.parentNode = this;\n};\n\nTW_Element.prototype.insertBefore = function(node,nextSibling) {\n\tif(nextSibling) {\n\t\tvar p = this.children.indexOf(nextSibling);\n\t\tif(p !== -1) {\n\t\t\tthis.children.splice(p,0,node);\n\t\t\tnode.parentNode = this;\n\t\t} else {\n\t\t\tthis.appendChild(node);\n\t\t}\n\t} else {\n\t\tthis.appendChild(node);\n\t}\n};\n\nTW_Element.prototype.removeChild = function(node) {\n\tvar p = this.children.indexOf(node);\n\tif(p !== -1) {\n\t\tthis.children.splice(p,1);\n\t}\n};\n\nTW_Element.prototype.hasChildNodes = function() {\n\treturn !!this.children.length;\n};\n\nObject.defineProperty(TW_Element.prototype, \&quot;firstChild\&quot;, {\n\tget: function() {\n\t\treturn this.children[0];\n\t}\n});\n\nTW_Element.prototype.addEventListener = function(type,listener,useCapture) {\n\t// Do nothing\n};\n\nObject.defineProperty(TW_Element.prototype, \&quot;className\&quot;, {\n\tget: function() {\n\t\treturn this.attributes[\&quot;class\&quot;] || \&quot;\&quot;;\n\t},\n\tset: function(value) {\n\t\tthis.attributes[\&quot;class\&quot;] = value;\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \&quot;value\&quot;, {\n\tget: function() {\n\t\treturn this.attributes.value || \&quot;\&quot;;\n\t},\n\tset: function(value) {\n\t\tthis.attributes.value = value;\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \&quot;outerHTML\&quot;, {\n\tget: function() {\n\t\tvar output = [],attr,a,v;\n\t\toutput.push(\&quot;&lt;\&quot;,this.tag);\n\t\tif(this.attributes) {\n\t\t\tattr = [];\n\t\t\tfor(a in this.attributes) {\n\t\t\t\tattr.push(a);\n\t\t\t}\n\t\t\tattr.sort();\n\t\t\tfor(a=0; a&lt;attr.length; a++) {\n\t\t\t\tv = this.attributes[attr[a]];\n\t\t\t\tif(v !== undefined) {\n\t\t\t\t\toutput.push(\&quot; \&quot;,attr[a],\&quot;='\&quot;,$tw.utils.htmlEncode(v),\&quot;'\&quot;);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(this.style) {\n\t\t\tvar style = [];\n\t\t\tfor(var s in this.style) {\n\t\t\t\tstyle.push(s + \&quot;:\&quot; + this.style[s] + \&quot;;\&quot;);\n\t\t\t}\n\t\t\tif(style.length &gt; 0) {\n\t\t\t\toutput.push(\&quot; style='\&quot;,style.join(\&quot;\&quot;),\&quot;'\&quot;)\n\t\t\t}\n\t\t}\n\t\toutput.push(\&quot;&gt;\&quot;);\n\t\tif($tw.config.htmlVoidElements.indexOf(this.tag) === -1) {\n\t\t\toutput.push(this.innerHTML);\n\t\t\toutput.push(\&quot;&lt;/\&quot;,this.tag,\&quot;&gt;\&quot;);\n\t\t}\n\t\treturn output.join(\&quot;\&quot;);\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \&quot;innerHTML\&quot;, {\n\tget: function() {\n\t\tif(this.isRaw) {\n\t\t\treturn this.rawHTML;\n\t\t} else {\n\t\t\tvar b = [];\n\t\t\t$tw.utils.each(this.children,function(node) {\n\t\t\t\tif(node instanceof TW_Element) {\n\t\t\t\t\tb.push(node.outerHTML);\n\t\t\t\t} else if(node instanceof TW_TextNode) {\n\t\t\t\t\tb.push($tw.utils.htmlEncode(node.textContent));\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn b.join(\&quot;\&quot;);\n\t\t}\n\t},\n\tset: function(value) {\n\t\tthis.isRaw = true;\n\t\tthis.rawHTML = value;\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \&quot;textContent\&quot;, {\n\tget: function() {\n\t\tif(this.isRaw) {\n\t\t\tthrow \&quot;Cannot get textContent on a raw TW_Element\&quot;;\n\t\t} else {\n\t\t\tvar b = [];\n\t\t\t$tw.utils.each(this.children,function(node) {\n\t\t\t\tb.push(node.textContent);\n\t\t\t});\n\t\t\treturn b.join(\&quot;\&quot;);\n\t\t}\n\t},\n\tset: function(value) {\n\t\tthis.children = [new TW_TextNode(value)];\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \&quot;formattedTextContent\&quot;, {\n\tget: function() {\n\t\tif(this.isRaw) {\n\t\t\tthrow \&quot;Cannot get formattedTextContent on a raw TW_Element\&quot;;\n\t\t} else {\n\t\t\tvar b = [],\n\t\t\t\tisBlock = $tw.config.htmlBlockElements.indexOf(this.tag) !== -1;\n\t\t\tif(isBlock) {\n\t\t\t\tb.push(\&quot;\\n\&quot;);\n\t\t\t}\n\t\t\tif(this.tag === \&quot;li\&quot;) {\n\t\t\t\tb.push(\&quot;* \&quot;);\n\t\t\t}\n\t\t\t$tw.utils.each(this.children,function(node) {\n\t\t\t\tb.push(node.formattedTextContent);\n\t\t\t});\n\t\t\tif(isBlock) {\n\t\t\t\tb.push(\&quot;\\n\&quot;);\n\t\t\t}\n\t\t\treturn b.join(\&quot;\&quot;);\n\t\t}\n\t}\n});\n\nvar document = {\n\tsetSequenceNumber: function(value) {\n\t\tsequenceNumber = value;\n\t},\n\tcreateElementNS: function(namespace,tag) {\n\t\treturn new TW_Element(tag,namespace);\n\t},\n\tcreateElement: function(tag) {\n\t\treturn new TW_Element(tag);\n\t},\n\tcreateTextNode: function(text) {\n\t\treturn new TW_TextNode(text);\n\t},\n\tcompatMode: \&quot;CSS1Compat\&quot;, // For KaTeX to know that we're not a browser in quirks mode\n\tisTiddlyWikiFakeDom: true\n};\n\nexports.fakeDocument = document;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/fakedom.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;global&quot;
        },
        &quot;$:/core/modules/utils/filesystem.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/filesystem.js\ntype: application/javascript\nmodule-type: utils-node\n\nFile system utilities\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar fs = require(\&quot;fs\&quot;),\n\tpath = require(\&quot;path\&quot;);\n\n/*\nRecursively (and synchronously) copy a directory and all its content\n*/\nexports.copyDirectory = function(srcPath,dstPath) {\n\t// Remove any trailing path separators\n\tsrcPath = $tw.utils.removeTrailingSeparator(srcPath);\n\tdstPath = $tw.utils.removeTrailingSeparator(dstPath);\n\t// Create the destination directory\n\tvar err = $tw.utils.createDirectory(dstPath);\n\tif(err) {\n\t\treturn err;\n\t}\n\t// Function to copy a folder full of files\n\tvar copy = function(srcPath,dstPath) {\n\t\tvar srcStats = fs.lstatSync(srcPath),\n\t\t\tdstExists = fs.existsSync(dstPath);\n\t\tif(srcStats.isFile()) {\n\t\t\t$tw.utils.copyFile(srcPath,dstPath);\n\t\t} else if(srcStats.isDirectory()) {\n\t\t\tvar items = fs.readdirSync(srcPath);\n\t\t\tfor(var t=0; t&lt;items.length; t++) {\n\t\t\t\tvar item = items[t],\n\t\t\t\t\terr = copy(srcPath + path.sep + item,dstPath + path.sep + item);\n\t\t\t\tif(err) {\n\t\t\t\t\treturn err;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tcopy(srcPath,dstPath);\n\treturn null;\n};\n\n/*\nCopy a file\n*/\nvar FILE_BUFFER_LENGTH = 64 * 1024,\n\tfileBuffer;\n\nexports.copyFile = function(srcPath,dstPath) {\n\t// Create buffer if required\n\tif(!fileBuffer) {\n\t\tfileBuffer = new Buffer(FILE_BUFFER_LENGTH);\n\t}\n\t// Create any directories in the destination\n\t$tw.utils.createDirectory(path.dirname(dstPath));\n\t// Copy the file\n\tvar srcFile = fs.openSync(srcPath,\&quot;r\&quot;),\n\t\tdstFile = fs.openSync(dstPath,\&quot;w\&quot;),\n\t\tbytesRead = 1,\n\t\tpos = 0;\n\twhile (bytesRead &gt; 0) {\n\t\tbytesRead = fs.readSync(srcFile,fileBuffer,0,FILE_BUFFER_LENGTH,pos);\n\t\tfs.writeSync(dstFile,fileBuffer,0,bytesRead);\n\t\tpos += bytesRead;\n\t}\n\tfs.closeSync(srcFile);\n\tfs.closeSync(dstFile);\n\treturn null;\n};\n\n/*\nRemove trailing path separator\n*/\nexports.removeTrailingSeparator = function(dirPath) {\n\tvar len = dirPath.length;\n\tif(dirPath.charAt(len-1) === path.sep) {\n\t\tdirPath = dirPath.substr(0,len-1);\n\t}\n\treturn dirPath;\n};\n\n/*\nRecursively create a directory\n*/\nexports.createDirectory = function(dirPath) {\n\tif(dirPath.substr(dirPath.length-1,1) !== path.sep) {\n\t\tdirPath = dirPath + path.sep;\n\t}\n\tvar pos = 1;\n\tpos = dirPath.indexOf(path.sep,pos);\n\twhile(pos !== -1) {\n\t\tvar subDirPath = dirPath.substr(0,pos);\n\t\tif(!$tw.utils.isDirectory(subDirPath)) {\n\t\t\ttry {\n\t\t\t\tfs.mkdirSync(subDirPath);\n\t\t\t} catch(e) {\n\t\t\t\treturn \&quot;Error creating directory '\&quot; + subDirPath + \&quot;'\&quot;;\n\t\t\t}\n\t\t}\n\t\tpos = dirPath.indexOf(path.sep,pos + 1);\n\t}\n\treturn null;\n};\n\n/*\nRecursively create directories needed to contain a specified file\n*/\nexports.createFileDirectories = function(filePath) {\n\treturn $tw.utils.createDirectory(path.dirname(filePath));\n};\n\n/*\nRecursively delete a directory\n*/\nexports.deleteDirectory = function(dirPath) {\n\tif(fs.existsSync(dirPath)) {\n\t\tvar entries = fs.readdirSync(dirPath);\n\t\tfor(var entryIndex=0; entryIndex&lt;entries.length; entryIndex++) {\n\t\t\tvar currPath = dirPath + path.sep + entries[entryIndex];\n\t\t\tif(fs.lstatSync(currPath).isDirectory()) {\n\t\t\t\t$tw.utils.deleteDirectory(currPath);\n\t\t\t} else {\n\t\t\t\tfs.unlinkSync(currPath);\n\t\t\t}\n\t\t}\n\tfs.rmdirSync(dirPath);\n\t}\n\treturn null;\n};\n\n/*\nCheck if a path identifies a directory\n*/\nexports.isDirectory = function(dirPath) {\n\treturn fs.existsSync(dirPath) &amp;&amp; fs.statSync(dirPath).isDirectory();\n};\n\n/*\nCheck if a path identifies a directory that is empty\n*/\nexports.isDirectoryEmpty = function(dirPath) {\n\tif(!$tw.utils.isDirectory(dirPath)) {\n\t\treturn false;\n\t}\n\tvar files = fs.readdirSync(dirPath),\n\t\tempty = true;\n\t$tw.utils.each(files,function(file,index) {\n\t\tif(file.charAt(0) !== \&quot;.\&quot;) {\n\t\t\tempty = false;\n\t\t}\n\t});\n\treturn empty;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/filesystem.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils-node&quot;
        },
        &quot;$:/core/modules/utils/logger.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/logger.js\ntype: application/javascript\nmodule-type: utils\n\nA basic logging implementation\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar ALERT_TAG = \&quot;$:/tags/Alert\&quot;;\n\n/*\nMake a new logger\n*/\nfunction Logger(componentName) {\n\tthis.componentName = componentName || \&quot;\&quot;;\n}\n\n/*\nLog a message\n*/\nLogger.prototype.log = function(/* args */) {\n\tif(console !== undefined &amp;&amp; console.log !== undefined) {\n\t\treturn Function.apply.call(console.log, console, [this.componentName + \&quot;:\&quot;].concat(Array.prototype.slice.call(arguments,0)));\n\t}\n};\n\n/*\nAlert a message\n*/\nLogger.prototype.alert = function(/* args */) {\n\t// Prepare the text of the alert\n\tvar text = Array.prototype.join.call(arguments,\&quot; \&quot;);\n\t// Check if there is an existing alert with the same text and the same component\n\tvar existingAlerts = $tw.wiki.getTiddlersWithTag(ALERT_TAG),\n\t\talertFields,\n\t\texistingCount,\n\t\tself = this;\n\t$tw.utils.each(existingAlerts,function(title) {\n\t\tvar tiddler = $tw.wiki.getTiddler(title);\n\t\tif(tiddler.fields.text === text &amp;&amp; tiddler.fields.component === self.componentName &amp;&amp; tiddler.fields.modified &amp;&amp; (!alertFields || tiddler.fields.modified &lt; alertFields.modified)) {\n\t\t\t\talertFields = $tw.utils.extend({},tiddler.fields);\n\t\t}\n\t});\n\tif(alertFields) {\n\t\texistingCount = alertFields.count || 1;\n\t} else {\n\t\talertFields = {\n\t\t\ttitle: $tw.wiki.generateNewTitle(\&quot;$:/temp/alerts/alert\&quot;,{prefix: \&quot;\&quot;}),\n\t\t\ttext: text,\n\t\t\ttags: [ALERT_TAG],\n\t\t\tcomponent: this.componentName\n\t\t};\n\t\texistingCount = 0;\n\t}\n\talertFields.modified = new Date();\n\tif(++existingCount &gt; 1) {\n\t\talertFields.count = existingCount;\n\t} else {\n\t\talertFields.count = undefined;\n\t}\n\t$tw.wiki.addTiddler(new $tw.Tiddler(alertFields));\n\t// Log it too\n\tthis.log.apply(this,Array.prototype.slice.call(arguments,0));\n};\n\nexports.Logger = Logger;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/logger.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/parsetree.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/parsetree.js\ntype: application/javascript\nmodule-type: utils\n\nParse tree utility functions.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.addAttributeToParseTreeNode = function(node,name,value) {\n\tnode.attributes = node.attributes || {};\n\tnode.attributes[name] = {type: \&quot;string\&quot;, value: value};\n};\n\nexports.getAttributeValueFromParseTreeNode = function(node,name,defaultValue) {\n\tif(node.attributes &amp;&amp; node.attributes[name] &amp;&amp; node.attributes[name].value !== undefined) {\n\t\treturn node.attributes[name].value;\n\t}\n\treturn defaultValue;\n};\n\nexports.addClassToParseTreeNode = function(node,classString) {\n\tvar classes = [];\n\tnode.attributes = node.attributes || {};\n\tnode.attributes[\&quot;class\&quot;] = node.attributes[\&quot;class\&quot;] || {type: \&quot;string\&quot;, value: \&quot;\&quot;};\n\tif(node.attributes[\&quot;class\&quot;].type === \&quot;string\&quot;) {\n\t\tif(node.attributes[\&quot;class\&quot;].value !== \&quot;\&quot;) {\n\t\t\tclasses = node.attributes[\&quot;class\&quot;].value.split(\&quot; \&quot;);\n\t\t}\n\t\tif(classString !== \&quot;\&quot;) {\n\t\t\t$tw.utils.pushTop(classes,classString.split(\&quot; \&quot;));\n\t\t}\n\t\tnode.attributes[\&quot;class\&quot;].value = classes.join(\&quot; \&quot;);\n\t}\n};\n\nexports.addStyleToParseTreeNode = function(node,name,value) {\n\t\tnode.attributes = node.attributes || {};\n\t\tnode.attributes.style = node.attributes.style || {type: \&quot;string\&quot;, value: \&quot;\&quot;};\n\t\tif(node.attributes.style.type === \&quot;string\&quot;) {\n\t\t\tnode.attributes.style.value += name + \&quot;:\&quot; + value + \&quot;;\&quot;;\n\t\t}\n};\n\nexports.findParseTreeNode = function(nodeArray,search) {\n\tfor(var t=0; t&lt;nodeArray.length; t++) {\n\t\tif(nodeArray[t].type === search.type &amp;&amp; nodeArray[t].tag === search.tag) {\n\t\t\treturn nodeArray[t];\n\t\t}\n\t}\n\treturn undefined;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/parsetree.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/performance.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/performance.js\ntype: application/javascript\nmodule-type: global\n\nPerformance measurement.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nfunction Performance(enabled) {\n\tthis.enabled = !!enabled;\n\tthis.measures = {}; // Hashmap of current values of measurements\n\tthis.logger = new $tw.utils.Logger(\&quot;performance\&quot;);\n}\n\n/*\nWrap performance reporting around a top level function\n*/\nPerformance.prototype.report = function(name,fn) {\n\tvar self = this;\n\tif(this.enabled) {\n\t\treturn function() {\n\t\t\tself.measures = {};\n\t\t\tvar startTime = $tw.utils.timer(),\n\t\t\t\tresult = fn.apply(this,arguments);\n\t\t\tself.logger.log(name + \&quot;: \&quot; + $tw.utils.timer(startTime) + \&quot;ms\&quot;);\n\t\t\tfor(var m in self.measures) {\n\t\t\t\tself.logger.log(\&quot;+\&quot; + m + \&quot;: \&quot; + self.measures[m] + \&quot;ms\&quot;);\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t} else {\n\t\treturn fn;\n\t}\n};\n\n/*\nWrap performance measurements around a subfunction\n*/\nPerformance.prototype.measure = function(name,fn) {\n\tvar self = this;\n\tif(this.enabled) {\n\t\treturn function() {\n\t\t\tvar startTime = $tw.utils.timer(),\n\t\t\t\tresult = fn.apply(this,arguments),\n\t\t\t\tvalue = self.measures[name] || 0;\n\t\t\tself.measures[name] = value + $tw.utils.timer(startTime);\n\t\t\treturn result;\n\t\t};\n\t} else {\n\t\treturn fn;\n\t}\n};\n\nexports.Performance = Performance;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/performance.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;global&quot;
        },
        &quot;$:/core/modules/utils/pluginmaker.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/pluginmaker.js\ntype: application/javascript\nmodule-type: utils\n\nA quick and dirty way to pack up plugins within the browser.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nRepack a plugin, and then delete any non-shadow payload tiddlers\n*/\nexports.repackPlugin = function(title,additionalTiddlers,excludeTiddlers) {\n\tadditionalTiddlers = additionalTiddlers || [];\n\texcludeTiddlers = excludeTiddlers || [];\n\t// Get the plugin tiddler\n\tvar pluginTiddler = $tw.wiki.getTiddler(title);\n\tif(!pluginTiddler) {\n\t\tthrow \&quot;No such tiddler as \&quot; + title;\n\t}\n\t// Extract the JSON\n\tvar jsonPluginTiddler;\n\ttry {\n\t\tjsonPluginTiddler = JSON.parse(pluginTiddler.fields.text);\n\t} catch(e) {\n\t\tthrow \&quot;Cannot parse plugin tiddler \&quot; + title + \&quot;\\nError: \&quot; + e;\n\t}\n\t// Get the list of tiddlers\n\tvar tiddlers = Object.keys(jsonPluginTiddler.tiddlers);\n\t// Add the additional tiddlers\n\t$tw.utils.pushTop(tiddlers,additionalTiddlers);\n\t// Remove any excluded tiddlers\n\tfor(var t=tiddlers.length-1; t&gt;=0; t--) {\n\t\tif(excludeTiddlers.indexOf(tiddlers[t]) !== -1) {\n\t\t\ttiddlers.splice(t,1);\n\t\t}\n\t}\n\t// Pack up the tiddlers into a block of JSON\n\tvar plugins = {};\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar tiddler = $tw.wiki.getTiddler(title),\n\t\t\tfields = {};\n\t\t$tw.utils.each(tiddler.fields,function (value,name) {\n\t\t\tfields[name] = tiddler.getFieldString(name);\n\t\t});\n\t\tplugins[title] = fields;\n\t});\n\t// Retrieve and bump the version number\n\tvar pluginVersion = $tw.utils.parseVersion(pluginTiddler.getFieldString(\&quot;version\&quot;) || \&quot;0.0.0\&quot;) || {\n\t\t\tmajor: \&quot;0\&quot;,\n\t\t\tminor: \&quot;0\&quot;,\n\t\t\tpatch: \&quot;0\&quot;\n\t\t};\n\tpluginVersion.patch++;\n\tvar version = pluginVersion.major + \&quot;.\&quot; + pluginVersion.minor + \&quot;.\&quot; + pluginVersion.patch;\n\tif(pluginVersion.prerelease) {\n\t\tversion += \&quot;-\&quot; + pluginVersion.prerelease;\n\t}\n\tif(pluginVersion.build) {\n\t\tversion += \&quot;+\&quot; + pluginVersion.build;\n\t}\n\t// Save the tiddler\n\t$tw.wiki.addTiddler(new $tw.Tiddler(pluginTiddler,{text: JSON.stringify({tiddlers: plugins},null,4), version: version}));\n\t// Delete any non-shadow constituent tiddlers\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tif($tw.wiki.tiddlerExists(title)) {\n\t\t\t$tw.wiki.deleteTiddler(title);\n\t\t}\n\t});\n\t// Trigger an autosave\n\t$tw.rootWidget.dispatchEvent({type: \&quot;tm-auto-save-wiki\&quot;});\n\t// Return a heartwarming confirmation\n\treturn \&quot;Plugin \&quot; + title + \&quot; successfully saved\&quot;;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/pluginmaker.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/utils.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/utils.js\ntype: application/javascript\nmodule-type: utils\n\nVarious static utility functions.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nDisplay a warning, in colour if we're on a terminal\n*/\nexports.warning = function(text) {\n\tconsole.log($tw.node ? \&quot;\\x1b[1;33m\&quot; + text + \&quot;\\x1b[0m\&quot; : text);\n}\n\n/*\nTrim whitespace from the start and end of a string\nThanks to Steven Levithan, http://blog.stevenlevithan.com/archives/faster-trim-javascript\n*/\nexports.trim = function(str) {\n\tif(typeof str === \&quot;string\&quot;) {\n\t\treturn str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n\t} else {\n\t\treturn str;\n\t}\n};\n\n/*\nReturn the number of keys in an object\n*/\nexports.count = function(object) {\n\tvar s = 0;\n\t$tw.utils.each(object,function() {s++;});\n\treturn s;\n};\n\n/*\nCheck if an array is equal by value and by reference.\n*/\nexports.isArrayEqual = function(array1,array2) {\n\tif(array1 === array2) {\n\t\treturn true;\n\t}\n\tarray1 = array1 || [];\n\tarray2 = array2 || [];\n\tif(array1.length !== array2.length) {\n\t\treturn false;\n\t}\n\treturn array1.every(function(value,index) {\n\t\treturn value === array2[index];\n\t});\n};\n\n/*\nPush entries onto an array, removing them first if they already exist in the array\n\tarray: array to modify (assumed to be free of duplicates)\n\tvalue: a single value to push or an array of values to push\n*/\nexports.pushTop = function(array,value) {\n\tvar t,p;\n\tif($tw.utils.isArray(value)) {\n\t\t// Remove any array entries that are duplicated in the new values\n\t\tif(value.length !== 0) {\n\t\t\tif(array.length !== 0) {\n\t\t\t\tif(value.length &lt; array.length) {\n\t\t\t\t\tfor(t=0; t&lt;value.length; t++) {\n\t\t\t\t\t\tp = array.indexOf(value[t]);\n\t\t\t\t\t\tif(p !== -1) {\n\t\t\t\t\t\t\tarray.splice(p,1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor(t=array.length-1; t&gt;=0; t--) {\n\t\t\t\t\t\tp = value.indexOf(array[t]);\n\t\t\t\t\t\tif(p !== -1) {\n\t\t\t\t\t\t\tarray.splice(t,1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Push the values on top of the main array\n\t\t\tarray.push.apply(array,value);\n\t\t}\n\t} else {\n\t\tp = array.indexOf(value);\n\t\tif(p !== -1) {\n\t\t\tarray.splice(p,1);\n\t\t}\n\t\tarray.push(value);\n\t}\n\treturn array;\n};\n\n/*\nRemove entries from an array\n\tarray: array to modify\n\tvalue: a single value to remove, or an array of values to remove\n*/\nexports.removeArrayEntries = function(array,value) {\n\tvar t,p;\n\tif($tw.utils.isArray(value)) {\n\t\tfor(t=0; t&lt;value.length; t++) {\n\t\t\tp = array.indexOf(value[t]);\n\t\t\tif(p !== -1) {\n\t\t\t\tarray.splice(p,1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tp = array.indexOf(value);\n\t\tif(p !== -1) {\n\t\t\tarray.splice(p,1);\n\t\t}\n\t}\n};\n\n/*\nCheck whether any members of a hashmap are present in another hashmap\n*/\nexports.checkDependencies = function(dependencies,changes) {\n\tvar hit = false;\n\t$tw.utils.each(changes,function(change,title) {\n\t\tif($tw.utils.hop(dependencies,title)) {\n\t\t\thit = true;\n\t\t}\n\t});\n\treturn hit;\n};\n\nexports.extend = function(object /* [, src] */) {\n\t$tw.utils.each(Array.prototype.slice.call(arguments, 1), function(source) {\n\t\tif(source) {\n\t\t\tfor(var property in source) {\n\t\t\t\tobject[property] = source[property];\n\t\t\t}\n\t\t}\n\t});\n\treturn object;\n};\n\nexports.deepCopy = function(object) {\n\tvar result,t;\n\tif($tw.utils.isArray(object)) {\n\t\t// Copy arrays\n\t\tresult = object.slice(0);\n\t} else if(typeof object === \&quot;object\&quot;) {\n\t\tresult = {};\n\t\tfor(t in object) {\n\t\t\tif(object[t] !== undefined) {\n\t\t\t\tresult[t] = $tw.utils.deepCopy(object[t]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tresult = object;\n\t}\n\treturn result;\n};\n\nexports.extendDeepCopy = function(object,extendedProperties) {\n\tvar result = $tw.utils.deepCopy(object),t;\n\tfor(t in extendedProperties) {\n\t\tif(extendedProperties[t] !== undefined) {\n\t\t\tresult[t] = $tw.utils.deepCopy(extendedProperties[t]);\n\t\t}\n\t}\n\treturn result;\n};\n\nexports.slowInSlowOut = function(t) {\n\treturn (1 - ((Math.cos(t * Math.PI) + 1) / 2));\n};\n\nexports.formatDateString = function(date,template) {\n\tvar result = \&quot;\&quot;,\n\t\tt = template,\n\t\tmatches = [\n\t\t\t[/^0hh12/, function() {\n\t\t\t\treturn $tw.utils.pad($tw.utils.getHours12(date));\n\t\t\t}],\n\t\t\t[/^wYYYY/, function() {\n\t\t\t\treturn $tw.utils.getYearForWeekNo(date);\n\t\t\t}],\n\t\t\t[/^hh12/, function() {\n\t\t\t\treturn $tw.utils.getHours12(date);\n\t\t\t}],\n\t\t\t[/^DDth/, function() {\n\t\t\t\treturn date.getDate() + $tw.utils.getDaySuffix(date);\n\t\t\t}],\n\t\t\t[/^YYYY/, function() {\n\t\t\t\treturn date.getFullYear();\n\t\t\t}],\n\t\t\t[/^0hh/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getHours());\n\t\t\t}],\n\t\t\t[/^0mm/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getMinutes());\n\t\t\t}],\n\t\t\t[/^0ss/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getSeconds());\n\t\t\t}],\n\t\t\t[/^0DD/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getDate());\n\t\t\t}],\n\t\t\t[/^0MM/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getMonth()+1);\n\t\t\t}],\n\t\t\t[/^0WW/, function() {\n\t\t\t\treturn $tw.utils.pad($tw.utils.getWeek(date));\n\t\t\t}],\n\t\t\t[/^ddd/, function() {\n\t\t\t\treturn $tw.language.getString(\&quot;Date/Short/Day/\&quot; + date.getDay());\n\t\t\t}],\n\t\t\t[/^mmm/, function() {\n\t\t\t\treturn $tw.language.getString(\&quot;Date/Short/Month/\&quot; + (date.getMonth() + 1));\n\t\t\t}],\n\t\t\t[/^DDD/, function() {\n\t\t\t\treturn $tw.language.getString(\&quot;Date/Long/Day/\&quot; + date.getDay());\n\t\t\t}],\n\t\t\t[/^MMM/, function() {\n\t\t\t\treturn $tw.language.getString(\&quot;Date/Long/Month/\&quot; + (date.getMonth() + 1));\n\t\t\t}],\n\t\t\t[/^TZD/, function() {\n\t\t\t\tvar tz = date.getTimezoneOffset(),\n\t\t\t\tatz = Math.abs(tz);\n\t\t\t\treturn (tz &lt; 0 ? '+' : '-') + $tw.utils.pad(Math.floor(atz / 60)) + ':' + $tw.utils.pad(atz % 60);\n\t\t\t}],\n\t\t\t[/^wYY/, function() {\n\t\t\t\treturn $tw.utils.pad($tw.utils.getYearForWeekNo(date) - 2000);\n\t\t\t}],\n\t\t\t[/^[ap]m/, function() {\n\t\t\t\treturn $tw.utils.getAmPm(date).toLowerCase();\n\t\t\t}],\n\t\t\t[/^hh/, function() {\n\t\t\t\treturn date.getHours();\n\t\t\t}],\n\t\t\t[/^mm/, function() {\n\t\t\t\treturn date.getMinutes();\n\t\t\t}],\n\t\t\t[/^ss/, function() {\n\t\t\t\treturn date.getSeconds();\n\t\t\t}],\n\t\t\t[/^[AP]M/, function() {\n\t\t\t\treturn $tw.utils.getAmPm(date).toUpperCase();\n\t\t\t}],\n\t\t\t[/^DD/, function() {\n\t\t\t\treturn date.getDate();\n\t\t\t}],\n\t\t\t[/^MM/, function() {\n\t\t\t\treturn date.getMonth() + 1;\n\t\t\t}],\n\t\t\t[/^WW/, function() {\n\t\t\t\treturn $tw.utils.getWeek(date);\n\t\t\t}],\n\t\t\t[/^YY/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getFullYear() - 2000);\n\t\t\t}]\n\t\t];\n\twhile(t.length){\n\t\tvar matchString = \&quot;\&quot;;\n\t\t$tw.utils.each(matches, function(m) {\n\t\t\tvar match = m[0].exec(t);\n\t\t\tif(match) {\n\t\t\t\tmatchString = m[1].call();\n\t\t\t\tt = t.substr(match[0].length);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\tif(matchString) {\n\t\t\tresult += matchString;\n\t\t} else {\n\t\t\tresult += t.charAt(0);\n\t\t\tt = t.substr(1);\n\t\t}\n\t}\n\tresult = result.replace(/\\\\(.)/g,\&quot;$1\&quot;);\n\treturn result;\n};\n\nexports.getAmPm = function(date) {\n\treturn $tw.language.getString(\&quot;Date/Period/\&quot; + (date.getHours() &gt;= 12 ? \&quot;pm\&quot; : \&quot;am\&quot;));\n};\n\nexports.getDaySuffix = function(date) {\n\treturn $tw.language.getString(\&quot;Date/DaySuffix/\&quot; + date.getDate());\n};\n\nexports.getWeek = function(date) {\n\tvar dt = new Date(date.getTime());\n\tvar d = dt.getDay();\n\tif(d === 0) {\n\t\td = 7; // JavaScript Sun=0, ISO Sun=7\n\t}\n\tdt.setTime(dt.getTime() + (4 - d) * 86400000);// shift day to Thurs of same week to calculate weekNo\n\tvar n = Math.floor((dt.getTime()-new Date(dt.getFullYear(),0,1) + 3600000) / 86400000);\n\treturn Math.floor(n / 7) + 1;\n};\n\nexports.getYearForWeekNo = function(date) {\n\tvar dt = new Date(date.getTime());\n\tvar d = dt.getDay();\n\tif(d === 0) {\n\t\td = 7; // JavaScript Sun=0, ISO Sun=7\n\t}\n\tdt.setTime(dt.getTime() + (4 - d) * 86400000);// shift day to Thurs of same week\n\treturn dt.getFullYear();\n};\n\nexports.getHours12 = function(date) {\n\tvar h = date.getHours();\n\treturn h &gt; 12 ? h-12 : ( h &gt; 0 ? h : 12 );\n};\n\n/*\nConvert a date delta in milliseconds into a string representation of \&quot;23 seconds ago\&quot;, \&quot;27 minutes ago\&quot; etc.\n\tdelta: delta in milliseconds\nReturns an object with these members:\n\tdescription: string describing the delta period\n\tupdatePeriod: time in millisecond until the string will be inaccurate\n*/\nexports.getRelativeDate = function(delta) {\n\tvar futurep = false;\n\tif(delta &lt; 0) {\n\t\tdelta = -1 * delta;\n\t\tfuturep = true;\n\t}\n\tvar units = [\n\t\t{name: \&quot;Years\&quot;,   duration:      365 * 24 * 60 * 60 * 1000},\n\t\t{name: \&quot;Months\&quot;,  duration: (365/12) * 24 * 60 * 60 * 1000},\n\t\t{name: \&quot;Days\&quot;,    duration:            24 * 60 * 60 * 1000},\n\t\t{name: \&quot;Hours\&quot;,   duration:                 60 * 60 * 1000},\n\t\t{name: \&quot;Minutes\&quot;, duration:                      60 * 1000},\n\t\t{name: \&quot;Seconds\&quot;, duration:                           1000}\n\t];\n\tfor(var t=0; t&lt;units.length; t++) {\n\t\tvar result = Math.floor(delta / units[t].duration);\n\t\tif(result &gt;= 2) {\n\t\t\treturn {\n\t\t\t\tdelta: delta,\n\t\t\t\tdescription: $tw.language.getString(\n\t\t\t\t\t\&quot;RelativeDate/\&quot; + (futurep ? \&quot;Future\&quot; : \&quot;Past\&quot;) + \&quot;/\&quot; + units[t].name,\n\t\t\t\t\t{variables:\n\t\t\t\t\t\t{period: result.toString()}\n\t\t\t\t\t}\n\t\t\t\t),\n\t\t\t\tupdatePeriod: units[t].duration\n\t\t\t};\n\t\t}\n\t}\n\treturn {\n\t\tdelta: delta,\n\t\tdescription: $tw.language.getString(\n\t\t\t\&quot;RelativeDate/\&quot; + (futurep ? \&quot;Future\&quot; : \&quot;Past\&quot;) + \&quot;/Second\&quot;,\n\t\t\t{variables:\n\t\t\t\t{period: \&quot;1\&quot;}\n\t\t\t}\n\t\t),\n\t\tupdatePeriod: 1000\n\t};\n};\n\n// Convert &amp; to \&quot;&amp;amp;\&quot;, &lt; to \&quot;&amp;lt;\&quot;, &gt; to \&quot;&amp;gt;\&quot; and \&quot; to \&quot;&amp;quot;\&quot;\nexports.htmlEncode = function(s) {\n\tif(s) {\n\t\treturn s.toString().replace(/&amp;/mg,\&quot;&amp;amp;\&quot;).replace(/&lt;/mg,\&quot;&amp;lt;\&quot;).replace(/&gt;/mg,\&quot;&amp;gt;\&quot;).replace(/\\\&quot;/mg,\&quot;&amp;quot;\&quot;);\n\t} else {\n\t\treturn \&quot;\&quot;;\n\t}\n};\n\n// Converts all HTML entities to their character equivalents\nexports.entityDecode = function(s) {\n\tvar e = s.substr(1,s.length-2); // Strip the &amp; and the ;\n\tif(e.charAt(0) === \&quot;#\&quot;) {\n\t\tif(e.charAt(1) === \&quot;x\&quot; || e.charAt(1) === \&quot;X\&quot;) {\n\t\t\treturn String.fromCharCode(parseInt(e.substr(2),16));\t\n\t\t} else {\n\t\t\treturn String.fromCharCode(parseInt(e.substr(1),10));\n\t\t}\n\t} else {\n\t\tvar c = $tw.config.htmlEntities[e];\n\t\tif(c) {\n\t\t\treturn String.fromCharCode(c);\n\t\t} else {\n\t\t\treturn s; // Couldn't convert it as an entity, just return it raw\n\t\t}\n\t}\n};\n\nexports.unescapeLineBreaks = function(s) {\n\treturn s.replace(/\\\\n/mg,\&quot;\\n\&quot;).replace(/\\\\b/mg,\&quot; \&quot;).replace(/\\\\s/mg,\&quot;\\\\\&quot;).replace(/\\r/mg,\&quot;\&quot;);\n};\n\n/*\n * Returns an escape sequence for given character. Uses \\x for characters &lt;=\n * 0xFF to save space, \\u for the rest.\n *\n * The code needs to be in sync with th code template in the compilation\n * function for \&quot;action\&quot; nodes.\n */\n// Copied from peg.js, thanks to David Majda\nexports.escape = function(ch) {\n\tvar charCode = ch.charCodeAt(0);\n\tif(charCode &lt;= 0xFF) {\n\t\treturn '\\\\x' + $tw.utils.pad(charCode.toString(16).toUpperCase());\n\t} else {\n\t\treturn '\\\\u' + $tw.utils.pad(charCode.toString(16).toUpperCase(),4);\n\t}\n};\n\n// Turns a string into a legal JavaScript string\n// Copied from peg.js, thanks to David Majda\nexports.stringify = function(s) {\n\t/*\n\t* ECMA-262, 5th ed., 7.8.4: All characters may appear literally in a string\n\t* literal except for the closing quote character, backslash, carriage return,\n\t* line separator, paragraph separator, and line feed. Any character may\n\t* appear in the form of an escape sequence.\n\t*\n\t* For portability, we also escape escape all non-ASCII characters.\n\t*/\n\treturn s\n\t\t.replace(/\\\\/g, '\\\\\\\\')            // backslash\n\t\t.replace(/\&quot;/g, '\\\\\&quot;')              // double quote character\n\t\t.replace(/'/g, \&quot;\\\\'\&quot;)              // single quote character\n\t\t.replace(/\\r/g, '\\\\r')             // carriage return\n\t\t.replace(/\\n/g, '\\\\n')             // line feed\n\t\t.replace(/[\\x80-\\uFFFF]/g, exports.escape); // non-ASCII characters\n};\n\n/*\nEscape the RegExp special characters with a preceding backslash\n*/\nexports.escapeRegExp = function(s) {\n    return s.replace(/[\\-\\/\\\\\\^\\$\\*\\+\\?\\.\\(\\)\\|\\[\\]\\{\\}]/g, '\\\\$&amp;');\n};\n\nexports.nextTick = function(fn) {\n/*global window: false */\n\tif(typeof window !== \&quot;undefined\&quot;) {\n\t\t// Apparently it would be faster to use postMessage - http://dbaron.org/log/20100309-faster-timeouts\n\t\twindow.setTimeout(fn,4);\n\t} else {\n\t\tprocess.nextTick(fn);\n\t}\n};\n\n/*\nConvert a hyphenated CSS property name into a camel case one\n*/\nexports.unHyphenateCss = function(propName) {\n\treturn propName.replace(/-([a-z])/gi, function(match0,match1) {\n\t\treturn match1.toUpperCase();\n\t});\n};\n\n/*\nConvert a camelcase CSS property name into a dashed one (\&quot;backgroundColor\&quot; --&gt; \&quot;background-color\&quot;)\n*/\nexports.hyphenateCss = function(propName) {\n\treturn propName.replace(/([A-Z])/g, function(match0,match1) {\n\t\treturn \&quot;-\&quot; + match1.toLowerCase();\n\t});\n};\n\n/*\nParse a text reference of one of these forms:\n* title\n* !!field\n* title!!field\n* title##index\n* etc\nReturns an object with the following fields, all optional:\n* title: tiddler title\n* field: tiddler field name\n* index: JSON property index\n*/\nexports.parseTextReference = function(textRef) {\n\t// Separate out the title, field name and/or JSON indices\n\tvar reTextRef = /(?:(.*?)!!(.+))|(?:(.*?)##(.+))|(.*)/mg,\n\t\tmatch = reTextRef.exec(textRef),\n\t\tresult = {};\n\tif(match &amp;&amp; reTextRef.lastIndex === textRef.length) {\n\t\t// Return the parts\n\t\tif(match[1]) {\n\t\t\tresult.title = match[1];\n\t\t}\n\t\tif(match[2]) {\n\t\t\tresult.field = match[2];\n\t\t}\n\t\tif(match[3]) {\n\t\t\tresult.title = match[3];\n\t\t}\n\t\tif(match[4]) {\n\t\t\tresult.index = match[4];\n\t\t}\n\t\tif(match[5]) {\n\t\t\tresult.title = match[5];\n\t\t}\n\t} else {\n\t\t// If we couldn't parse it\n\t\tresult.title = textRef\n\t}\n\treturn result;\n};\n\n/*\nChecks whether a string is a valid fieldname\n*/\nexports.isValidFieldName = function(name) {\n\tif(!name || typeof name !== \&quot;string\&quot;) {\n\t\treturn false;\n\t}\n\tname = name.toLowerCase().trim();\n\tvar fieldValidatorRegEx = /^[a-z0-9\\-\\._]+$/mg;\n\treturn fieldValidatorRegEx.test(name);\n};\n\n/*\nExtract the version number from the meta tag or from the boot file\n*/\n\n// Browser version\nexports.extractVersionInfo = function() {\n\tif($tw.packageInfo) {\n\t\treturn $tw.packageInfo.version;\n\t} else {\n\t\tvar metatags = document.getElementsByTagName(\&quot;meta\&quot;);\n\t\tfor(var t=0; t&lt;metatags.length; t++) {\n\t\t\tvar m = metatags[t];\n\t\t\tif(m.name === \&quot;tiddlywiki-version\&quot;) {\n\t\t\t\treturn m.content;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nGet the animation duration in ms\n*/\nexports.getAnimationDuration = function() {\n\treturn parseInt($tw.wiki.getTiddlerText(\&quot;$:/config/AnimationDuration\&quot;,\&quot;400\&quot;),10);\n};\n\n/*\nHash a string to a number\nDerived from http://stackoverflow.com/a/15710692\n*/\nexports.hashString = function(str) {\n\treturn str.split(\&quot;\&quot;).reduce(function(a,b) {\n\t\ta = ((a &lt;&lt; 5) - a) + b.charCodeAt(0);\n\t\treturn a &amp; a;\n\t},0);\n};\n\n/*\nDecode a base64 string\n*/\nexports.base64Decode = function(string64) {\n\tif($tw.browser) {\n\t\t// TODO\n\t\tthrow \&quot;$tw.utils.base64Decode() doesn't work in the browser\&quot;;\n\t} else {\n\t\treturn (new Buffer(string64,\&quot;base64\&quot;)).toString();\n\t}\n};\n\n/*\nConvert a hashmap into a tiddler dictionary format sequence of name:value pairs\n*/\nexports.makeTiddlerDictionary = function(data) {\n\tvar output = [];\n\tfor(var name in data) {\n\t\toutput.push(name + \&quot;: \&quot; + data[name]);\n\t}\n\treturn output.join(\&quot;\\n\&quot;);\n};\n\n/*\nHigh resolution microsecond timer for profiling\n*/\nexports.timer = function(base) {\n\tvar m;\n\tif($tw.node) {\n\t\tvar r = process.hrtime();\t\t\n\t\tm =  r[0] * 1e3 + (r[1] / 1e6);\n\t} else if(window.performance) {\n\t\tm = performance.now();\n\t} else {\n\t\tm = Date.now();\n\t}\n\tif(typeof base !== \&quot;undefined\&quot;) {\n\t\tm = m - base;\n\t}\n\treturn m;\n};\n\n})();&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/utils.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/widgets/action-deletefield.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/action-deletefield.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to delete fields of a tiddler.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar DeleteFieldWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nDeleteFieldWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nDeleteFieldWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n\n/*\nCompute the internal state of the widget\n*/\nDeleteFieldWidget.prototype.execute = function() {\n\tthis.actionTiddler = this.getAttribute(\&quot;$tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.actionField = this.getAttribute(\&quot;$field\&quot;);\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nDeleteFieldWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\&quot;$tiddler\&quot;]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nInvoke the action associated with this widget\n*/\nDeleteFieldWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\tvar self = this,\n\t\ttiddler = this.wiki.getTiddler(self.actionTiddler),\n\t\tremoveFields = {};\n\tif(this.actionField) {\n\t\tremoveFields[this.actionField] = undefined;\n\t}\n\tif(tiddler) {\n\t\t$tw.utils.each(this.attributes,function(attribute,name) {\n\t\t\tif(name.charAt(0) !== \&quot;$\&quot; &amp;&amp; name !== \&quot;title\&quot;) {\n\t\t\t\tremoveFields[name] = undefined;\n\t\t\t}\n\t\t});\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,removeFields));\n\t}\n\treturn true; // Action was invoked\n};\n\nexports[\&quot;action-deletefield\&quot;] = DeleteFieldWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/action-deletefield.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/action-deletetiddler.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/action-deletetiddler.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to delete a tiddler.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar DeleteTiddlerWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nDeleteTiddlerWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nDeleteTiddlerWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n\n/*\nCompute the internal state of the widget\n*/\nDeleteTiddlerWidget.prototype.execute = function() {\n\tthis.actionFilter = this.getAttribute(\&quot;$filter\&quot;);\n\tthis.actionTiddler = this.getAttribute(\&quot;$tiddler\&quot;);\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nDeleteTiddlerWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\&quot;$filter\&quot;] || changedAttributes[\&quot;$tiddler\&quot;]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nInvoke the action associated with this widget\n*/\nDeleteTiddlerWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\tvar tiddlers = [];\n\tif(this.actionFilter) {\n\t\ttiddlers = this.wiki.filterTiddlers(this.actionFilter,this);\n\t}\n\tif(this.actionTiddler) {\n\t\ttiddlers.push(this.actionTiddler);\n\t}\n\tfor(var t=0; t&lt;tiddlers.length; t++) {\n\t\tthis.wiki.deleteTiddler(tiddlers[t]);\n\t}\n\treturn true; // Action was invoked\n};\n\nexports[\&quot;action-deletetiddler\&quot;] = DeleteTiddlerWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/action-deletetiddler.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/action-navigate.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/action-navigate.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to navigate to a tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar NavigateWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nNavigateWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nNavigateWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n\n/*\nCompute the internal state of the widget\n*/\nNavigateWidget.prototype.execute = function() {\n\tthis.actionTo = this.getAttribute(\&quot;$to\&quot;);\n\tthis.actionScroll = this.getAttribute(\&quot;$scroll\&quot;);\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nNavigateWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\&quot;$to\&quot;] || changedAttributes[\&quot;$scroll\&quot;]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nInvoke the action associated with this widget\n*/\nNavigateWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\tvar bounds = triggeringWidget &amp;&amp; triggeringWidget.getBoundingClientRect &amp;&amp; triggeringWidget.getBoundingClientRect(),\n\t\tsuppressNavigation = event.metaKey || event.ctrlKey || (event.button === 1);\n\tif(this.actionScroll === \&quot;yes\&quot;) {\n\t\tsuppressNavigation = false;\n\t} else if(this.actionScroll === \&quot;no\&quot;) {\n\t\tsuppressNavigation = true;\n\t}\n\tthis.dispatchEvent({\n\t\ttype: \&quot;tm-navigate\&quot;,\n\t\tnavigateTo: this.actionTo === undefined ? this.getVariable(\&quot;currentTiddler\&quot;) : this.actionTo,\n\t\tnavigateFromTitle: this.getVariable(\&quot;storyTiddler\&quot;),\n\t\tnavigateFromNode: triggeringWidget,\n\t\tnavigateFromClientRect: bounds &amp;&amp; { top: bounds.top, left: bounds.left, width: bounds.width, right: bounds.right, bottom: bounds.bottom, height: bounds.height\n\t\t},\n\t\tnavigateSuppressNavigation: suppressNavigation\n\t});\n\treturn true; // Action was invoked\n};\n\nexports[\&quot;action-navigate\&quot;] = NavigateWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/action-navigate.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/action-sendmessage.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/action-sendmessage.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to send a message\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar SendMessageWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nSendMessageWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nSendMessageWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n\n/*\nCompute the internal state of the widget\n*/\nSendMessageWidget.prototype.execute = function() {\n\tthis.actionMessage = this.getAttribute(\&quot;$message\&quot;);\n\tthis.actionParam = this.getAttribute(\&quot;$param\&quot;);\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nSendMessageWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\&quot;$message\&quot;] || changedAttributes[\&quot;$param\&quot;]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nInvoke the action associated with this widget\n*/\nSendMessageWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\t// Get the string parameter\n\tvar param = this.actionParam;\n\t// Assemble the attributes as a hashmap\n\tvar paramObject = Object.create(null);\n\tvar count = 0;\n\t$tw.utils.each(this.attributes,function(attribute,name) {\n\t\tif(name.charAt(0) !== \&quot;$\&quot;) {\n\t\t\tparamObject[name] = attribute;\n\t\t\tcount++;\n\t\t}\n\t});\n\t// Dispatch the message\n\tthis.dispatchEvent({type: this.actionMessage, param: param, paramObject: paramObject, tiddlerTitle: this.getVariable(\&quot;currentTiddler\&quot;)});\n\treturn true; // Action was invoked\n};\n\nexports[\&quot;action-sendmessage\&quot;] = SendMessageWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/action-sendmessage.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/action-setfield.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/action-setfield.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to set a single field or index on a tiddler.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar SetFieldWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nSetFieldWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nSetFieldWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n\n/*\nCompute the internal state of the widget\n*/\nSetFieldWidget.prototype.execute = function() {\n\tthis.actionTiddler = this.getAttribute(\&quot;$tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.actionField = this.getAttribute(\&quot;$field\&quot;);\n\tthis.actionIndex = this.getAttribute(\&quot;$index\&quot;);\n\tthis.actionValue = this.getAttribute(\&quot;$value\&quot;);\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nSetFieldWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\&quot;$tiddler\&quot;] || changedAttributes[\&quot;$field\&quot;] || changedAttributes[\&quot;$index\&quot;] || changedAttributes[\&quot;$value\&quot;]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nInvoke the action associated with this widget\n*/\nSetFieldWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\tvar self = this;\n\tif(typeof this.actionValue === \&quot;string\&quot;) {\n\t\tthis.wiki.setText(this.actionTiddler,this.actionField,this.actionIndex,this.actionValue);\t\t\n\t}\n\t$tw.utils.each(this.attributes,function(attribute,name) {\n\t\tif(name.charAt(0) !== \&quot;$\&quot;) {\n\t\t\tself.wiki.setText(self.actionTiddler,name,undefined,attribute);\n\t\t}\n\t});\n\treturn true; // Action was invoked\n};\n\nexports[\&quot;action-setfield\&quot;] = SetFieldWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/action-setfield.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/browse.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/browse.js\ntype: application/javascript\nmodule-type: widget\n\nBrowse widget for browsing for files to import\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar BrowseWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nBrowseWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nBrowseWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\tvar domNode = this.document.createElement(\&quot;input\&quot;);\n\tdomNode.setAttribute(\&quot;type\&quot;,\&quot;file\&quot;);\n\tif(this.browseMultiple) {\n\t\tdomNode.setAttribute(\&quot;multiple\&quot;,\&quot;multiple\&quot;);\n\t}\n\tif(this.tooltip) {\n\t\tdomNode.setAttribute(\&quot;title\&quot;,this.tooltip);\n\t}\n\t// Add a click event handler\n\tdomNode.addEventListener(\&quot;change\&quot;,function (event) {\n\t\tif(self.message) {\n\t\t\tself.dispatchEvent({type: self.message, param: event.target.files});\n\t\t} else {\n\t\t\tself.wiki.readFiles(event.target.files,function(tiddlerFieldsArray) {\n\t\t\t\tself.dispatchEvent({type: \&quot;tm-import-tiddlers\&quot;, param: JSON.stringify(tiddlerFieldsArray)});\n\t\t\t});\n\t\t}\n\t\treturn false;\n\t},false);\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nBrowseWidget.prototype.execute = function() {\n\tthis.browseMultiple = this.getAttribute(\&quot;multiple\&quot;);\n\tthis.message = this.getAttribute(\&quot;message\&quot;);\n\tthis.tooltip = this.getAttribute(\&quot;tooltip\&quot;);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nBrowseWidget.prototype.refresh = function(changedTiddlers) {\n\treturn false;\n};\n\nexports.browse = BrowseWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/browse.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/button.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/button.js\ntype: application/javascript\nmodule-type: widget\n\nButton widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar ButtonWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nButtonWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nButtonWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\tvar domNode = this.document.createElement(\&quot;button\&quot;);\n\t// Assign classes\n\tvar classes = this[\&quot;class\&quot;].split(\&quot; \&quot;) || [],\n\t\tisPoppedUp = this.popup &amp;&amp; this.isPoppedUp();\n\tif(this.selectedClass) {\n\t\tif(this.set &amp;&amp; this.setTo &amp;&amp; this.isSelected()) {\n\t\t\t$tw.utils.pushTop(classes,this.selectedClass.split(\&quot; \&quot;));\n\t\t}\n\t\tif(isPoppedUp) {\n\t\t\t$tw.utils.pushTop(classes,this.selectedClass.split(\&quot; \&quot;));\n\t\t}\n\t}\n\tif(isPoppedUp) {\n\t\t$tw.utils.pushTop(classes,\&quot;tc-popup-handle\&quot;);\n\t}\n\tdomNode.className = classes.join(\&quot; \&quot;);\n\t// Assign other attributes\n\tif(this.style) {\n\t\tdomNode.setAttribute(\&quot;style\&quot;,this.style);\n\t}\n\tif(this.tooltip) {\n\t\tdomNode.setAttribute(\&quot;title\&quot;,this.tooltip);\n\t}\n\tif(this[\&quot;aria-label\&quot;]) {\n\t\tdomNode.setAttribute(\&quot;aria-label\&quot;,this[\&quot;aria-label\&quot;]);\n\t}\n\t// Add a click event handler\n\tdomNode.addEventListener(\&quot;click\&quot;,function (event) {\n\t\tvar handled = false;\n\t\tif(self.invokeActions(event)) {\n\t\t\thandled = true;\n\t\t}\n\t\tif(self.to) {\n\t\t\tself.navigateTo(event);\n\t\t\thandled = true;\n\t\t}\n\t\tif(self.message) {\n\t\t\tself.dispatchMessage(event);\n\t\t\thandled = true;\n\t\t}\n\t\tif(self.popup) {\n\t\t\tself.triggerPopup(event);\n\t\t\thandled = true;\n\t\t}\n\t\tif(self.set) {\n\t\t\tself.setTiddler();\n\t\t\thandled = true;\n\t\t}\n\t\tif(handled) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t}\n\t\treturn handled;\n\t},false);\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\nButtonWidget.prototype.getBoundingClientRect = function() {\n\treturn this.domNodes[0].getBoundingClientRect();\n}\n\nButtonWidget.prototype.isSelected = function() {\n\tvar tiddler = this.wiki.getTiddler(this.set);\n\treturn tiddler ? tiddler.fields.text === this.setTo : this.defaultSetValue === this.setTo;\n};\n\nButtonWidget.prototype.isPoppedUp = function() {\n\tvar tiddler = this.wiki.getTiddler(this.popup);\n\tvar result = tiddler &amp;&amp; tiddler.fields.text ? $tw.popup.readPopupState(tiddler.fields.text) : false;\n\treturn result;\n};\n\nButtonWidget.prototype.navigateTo = function(event) {\n\tvar bounds = this.getBoundingClientRect();\n\tthis.dispatchEvent({\n\t\ttype: \&quot;tm-navigate\&quot;,\n\t\tnavigateTo: this.to,\n\t\tnavigateFromTitle: this.getVariable(\&quot;storyTiddler\&quot;),\n\t\tnavigateFromNode: this,\n\t\tnavigateFromClientRect: { top: bounds.top, left: bounds.left, width: bounds.width, right: bounds.right, bottom: bounds.bottom, height: bounds.height\n\t\t},\n\t\tnavigateSuppressNavigation: event.metaKey || event.ctrlKey || (event.button === 1)\n\t});\n};\n\nButtonWidget.prototype.dispatchMessage = function(event) {\n\tthis.dispatchEvent({type: this.message, param: this.param, tiddlerTitle: this.getVariable(\&quot;currentTiddler\&quot;)});\n};\n\nButtonWidget.prototype.triggerPopup = function(event) {\n\t$tw.popup.triggerPopup({\n\t\tdomNode: this.domNodes[0],\n\t\ttitle: this.popup,\n\t\twiki: this.wiki\n\t});\n};\n\nButtonWidget.prototype.setTiddler = function() {\n\tthis.wiki.setTextReference(this.set,this.setTo,this.getVariable(\&quot;currentTiddler\&quot;));\n};\n\n/*\nCompute the internal state of the widget\n*/\nButtonWidget.prototype.execute = function() {\n\t// Get attributes\n\tthis.to = this.getAttribute(\&quot;to\&quot;);\n\tthis.message = this.getAttribute(\&quot;message\&quot;);\n\tthis.param = this.getAttribute(\&quot;param\&quot;);\n\tthis.set = this.getAttribute(\&quot;set\&quot;);\n\tthis.setTo = this.getAttribute(\&quot;setTo\&quot;);\n\tthis.popup = this.getAttribute(\&quot;popup\&quot;);\n\tthis.hover = this.getAttribute(\&quot;hover\&quot;);\n\tthis[\&quot;class\&quot;] = this.getAttribute(\&quot;class\&quot;,\&quot;\&quot;);\n\tthis[\&quot;aria-label\&quot;] = this.getAttribute(\&quot;aria-label\&quot;);\n\tthis.tooltip = this.getAttribute(\&quot;tooltip\&quot;);\n\tthis.style = this.getAttribute(\&quot;style\&quot;);\n\tthis.selectedClass = this.getAttribute(\&quot;selectedClass\&quot;);\n\tthis.defaultSetValue = this.getAttribute(\&quot;default\&quot;);\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nButtonWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.to || changedAttributes.message || changedAttributes.param || changedAttributes.set || changedAttributes.setTo || changedAttributes.popup || changedAttributes.hover || changedAttributes[\&quot;class\&quot;] || changedAttributes.selectedClass || changedAttributes.style || (this.set &amp;&amp; changedTiddlers[this.set]) || (this.popup &amp;&amp; changedTiddlers[this.popup])) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.button = ButtonWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/button.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/checkbox.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/checkbox.js\ntype: application/javascript\nmodule-type: widget\n\nCheckbox widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar CheckboxWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nCheckboxWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nCheckboxWidget.prototype.render = function(parent,nextSibling) {\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Create our elements\n\tthis.labelDomNode = this.document.createElement(\&quot;label\&quot;);\n\tthis.inputDomNode = this.document.createElement(\&quot;input\&quot;);\n\tthis.inputDomNode.setAttribute(\&quot;type\&quot;,\&quot;checkbox\&quot;);\n\tif(this.getValue()) {\n\t\tthis.inputDomNode.setAttribute(\&quot;checked\&quot;,\&quot;true\&quot;);\n\t}\n\tthis.labelDomNode.appendChild(this.inputDomNode);\n\tthis.spanDomNode = this.document.createElement(\&quot;span\&quot;);\n\tthis.labelDomNode.appendChild(this.spanDomNode);\n\t// Add a click event handler\n\t$tw.utils.addEventListeners(this.inputDomNode,[\n\t\t{name: \&quot;change\&quot;, handlerObject: this, handlerMethod: \&quot;handleChangeEvent\&quot;}\n\t]);\n\t// Insert the label into the DOM and render any children\n\tparent.insertBefore(this.labelDomNode,nextSibling);\n\tthis.renderChildren(this.spanDomNode,null);\n\tthis.domNodes.push(this.labelDomNode);\n};\n\nCheckboxWidget.prototype.getValue = function() {\n\tvar tiddler = this.wiki.getTiddler(this.checkboxTitle);\n\tif(tiddler) {\n\t\tif(this.checkboxTag) {\n\t\t\treturn tiddler.hasTag(this.checkboxTag);\n\t\t}\n\t\tif(this.checkboxField) {\n\t\t\tvar value = tiddler.fields[this.checkboxField] || this.checkboxDefault || \&quot;\&quot;;\n\t\t\tif(value === this.checkboxChecked) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif(value === this.checkboxUnchecked) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif(this.checkboxTag) {\n\t\t\treturn false;\n\t\t}\n\t\tif(this.checkboxField) {\n\t\t\tif(this.checkboxDefault === this.checkboxChecked) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif(this.checkboxDefault === this.checkboxUnchecked) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\n\nCheckboxWidget.prototype.handleChangeEvent = function(event) {\n\tvar checked = this.inputDomNode.checked,\n\t\ttiddler = this.wiki.getTiddler(this.checkboxTitle),\n\t\tfallbackFields = {text: \&quot;\&quot;},\n\t\tnewFields = {title: this.checkboxTitle},\n\t\thasChanged = false;\n\t// Set the tag if specified\n\tif(this.checkboxTag &amp;&amp; (!tiddler || tiddler.hasTag(this.checkboxTag) !== checked)) {\n\t\tnewFields.tags = tiddler ? (tiddler.fields.tags || []).slice(0) : [];\n\t\tvar pos = newFields.tags.indexOf(this.checkboxTag);\n\t\tif(pos !== -1) {\n\t\t\tnewFields.tags.splice(pos,1);\n\t\t}\n\t\tif(checked) {\n\t\t\tnewFields.tags.push(this.checkboxTag);\n\t\t}\n\t\thasChanged = true;\n\t}\n\t// Set the field if specified\n\tif(this.checkboxField) {\n\t\tvar value = checked ? this.checkboxChecked : this.checkboxUnchecked;\n\t\tif(!tiddler || tiddler.fields[this.checkboxField] !== value) {\n\t\t\tnewFields[this.checkboxField] = value;\n\t\t\thasChanged = true;\n\t\t}\n\t}\n\tif(hasChanged) {\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(fallbackFields,tiddler,newFields,this.wiki.getModificationFields()));\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nCheckboxWidget.prototype.execute = function() {\n\t// Get the parameters from the attributes\n\tthis.checkboxTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.checkboxTag = this.getAttribute(\&quot;tag\&quot;);\n\tthis.checkboxField = this.getAttribute(\&quot;field\&quot;);\n\tthis.checkboxChecked = this.getAttribute(\&quot;checked\&quot;);\n\tthis.checkboxUnchecked = this.getAttribute(\&quot;unchecked\&quot;);\n\tthis.checkboxDefault = this.getAttribute(\&quot;default\&quot;);\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nCheckboxWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.tag || changedAttributes.field || changedAttributes.checked || changedAttributes.unchecked || changedAttributes[\&quot;default\&quot;] || changedAttributes[\&quot;class\&quot;]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\tvar refreshed = false;\n\t\tif(changedTiddlers[this.checkboxTitle]) {\n\t\t\tthis.inputDomNode.checked = this.getValue();\n\t\t\trefreshed = true;\n\t\t}\n\t\treturn this.refreshChildren(changedTiddlers) || refreshed;\n\t}\n};\n\nexports.checkbox = CheckboxWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/checkbox.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/codeblock.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/codeblock.js\ntype: application/javascript\nmodule-type: widget\n\nCode block node widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar CodeBlockWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nCodeBlockWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nCodeBlockWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar codeNode = this.document.createElement(\&quot;code\&quot;),\n\t\tdomNode = this.document.createElement(\&quot;pre\&quot;);\n\tcodeNode.appendChild(this.document.createTextNode(this.getAttribute(\&quot;code\&quot;)));\n\tdomNode.appendChild(codeNode);\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.domNodes.push(domNode);\n\tif(this.postRender) {\n\t\tthis.postRender();\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nCodeBlockWidget.prototype.execute = function() {\n\tthis.language = this.getAttribute(\&quot;language\&quot;);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nCodeBlockWidget.prototype.refresh = function(changedTiddlers) {\n\treturn false;\n};\n\nexports.codeblock = CodeBlockWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/codeblock.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/count.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/count.js\ntype: application/javascript\nmodule-type: widget\n\nCount widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar CountWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nCountWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nCountWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar textNode = this.document.createTextNode(this.currentCount);\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nCountWidget.prototype.execute = function() {\n\t// Get parameters from our attributes\n\tthis.filter = this.getAttribute(\&quot;filter\&quot;);\n\t// Execute the filter\n\tif(this.filter) {\n\t\tthis.currentCount = this.wiki.filterTiddlers(this.filter,this).length;\n\t} else {\n\t\tthis.currentCount = undefined;\n\t}\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nCountWidget.prototype.refresh = function(changedTiddlers) {\n\t// Re-execute the filter to get the count\n\tthis.computeAttributes();\n\tvar oldCount = this.currentCount;\n\tthis.execute();\n\tif(this.currentCount !== oldCount) {\n\t\t// Regenerate and rerender the widget and replace the existing DOM node\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n\n};\n\nexports.count = CountWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/count.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/dropzone.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/dropzone.js\ntype: application/javascript\nmodule-type: widget\n\nDropzone widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar DropZoneWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nDropZoneWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nDropZoneWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\tvar domNode = this.document.createElement(\&quot;div\&quot;);\n\tdomNode.className = \&quot;tc-dropzone\&quot;;\n\t// Add event handlers\n\t$tw.utils.addEventListeners(domNode,[\n\t\t{name: \&quot;dragenter\&quot;, handlerObject: this, handlerMethod: \&quot;handleDragEnterEvent\&quot;},\n\t\t{name: \&quot;dragover\&quot;, handlerObject: this, handlerMethod: \&quot;handleDragOverEvent\&quot;},\n\t\t{name: \&quot;dragleave\&quot;, handlerObject: this, handlerMethod: \&quot;handleDragLeaveEvent\&quot;},\n\t\t{name: \&quot;drop\&quot;, handlerObject: this, handlerMethod: \&quot;handleDropEvent\&quot;},\n\t\t{name: \&quot;paste\&quot;, handlerObject: this, handlerMethod: \&quot;handlePasteEvent\&quot;}\n\t]);\n\tdomNode.addEventListener(\&quot;click\&quot;,function (event) {\n\t},false);\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\nDropZoneWidget.prototype.enterDrag = function() {\n\t// We count enter/leave events\n\tthis.dragEnterCount = (this.dragEnterCount || 0) + 1;\n\t// If we're entering for the first time we need to apply highlighting\n\tif(this.dragEnterCount === 1) {\n\t\t$tw.utils.addClass(this.domNodes[0],\&quot;tc-dragover\&quot;);\n\t}\n};\n\nDropZoneWidget.prototype.leaveDrag = function() {\n\t// Reduce the enter count\n\tthis.dragEnterCount = (this.dragEnterCount || 0) - 1;\n\t// Remove highlighting if we're leaving externally\n\tif(this.dragEnterCount &lt;= 0) {\n\t\t$tw.utils.removeClass(this.domNodes[0],\&quot;tc-dragover\&quot;);\n\t}\n};\n\nDropZoneWidget.prototype.handleDragEnterEvent  = function(event) {\n\tthis.enterDrag();\n\t// Tell the browser that we're ready to handle the drop\n\tevent.preventDefault();\n\t// Tell the browser not to ripple the drag up to any parent drop handlers\n\tevent.stopPropagation();\n};\n\nDropZoneWidget.prototype.handleDragOverEvent  = function(event) {\n\t// Check for being over a TEXTAREA or INPUT\n\tif([\&quot;TEXTAREA\&quot;,\&quot;INPUT\&quot;].indexOf(event.target.tagName) !== -1) {\n\t\treturn false;\n\t}\n\t// Tell the browser that we're still interested in the drop\n\tevent.preventDefault();\n\tevent.dataTransfer.dropEffect = \&quot;copy\&quot;; // Explicitly show this is a copy\n};\n\nDropZoneWidget.prototype.handleDragLeaveEvent  = function(event) {\n\tthis.leaveDrag();\n};\n\nDropZoneWidget.prototype.handleDropEvent  = function(event) {\n\tthis.leaveDrag();\n\t// Check for being over a TEXTAREA or INPUT\n\tif([\&quot;TEXTAREA\&quot;,\&quot;INPUT\&quot;].indexOf(event.target.tagName) !== -1) {\n\t\treturn false;\n\t}\n\tvar self = this,\n\t\tdataTransfer = event.dataTransfer;\n\t// Reset the enter count\n\tthis.dragEnterCount = 0;\n\t// Remove highlighting\n\t$tw.utils.removeClass(this.domNodes[0],\&quot;tc-dragover\&quot;);\n\t// Import any files in the drop\n\tvar numFiles = this.wiki.readFiles(dataTransfer.files,function(tiddlerFieldsArray) {\n\t\tself.dispatchEvent({type: \&quot;tm-import-tiddlers\&quot;, param: JSON.stringify(tiddlerFieldsArray)});\n\t});\n\t// Try to import the various data types we understand\n\tif(numFiles === 0) {\n\t\tthis.importData(dataTransfer);\n\t}\n\t// Tell the browser that we handled the drop\n\tevent.preventDefault();\n\t// Stop the drop ripple up to any parent handlers\n\tevent.stopPropagation();\n};\n\nDropZoneWidget.prototype.importData = function(dataTransfer) {\n\t// Try each provided data type in turn\n\tfor(var t=0; t&lt;this.importDataTypes.length; t++) {\n\t\tif(!$tw.browser.isIE || this.importDataTypes[t].IECompatible) {\n\t\t\t// Get the data\n\t\t\tvar dataType = this.importDataTypes[t];\n\t\t\t\tvar data = dataTransfer.getData(dataType.type);\n\t\t\t// Import the tiddlers in the data\n\t\t\tif(data !== \&quot;\&quot; &amp;&amp; data !== null) {\n\t\t\t\tif($tw.log.IMPORT) {\n\t\t\t\t\tconsole.log(\&quot;Importing data type '\&quot; + dataType.type + \&quot;', data: '\&quot; + data + \&quot;'\&quot;)\n\t\t\t\t}\n\t\t\t\tvar tiddlerFields = dataType.convertToFields(data);\n\t\t\t\tif(!tiddlerFields.title) {\n\t\t\t\t\ttiddlerFields.title = this.wiki.generateNewTitle(\&quot;Untitled\&quot;);\n\t\t\t\t}\n\t\t\t\tthis.dispatchEvent({type: \&quot;tm-import-tiddlers\&quot;, param: JSON.stringify([tiddlerFields])});\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n};\n\nDropZoneWidget.prototype.importDataTypes = [\n\t{type: \&quot;text/vnd.tiddler\&quot;, IECompatible: false, convertToFields: function(data) {\n\t\treturn JSON.parse(data);\n\t}},\n\t{type: \&quot;URL\&quot;, IECompatible: true, convertToFields: function(data) {\n\t\t// Check for tiddler data URI\n\t\tvar match = decodeURI(data).match(/^data\\:text\\/vnd\\.tiddler,(.*)/i);\n\t\tif(match) {\n\t\t\treturn JSON.parse(match[1]);\n\t\t} else {\n\t\t\treturn { // As URL string\n\t\t\t\ttext: data\n\t\t\t};\n\t\t}\n\t}},\n\t{type: \&quot;text/x-moz-url\&quot;, IECompatible: false, convertToFields: function(data) {\n\t\t// Check for tiddler data URI\n\t\tvar match = decodeURI(data).match(/^data\\:text\\/vnd\\.tiddler,(.*)/i);\n\t\tif(match) {\n\t\t\treturn JSON.parse(match[1]);\n\t\t} else {\n\t\t\treturn { // As URL string\n\t\t\t\ttext: data\n\t\t\t};\n\t\t}\n\t}},\n\t{type: \&quot;text/html\&quot;, IECompatible: false, convertToFields: function(data) {\n\t\treturn {\n\t\t\ttext: data\n\t\t};\n\t}},\n\t{type: \&quot;text/plain\&quot;, IECompatible: false, convertToFields: function(data) {\n\t\treturn {\n\t\t\ttext: data\n\t\t};\n\t}},\n\t{type: \&quot;Text\&quot;, IECompatible: true, convertToFields: function(data) {\n\t\treturn {\n\t\t\ttext: data\n\t\t};\n\t}},\n\t{type: \&quot;text/uri-list\&quot;, IECompatible: false, convertToFields: function(data) {\n\t\treturn {\n\t\t\ttext: data\n\t\t};\n\t}}\n];\n\nDropZoneWidget.prototype.handlePasteEvent  = function(event) {\n\t// Let the browser handle it if we're in a textarea or input box\n\tif([\&quot;TEXTAREA\&quot;,\&quot;INPUT\&quot;].indexOf(event.target.tagName) == -1) {\n\t\tvar self = this,\n\t\t\titems = event.clipboardData.items;\n\t\t// Enumerate the clipboard items\n\t\tfor(var t = 0; t&lt;items.length; t++) {\n\t\t\tvar item = items[t];\n\t\t\tif(item.kind === \&quot;file\&quot;) {\n\t\t\t\t// Import any files\n\t\t\t\tthis.wiki.readFile(item.getAsFile(),function(tiddlerFieldsArray) {\n\t\t\t\t\tself.dispatchEvent({type: \&quot;tm-import-tiddlers\&quot;, param: JSON.stringify(tiddlerFieldsArray)});\n\t\t\t\t});\n\t\t\t} else if(item.kind === \&quot;string\&quot;) {\n\t\t\t\t// Create tiddlers from string items\n\t\t\t\tvar type = item.type;\n\t\t\t\titem.getAsString(function(str) {\n\t\t\t\t\tvar tiddlerFields = {\n\t\t\t\t\t\ttitle: self.wiki.generateNewTitle(\&quot;Untitled\&quot;),\n\t\t\t\t\t\ttext: str,\n\t\t\t\t\t\ttype: type\n\t\t\t\t\t};\n\t\t\t\t\tif($tw.log.IMPORT) {\n\t\t\t\t\t\tconsole.log(\&quot;Importing string '\&quot; + str + \&quot;', type: '\&quot; + type + \&quot;'\&quot;);\n\t\t\t\t\t}\n\t\t\t\t\tself.dispatchEvent({type: \&quot;tm-import-tiddlers\&quot;, param: JSON.stringify([tiddlerFields])});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t// Tell the browser that we've handled the paste\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nDropZoneWidget.prototype.execute = function() {\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nDropZoneWidget.prototype.refresh = function(changedTiddlers) {\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.dropzone = DropZoneWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/dropzone.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/edit-binary.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/edit-binary.js\ntype: application/javascript\nmodule-type: widget\n\nEdit-binary widget; placeholder for editing binary tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar BINARY_WARNING_MESSAGE = \&quot;$:/core/ui/BinaryWarning\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar EditBinaryWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEditBinaryWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEditBinaryWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nEditBinaryWidget.prototype.execute = function() {\n\t// Construct the child widgets\n\tthis.makeChildWidgets([{\n\t\ttype: \&quot;transclude\&quot;,\n\t\tattributes: {\n\t\t\ttiddler: {type: \&quot;string\&quot;, value: BINARY_WARNING_MESSAGE}\n\t\t}\n\t}]);\n};\n\n/*\nRefresh by refreshing our child widget\n*/\nEditBinaryWidget.prototype.refresh = function(changedTiddlers) {\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports[\&quot;edit-binary\&quot;] = EditBinaryWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/edit-binary.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/edit-bitmap.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/edit-bitmap.js\ntype: application/javascript\nmodule-type: widget\n\nEdit-bitmap widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Default image sizes\nvar DEFAULT_IMAGE_WIDTH = 300,\n\tDEFAULT_IMAGE_HEIGHT = 185;\n\n// Configuration tiddlers\nvar LINE_WIDTH_TITLE = \&quot;$:/config/BitmapEditor/LineWidth\&quot;,\n\tLINE_COLOUR_TITLE = \&quot;$:/config/BitmapEditor/Colour\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar EditBitmapWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEditBitmapWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEditBitmapWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Create our element\n\tthis.canvasDomNode = $tw.utils.domMaker(\&quot;canvas\&quot;,{\n\t\tdocument: this.document,\n\t\t\&quot;class\&quot;:\&quot;tc-edit-bitmapeditor\&quot;,\n\t\teventListeners: [{\n\t\t\tname: \&quot;touchstart\&quot;, handlerObject: this, handlerMethod: \&quot;handleTouchStartEvent\&quot;\n\t\t},{\n\t\t\tname: \&quot;touchmove\&quot;, handlerObject: this, handlerMethod: \&quot;handleTouchMoveEvent\&quot;\n\t\t},{\n\t\t\tname: \&quot;touchend\&quot;, handlerObject: this, handlerMethod: \&quot;handleTouchEndEvent\&quot;\n\t\t},{\n\t\t\tname: \&quot;mousedown\&quot;, handlerObject: this, handlerMethod: \&quot;handleMouseDownEvent\&quot;\n\t\t},{\n\t\t\tname: \&quot;mousemove\&quot;, handlerObject: this, handlerMethod: \&quot;handleMouseMoveEvent\&quot;\n\t\t},{\n\t\t\tname: \&quot;mouseup\&quot;, handlerObject: this, handlerMethod: \&quot;handleMouseUpEvent\&quot;\n\t\t}]\n\t});\n\tthis.widthDomNode = $tw.utils.domMaker(\&quot;input\&quot;,{\n\t\tdocument: this.document,\n\t\t\&quot;class\&quot;:\&quot;tc-edit-bitmapeditor-width\&quot;,\n\t\teventListeners: [{\n\t\t\tname: \&quot;change\&quot;, handlerObject: this, handlerMethod: \&quot;handleWidthChangeEvent\&quot;\n\t\t}]\n\t});\n\tthis.heightDomNode = $tw.utils.domMaker(\&quot;input\&quot;,{\n\t\tdocument: this.document,\n\t\t\&quot;class\&quot;:\&quot;tc-edit-bitmapeditor-height\&quot;,\n\t\teventListeners: [{\n\t\t\tname: \&quot;change\&quot;, handlerObject: this, handlerMethod: \&quot;handleHeightChangeEvent\&quot;\n\t\t}]\n\t});\n\t// Insert the elements into the DOM\n\tparent.insertBefore(this.canvasDomNode,nextSibling);\n\tparent.insertBefore(this.widthDomNode,nextSibling);\n\tparent.insertBefore(this.heightDomNode,nextSibling);\n\tthis.domNodes.push(this.canvasDomNode,this.widthDomNode,this.heightDomNode);\n\t// Load the image into the canvas\n\tif($tw.browser) {\n\t\tthis.loadCanvas();\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nEditBitmapWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.editTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n};\n\n/*\nNote that the bitmap editor intentionally doesn't try to refresh itself because it would be confusing to have the image changing spontaneously while editting it\n*/\nEditBitmapWidget.prototype.refresh = function(changedTiddlers) {\n\treturn false;\n};\n\nEditBitmapWidget.prototype.loadCanvas = function() {\n\tvar tiddler = this.wiki.getTiddler(this.editTitle),\n\t\tcurrImage = new Image();\n\t// Set up event handlers for loading the image\n\tvar self = this;\n\tcurrImage.onload = function() {\n\t\t// Copy the image to the on-screen canvas\n\t\tself.initCanvas(self.canvasDomNode,currImage.width,currImage.height,currImage);\n\t\t// And also copy the current bitmap to the off-screen canvas\n\t\tself.currCanvas = self.document.createElement(\&quot;canvas\&quot;);\n\t\tself.initCanvas(self.currCanvas,currImage.width,currImage.height,currImage);\n\t\t// Set the width and height input boxes\n\t\tself.updateSize();\n\t};\n\tcurrImage.onerror = function() {\n\t\t// Set the on-screen canvas size and clear it\n\t\tself.initCanvas(self.canvasDomNode,DEFAULT_IMAGE_WIDTH,DEFAULT_IMAGE_HEIGHT);\n\t\t// Set the off-screen canvas size and clear it\n\t\tself.currCanvas = self.document.createElement(\&quot;canvas\&quot;);\n\t\tself.initCanvas(self.currCanvas,DEFAULT_IMAGE_WIDTH,DEFAULT_IMAGE_HEIGHT);\n\t\t// Set the width and height input boxes\n\t\tself.updateSize();\n\t};\n\t// Get the current bitmap into an image object\n\tcurrImage.src = \&quot;data:\&quot; + tiddler.fields.type + \&quot;;base64,\&quot; + tiddler.fields.text;\n};\n\nEditBitmapWidget.prototype.initCanvas = function(canvas,width,height,image) {\n\tcanvas.width = width;\n\tcanvas.height = height;\n\tvar ctx = canvas.getContext(\&quot;2d\&quot;);\n\tif(image) {\n\t\tctx.drawImage(image,0,0);\n\t} else {\n\t\tctx.fillStyle = \&quot;#fff\&quot;;\n\t\tctx.fillRect(0,0,canvas.width,canvas.height);\n\t}\n};\n\n/*\n** Update the input boxes with the actual size of the canvas\n*/\nEditBitmapWidget.prototype.updateSize = function() {\n\tthis.widthDomNode.value = this.currCanvas.width;\n\tthis.heightDomNode.value = this.currCanvas.height;\n};\n\n/*\n** Change the size of the canvas, preserving the current image\n*/\nEditBitmapWidget.prototype.changeCanvasSize = function(newWidth,newHeight) {\n\t// Create and size a new canvas\n\tvar newCanvas = this.document.createElement(\&quot;canvas\&quot;);\n\tthis.initCanvas(newCanvas,newWidth,newHeight);\n\t// Copy the old image\n\tvar ctx = newCanvas.getContext(\&quot;2d\&quot;);\n\tctx.drawImage(this.currCanvas,0,0);\n\t// Set the new canvas as the current one\n\tthis.currCanvas = newCanvas;\n\t// Set the size of the onscreen canvas\n\tthis.canvasDomNode.width = newWidth;\n\tthis.canvasDomNode.height = newHeight;\n\t// Paint the onscreen canvas with the offscreen canvas\n\tctx = this.canvasDomNode.getContext(\&quot;2d\&quot;);\n\tctx.drawImage(this.currCanvas,0,0);\n};\n\nEditBitmapWidget.prototype.handleWidthChangeEvent = function(event) {\n\t// Get the new width\n\tvar newWidth = parseInt(this.widthDomNode.value,10);\n\t// Update if necessary\n\tif(newWidth &gt; 0 &amp;&amp; newWidth !== this.currCanvas.width) {\n\t\tthis.changeCanvasSize(newWidth,this.currCanvas.height);\n\t}\n\t// Update the input controls\n\tthis.updateSize();\n};\n\nEditBitmapWidget.prototype.handleHeightChangeEvent = function(event) {\n\t// Get the new width\n\tvar newHeight = parseInt(this.heightDomNode.value,10);\n\t// Update if necessary\n\tif(newHeight &gt; 0 &amp;&amp; newHeight !== this.currCanvas.height) {\n\t\tthis.changeCanvasSize(this.currCanvas.width,newHeight);\n\t}\n\t// Update the input controls\n\tthis.updateSize();\n};\n\nEditBitmapWidget.prototype.handleTouchStartEvent = function(event) {\n\tthis.brushDown = true;\n\tthis.strokeStart(event.touches[0].clientX,event.touches[0].clientY);\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\treturn false;\n};\n\nEditBitmapWidget.prototype.handleTouchMoveEvent = function(event) {\n\tif(this.brushDown) {\n\t\tthis.strokeMove(event.touches[0].clientX,event.touches[0].clientY);\n\t}\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\treturn false;\n};\n\nEditBitmapWidget.prototype.handleTouchEndEvent = function(event) {\n\tif(this.brushDown) {\n\t\tthis.brushDown = false;\n\t\tthis.strokeEnd();\n\t}\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\treturn false;\n};\n\nEditBitmapWidget.prototype.handleMouseDownEvent = function(event) {\n\tthis.strokeStart(event.clientX,event.clientY);\n\tthis.brushDown = true;\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\treturn false;\n};\n\nEditBitmapWidget.prototype.handleMouseMoveEvent = function(event) {\n\tif(this.brushDown) {\n\t\tthis.strokeMove(event.clientX,event.clientY);\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nEditBitmapWidget.prototype.handleMouseUpEvent = function(event) {\n\tif(this.brushDown) {\n\t\tthis.brushDown = false;\n\t\tthis.strokeEnd();\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nEditBitmapWidget.prototype.adjustCoordinates = function(x,y) {\n\tvar canvasRect = this.canvasDomNode.getBoundingClientRect(),\n\t\tscale = this.canvasDomNode.width/canvasRect.width;\n\treturn {x: (x - canvasRect.left) * scale, y: (y - canvasRect.top) * scale};\n};\n\nEditBitmapWidget.prototype.strokeStart = function(x,y) {\n\t// Start off a new stroke\n\tthis.stroke = [this.adjustCoordinates(x,y)];\n};\n\nEditBitmapWidget.prototype.strokeMove = function(x,y) {\n\tvar ctx = this.canvasDomNode.getContext(\&quot;2d\&quot;),\n\t\tt;\n\t// Add the new position to the end of the stroke\n\tthis.stroke.push(this.adjustCoordinates(x,y));\n\t// Redraw the previous image\n\tctx.drawImage(this.currCanvas,0,0);\n\t// Render the stroke\n\tctx.strokeStyle = this.wiki.getTiddlerText(LINE_COLOUR_TITLE,\&quot;#ff0\&quot;);\n\tctx.lineWidth = parseInt(this.wiki.getTiddlerText(LINE_WIDTH_TITLE,\&quot;3\&quot;),10);\n\tctx.lineCap = \&quot;round\&quot;;\n\tctx.lineJoin = \&quot;round\&quot;;\n\tctx.beginPath();\n\tctx.moveTo(this.stroke[0].x,this.stroke[0].y);\n\tfor(t=1; t&lt;this.stroke.length-1; t++) {\n\t\tvar s1 = this.stroke[t],\n\t\t\ts2 = this.stroke[t-1],\n\t\t\ttx = (s1.x + s2.x)/2,\n\t\t\tty = (s1.y + s2.y)/2;\n\t\tctx.quadraticCurveTo(s2.x,s2.y,tx,ty);\n\t}\n\tctx.stroke();\n};\n\nEditBitmapWidget.prototype.strokeEnd = function() {\n\t// Copy the bitmap to the off-screen canvas\n\tvar ctx = this.currCanvas.getContext(\&quot;2d\&quot;);\n\tctx.drawImage(this.canvasDomNode,0,0);\n\t// Save the image into the tiddler\n\tthis.saveChanges();\n};\n\nEditBitmapWidget.prototype.saveChanges = function() {\n\tvar tiddler = this.wiki.getTiddler(this.editTitle);\n\tif(tiddler) {\n\t\t// data URIs look like \&quot;data:&lt;type&gt;;base64,&lt;text&gt;\&quot;\n\t\tvar dataURL = this.canvasDomNode.toDataURL(tiddler.fields.type,1.0),\n\t\t\tposColon = dataURL.indexOf(\&quot;:\&quot;),\n\t\t\tposSemiColon = dataURL.indexOf(\&quot;;\&quot;),\n\t\t\tposComma = dataURL.indexOf(\&quot;,\&quot;),\n\t\t\ttype = dataURL.substring(posColon+1,posSemiColon),\n\t\t\ttext = dataURL.substring(posComma+1);\n\t\tvar update = {type: type, text: text};\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,update));\n\t}\n};\n\nexports[\&quot;edit-bitmap\&quot;] = EditBitmapWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/edit-bitmap.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/edit-text.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/edit-text.js\ntype: application/javascript\nmodule-type: widget\n\nEdit-text widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar DEFAULT_MIN_TEXT_AREA_HEIGHT = \&quot;100px\&quot;; // Minimum height of textareas in pixels\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar EditTextWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEditTextWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEditTextWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Create our element\n\tvar editInfo = this.getEditInfo();\n\tvar domNode = this.document.createElement(this.editTag);\n\tif(this.editType) {\n\t\tdomNode.setAttribute(\&quot;type\&quot;,this.editType);\n\t}\n\tif(editInfo.value === \&quot;\&quot; &amp;&amp; this.editPlaceholder) {\n\t\tdomNode.setAttribute(\&quot;placeholder\&quot;,this.editPlaceholder);\n\t}\n\tif(this.editSize) {\n\t\tdomNode.setAttribute(\&quot;size\&quot;,this.editSize);\n\t}\n\t// Assign classes\n\tif(this.editClass) {\n\t\tdomNode.className = this.editClass;\n\t}\n\t// Set the text\n\tif(this.editTag === \&quot;textarea\&quot;) {\n\t\tdomNode.appendChild(this.document.createTextNode(editInfo.value));\n\t} else {\n\t\tdomNode.value = editInfo.value;\n\t}\n\t// Add an input event handler\n\t$tw.utils.addEventListeners(domNode,[\n\t\t{name: \&quot;focus\&quot;, handlerObject: this, handlerMethod: \&quot;handleFocusEvent\&quot;},\n\t\t{name: \&quot;input\&quot;, handlerObject: this, handlerMethod: \&quot;handleInputEvent\&quot;}\n\t]);\n\t// Insert the element into the DOM\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.domNodes.push(domNode);\n\tif(this.postRender) {\n\t\tthis.postRender();\n\t}\n\t// Fix height\n\tthis.fixHeight();\n\t// Focus field\n\tif(this.editFocus === \&quot;true\&quot;) {\n\t\tdomNode.focus();\n\t\tdomNode.select();\n\t}\n};\n\n/*\nGet the tiddler being edited and current value\n*/\nEditTextWidget.prototype.getEditInfo = function() {\n\t// Get the edit value\n\tvar self = this,\n\t\tvalue,\n\t\tupdate;\n\tif(this.editIndex) {\n\t\tvalue = this.wiki.extractTiddlerDataItem(this.editTitle,this.editIndex,this.editDefault);\n\t\tupdate = function(value) {\n\t\t\tvar data = self.wiki.getTiddlerData(self.editTitle,{});\n\t\t\tif(data[self.editIndex] !== value) {\n\t\t\t\tdata[self.editIndex] = value;\n\t\t\t\tself.wiki.setTiddlerData(self.editTitle,data);\n\t\t\t}\n\t\t};\n\t} else {\n\t\t// Get the current tiddler and the field name\n\t\tvar tiddler = this.wiki.getTiddler(this.editTitle);\n\t\tif(tiddler) {\n\t\t\t// If we've got a tiddler, the value to display is the field string value\n\t\t\tvalue = tiddler.getFieldString(this.editField);\n\t\t} else {\n\t\t\t// Otherwise, we need to construct a default value for the editor\n\t\t\tswitch(this.editField) {\n\t\t\t\tcase \&quot;text\&quot;:\n\t\t\t\t\tvalue = \&quot;Type the text for the tiddler '\&quot; + this.editTitle + \&quot;'\&quot;;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \&quot;title\&quot;:\n\t\t\t\t\tvalue = this.editTitle;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tvalue = \&quot;\&quot;;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(this.editDefault !== undefined) {\n\t\t\t\tvalue = this.editDefault;\n\t\t\t}\n\t\t}\n\t\tupdate = function(value) {\n\t\t\tvar tiddler = self.wiki.getTiddler(self.editTitle),\n\t\t\t\tupdateFields = {\n\t\t\t\t\ttitle: self.editTitle\n\t\t\t\t};\n\t\t\tupdateFields[self.editField] = value;\n\t\t\tself.wiki.addTiddler(new $tw.Tiddler(self.wiki.getCreationFields(),tiddler,updateFields,self.wiki.getModificationFields()));\n\t\t};\n\t}\n\treturn {value: value, update: update};\n};\n\n/*\nCompute the internal state of the widget\n*/\nEditTextWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.editTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.editField = this.getAttribute(\&quot;field\&quot;,\&quot;text\&quot;);\n\tthis.editIndex = this.getAttribute(\&quot;index\&quot;);\n\tthis.editDefault = this.getAttribute(\&quot;default\&quot;);\n\tthis.editClass = this.getAttribute(\&quot;class\&quot;);\n\tthis.editPlaceholder = this.getAttribute(\&quot;placeholder\&quot;);\n\tthis.editSize = this.getAttribute(\&quot;size\&quot;);\n\tthis.editAutoHeight = this.getAttribute(\&quot;autoHeight\&quot;,\&quot;yes\&quot;) === \&quot;yes\&quot;;\n\tthis.editMinHeight = this.getAttribute(\&quot;minHeight\&quot;,DEFAULT_MIN_TEXT_AREA_HEIGHT);\n\tthis.editFocusPopup = this.getAttribute(\&quot;focusPopup\&quot;);\n\tthis.editFocus = this.getAttribute(\&quot;focus\&quot;);\n\t// Get the editor element tag and type\n\tvar tag,type;\n\tif(this.editField === \&quot;text\&quot;) {\n\t\ttag = \&quot;textarea\&quot;;\n\t} else {\n\t\ttag = \&quot;input\&quot;;\n\t\tvar fieldModule = $tw.Tiddler.fieldModules[this.editField];\n\t\tif(fieldModule &amp;&amp; fieldModule.editTag) {\n\t\t\ttag = fieldModule.editTag;\n\t\t}\n\t\tif(fieldModule &amp;&amp; fieldModule.editType) {\n\t\t\ttype = fieldModule.editType;\n\t\t}\n\t\ttype = type || \&quot;text\&quot;;\n\t}\n\t// Get the rest of our parameters\n\tthis.editTag = this.getAttribute(\&quot;tag\&quot;,tag);\n\tthis.editType = this.getAttribute(\&quot;type\&quot;,type);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nEditTextWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\t// Completely rerender if any of our attributes have changed\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.index || changedAttributes[\&quot;default\&quot;] || changedAttributes[\&quot;class\&quot;] || changedAttributes.placeholder || changedAttributes.size || changedAttributes.autoHeight || changedAttributes.minHeight || changedAttributes.focusPopup) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else if(changedTiddlers[this.editTitle]) {\n\t\tthis.updateEditor(this.getEditInfo().value);\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n/*\nUpdate the editor with new text. This method is separate from updateEditorDomNode()\nso that subclasses can override updateEditor() and still use updateEditorDomNode()\n*/\nEditTextWidget.prototype.updateEditor = function(text) {\n\tthis.updateEditorDomNode(text);\n};\n\n/*\nUpdate the editor dom node with new text\n*/\nEditTextWidget.prototype.updateEditorDomNode = function(text) {\n\t// Replace the edit value if the tiddler we're editing has changed\n\tvar domNode = this.domNodes[0];\n\tif(!domNode.isTiddlyWikiFakeDom) {\n\t\tif(this.document.activeElement !== domNode) {\n\t\t\tdomNode.value = text;\n\t\t}\n\t\t// Fix the height if needed\n\t\tthis.fixHeight();\n\t}\n};\n\n/*\nFix the height of textareas to fit their content\n*/\nEditTextWidget.prototype.fixHeight = function() {\n\tvar self = this,\n\t\tdomNode = this.domNodes[0];\n\tif(this.editAutoHeight &amp;&amp; domNode &amp;&amp; !domNode.isTiddlyWikiFakeDom &amp;&amp; this.editTag === \&quot;textarea\&quot;) {\n\t\t// Resize the textarea to fit its content, preserving scroll position\n\t\tvar scrollPosition = $tw.utils.getScrollPosition(),\n\t\t\tscrollTop = scrollPosition.y;\n\t\t// Measure the specified minimum height\n\t\tdomNode.style.height = self.editMinHeight;\n\t\tvar minHeight = domNode.offsetHeight;\n\t\t// Set its height to auto so that it snaps to the correct height\n\t\tdomNode.style.height = \&quot;auto\&quot;;\n\t\t// Calculate the revised height\n\t\tvar newHeight = Math.max(domNode.scrollHeight + domNode.offsetHeight - domNode.clientHeight,minHeight);\n\t\t// Only try to change the height if it has changed\n\t\tif(newHeight !== domNode.offsetHeight) {\n\t\t\tdomNode.style.height =  newHeight + \&quot;px\&quot;;\n\t\t\t// Make sure that the dimensions of the textarea are recalculated\n\t\t\t$tw.utils.forceLayout(domNode);\n\t\t\t// Check that the scroll position is still visible before trying to scroll back to it\n\t\t\tscrollTop = Math.min(scrollTop,self.document.body.scrollHeight - window.innerHeight);\n\t\t\twindow.scrollTo(scrollPosition.x,scrollTop);\n\t\t}\n\t}\n};\n\n/*\nHandle a dom \&quot;input\&quot; event\n*/\nEditTextWidget.prototype.handleInputEvent = function(event) {\n\tthis.saveChanges(this.domNodes[0].value);\n\tthis.fixHeight();\n\treturn true;\n};\n\nEditTextWidget.prototype.handleFocusEvent = function(event) {\n\tif(this.editFocusPopup) {\n\t\t$tw.popup.triggerPopup({\n\t\t\tdomNode: this.domNodes[0],\n\t\t\ttitle: this.editFocusPopup,\n\t\t\twiki: this.wiki,\n\t\t\tforce: true\n\t\t});\n\t}\n\treturn true;\n};\n\nEditTextWidget.prototype.saveChanges = function(text) {\n\tvar editInfo = this.getEditInfo();\n\tif(text !== editInfo.value) {\n\t\teditInfo.update(text);\n\t}\n};\n\nexports[\&quot;edit-text\&quot;] = EditTextWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/edit-text.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/edit.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/edit.js\ntype: application/javascript\nmodule-type: widget\n\nEdit widget is a meta-widget chooses the appropriate actual editting widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar EditWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEditWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEditWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n// Mappings from content type to editor type are stored in tiddlers with this prefix\nvar EDITOR_MAPPING_PREFIX = \&quot;$:/config/EditorTypeMappings/\&quot;;\n\n/*\nCompute the internal state of the widget\n*/\nEditWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.editTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.editField = this.getAttribute(\&quot;field\&quot;,\&quot;text\&quot;);\n\tthis.editIndex = this.getAttribute(\&quot;index\&quot;);\n\tthis.editClass = this.getAttribute(\&quot;class\&quot;);\n\tthis.editPlaceholder = this.getAttribute(\&quot;placeholder\&quot;);\n\t// Choose the appropriate edit widget\n\tthis.editorType = this.getEditorType();\n\t// Make the child widgets\n\tthis.makeChildWidgets([{\n\t\ttype: \&quot;edit-\&quot; + this.editorType,\n\t\tattributes: {\n\t\t\ttiddler: {type: \&quot;string\&quot;, value: this.editTitle},\n\t\t\tfield: {type: \&quot;string\&quot;, value: this.editField},\n\t\t\tindex: {type: \&quot;string\&quot;, value: this.editIndex},\n\t\t\t\&quot;class\&quot;: {type: \&quot;string\&quot;, value: this.editClass},\n\t\t\t\&quot;placeholder\&quot;: {type: \&quot;string\&quot;, value: this.editPlaceholder}\n\t\t}\n\t}]);\n};\n\nEditWidget.prototype.getEditorType = function() {\n\t// Get the content type of the thing we're editing\n\tvar type;\n\tif(this.editField === \&quot;text\&quot;) {\n\t\tvar tiddler = this.wiki.getTiddler(this.editTitle);\n\t\tif(tiddler) {\n\t\t\ttype = tiddler.fields.type;\n\t\t}\n\t}\n\ttype = type || \&quot;text/vnd.tiddlywiki\&quot;;\n\tvar editorType = this.wiki.getTiddlerText(EDITOR_MAPPING_PREFIX + type);\n\tif(!editorType) {\n\t\tvar typeInfo = $tw.config.contentTypeInfo[type];\n\t\tif(typeInfo &amp;&amp; typeInfo.encoding === \&quot;base64\&quot;) {\n\t\t\teditorType = \&quot;binary\&quot;;\n\t\t} else {\n\t\t\teditorType = \&quot;text\&quot;;\n\t\t}\n\t}\n\treturn editorType;\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nEditWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\t// Refresh if an attribute has changed, or the type associated with the target tiddler has changed\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.index || (changedTiddlers[this.editTitle] &amp;&amp; this.getEditorType() !== this.editorType)) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.edit = EditWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/edit.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/element.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/element.js\ntype: application/javascript\nmodule-type: widget\n\nElement widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar ElementWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nElementWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nElementWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Neuter blacklisted elements\n\tvar tag = this.parseTreeNode.tag;\n\tif($tw.config.htmlUnsafeElements.indexOf(tag) !== -1) {\n\t\ttag = \&quot;safe-\&quot; + tag;\n\t}\n\tvar domNode = this.document.createElementNS(this.namespace,tag);\n\tthis.assignAttributes(domNode,{excludeEventAttributes: true});\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nElementWidget.prototype.execute = function() {\n\t// Select the namespace for the tag\n\tvar tagNamespaces = {\n\t\t\tsvg: \&quot;http://www.w3.org/2000/svg\&quot;,\n\t\t\tmath: \&quot;http://www.w3.org/1998/Math/MathML\&quot;,\n\t\t\tbody: \&quot;http://www.w3.org/1999/xhtml\&quot;\n\t\t};\n\tthis.namespace = tagNamespaces[this.parseTreeNode.tag];\n\tif(this.namespace) {\n\t\tthis.setVariable(\&quot;namespace\&quot;,this.namespace);\n\t} else {\n\t\tthis.namespace = this.getVariable(\&quot;namespace\&quot;,{defaultValue: \&quot;http://www.w3.org/1999/xhtml\&quot;});\n\t}\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nElementWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes(),\n\t\thasChangedAttributes = $tw.utils.count(changedAttributes) &gt; 0;\n\tif(hasChangedAttributes) {\n\t\t// Update our attributes\n\t\tthis.assignAttributes(this.domNodes[0],{excludeEventAttributes: true});\n\t}\n\treturn this.refreshChildren(changedTiddlers) || hasChangedAttributes;\n};\n\nexports.element = ElementWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/element.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/encrypt.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/encrypt.js\ntype: application/javascript\nmodule-type: widget\n\nEncrypt widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar EncryptWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEncryptWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEncryptWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar textNode = this.document.createTextNode(this.encryptedText);\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nEncryptWidget.prototype.execute = function() {\n\t// Get parameters from our attributes\n\tthis.filter = this.getAttribute(\&quot;filter\&quot;,\&quot;[!is[system]]\&quot;);\n\t// Encrypt the filtered tiddlers\n\tvar tiddlers = this.wiki.filterTiddlers(this.filter),\n\t\tjson = {},\n\t\tself = this;\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar tiddler = self.wiki.getTiddler(title),\n\t\t\tjsonTiddler = {};\n\t\tfor(var f in tiddler.fields) {\n\t\t\tjsonTiddler[f] = tiddler.getFieldString(f);\n\t\t}\n\t\tjson[title] = jsonTiddler;\n\t});\n\tthis.encryptedText = $tw.utils.htmlEncode($tw.crypto.encrypt(JSON.stringify(json)));\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nEncryptWidget.prototype.refresh = function(changedTiddlers) {\n\t// We don't need to worry about refreshing because the encrypt widget isn't for interactive use\n\treturn false;\n};\n\nexports.encrypt = EncryptWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/encrypt.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/entity.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/entity.js\ntype: application/javascript\nmodule-type: widget\n\nHTML entity widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar EntityWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEntityWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEntityWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.execute();\n\tvar textNode = this.document.createTextNode($tw.utils.entityDecode(this.parseTreeNode.entity));\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nEntityWidget.prototype.execute = function() {\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nEntityWidget.prototype.refresh = function(changedTiddlers) {\n\treturn false;\n};\n\nexports.entity = EntityWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/entity.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/fieldmangler.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/fieldmangler.js\ntype: application/javascript\nmodule-type: widget\n\nField mangler widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar FieldManglerWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n\tthis.addEventListeners([\n\t\t{type: \&quot;tm-remove-field\&quot;, handler: \&quot;handleRemoveFieldEvent\&quot;},\n\t\t{type: \&quot;tm-add-field\&quot;, handler: \&quot;handleAddFieldEvent\&quot;},\n\t\t{type: \&quot;tm-remove-tag\&quot;, handler: \&quot;handleRemoveTagEvent\&quot;},\n\t\t{type: \&quot;tm-add-tag\&quot;, handler: \&quot;handleAddTagEvent\&quot;}\n\t]);\n};\n\n/*\nInherit from the base widget class\n*/\nFieldManglerWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nFieldManglerWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nFieldManglerWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.mangleTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nFieldManglerWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nFieldManglerWidget.prototype.handleRemoveFieldEvent = function(event) {\n\tvar tiddler = this.wiki.getTiddler(this.mangleTitle),\n\t\tdeletion = {};\n\tdeletion[event.param] = undefined;\n\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,deletion));\n\treturn true;\n};\n\nFieldManglerWidget.prototype.handleAddFieldEvent = function(event) {\n\tvar tiddler = this.wiki.getTiddler(this.mangleTitle),\n\t\taddition = this.wiki.getModificationFields(),\n\t\thadInvalidFieldName = false,\n\t\taddField = function(name,value) {\n\t\t\tvar trimmedName = name.toLowerCase().trim();\n\t\t\tif(!$tw.utils.isValidFieldName(trimmedName)) {\n\t\t\t\tif(!hadInvalidFieldName) {\n\t\t\t\t\talert($tw.language.getString(\n\t\t\t\t\t\t\&quot;InvalidFieldName\&quot;,\n\t\t\t\t\t\t{variables:\n\t\t\t\t\t\t\t{fieldName: trimmedName}\n\t\t\t\t\t\t}\n\t\t\t\t\t));\n\t\t\t\t\thadInvalidFieldName = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(!value &amp;&amp; tiddler) {\n\t\t\t\t\tvalue = tiddler.fields[trimmedName];\n\t\t\t\t}\n\t\t\t\taddition[trimmedName] = value || \&quot;\&quot;;\n\t\t\t}\n\t\t\treturn;\n\t\t};\n\taddition.title = this.mangleTitle;\n\tif(typeof event.param === \&quot;string\&quot;) {\n\t\taddField(event.param,\&quot;\&quot;);\n\t}\n\tif(typeof event.paramObject === \&quot;object\&quot;) {\n\t\tfor(var name in event.paramObject) {\n\t\t\taddField(name,event.paramObject[name]);\n\t\t}\n\t}\n\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,addition));\n\treturn true;\n};\n\nFieldManglerWidget.prototype.handleRemoveTagEvent = function(event) {\n\tvar tiddler = this.wiki.getTiddler(this.mangleTitle);\n\tif(tiddler &amp;&amp; tiddler.fields.tags) {\n\t\tvar p = tiddler.fields.tags.indexOf(event.param);\n\t\tif(p !== -1) {\n\t\t\tvar modification = this.wiki.getModificationFields();\n\t\t\tmodification.tags = (tiddler.fields.tags || []).slice(0);\n\t\t\tmodification.tags.splice(p,1);\n\t\t\tif(modification.tags.length === 0) {\n\t\t\t\tmodification.tags = undefined;\n\t\t\t}\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,modification));\n\t\t}\n\t}\n\treturn true;\n};\n\nFieldManglerWidget.prototype.handleAddTagEvent = function(event) {\n\tvar tiddler = this.wiki.getTiddler(this.mangleTitle);\n\tif(tiddler &amp;&amp; typeof event.param === \&quot;string\&quot;) {\n\t\tvar tag = event.param.trim();\n\t\tif(tag !== \&quot;\&quot;) {\n\t\t\tvar modification = this.wiki.getModificationFields();\n\t\t\tmodification.tags = (tiddler.fields.tags || []).slice(0);\n\t\t\t$tw.utils.pushTop(modification.tags,tag);\n\t\t\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,modification));\t\t\t\n\t\t}\n\t}\n\treturn true;\n};\n\nexports.fieldmangler = FieldManglerWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/fieldmangler.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/fields.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/fields.js\ntype: application/javascript\nmodule-type: widget\n\nFields widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar FieldsWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nFieldsWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nFieldsWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar textNode = this.document.createTextNode(this.text);\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nFieldsWidget.prototype.execute = function() {\n\t// Get parameters from our attributes\n\tthis.tiddlerTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.template = this.getAttribute(\&quot;template\&quot;);\n\tthis.exclude = this.getAttribute(\&quot;exclude\&quot;);\n\tthis.stripTitlePrefix = this.getAttribute(\&quot;stripTitlePrefix\&quot;,\&quot;no\&quot;) === \&quot;yes\&quot;;\n\t// Get the value to display\n\tvar tiddler = this.wiki.getTiddler(this.tiddlerTitle);\n\t// Get the exclusion list\n\tvar exclude;\n\tif(this.exclude) {\n\t\texclude = this.exclude.split(\&quot; \&quot;);\n\t} else {\n\t\texclude = [\&quot;text\&quot;]; \n\t}\n\t// Compose the template\n\tvar text = [];\n\tif(this.template &amp;&amp; tiddler) {\n\t\tvar fields = [];\n\t\tfor(var fieldName in tiddler.fields) {\n\t\t\tif(exclude.indexOf(fieldName) === -1) {\n\t\t\t\tfields.push(fieldName);\n\t\t\t}\n\t\t}\n\t\tfields.sort();\n\t\tfor(var f=0; f&lt;fields.length; f++) {\n\t\t\tfieldName = fields[f];\n\t\t\tif(exclude.indexOf(fieldName) === -1) {\n\t\t\t\tvar row = this.template,\n\t\t\t\t\tvalue = tiddler.getFieldString(fieldName);\n\t\t\t\tif(this.stripTitlePrefix &amp;&amp; fieldName === \&quot;title\&quot;) {\n\t\t\t\t\tvar reStrip = /^\\{[^\\}]+\\}(.+)/mg,\n\t\t\t\t\t\treMatch = reStrip.exec(value);\n\t\t\t\t\tif(reMatch) {\n\t\t\t\t\t\tvalue = reMatch[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\trow = row.replace(\&quot;$name$\&quot;,fieldName);\n\t\t\t\trow = row.replace(\&quot;$value$\&quot;,value);\n\t\t\t\trow = row.replace(\&quot;$encoded_value$\&quot;,$tw.utils.htmlEncode(value));\n\t\t\t\ttext.push(row);\n\t\t\t}\n\t\t}\n\t}\n\tthis.text = text.join(\&quot;\&quot;);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nFieldsWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.template || changedAttributes.exclude || changedAttributes.stripTitlePrefix || changedTiddlers[this.tiddlerTitle]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\t\n\t}\n};\n\nexports.fields = FieldsWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/fields.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/image.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/image.js\ntype: application/javascript\nmodule-type: widget\n\nThe image widget displays an image referenced with an external URI or with a local tiddler title.\n\n```\n&lt;$image src=\&quot;TiddlerTitle\&quot; width=\&quot;320\&quot; height=\&quot;400\&quot; class=\&quot;classnames\&quot;&gt;\n```\n\nThe image source can be the title of an existing tiddler or the URL of an external image.\n\nExternal images always generate an HTML `&lt;img&gt;` tag.\n\nTiddlers that have a _canonical_uri field generate an HTML `&lt;img&gt;` tag with the src attribute containing the URI.\n\nTiddlers that contain image data generate an HTML `&lt;img&gt;` tag with the src attribute containing a base64 representation of the image.\n\nTiddlers that contain wikitext could be rendered to a DIV of the usual size of a tiddler, and then transformed to the size requested.\n\nThe width and height attributes are interpreted as a number of pixels, and do not need to include the \&quot;px\&quot; suffix.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar ImageWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nImageWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nImageWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\t// Determine what type of image it is\n\tvar tag = \&quot;img\&quot;, src = \&quot;\&quot;,\n\t\ttiddler = this.wiki.getTiddler(this.imageSource);\n\tif(!tiddler) {\n\t\t// The source isn't the title of a tiddler, so we'll assume it's a URL\n\t\tsrc = this.imageSource;\n\t} else {\n\t\t// Check if it is an image tiddler\n\t\tif(this.wiki.isImageTiddler(this.imageSource)) {\n\t\t\tvar type = tiddler.fields.type,\n\t\t\t\ttext = tiddler.fields.text,\n\t\t\t\t_canonical_uri = tiddler.fields._canonical_uri;\n\t\t\t// If the tiddler has body text then it doesn't need to be lazily loaded\n\t\t\tif(text) {\n\t\t\t\t// Render the appropriate element for the image type\n\t\t\t\tswitch(type) {\n\t\t\t\t\tcase \&quot;application/pdf\&quot;:\n\t\t\t\t\t\ttag = \&quot;embed\&quot;;\n\t\t\t\t\t\tsrc = \&quot;data:application/pdf;base64,\&quot; + text;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \&quot;image/svg+xml\&quot;:\n\t\t\t\t\t\tsrc = \&quot;data:image/svg+xml,\&quot; + encodeURIComponent(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tsrc = \&quot;data:\&quot; + type + \&quot;;base64,\&quot; + text;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else if(_canonical_uri) {\n\t\t\t\tswitch(type) {\n\t\t\t\t\tcase \&quot;application/pdf\&quot;:\n\t\t\t\t\t\ttag = \&quot;embed\&quot;;\n\t\t\t\t\t\tsrc = _canonical_uri;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \&quot;image/svg+xml\&quot;:\n\t\t\t\t\t\tsrc = _canonical_uri;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tsrc = _canonical_uri;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\t\n\t\t\t}\n\t\t}\n\t}\n\t// Create the element and assign the attributes\n\tvar domNode = this.document.createElement(tag);\n\tdomNode.setAttribute(\&quot;src\&quot;,src);\n\tif(this.imageClass) {\n\t\tdomNode.setAttribute(\&quot;class\&quot;,this.imageClass);\t\t\n\t}\n\tif(this.imageWidth) {\n\t\tdomNode.setAttribute(\&quot;width\&quot;,this.imageWidth);\n\t}\n\tif(this.imageHeight) {\n\t\tdomNode.setAttribute(\&quot;height\&quot;,this.imageHeight);\n\t}\n\tif(this.imageTooltip) {\n\t\tdomNode.setAttribute(\&quot;title\&quot;,this.imageTooltip);\t\t\n\t}\n\tif(this.imageAlt) {\n\t\tdomNode.setAttribute(\&quot;alt\&quot;,this.imageAlt);\t\t\n\t}\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.domNodes.push(domNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nImageWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.imageSource = this.getAttribute(\&quot;source\&quot;);\n\tthis.imageWidth = this.getAttribute(\&quot;width\&quot;);\n\tthis.imageHeight = this.getAttribute(\&quot;height\&quot;);\n\tthis.imageClass = this.getAttribute(\&quot;class\&quot;);\n\tthis.imageTooltip = this.getAttribute(\&quot;tooltip\&quot;);\n\tthis.imageAlt = this.getAttribute(\&quot;alt\&quot;);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nImageWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.source || changedAttributes.width || changedAttributes.height || changedAttributes[\&quot;class\&quot;] || changedAttributes.tooltip || changedTiddlers[this.imageSource]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\t\t\n\t}\n};\n\nexports.image = ImageWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/image.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/importvariables.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/importvariables.js\ntype: application/javascript\nmodule-type: widget\n\nImport variable definitions from other tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar ImportVariablesWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nImportVariablesWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nImportVariablesWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nImportVariablesWidget.prototype.execute = function(tiddlerList) {\n\tvar self = this;\n\t// Get our parameters\n\tthis.filter = this.getAttribute(\&quot;filter\&quot;);\n\t// Compute the filter\n\tthis.tiddlerList = tiddlerList || this.wiki.filterTiddlers(this.filter,this);\n\t// Accumulate the &lt;$set&gt; widgets from each tiddler\n\tvar widgetStackStart,widgetStackEnd;\n\tfunction addWidgetNode(widgetNode) {\n\t\tif(widgetNode) {\n\t\t\tif(!widgetStackStart &amp;&amp; !widgetStackEnd) {\n\t\t\t\twidgetStackStart = widgetNode;\n\t\t\t\twidgetStackEnd = widgetNode;\n\t\t\t} else {\n\t\t\t\twidgetStackEnd.children = [widgetNode];\n\t\t\t\twidgetStackEnd = widgetNode;\n\t\t\t}\n\t\t}\n\t}\n\t$tw.utils.each(this.tiddlerList,function(title) {\n\t\tvar parser = self.wiki.parseTiddler(title);\n\t\tif(parser) {\n\t\t\tvar parseTreeNode = parser.tree[0];\n\t\t\twhile(parseTreeNode &amp;&amp; parseTreeNode.type === \&quot;set\&quot;) {\n\t\t\t\taddWidgetNode({\n\t\t\t\t\ttype: \&quot;set\&quot;,\n\t\t\t\t\tattributes: parseTreeNode.attributes,\n\t\t\t\t\tparams: parseTreeNode.params\n\t\t\t\t});\n\t\t\t\tparseTreeNode = parseTreeNode.children[0];\n\t\t\t}\n\t\t} \n\t});\n\t// Add our own children to the end of the pile\n\tvar parseTreeNodes;\n\tif(widgetStackStart &amp;&amp; widgetStackEnd) {\n\t\tparseTreeNodes = [widgetStackStart];\n\t\twidgetStackEnd.children = this.parseTreeNode.children;\n\t} else {\n\t\tparseTreeNodes = this.parseTreeNode.children;\n\t}\n\t// Construct the child widgets\n\tthis.makeChildWidgets(parseTreeNodes);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nImportVariablesWidget.prototype.refresh = function(changedTiddlers) {\n\t// Recompute our attributes and the filter list\n\tvar changedAttributes = this.computeAttributes(),\n\t\ttiddlerList = this.wiki.filterTiddlers(this.getAttribute(\&quot;filter\&quot;),this);\n\t// Refresh if the filter has changed, or the list of tiddlers has changed, or any of the tiddlers in the list has changed\n\tfunction haveListedTiddlersChanged() {\n\t\tvar changed = false;\n\t\ttiddlerList.forEach(function(title) {\n\t\t\tif(changedTiddlers[title]) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t});\n\t\treturn changed;\n\t}\n\tif(changedAttributes.filter || !$tw.utils.isArrayEqual(this.tiddlerList,tiddlerList) || haveListedTiddlersChanged()) {\n\t\t// Compute the filter\n\t\tthis.removeChildDomNodes();\n\t\tthis.execute(tiddlerList);\n\t\tthis.renderChildren(this.parentDomNode,this.findNextSiblingDomNode());\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.importvariables = ImportVariablesWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/importvariables.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/keyboard.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/keyboard.js\ntype: application/javascript\nmodule-type: widget\n\nKeyboard shortcut widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar KeyboardWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nKeyboardWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nKeyboardWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\tvar domNode = this.document.createElement(\&quot;div\&quot;);\n\t// Assign classes\n\tvar classes = (this[\&quot;class\&quot;] || \&quot;\&quot;).split(\&quot; \&quot;);\n\tclasses.push(\&quot;tc-keyboard\&quot;);\n\tdomNode.className = classes.join(\&quot; \&quot;);\n\t// Add a keyboard event handler\n\tdomNode.addEventListener(\&quot;keydown\&quot;,function (event) {\n\t\tif($tw.utils.checkKeyDescriptor(event,self.keyInfo)) {\n\t\t\tself.dispatchMessage(event);\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},false);\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\nKeyboardWidget.prototype.dispatchMessage = function(event) {\n\tthis.dispatchEvent({type: this.message, param: this.param, tiddlerTitle: this.getVariable(\&quot;currentTiddler\&quot;)});\n};\n\n/*\nCompute the internal state of the widget\n*/\nKeyboardWidget.prototype.execute = function() {\n\t// Get attributes\n\tthis.message = this.getAttribute(\&quot;message\&quot;);\n\tthis.param = this.getAttribute(\&quot;param\&quot;);\n\tthis.key = this.getAttribute(\&quot;key\&quot;);\n\tthis.keyInfo = $tw.utils.parseKeyDescriptor(this.key);\n\tthis[\&quot;class\&quot;] = this.getAttribute(\&quot;class\&quot;);\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nKeyboardWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.message || changedAttributes.param || changedAttributes.key || changedAttributes[\&quot;class\&quot;]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.keyboard = KeyboardWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/keyboard.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/link.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/link.js\ntype: application/javascript\nmodule-type: widget\n\nLink widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar LinkWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nLinkWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nLinkWidget.prototype.render = function(parent,nextSibling) {\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Get the value of the tv-wikilinks configuration macro\n\tvar wikiLinksMacro = this.getVariable(\&quot;tv-wikilinks\&quot;),\n\t\tuseWikiLinks = wikiLinksMacro ? (wikiLinksMacro.trim() !== \&quot;no\&quot;) : true;\n\t// Render the link if required\n\tif(useWikiLinks) {\n\t\tthis.renderLink(parent,nextSibling);\n\t} else {\n\t\t// Just insert the link text\n\t\tvar domNode = this.document.createElement(\&quot;span\&quot;);\n\t\tparent.insertBefore(domNode,nextSibling);\n\t\tthis.renderChildren(domNode,null);\n\t\tthis.domNodes.push(domNode);\n\t}\n};\n\n/*\nRender this widget into the DOM\n*/\nLinkWidget.prototype.renderLink = function(parent,nextSibling) {\n\tvar self = this;\n\t// Create our element\n\tvar domNode = this.document.createElement(\&quot;a\&quot;);\n\t// Assign classes\n\tvar classes = [];\n\tif(this.linkClasses) {\n\t\tclasses.push(this.linkClasses);\n\t}\n\tclasses.push(\&quot;tc-tiddlylink\&quot;);\n\tif(this.isShadow) {\n\t\tclasses.push(\&quot;tc-tiddlylink-shadow\&quot;);\n\t}\n\tif(this.isMissing &amp;&amp; !this.isShadow) {\n\t\tclasses.push(\&quot;tc-tiddlylink-missing\&quot;);\n\t} else {\n\t\tif(!this.isMissing) {\n\t\t\tclasses.push(\&quot;tc-tiddlylink-resolves\&quot;);\n\t\t}\n\t}\n\tdomNode.setAttribute(\&quot;class\&quot;,classes.join(\&quot; \&quot;));\n\t// Set an href\n\tvar wikiLinkTemplateMacro = this.getVariable(\&quot;tv-wikilink-template\&quot;),\n\t\twikiLinkTemplate = wikiLinkTemplateMacro ? wikiLinkTemplateMacro.trim() : \&quot;#$uri_encoded$\&quot;,\n\t\twikiLinkText = wikiLinkTemplate.replace(\&quot;$uri_encoded$\&quot;,encodeURIComponent(this.to));\n\twikiLinkText = wikiLinkText.replace(\&quot;$uri_doubleencoded$\&quot;,encodeURIComponent(encodeURIComponent(this.to)));\n\tdomNode.setAttribute(\&quot;href\&quot;,wikiLinkText);\n\t// Set the tooltip\n\t// HACK: Performance issues with re-parsing the tooltip prevent us defaulting the tooltip to \&quot;&lt;$transclude field='tooltip'&gt;&lt;$transclude field='title'/&gt;&lt;/$transclude&gt;\&quot;\n\tvar tooltipWikiText = this.tooltip || this.getVariable(\&quot;tv-wikilink-tooltip\&quot;);\n\tif(tooltipWikiText) {\n\t\tvar tooltipText = this.wiki.renderText(\&quot;text/plain\&quot;,\&quot;text/vnd.tiddlywiki\&quot;,tooltipWikiText,{\n\t\t\t\tparseAsInline: true,\n\t\t\t\tvariables: {\n\t\t\t\t\tcurrentTiddler: this.to\n\t\t\t\t},\n\t\t\t\tparentWidget: this\n\t\t\t});\n\t\tdomNode.setAttribute(\&quot;title\&quot;,tooltipText);\n\t}\n\tif(this[\&quot;aria-label\&quot;]) {\n\t\tdomNode.setAttribute(\&quot;aria-label\&quot;,this[\&quot;aria-label\&quot;]);\n\t}\n\t// Add a click event handler\n\t$tw.utils.addEventListeners(domNode,[\n\t\t{name: \&quot;click\&quot;, handlerObject: this, handlerMethod: \&quot;handleClickEvent\&quot;},\n\t\t{name: \&quot;dragstart\&quot;, handlerObject: this, handlerMethod: \&quot;handleDragStartEvent\&quot;},\n\t\t{name: \&quot;dragend\&quot;, handlerObject: this, handlerMethod: \&quot;handleDragEndEvent\&quot;}\n\t]);\n\t// Insert the link into the DOM and render any children\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\nLinkWidget.prototype.handleClickEvent = function (event) {\n\t// Send the click on it's way as a navigate event\n\tvar bounds = this.domNodes[0].getBoundingClientRect();\n\tthis.dispatchEvent({\n\t\ttype: \&quot;tm-navigate\&quot;,\n\t\tnavigateTo: this.to,\n\t\tnavigateFromTitle: this.getVariable(\&quot;storyTiddler\&quot;),\n\t\tnavigateFromNode: this,\n\t\tnavigateFromClientRect: { top: bounds.top, left: bounds.left, width: bounds.width, right: bounds.right, bottom: bounds.bottom, height: bounds.height\n\t\t},\n\t\tnavigateSuppressNavigation: event.metaKey || event.ctrlKey || (event.button === 1)\n\t});\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\treturn false;\n};\n\nLinkWidget.prototype.handleDragStartEvent = function(event) {\n\tif(event.target === this.domNodes[0]) {\n\t\tif(this.to) {\n\t\t\t// Set the dragging class on the element being dragged\n\t\t\t$tw.utils.addClass(event.target,\&quot;tc-tiddlylink-dragging\&quot;);\n\t\t\t// Create the drag image elements\n\t\t\tthis.dragImage = this.document.createElement(\&quot;div\&quot;);\n\t\t\tthis.dragImage.className = \&quot;tc-tiddler-dragger\&quot;;\n\t\t\tvar inner = this.document.createElement(\&quot;div\&quot;);\n\t\t\tinner.className = \&quot;tc-tiddler-dragger-inner\&quot;;\n\t\t\tinner.appendChild(this.document.createTextNode(this.to));\n\t\t\tthis.dragImage.appendChild(inner);\n\t\t\tthis.document.body.appendChild(this.dragImage);\n\t\t\t// Astoundingly, we need to cover the dragger up: http://www.kryogenix.org/code/browser/custom-drag-image.html\n\t\t\tvar cover = this.document.createElement(\&quot;div\&quot;);\n\t\t\tcover.className = \&quot;tc-tiddler-dragger-cover\&quot;;\n\t\t\tcover.style.left = (inner.offsetLeft - 16) + \&quot;px\&quot;;\n\t\t\tcover.style.top = (inner.offsetTop - 16) + \&quot;px\&quot;;\n\t\t\tcover.style.width = (inner.offsetWidth + 32) + \&quot;px\&quot;;\n\t\t\tcover.style.height = (inner.offsetHeight + 32) + \&quot;px\&quot;;\n\t\t\tthis.dragImage.appendChild(cover);\n\t\t\t// Set the data transfer properties\n\t\t\tvar dataTransfer = event.dataTransfer;\n\t\t\t// First the image\n\t\t\tdataTransfer.effectAllowed = \&quot;copy\&quot;;\n\t\t\tif(dataTransfer.setDragImage) {\n\t\t\t\tdataTransfer.setDragImage(this.dragImage.firstChild,-16,-16);\n\t\t\t}\n\t\t\t// Then the data\n\t\t\tdataTransfer.clearData();\n\t\t\tvar jsonData = this.wiki.getTiddlerAsJson(this.to),\n\t\t\t\ttextData = this.wiki.getTiddlerText(this.to,\&quot;\&quot;),\n\t\t\t\ttitle = (new RegExp(\&quot;^\&quot; + $tw.config.textPrimitives.wikiLink + \&quot;$\&quot;,\&quot;mg\&quot;)).exec(this.to) ? this.to : \&quot;[[\&quot; + this.to + \&quot;]]\&quot;;\n\t\t\t// IE doesn't like these content types\n\t\t\tif(!$tw.browser.isIE) {\n\t\t\t\tdataTransfer.setData(\&quot;text/vnd.tiddler\&quot;,jsonData);\n\t\t\t\tdataTransfer.setData(\&quot;text/plain\&quot;,title);\n\t\t\t\tdataTransfer.setData(\&quot;text/x-moz-url\&quot;,\&quot;data:text/vnd.tiddler,\&quot; + encodeURI(jsonData));\n\t\t\t}\n\t\t\tdataTransfer.setData(\&quot;URL\&quot;,\&quot;data:text/vnd.tiddler,\&quot; + encodeURI(jsonData));\n\t\t\tdataTransfer.setData(\&quot;Text\&quot;,title);\n\t\t\tevent.stopPropagation();\n\t\t} else {\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n};\n\nLinkWidget.prototype.handleDragEndEvent = function(event) {\n\tif(event.target === this.domNodes[0]) {\n\t\t// Remove the dragging class on the element being dragged\n\t\t$tw.utils.removeClass(event.target,\&quot;tc-tiddlylink-dragging\&quot;);\n\t\t// Delete the drag image element\n\t\tif(this.dragImage) {\n\t\t\tthis.dragImage.parentNode.removeChild(this.dragImage);\n\t\t}\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nLinkWidget.prototype.execute = function() {\n\t// Get the target tiddler title\n\tthis.to = this.getAttribute(\&quot;to\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\t// Get the link title and aria label\n\tthis.tooltip = this.getAttribute(\&quot;tooltip\&quot;);\n\tthis[\&quot;aria-label\&quot;] = this.getAttribute(\&quot;aria-label\&quot;);\n\t// Get the link classes\n\tthis.linkClasses = this.getAttribute(\&quot;class\&quot;);\n\t// Determine the link characteristics\n\tthis.isMissing = !this.wiki.tiddlerExists(this.to);\n\tthis.isShadow = this.wiki.isShadowTiddler(this.to);\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nLinkWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.to || changedTiddlers[this.to] || changedAttributes[\&quot;aria-label\&quot;] || changedAttributes.tooltip) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.link = LinkWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/link.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/linkcatcher.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/linkcatcher.js\ntype: application/javascript\nmodule-type: widget\n\nLinkcatcher widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar LinkCatcherWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n\tthis.addEventListeners([\n\t\t{type: \&quot;tm-navigate\&quot;, handler: \&quot;handleNavigateEvent\&quot;}\n\t]);\n};\n\n/*\nInherit from the base widget class\n*/\nLinkCatcherWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nLinkCatcherWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nLinkCatcherWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.catchTo = this.getAttribute(\&quot;to\&quot;);\n\tthis.catchMessage = this.getAttribute(\&quot;message\&quot;);\n\tthis.catchSet = this.getAttribute(\&quot;set\&quot;);\n\tthis.catchSetTo = this.getAttribute(\&quot;setTo\&quot;);\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nLinkCatcherWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.to || changedAttributes.message || changedAttributes.set || changedAttributes.setTo) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\n/*\nHandle a tm-navigate event\n*/\nLinkCatcherWidget.prototype.handleNavigateEvent = function(event) {\n\tif(this.catchTo) {\n\t\tthis.wiki.setTextReference(this.catchTo,event.navigateTo,this.getVariable(\&quot;currentTiddler\&quot;));\n\t}\n\tif(this.catchMessage &amp;&amp; this.parentWidget) {\n\t\tthis.parentWidget.dispatchEvent({\n\t\t\ttype: this.catchMessage,\n\t\t\tparam: event.navigateTo,\n\t\t\tnavigateTo: event.navigateTo\n\t\t});\n\t}\n\tif(this.catchSet) {\n\t\tvar tiddler = this.wiki.getTiddler(this.catchSet);\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,{title: this.catchSet, text: this.catchSetTo}));\n\t}\n\treturn false;\n};\n\nexports.linkcatcher = LinkCatcherWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/linkcatcher.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/list.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/list.js\ntype: application/javascript\nmodule-type: widget\n\nList and list item widgets\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\n/*\nThe list widget creates list element sub-widgets that reach back into the list widget for their configuration\n*/\n\nvar ListWidget = function(parseTreeNode,options) {\n\t// Initialise the storyviews if they've not been done already\n\tif(!this.storyViews) {\n\t\tListWidget.prototype.storyViews = {};\n\t\t$tw.modules.applyMethods(\&quot;storyview\&quot;,this.storyViews);\n\t}\n\t// Main initialisation inherited from widget.js\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nListWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nListWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n\t// Construct the storyview\n\tvar StoryView = this.storyViews[this.storyViewName];\n\tif(StoryView &amp;&amp; !this.document.isTiddlyWikiFakeDom) {\n\t\tthis.storyview = new StoryView(this);\n\t} else {\n\t\tthis.storyview = null;\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nListWidget.prototype.execute = function() {\n\t// Get our attributes\n\tthis.template = this.getAttribute(\&quot;template\&quot;);\n\tthis.editTemplate = this.getAttribute(\&quot;editTemplate\&quot;);\n\tthis.variableName = this.getAttribute(\&quot;variable\&quot;,\&quot;currentTiddler\&quot;);\n\tthis.storyViewName = this.getAttribute(\&quot;storyview\&quot;);\n\tthis.historyTitle = this.getAttribute(\&quot;history\&quot;);\n\t// Compose the list elements\n\tthis.list = this.getTiddlerList();\n\tvar members = [],\n\t\tself = this;\n\t// Check for an empty list\n\tif(this.list.length === 0) {\n\t\tmembers = this.getEmptyMessage();\n\t} else {\n\t\t$tw.utils.each(this.list,function(title,index) {\n\t\t\tmembers.push(self.makeItemTemplate(title));\n\t\t});\n\t}\n\t// Construct the child widgets\n\tthis.makeChildWidgets(members);\n\t// Clear the last history\n\tthis.history = [];\n};\n\nListWidget.prototype.getTiddlerList = function() {\n\tvar defaultFilter = \&quot;[!is[system]sort[title]]\&quot;;\n\treturn this.wiki.filterTiddlers(this.getAttribute(\&quot;filter\&quot;,defaultFilter),this);\n};\n\nListWidget.prototype.getEmptyMessage = function() {\n\tvar emptyMessage = this.getAttribute(\&quot;emptyMessage\&quot;,\&quot;\&quot;),\n\t\tparser = this.wiki.parseText(\&quot;text/vnd.tiddlywiki\&quot;,emptyMessage,{parseAsInline: true});\n\tif(parser) {\n\t\treturn parser.tree;\n\t} else {\n\t\treturn [];\n\t}\n};\n\n/*\nCompose the template for a list item\n*/\nListWidget.prototype.makeItemTemplate = function(title) {\n\t// Check if the tiddler is a draft\n\tvar tiddler = this.wiki.getTiddler(title),\n\t\tisDraft = tiddler &amp;&amp; tiddler.hasField(\&quot;draft.of\&quot;),\n\t\ttemplate = this.template,\n\t\ttemplateTree;\n\tif(isDraft &amp;&amp; this.editTemplate) {\n\t\ttemplate = this.editTemplate;\n\t}\n\t// Compose the transclusion of the template\n\tif(template) {\n\t\ttemplateTree = [{type: \&quot;transclude\&quot;, attributes: {tiddler: {type: \&quot;string\&quot;, value: template}}}];\n\t} else {\n\t\tif(this.parseTreeNode.children &amp;&amp; this.parseTreeNode.children.length &gt; 0) {\n\t\t\ttemplateTree = this.parseTreeNode.children;\n\t\t} else {\n\t\t\t// Default template is a link to the title\n\t\t\ttemplateTree = [{type: \&quot;element\&quot;, tag: this.parseTreeNode.isBlock ? \&quot;div\&quot; : \&quot;span\&quot;, children: [{type: \&quot;link\&quot;, attributes: {to: {type: \&quot;string\&quot;, value: title}}, children: [\n\t\t\t\t\t{type: \&quot;text\&quot;, text: title}\n\t\t\t]}]}];\n\t\t}\n\t}\n\t// Return the list item\n\treturn {type: \&quot;listitem\&quot;, itemTitle: title, variableName: this.variableName, children: templateTree};\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nListWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\t// Completely refresh if any of our attributes have changed\n\tif(changedAttributes.filter || changedAttributes.template || changedAttributes.editTemplate || changedAttributes.emptyMessage || changedAttributes.storyview || changedAttributes.history) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\t// Handle any changes to the list\n\t\tvar hasChanged = this.handleListChanges(changedTiddlers);\n\t\t// Handle any changes to the history stack\n\t\tif(this.historyTitle &amp;&amp; changedTiddlers[this.historyTitle]) {\n\t\t\tthis.handleHistoryChanges();\n\t\t}\n\t\treturn hasChanged;\n\t}\n};\n\n/*\nHandle any changes to the history list\n*/\nListWidget.prototype.handleHistoryChanges = function() {\n\t// Get the history data\n\tvar newHistory = this.wiki.getTiddlerData(this.historyTitle,[]);\n\t// Ignore any entries of the history that match the previous history\n\tvar entry = 0;\n\twhile(entry &lt; newHistory.length &amp;&amp; entry &lt; this.history.length &amp;&amp; newHistory[entry].title === this.history[entry].title) {\n\t\tentry++;\n\t}\n\t// Navigate forwards to each of the new tiddlers\n\twhile(entry &lt; newHistory.length) {\n\t\tif(this.storyview &amp;&amp; this.storyview.navigateTo) {\n\t\t\tthis.storyview.navigateTo(newHistory[entry]);\n\t\t}\n\t\tentry++;\n\t}\n\t// Update the history\n\tthis.history = newHistory;\n};\n\n/*\nProcess any changes to the list\n*/\nListWidget.prototype.handleListChanges = function(changedTiddlers) {\n\t// Get the new list\n\tvar prevList = this.list;\n\tthis.list = this.getTiddlerList();\n\t// Check for an empty list\n\tif(this.list.length === 0) {\n\t\t// Check if it was empty before\n\t\tif(prevList.length === 0) {\n\t\t\t// If so, just refresh the empty message\n\t\t\treturn this.refreshChildren(changedTiddlers);\n\t\t} else {\n\t\t\t// Replace the previous content with the empty message\n\t\t\tfor(t=this.children.length-1; t&gt;=0; t--) {\n\t\t\t\tthis.removeListItem(t);\n\t\t\t}\n\t\t\tvar nextSibling = this.findNextSiblingDomNode();\n\t\t\tthis.makeChildWidgets(this.getEmptyMessage());\n\t\t\tthis.renderChildren(this.parentDomNode,nextSibling);\n\t\t\treturn true;\n\t\t}\n\t} else {\n\t\t// If the list was empty then we need to remove the empty message\n\t\tif(prevList.length === 0) {\n\t\t\tthis.removeChildDomNodes();\n\t\t\tthis.children = [];\n\t\t}\n\t\t// Cycle through the list, inserting and removing list items as needed\n\t\tvar hasRefreshed = false;\n\t\tfor(var t=0; t&lt;this.list.length; t++) {\n\t\t\tvar index = this.findListItem(t,this.list[t]);\n\t\t\tif(index === undefined) {\n\t\t\t\t// The list item must be inserted\n\t\t\t\tthis.insertListItem(t,this.list[t]);\n\t\t\t\thasRefreshed = true;\n\t\t\t} else {\n\t\t\t\t// There are intervening list items that must be removed\n\t\t\t\tfor(var n=index-1; n&gt;=t; n--) {\n\t\t\t\t\tthis.removeListItem(n);\n\t\t\t\t\thasRefreshed = true;\n\t\t\t\t}\n\t\t\t\t// Refresh the item we're reusing\n\t\t\t\tvar refreshed = this.children[t].refresh(changedTiddlers);\n\t\t\t\thasRefreshed = hasRefreshed || refreshed;\n\t\t\t}\n\t\t}\n\t\t// Remove any left over items\n\t\tfor(t=this.children.length-1; t&gt;=this.list.length; t--) {\n\t\t\tthis.removeListItem(t);\n\t\t\thasRefreshed = true;\n\t\t}\n\t\treturn hasRefreshed;\n\t}\n};\n\n/*\nFind the list item with a given title, starting from a specified position\n*/\nListWidget.prototype.findListItem = function(startIndex,title) {\n\twhile(startIndex &lt; this.children.length) {\n\t\tif(this.children[startIndex].parseTreeNode.itemTitle === title) {\n\t\t\treturn startIndex;\n\t\t}\n\t\tstartIndex++;\n\t}\n\treturn undefined;\n};\n\n/*\nInsert a new list item at the specified index\n*/\nListWidget.prototype.insertListItem = function(index,title) {\n\t// Create, insert and render the new child widgets\n\tvar widget = this.makeChildWidget(this.makeItemTemplate(title));\n\twidget.parentDomNode = this.parentDomNode; // Hack to enable findNextSiblingDomNode() to work\n\tthis.children.splice(index,0,widget);\n\tvar nextSibling = widget.findNextSiblingDomNode();\n\twidget.render(this.parentDomNode,nextSibling);\n\t// Animate the insertion if required\n\tif(this.storyview &amp;&amp; this.storyview.insert) {\n\t\tthis.storyview.insert(widget);\n\t}\n\treturn true;\n};\n\n/*\nRemove the specified list item\n*/\nListWidget.prototype.removeListItem = function(index) {\n\tvar widget = this.children[index];\n\t// Animate the removal if required\n\tif(this.storyview &amp;&amp; this.storyview.remove) {\n\t\tthis.storyview.remove(widget);\n\t} else {\n\t\twidget.removeChildDomNodes();\n\t}\n\t// Remove the child widget\n\tthis.children.splice(index,1);\n};\n\nexports.list = ListWidget;\n\nvar ListItemWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nListItemWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nListItemWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nListItemWidget.prototype.execute = function() {\n\t// Set the current list item title\n\tthis.setVariable(this.parseTreeNode.variableName,this.parseTreeNode.itemTitle);\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nListItemWidget.prototype.refresh = function(changedTiddlers) {\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.listitem = ListItemWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/list.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/macrocall.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/macrocall.js\ntype: application/javascript\nmodule-type: widget\n\nMacrocall widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar MacroCallWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nMacroCallWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nMacroCallWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nMacroCallWidget.prototype.execute = function() {\n\t// Get the parse type if specified\n\tthis.parseType = this.getAttribute(\&quot;$type\&quot;,\&quot;text/vnd.tiddlywiki\&quot;);\n\tthis.renderOutput = this.getAttribute(\&quot;$output\&quot;,\&quot;text/html\&quot;);\n\t// Merge together the parameters specified in the parse tree with the specified attributes\n\tvar params = this.parseTreeNode.params ? this.parseTreeNode.params.slice(0) : [];\n\t$tw.utils.each(this.attributes,function(attribute,name) {\n\t\tif(name.charAt(0) !== \&quot;$\&quot;) {\n\t\t\tparams.push({name: name, value: attribute});\t\t\t\n\t\t}\n\t});\n\t// Get the macro value\n\tvar text = this.getVariable(this.parseTreeNode.name || this.getAttribute(\&quot;$name\&quot;),{params: params}),\n\t\tparseTreeNodes;\n\t// Are we rendering to HTML?\n\tif(this.renderOutput === \&quot;text/html\&quot;) {\n\t\t// If so we'll return the parsed macro\n\t\tvar parser = this.wiki.parseText(this.parseType,text,\n\t\t\t\t\t\t\t{parseAsInline: !this.parseTreeNode.isBlock});\n\t\tparseTreeNodes = parser ? parser.tree : [];\n\t} else {\n\t\t// Otherwise, we'll render the text\n\t\tvar plainText = this.wiki.renderText(\&quot;text/plain\&quot;,this.parseType,text,{parentWidget: this});\n\t\tparseTreeNodes = [{type: \&quot;text\&quot;, text: plainText}];\n\t}\n\t// Construct the child widgets\n\tthis.makeChildWidgets(parseTreeNodes);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nMacroCallWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif($tw.utils.count(changedAttributes) &gt; 0) {\n\t\t// Rerender ourselves\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\n\t}\n};\n\nexports.macrocall = MacroCallWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/macrocall.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/navigator.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/navigator.js\ntype: application/javascript\nmodule-type: widget\n\nNavigator widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar IMPORT_TITLE = \&quot;$:/Import\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar NavigatorWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n\tthis.addEventListeners([\n\t\t{type: \&quot;tm-navigate\&quot;, handler: \&quot;handleNavigateEvent\&quot;},\n\t\t{type: \&quot;tm-edit-tiddler\&quot;, handler: \&quot;handleEditTiddlerEvent\&quot;},\n\t\t{type: \&quot;tm-delete-tiddler\&quot;, handler: \&quot;handleDeleteTiddlerEvent\&quot;},\n\t\t{type: \&quot;tm-save-tiddler\&quot;, handler: \&quot;handleSaveTiddlerEvent\&quot;},\n\t\t{type: \&quot;tm-cancel-tiddler\&quot;, handler: \&quot;handleCancelTiddlerEvent\&quot;},\n\t\t{type: \&quot;tm-close-tiddler\&quot;, handler: \&quot;handleCloseTiddlerEvent\&quot;},\n\t\t{type: \&quot;tm-close-all-tiddlers\&quot;, handler: \&quot;handleCloseAllTiddlersEvent\&quot;},\n\t\t{type: \&quot;tm-close-other-tiddlers\&quot;, handler: \&quot;handleCloseOtherTiddlersEvent\&quot;},\n\t\t{type: \&quot;tm-new-tiddler\&quot;, handler: \&quot;handleNewTiddlerEvent\&quot;},\n\t\t{type: \&quot;tm-import-tiddlers\&quot;, handler: \&quot;handleImportTiddlersEvent\&quot;},\n\t\t{type: \&quot;tm-perform-import\&quot;, handler: \&quot;handlePerformImportEvent\&quot;}\n\t]);\n};\n\n/*\nInherit from the base widget class\n*/\nNavigatorWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nNavigatorWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nNavigatorWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.storyTitle = this.getAttribute(\&quot;story\&quot;);\n\tthis.historyTitle = this.getAttribute(\&quot;history\&quot;);\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nNavigatorWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.story || changedAttributes.history) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nNavigatorWidget.prototype.getStoryList = function() {\n\treturn this.storyTitle ? this.wiki.getTiddlerList(this.storyTitle) : null;\n};\n\nNavigatorWidget.prototype.saveStoryList = function(storyList) {\n\tvar storyTiddler = this.wiki.getTiddler(this.storyTitle);\n\tthis.wiki.addTiddler(new $tw.Tiddler(\n\t\t{title: this.storyTitle},\n\t\tstoryTiddler,\n\t\t{list: storyList}\n\t));\n};\n\nNavigatorWidget.prototype.findTitleInStory = function(storyList,title,defaultIndex) {\n\tvar p = storyList.indexOf(title);\n\treturn p === -1 ? defaultIndex : p;\n};\n\nNavigatorWidget.prototype.removeTitleFromStory = function(storyList,title) {\n\tvar p = storyList.indexOf(title);\n\twhile(p !== -1) {\n\t\tstoryList.splice(p,1);\n\t\tp = storyList.indexOf(title);\n\t}\n};\n\nNavigatorWidget.prototype.replaceFirstTitleInStory = function(storyList,oldTitle,newTitle) {\n\tvar pos = storyList.indexOf(oldTitle);\n\tif(pos !== -1) {\n\t\tstoryList[pos] = newTitle;\n\t\tdo {\n\t\t\tpos = storyList.indexOf(oldTitle,pos + 1);\n\t\t\tif(pos !== -1) {\n\t\t\t\tstoryList.splice(pos,1);\n\t\t\t}\n\t\t} while(pos !== -1);\n\t} else {\n\t\tstoryList.splice(0,0,newTitle);\n\t}\n};\n\nNavigatorWidget.prototype.addToStory = function(title,fromTitle) {\n\tvar storyList = this.getStoryList();\n\tif(storyList) {\n\t\t// See if the tiddler is already there\n\t\tvar slot = this.findTitleInStory(storyList,title,-1);\n\t\t// If not we need to add it\n\t\tif(slot === -1) {\n\t\t\t// First we try to find the position of the story element we navigated from\n\t\t\tslot = this.findTitleInStory(storyList,fromTitle,-1) + 1;\n\t\t\t// Add the tiddler\n\t\t\tstoryList.splice(slot,0,title);\n\t\t\t// Save the story\n\t\t\tthis.saveStoryList(storyList);\n\t\t}\n\t}\n};\n\n/*\nAdd a new record to the top of the history stack\ntitle: a title string or an array of title strings\nfromPageRect: page coordinates of the origin of the navigation\n*/\nNavigatorWidget.prototype.addToHistory = function(title,fromPageRect) {\n\tthis.wiki.addToHistory(title,fromPageRect,this.historyTitle);\n};\n\n/*\nHandle a tm-navigate event\n*/\nNavigatorWidget.prototype.handleNavigateEvent = function(event) {\n\tthis.addToStory(event.navigateTo,event.navigateFromTitle);\n\tif(!event.navigateSuppressNavigation) {\n\t\tthis.addToHistory(event.navigateTo,event.navigateFromClientRect);\n\t}\n\treturn false;\n};\n\n// Close a specified tiddler\nNavigatorWidget.prototype.handleCloseTiddlerEvent = function(event) {\n\tvar title = event.param || event.tiddlerTitle,\n\t\tstoryList = this.getStoryList();\n\t// Look for tiddlers with this title to close\n\tthis.removeTitleFromStory(storyList,title);\n\tthis.saveStoryList(storyList);\n\treturn false;\n};\n\n// Close all tiddlers\nNavigatorWidget.prototype.handleCloseAllTiddlersEvent = function(event) {\n\tthis.saveStoryList([]);\n\treturn false;\n};\n\n// Close other tiddlers\nNavigatorWidget.prototype.handleCloseOtherTiddlersEvent = function(event) {\n\tvar title = event.param || event.tiddlerTitle;\n\tthis.saveStoryList([title]);\n\treturn false;\n};\n\n// Place a tiddler in edit mode\nNavigatorWidget.prototype.handleEditTiddlerEvent = function(event) {\n\tvar self = this;\n\tfunction isUnmodifiedShadow(title) {\n\t\treturn self.wiki.isShadowTiddler(title) &amp;&amp; !self.wiki.tiddlerExists(title);\n\t}\n\tfunction confirmEditShadow(title) {\n\t\treturn confirm($tw.language.getString(\n\t\t\t\&quot;ConfirmEditShadowTiddler\&quot;,\n\t\t\t{variables:\n\t\t\t\t{title: title}\n\t\t\t}\n\t\t));\n\t}\n\tvar title = event.param || event.tiddlerTitle;\n\tif(isUnmodifiedShadow(title) &amp;&amp; !confirmEditShadow(title)) {\n\t\treturn false;\n\t}\n\t// Replace the specified tiddler with a draft in edit mode\n\tvar draftTiddler = this.makeDraftTiddler(title),\n\t\tdraftTitle = draftTiddler.fields.title,\n\t\tstoryList = this.getStoryList();\n\tthis.removeTitleFromStory(storyList,draftTitle);\n\tthis.replaceFirstTitleInStory(storyList,title,draftTitle);\n\tthis.addToHistory(draftTitle,event.navigateFromClientRect);\n\tthis.saveStoryList(storyList);\n\treturn false;\n};\n\n// Delete a tiddler\nNavigatorWidget.prototype.handleDeleteTiddlerEvent = function(event) {\n\t// Get the tiddler we're deleting\n\tvar title = event.param || event.tiddlerTitle,\n\t\ttiddler = this.wiki.getTiddler(title),\n\t\tstoryList = this.getStoryList(),\n\t\toriginalTitle = tiddler.fields[\&quot;draft.of\&quot;],\n\t\tconfirmationTitle;\n\t// Check if the tiddler we're deleting is in draft mode\n\tif(originalTitle) {\n\t\t// If so, we'll prompt for confirmation referencing the original tiddler\n\t\tconfirmationTitle = originalTitle;\n\t} else {\n\t\t// If not a draft, then prompt for confirmation referencing the specified tiddler\n\t\tconfirmationTitle = title;\n\t}\n\t// Seek confirmation\n\tif((this.wiki.getTiddler(originalTitle) || (tiddler.fields.text || \&quot;\&quot;) !== \&quot;\&quot;) &amp;&amp; !confirm($tw.language.getString(\n\t\t\t\t\&quot;ConfirmDeleteTiddler\&quot;,\n\t\t\t\t{variables:\n\t\t\t\t\t{title: confirmationTitle}\n\t\t\t\t}\n\t\t\t))) {\n\t\treturn false;\n\t}\n\t// Delete the original tiddler\n\tif(originalTitle) {\n\t\tthis.wiki.deleteTiddler(originalTitle);\n\t\tthis.removeTitleFromStory(storyList,originalTitle);\n\t}\n\t// Delete this tiddler\n\tthis.wiki.deleteTiddler(title);\n\t// Remove the closed tiddler from the story\n\tthis.removeTitleFromStory(storyList,title);\n\tthis.saveStoryList(storyList);\n\t// Trigger an autosave\n\t$tw.rootWidget.dispatchEvent({type: \&quot;tm-auto-save-wiki\&quot;});\n\treturn false;\n};\n\n/*\nCreate/reuse the draft tiddler for a given title\n*/\nNavigatorWidget.prototype.makeDraftTiddler = function(targetTitle) {\n\t// See if there is already a draft tiddler for this tiddler\n\tvar draftTitle = this.wiki.findDraft(targetTitle);\n\tif(draftTitle) {\n\t\treturn this.wiki.getTiddler(draftTitle);\n\t}\n\t// Get the current value of the tiddler we're editing\n\tvar tiddler = this.wiki.getTiddler(targetTitle);\n\t// Save the initial value of the draft tiddler\n\tdraftTitle = this.generateDraftTitle(targetTitle);\n\tvar draftTiddler = new $tw.Tiddler(\n\t\t\ttiddler,\n\t\t\t{\n\t\t\t\ttitle: draftTitle,\n\t\t\t\t\&quot;draft.title\&quot;: targetTitle,\n\t\t\t\t\&quot;draft.of\&quot;: targetTitle\n\t\t\t},\n\t\t\tthis.wiki.getModificationFields()\n\t\t);\n\tthis.wiki.addTiddler(draftTiddler);\n\treturn draftTiddler;\n};\n\n/*\nGenerate a title for the draft of a given tiddler\n*/\nNavigatorWidget.prototype.generateDraftTitle = function(title) {\n\tvar c = 0,\n\t\tdraftTitle;\n\tdo {\n\t\tdraftTitle = \&quot;Draft \&quot; + (c ? (c + 1) + \&quot; \&quot; : \&quot;\&quot;) + \&quot;of '\&quot; + title + \&quot;'\&quot;;\n\t\tc++;\n\t} while(this.wiki.tiddlerExists(draftTitle));\n\treturn draftTitle;\n};\n\n// Take a tiddler out of edit mode, saving the changes\nNavigatorWidget.prototype.handleSaveTiddlerEvent = function(event) {\n\tvar title = event.param || event.tiddlerTitle,\n\t\ttiddler = this.wiki.getTiddler(title),\n\t\tstoryList = this.getStoryList();\n\t// Replace the original tiddler with the draft\n\tif(tiddler) {\n\t\tvar draftTitle = (tiddler.fields[\&quot;draft.title\&quot;] || \&quot;\&quot;).trim(),\n\t\t\tdraftOf = (tiddler.fields[\&quot;draft.of\&quot;] || \&quot;\&quot;).trim();\n\t\tif(draftTitle) {\n\t\t\tvar isRename = draftOf !== draftTitle,\n\t\t\t\tisConfirmed = true;\n\t\t\tif(isRename &amp;&amp; this.wiki.tiddlerExists(draftTitle)) {\n\t\t\t\tisConfirmed = confirm($tw.language.getString(\n\t\t\t\t\t\&quot;ConfirmOverwriteTiddler\&quot;,\n\t\t\t\t\t{variables:\n\t\t\t\t\t\t{title: draftTitle}\n\t\t\t\t\t}\n\t\t\t\t));\n\t\t\t}\n\t\t\tif(isConfirmed) {\n\t\t\t\t// Save the draft tiddler as the real tiddler\n\t\t\t\tthis.wiki.addTiddler(new $tw.Tiddler(this.wiki.getCreationFields(),tiddler,{\n\t\t\t\t\ttitle: draftTitle,\n\t\t\t\t\t\&quot;draft.title\&quot;: undefined,\n\t\t\t\t\t\&quot;draft.of\&quot;: undefined\n\t\t\t\t},this.wiki.getModificationFields()));\n\t\t\t\t// Remove the draft tiddler\n\t\t\t\tthis.wiki.deleteTiddler(title);\n\t\t\t\t// Remove the original tiddler if we're renaming it\n\t\t\t\tif(isRename) {\n\t\t\t\t\tthis.wiki.deleteTiddler(draftOf);\n\t\t\t\t}\n\t\t\t\t// Replace the draft in the story with the original\n\t\t\t\tthis.replaceFirstTitleInStory(storyList,title,draftTitle);\n\t\t\t\tthis.addToHistory(draftTitle,event.navigateFromClientRect);\n\t\t\t\tif(draftTitle !== this.storyTitle) {\n\t\t\t\t\tthis.saveStoryList(storyList);\n\t\t\t\t}\n\t\t\t\t// Trigger an autosave\n\t\t\t\t$tw.rootWidget.dispatchEvent({type: \&quot;tm-auto-save-wiki\&quot;});\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\n\n// Take a tiddler out of edit mode without saving the changes\nNavigatorWidget.prototype.handleCancelTiddlerEvent = function(event) {\n\t// Flip the specified tiddler from draft back to the original\n\tvar draftTitle = event.param || event.tiddlerTitle,\n\t\tdraftTiddler = this.wiki.getTiddler(draftTitle),\n\t\toriginalTitle = draftTiddler.fields[\&quot;draft.of\&quot;],\n\t\toriginalTiddler = this.wiki.getTiddler(originalTitle),\n\t\tstoryList = this.getStoryList();\n\tif(draftTiddler &amp;&amp; originalTitle) {\n\t\t// Ask for confirmation if the tiddler text has changed\n\t\tvar isConfirmed = true;\n\t\tif(this.wiki.isDraftModified(draftTitle)) {\n\t\t\tisConfirmed = confirm($tw.language.getString(\n\t\t\t\t\&quot;ConfirmCancelTiddler\&quot;,\n\t\t\t\t{variables:\n\t\t\t\t\t{title: draftTitle}\n\t\t\t\t}\n\t\t\t));\n\t\t}\n\t\t// Remove the draft tiddler\n\t\tif(isConfirmed) {\n\t\t\tthis.wiki.deleteTiddler(draftTitle);\n\t\t\tif(originalTiddler) {\n\t\t\t\tthis.replaceFirstTitleInStory(storyList,draftTitle,originalTitle);\n\t\t\t\tthis.addToHistory(originalTitle,event.navigateFromClientRect);\n\t\t\t} else {\n\t\t\t\tthis.removeTitleFromStory(storyList,draftTitle);\n\t\t\t}\n\t\t\tthis.saveStoryList(storyList);\n\t\t\t// Trigger an autosave\n\t\t\t$tw.rootWidget.dispatchEvent({type: \&quot;tm-auto-save-wiki\&quot;});\t\t\t\n\t\t}\n\t}\n\treturn false;\n};\n\n// Create a new draft tiddler\n// event.param can either be the title of a template tiddler, or a hashmap of fields.\n//\n// The title of the newly created tiddler follows these rules:\n// * If a hashmap was used and a title field was specified, use that title\n// * If a hashmap was used without a title field, use a default title, if necessary making it unique with a numeric suffix\n// * If a template tiddler was used, use the title of the template, if necessary making it unique with a numeric suffix\n//\n// If a draft of the target tiddler already exists then it is reused\nNavigatorWidget.prototype.handleNewTiddlerEvent = function(event) {\n\t// Get the story details\n\tvar storyList = this.getStoryList(),\n\t\ttemplateTiddler, additionalFields, title, draftTitle, existingTiddler;\n\t// Get the template tiddler (if any)\n\tif(typeof event.param === \&quot;string\&quot;) {\n\t\t// Get the template tiddler\n\t\ttemplateTiddler = this.wiki.getTiddler(event.param);\n\t\t// Generate a new title\n\t\ttitle = this.wiki.generateNewTitle(event.param || $tw.language.getString(\&quot;DefaultNewTiddlerTitle\&quot;));\n\t}\n\t// Get the specified additional fields\n\tif(typeof event.paramObject === \&quot;object\&quot;) {\n\t\tadditionalFields = event.paramObject;\n\t}\n\tif(typeof event.param === \&quot;object\&quot;) { // Backwards compatibility with 5.1.3\n\t\tadditionalFields = event.param;\n\t}\n\tif(additionalFields &amp;&amp; additionalFields.title) {\n\t\ttitle = additionalFields.title;\n\t}\n\t// Generate a title if we don't have one\n\ttitle = title || this.wiki.generateNewTitle($tw.language.getString(\&quot;DefaultNewTiddlerTitle\&quot;));\n\t// Find any existing draft for this tiddler\n\tdraftTitle = this.wiki.findDraft(title);\n\t// Pull in any existing tiddler\n\tif(draftTitle) {\n\t\texistingTiddler = this.wiki.getTiddler(draftTitle);\n\t} else {\n\t\tdraftTitle = this.generateDraftTitle(title);\n\t\texistingTiddler = this.wiki.getTiddler(title);\n\t}\n\t// Merge the tags\n\tvar mergedTags = [];\n\tif(existingTiddler &amp;&amp; existingTiddler.fields.tags) {\n\t\t$tw.utils.pushTop(mergedTags,existingTiddler.fields.tags)\n\t}\n\tif(additionalFields &amp;&amp; additionalFields.tags) {\n\t\t// Merge tags\n\t\tmergedTags = $tw.utils.pushTop(mergedTags,$tw.utils.parseStringArray(additionalFields.tags));\n\t}\n\tif(templateTiddler &amp;&amp; templateTiddler.fields.tags) {\n\t\t// Merge tags\n\t\tmergedTags = $tw.utils.pushTop(mergedTags,templateTiddler.fields.tags);\n\t}\n\t// Save the draft tiddler\n\tvar draftTiddler = new $tw.Tiddler({\n\t\t\ttext: \&quot;\&quot;,\n\t\t\t\&quot;draft.title\&quot;: title\n\t\t},\n\t\ttemplateTiddler,\n\t\texistingTiddler,\n\t\tadditionalFields,\n\t\tthis.wiki.getCreationFields(),\n\t\t{\n\t\t\ttitle: draftTitle,\n\t\t\t\&quot;draft.of\&quot;: title,\n\t\t\ttags: mergedTags\n\t\t},this.wiki.getModificationFields());\n\tthis.wiki.addTiddler(draftTiddler);\n\t// Update the story to insert the new draft at the top and remove any existing tiddler\n\tif(storyList.indexOf(draftTitle) === -1) {\n\t\tvar slot = storyList.indexOf(event.navigateFromTitle);\n\t\tstoryList.splice(slot + 1,0,draftTitle);\n\t}\n\tif(storyList.indexOf(title) !== -1) {\n\t\tstoryList.splice(storyList.indexOf(title),1);\t\t\n\t}\n\tthis.saveStoryList(storyList);\n\t// Add a new record to the top of the history stack\n\tthis.addToHistory(draftTitle);\n\treturn false;\n};\n\n// Import JSON tiddlers into a pending import tiddler\nNavigatorWidget.prototype.handleImportTiddlersEvent = function(event) {\n\tvar self = this;\n\t// Get the tiddlers\n\tvar tiddlers = [];\n\ttry {\n\t\ttiddlers = JSON.parse(event.param);\t\n\t} catch(e) {\n\t}\n\t// Get the current $:/Import tiddler\n\tvar importTiddler = this.wiki.getTiddler(IMPORT_TITLE),\n\t\timportData = this.wiki.getTiddlerData(IMPORT_TITLE,{}),\n\t\tnewFields = new Object({\n\t\t\ttitle: IMPORT_TITLE,\n\t\t\ttype: \&quot;application/json\&quot;,\n\t\t\t\&quot;plugin-type\&quot;: \&quot;import\&quot;,\n\t\t\t\&quot;status\&quot;: \&quot;pending\&quot;\n\t\t}),\n\t\tincomingTiddlers = [];\n\t// Process each tiddler\n\timportData.tiddlers = importData.tiddlers || {};\n\t$tw.utils.each(tiddlers,function(tiddlerFields) {\n\t\tvar title = tiddlerFields.title;\n\t\tif(title) {\n\t\t\tincomingTiddlers.push(title);\n\t\t\timportData.tiddlers[title] = tiddlerFields;\n\t\t}\n\t});\n\t// Give the active upgrader modules a chance to process the incoming tiddlers\n\tvar messages = this.wiki.invokeUpgraders(incomingTiddlers,importData.tiddlers);\n\t$tw.utils.each(messages,function(message,title) {\n\t\tnewFields[\&quot;message-\&quot; + title] = message;\n\t});\n\t// Deselect any suppressed tiddlers\n\t$tw.utils.each(importData.tiddlers,function(tiddler,title) {\n\t\tif($tw.utils.count(tiddler) === 0) {\n\t\t\tnewFields[\&quot;selection-\&quot; + title] = \&quot;unchecked\&quot;;\n\t\t}\n\t});\n\t// Save the $:/Import tiddler\n\tnewFields.text = JSON.stringify(importData,null,$tw.config.preferences.jsonSpaces);\n\tthis.wiki.addTiddler(new $tw.Tiddler(importTiddler,newFields));\n\t// Update the story and history details\n\tif(this.getVariable(\&quot;tv-auto-open-on-import\&quot;) !== \&quot;no\&quot;) {\n\t\tvar storyList = this.getStoryList(),\n\t\t\thistory = [];\n\t\t// Add it to the story\n\t\tif(storyList.indexOf(IMPORT_TITLE) === -1) {\n\t\t\tstoryList.unshift(IMPORT_TITLE);\n\t\t}\n\t\t// And to history\n\t\thistory.push(IMPORT_TITLE);\n\t\t// Save the updated story and history\n\t\tthis.saveStoryList(storyList);\n\t\tthis.addToHistory(history);\t\t\n\t}\n\treturn false;\n};\n\n// \nNavigatorWidget.prototype.handlePerformImportEvent = function(event) {\n\tvar self = this,\n\t\timportTiddler = this.wiki.getTiddler(event.param),\n\t\timportData = this.wiki.getTiddlerData(event.param,{tiddlers: {}}),\n\t\timportReport = [];\n\t// Add the tiddlers to the store\n\timportReport.push(\&quot;The following tiddlers were imported:\\n\&quot;);\n\t$tw.utils.each(importData.tiddlers,function(tiddlerFields) {\n\t\tvar title = tiddlerFields.title;\n\t\tif(title &amp;&amp; importTiddler &amp;&amp; importTiddler.fields[\&quot;selection-\&quot; + title] !== \&quot;unchecked\&quot;) {\n\t\t\tself.wiki.addTiddler(new $tw.Tiddler(tiddlerFields));\n\t\t\timportReport.push(\&quot;# [[\&quot; + tiddlerFields.title + \&quot;]]\&quot;);\n\t\t}\n\t});\n\t// Replace the $:/Import tiddler with an import report\n\tthis.wiki.addTiddler(new $tw.Tiddler({\n\t\ttitle: IMPORT_TITLE,\n\t\ttext: importReport.join(\&quot;\\n\&quot;),\n\t\t\&quot;status\&quot;: \&quot;complete\&quot;\n\t}));\n\t// Navigate to the $:/Import tiddler\n\tthis.addToHistory([IMPORT_TITLE]);\n\t// Trigger an autosave\n\t$tw.rootWidget.dispatchEvent({type: \&quot;tm-auto-save-wiki\&quot;});\n};\n\nexports.navigator = NavigatorWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/navigator.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/password.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/password.js\ntype: application/javascript\nmodule-type: widget\n\nPassword widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar PasswordWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nPasswordWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nPasswordWidget.prototype.render = function(parent,nextSibling) {\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Get the current password\n\tvar password = $tw.browser ? $tw.utils.getPassword(this.passwordName) || \&quot;\&quot; : \&quot;\&quot;;\n\t// Create our element\n\tvar domNode = this.document.createElement(\&quot;input\&quot;);\n\tdomNode.setAttribute(\&quot;type\&quot;,\&quot;password\&quot;);\n\tdomNode.setAttribute(\&quot;value\&quot;,password);\n\t// Add a click event handler\n\t$tw.utils.addEventListeners(domNode,[\n\t\t{name: \&quot;change\&quot;, handlerObject: this, handlerMethod: \&quot;handleChangeEvent\&quot;}\n\t]);\n\t// Insert the label into the DOM and render any children\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\nPasswordWidget.prototype.handleChangeEvent = function(event) {\n\tvar password = this.domNodes[0].value;\n\treturn $tw.utils.savePassword(this.passwordName,password);\n};\n\n/*\nCompute the internal state of the widget\n*/\nPasswordWidget.prototype.execute = function() {\n\t// Get the parameters from the attributes\n\tthis.passwordName = this.getAttribute(\&quot;name\&quot;,\&quot;\&quot;);\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nPasswordWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.name) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\n\t}\n};\n\nexports.password = PasswordWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/password.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/radio.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/radio.js\ntype: application/javascript\nmodule-type: widget\n\nRadio widget\n\nWill set a field to the selected value:\n\n```\n\t&lt;$radio field=\&quot;myfield\&quot; value=\&quot;check 1\&quot;&gt;one&lt;/$radio&gt;\n\t&lt;$radio field=\&quot;myfield\&quot; value=\&quot;check 2\&quot;&gt;two&lt;/$radio&gt;\n\t&lt;$radio field=\&quot;myfield\&quot; value=\&quot;check 3\&quot;&gt;three&lt;/$radio&gt;\n```\n\n|Parameter |Description |h\n|tiddler |Name of the tiddler in which the field should be set. Defaults to current tiddler |\n|field |The name of the field to be set |\n|value |The value to set |\n|class |Optional class name(s) |\n\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar RadioWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nRadioWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nRadioWidget.prototype.render = function(parent,nextSibling) {\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Create our elements\n\tthis.labelDomNode = this.document.createElement(\&quot;label\&quot;);\n\tthis.labelDomNode.setAttribute(\&quot;class\&quot;,this.radioClass);\n\tthis.inputDomNode = this.document.createElement(\&quot;input\&quot;);\n\tthis.inputDomNode.setAttribute(\&quot;type\&quot;,\&quot;radio\&quot;);\n\tif(this.getValue() == this.radioValue) {\n\t\tthis.inputDomNode.setAttribute(\&quot;checked\&quot;,\&quot;true\&quot;);\n\t}\n\tthis.labelDomNode.appendChild(this.inputDomNode);\n\tthis.spanDomNode = this.document.createElement(\&quot;span\&quot;);\n\tthis.labelDomNode.appendChild(this.spanDomNode);\n\t// Add a click event handler\n\t$tw.utils.addEventListeners(this.inputDomNode,[\n\t\t{name: \&quot;change\&quot;, handlerObject: this, handlerMethod: \&quot;handleChangeEvent\&quot;}\n\t]);\n\t// Insert the label into the DOM and render any children\n\tparent.insertBefore(this.labelDomNode,nextSibling);\n\tthis.renderChildren(this.spanDomNode,null);\n\tthis.domNodes.push(this.labelDomNode);\n};\n\nRadioWidget.prototype.getValue = function() {\n\tvar tiddler = this.wiki.getTiddler(this.radioTitle);\n\treturn tiddler &amp;&amp; tiddler.getFieldString(this.radioField);\n};\n\nRadioWidget.prototype.setValue = function() {\n\tif(this.radioField) {\n\t\tvar tiddler = this.wiki.getTiddler(this.radioTitle),\n\t\t\taddition = {};\n\t\taddition[this.radioField] = this.radioValue;\n\t\tthis.wiki.addTiddler(new $tw.Tiddler({title: this.radioTitle},tiddler,addition,this.wiki.getModificationFields()));\n\t}\n};\n\nRadioWidget.prototype.handleChangeEvent = function(event) {\n\tif(this.inputDomNode.checked) {\n\t\tthis.setValue();\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nRadioWidget.prototype.execute = function() {\n\t// Get the parameters from the attributes\n\tthis.radioTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.radioField = this.getAttribute(\&quot;field\&quot;,\&quot;text\&quot;);\n\tthis.radioValue = this.getAttribute(\&quot;value\&quot;);\n\tthis.radioClass = this.getAttribute(\&quot;class\&quot;,\&quot;\&quot;);\n\tif(this.radioClass !== \&quot;\&quot;) {\n\t\tthis.radioClass += \&quot; \&quot;;\n\t}\n\tthis.radioClass += \&quot;tc-radio\&quot;;\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nRadioWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.value || changedAttributes[\&quot;class\&quot;]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\tvar refreshed = false;\n\t\tif(changedTiddlers[this.radioTitle]) {\n\t\t\tthis.inputDomNode.checked = this.getValue() === this.radioValue;\n\t\t\trefreshed = true;\n\t\t}\n\t\treturn this.refreshChildren(changedTiddlers) || refreshed;\n\t}\n};\n\nexports.radio = RadioWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/radio.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/raw.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/raw.js\ntype: application/javascript\nmodule-type: widget\n\nRaw widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar RawWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nRawWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nRawWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.execute();\n\tvar div = this.document.createElement(\&quot;div\&quot;);\n\tdiv.innerHTML=this.parseTreeNode.html;\n\tparent.insertBefore(div,nextSibling);\n\tthis.domNodes.push(div);\t\n};\n\n/*\nCompute the internal state of the widget\n*/\nRawWidget.prototype.execute = function() {\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nRawWidget.prototype.refresh = function(changedTiddlers) {\n\treturn false;\n};\n\nexports.raw = RawWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/raw.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/reveal.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/reveal.js\ntype: application/javascript\nmodule-type: widget\n\nReveal widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar RevealWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nRevealWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nRevealWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar domNode = this.document.createElement(this.parseTreeNode.isBlock ? \&quot;div\&quot; : \&quot;span\&quot;);\n\tvar classes = this[\&quot;class\&quot;].split(\&quot; \&quot;) || [];\n\tclasses.push(\&quot;tc-reveal\&quot;);\n\tdomNode.className = classes.join(\&quot; \&quot;);\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tif(!domNode.isTiddlyWikiFakeDom &amp;&amp; this.type === \&quot;popup\&quot; &amp;&amp; this.isOpen) {\n\t\tthis.positionPopup(domNode);\n\t\t$tw.utils.addClass(domNode,\&quot;tc-popup\&quot;); // Make sure that clicks don't dismiss popups within the revealed content\n\t}\n\tif(!this.isOpen) {\n\t\tdomNode.setAttribute(\&quot;hidden\&quot;,\&quot;true\&quot;);\n\t}\n\tthis.domNodes.push(domNode);\n};\n\nRevealWidget.prototype.positionPopup = function(domNode) {\n\tdomNode.style.position = \&quot;absolute\&quot;;\n\tdomNode.style.zIndex = \&quot;1000\&quot;;\n\tswitch(this.position) {\n\t\tcase \&quot;left\&quot;:\n\t\t\tdomNode.style.left = (this.popup.left - domNode.offsetWidth) + \&quot;px\&quot;;\n\t\t\tdomNode.style.top = this.popup.top + \&quot;px\&quot;;\n\t\t\tbreak;\n\t\tcase \&quot;above\&quot;:\n\t\t\tdomNode.style.left = this.popup.left + \&quot;px\&quot;;\n\t\t\tdomNode.style.top = (this.popup.top - domNode.offsetHeight) + \&quot;px\&quot;;\n\t\t\tbreak;\n\t\tcase \&quot;aboveright\&quot;:\n\t\t\tdomNode.style.left = (this.popup.left + this.popup.width) + \&quot;px\&quot;;\n\t\t\tdomNode.style.top = (this.popup.top + this.popup.height - domNode.offsetHeight) + \&quot;px\&quot;;\n\t\t\tbreak;\n\t\tcase \&quot;right\&quot;:\n\t\t\tdomNode.style.left = (this.popup.left + this.popup.width) + \&quot;px\&quot;;\n\t\t\tdomNode.style.top = this.popup.top + \&quot;px\&quot;;\n\t\t\tbreak;\n\t\tcase \&quot;belowleft\&quot;:\n\t\t\tdomNode.style.left = (this.popup.left + this.popup.width - domNode.offsetWidth) + \&quot;px\&quot;;\n\t\t\tdomNode.style.top = (this.popup.top + this.popup.height) + \&quot;px\&quot;;\n\t\t\tbreak;\n\t\tdefault: // Below\n\t\t\tdomNode.style.left = this.popup.left + \&quot;px\&quot;;\n\t\t\tdomNode.style.top = (this.popup.top + this.popup.height) + \&quot;px\&quot;;\n\t\t\tbreak;\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nRevealWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.state = this.getAttribute(\&quot;state\&quot;);\n\tthis.type = this.getAttribute(\&quot;type\&quot;);\n\tthis.text = this.getAttribute(\&quot;text\&quot;);\n\tthis.position = this.getAttribute(\&quot;position\&quot;);\n\tthis[\&quot;class\&quot;] = this.getAttribute(\&quot;class\&quot;,\&quot;\&quot;);\n\tthis[\&quot;default\&quot;] = this.getAttribute(\&quot;default\&quot;,\&quot;\&quot;);\n\tthis.animate = this.getAttribute(\&quot;animate\&quot;,\&quot;no\&quot;);\n\tthis.retain = this.getAttribute(\&quot;retain\&quot;,\&quot;no\&quot;);\n\tthis.openAnimation = this.animate === \&quot;no\&quot; ? undefined : \&quot;open\&quot;;\n\tthis.closeAnimation = this.animate === \&quot;no\&quot; ? undefined : \&quot;close\&quot;;\n\t// Compute the title of the state tiddler and read it\n\tthis.stateTitle = this.state;\n\tthis.readState();\n\t// Construct the child widgets\n\tvar childNodes = this.isOpen ? this.parseTreeNode.children : [];\n\tthis.hasChildNodes = this.isOpen;\n\tthis.makeChildWidgets(childNodes);\n};\n\n/*\nRead the state tiddler\n*/\nRevealWidget.prototype.readState = function() {\n\t// Read the information from the state tiddler\n\tvar state = this.stateTitle ? this.wiki.getTextReference(this.stateTitle,this[\&quot;default\&quot;],this.getVariable(\&quot;currentTiddler\&quot;)) : this[\&quot;default\&quot;];\n\tswitch(this.type) {\n\t\tcase \&quot;popup\&quot;:\n\t\t\tthis.readPopupState(state);\n\t\t\tbreak;\n\t\tcase \&quot;match\&quot;:\n\t\t\tthis.readMatchState(state);\n\t\t\tbreak;\n\t\tcase \&quot;nomatch\&quot;:\n\t\t\tthis.readMatchState(state);\n\t\t\tthis.isOpen = !this.isOpen;\n\t\t\tbreak;\n\t}\n};\n\nRevealWidget.prototype.readMatchState = function(state) {\n\tthis.isOpen = state === this.text;\n};\n\nRevealWidget.prototype.readPopupState = function(state) {\n\tvar popupLocationRegExp = /^\\((-?[0-9\\.E]+),(-?[0-9\\.E]+),(-?[0-9\\.E]+),(-?[0-9\\.E]+)\\)$/,\n\t\tmatch = popupLocationRegExp.exec(state);\n\t// Check if the state matches the location regexp\n\tif(match) {\n\t\t// If so, we're open\n\t\tthis.isOpen = true;\n\t\t// Get the location\n\t\tthis.popup = {\n\t\t\tleft: parseFloat(match[1]),\n\t\t\ttop: parseFloat(match[2]),\n\t\t\twidth: parseFloat(match[3]),\n\t\t\theight: parseFloat(match[4])\n\t\t};\n\t} else {\n\t\t// If not, we're closed\n\t\tthis.isOpen = false;\n\t}\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nRevealWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.state || changedAttributes.type || changedAttributes.text || changedAttributes.position || changedAttributes[\&quot;default\&quot;] || changedAttributes.animate) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\tvar refreshed = false,\n\t\t\tcurrentlyOpen = this.isOpen;\n\t\tthis.readState();\n\t\tif(this.isOpen !== currentlyOpen) {\n\t\t\tif(this.retain === \&quot;yes\&quot;) {\n\t\t\t\tthis.updateState();\n\t\t\t} else {\n\t\t\t\tthis.refreshSelf();\n\t\t\t\trefreshed = true;\n\t\t\t}\n\t\t}\n\t\treturn this.refreshChildren(changedTiddlers) || refreshed;\n\t}\n};\n\n/*\nCalled by refresh() to dynamically show or hide the content\n*/\nRevealWidget.prototype.updateState = function() {\n\t// Read the current state\n\tthis.readState();\n\t// Construct the child nodes if needed\n\tvar domNode = this.domNodes[0];\n\tif(this.isOpen &amp;&amp; !this.hasChildNodes) {\n\t\tthis.hasChildNodes = true;\n\t\tthis.makeChildWidgets(this.parseTreeNode.children);\n\t\tthis.renderChildren(domNode,null);\n\t}\n\t// Animate our DOM node\n\tif(!domNode.isTiddlyWikiFakeDom &amp;&amp; this.type === \&quot;popup\&quot; &amp;&amp; this.isOpen) {\n\t\tthis.positionPopup(domNode);\n\t\t$tw.utils.addClass(domNode,\&quot;tc-popup\&quot;); // Make sure that clicks don't dismiss popups within the revealed content\n\n\t}\n\tif(this.isOpen) {\n\t\tdomNode.removeAttribute(\&quot;hidden\&quot;);\n        $tw.anim.perform(this.openAnimation,domNode);\n\t} else {\n\t\t$tw.anim.perform(this.closeAnimation,domNode,{callback: function() {\n\t\t\tdomNode.setAttribute(\&quot;hidden\&quot;,\&quot;true\&quot;);\n        }});\n\t}\n};\n\nexports.reveal = RevealWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/reveal.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/scrollable.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/scrollable.js\ntype: application/javascript\nmodule-type: widget\n\nScrollable widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar ScrollableWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n\tthis.scaleFactor = 1;\n\tthis.addEventListeners([\n\t\t{type: \&quot;tm-scroll\&quot;, handler: \&quot;handleScrollEvent\&quot;}\n\t]);\n\tif($tw.browser) {\n\t\tthis.requestAnimationFrame = window.requestAnimationFrame ||\n\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\tfunction(callback) {\n\t\t\t\treturn window.setTimeout(callback, 1000/60);\n\t\t\t};\n\t\tthis.cancelAnimationFrame = window.cancelAnimationFrame ||\n\t\t\twindow.webkitCancelAnimationFrame ||\n\t\t\twindow.webkitCancelRequestAnimationFrame ||\n\t\t\twindow.mozCancelAnimationFrame ||\n\t\t\twindow.mozCancelRequestAnimationFrame ||\n\t\t\tfunction(id) {\n\t\t\t\twindow.clearTimeout(id);\n\t\t\t};\n\t}\n};\n\n/*\nInherit from the base widget class\n*/\nScrollableWidget.prototype = new Widget();\n\nScrollableWidget.prototype.cancelScroll = function() {\n\tif(this.idRequestFrame) {\n\t\tthis.cancelAnimationFrame.call(window,this.idRequestFrame);\n\t\tthis.idRequestFrame = null;\n\t}\n};\n\n/*\nHandle a scroll event\n*/\nScrollableWidget.prototype.handleScrollEvent = function(event) {\n\t// Pass the scroll event through if our offsetsize is larger than our scrollsize\n\tif(this.outerDomNode.scrollWidth &lt;= this.outerDomNode.offsetWidth &amp;&amp; this.outerDomNode.scrollHeight &lt;= this.outerDomNode.offsetHeight &amp;&amp; this.fallthrough === \&quot;yes\&quot;) {\n\t\treturn true;\n\t}\n\tthis.scrollIntoView(event.target);\n\treturn false; // Handled event\n};\n\n/*\nScroll an element into view\n*/\nScrollableWidget.prototype.scrollIntoView = function(element) {\n\tvar duration = $tw.utils.getAnimationDuration();\n\tthis.cancelScroll();\n\tthis.startTime = Date.now();\n\tvar scrollPosition = {\n\t\tx: this.outerDomNode.scrollLeft,\n\t\ty: this.outerDomNode.scrollTop\n\t};\n\t// Get the client bounds of the element and adjust by the scroll position\n\tvar scrollableBounds = this.outerDomNode.getBoundingClientRect(),\n\t\tclientTargetBounds = element.getBoundingClientRect(),\n\t\tbounds = {\n\t\t\tleft: clientTargetBounds.left + scrollPosition.x - scrollableBounds.left,\n\t\t\ttop: clientTargetBounds.top + scrollPosition.y - scrollableBounds.top,\n\t\t\twidth: clientTargetBounds.width,\n\t\t\theight: clientTargetBounds.height\n\t\t};\n\t// We'll consider the horizontal and vertical scroll directions separately via this function\n\tvar getEndPos = function(targetPos,targetSize,currentPos,currentSize) {\n\t\t\t// If the target is already visible then stay where we are\n\t\t\tif(targetPos &gt;= currentPos &amp;&amp; (targetPos + targetSize) &lt;= (currentPos + currentSize)) {\n\t\t\t\treturn currentPos;\n\t\t\t// If the target is above/left of the current view, then scroll to its top/left\n\t\t\t} else if(targetPos &lt;= currentPos) {\n\t\t\t\treturn targetPos;\n\t\t\t// If the target is smaller than the window and the scroll position is too far up, then scroll till the target is at the bottom of the window\n\t\t\t} else if(targetSize &lt; currentSize &amp;&amp; currentPos &lt; (targetPos + targetSize - currentSize)) {\n\t\t\t\treturn targetPos + targetSize - currentSize;\n\t\t\t// If the target is big, then just scroll to the top\n\t\t\t} else if(currentPos &lt; targetPos) {\n\t\t\t\treturn targetPos;\n\t\t\t// Otherwise, stay where we are\n\t\t\t} else {\n\t\t\t\treturn currentPos;\n\t\t\t}\n\t\t},\n\t\tendX = getEndPos(bounds.left,bounds.width,scrollPosition.x,this.outerDomNode.offsetWidth),\n\t\tendY = getEndPos(bounds.top,bounds.height,scrollPosition.y,this.outerDomNode.offsetHeight);\n\t// Only scroll if necessary\n\tif(endX !== scrollPosition.x || endY !== scrollPosition.y) {\n\t\tvar self = this,\n\t\t\tdrawFrame;\n\t\tdrawFrame = function () {\n\t\t\tvar t;\n\t\t\tif(duration &lt;= 0) {\n\t\t\t\tt = 1;\n\t\t\t} else {\n\t\t\t\tt = ((Date.now()) - self.startTime) / duration;\t\n\t\t\t}\n\t\t\tif(t &gt;= 1) {\n\t\t\t\tself.cancelScroll();\n\t\t\t\tt = 1;\n\t\t\t}\n\t\t\tt = $tw.utils.slowInSlowOut(t);\n\t\t\tself.outerDomNode.scrollLeft = scrollPosition.x + (endX - scrollPosition.x) * t;\n\t\t\tself.outerDomNode.scrollTop = scrollPosition.y + (endY - scrollPosition.y) * t;\n\t\t\tif(t &lt; 1) {\n\t\t\t\tself.idRequestFrame = self.requestAnimationFrame.call(window,drawFrame);\n\t\t\t}\n\t\t};\n\t\tdrawFrame();\n\t}\n};\n\n/*\nRender this widget into the DOM\n*/\nScrollableWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create elements\n\tthis.outerDomNode = this.document.createElement(\&quot;div\&quot;);\n\t$tw.utils.setStyle(this.outerDomNode,[\n\t\t{overflowY: \&quot;auto\&quot;},\n\t\t{overflowX: \&quot;auto\&quot;},\n\t\t{webkitOverflowScrolling: \&quot;touch\&quot;}\n\t]);\n\tthis.innerDomNode = this.document.createElement(\&quot;div\&quot;);\n\tthis.outerDomNode.appendChild(this.innerDomNode);\n\t// Assign classes\n\tthis.outerDomNode.className = this[\&quot;class\&quot;] || \&quot;\&quot;;\n\t// Insert element\n\tparent.insertBefore(this.outerDomNode,nextSibling);\n\tthis.renderChildren(this.innerDomNode,null);\n\tthis.domNodes.push(this.outerDomNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nScrollableWidget.prototype.execute = function() {\n\t// Get attributes\n\tthis.fallthrough = this.getAttribute(\&quot;fallthrough\&quot;,\&quot;yes\&quot;);\n\tthis[\&quot;class\&quot;] = this.getAttribute(\&quot;class\&quot;);\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nScrollableWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\&quot;class\&quot;]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.scrollable = ScrollableWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/scrollable.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/select.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/select.js\ntype: application/javascript\nmodule-type: widget\n\nSelect widget:\n\n```\n&lt;$select tiddler=\&quot;MyTiddler\&quot; field=\&quot;text\&quot;&gt;\n&lt;$list filter=\&quot;[tag[chapter]]\&quot;&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$view field=\&quot;description\&quot;/&gt;\n&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar SelectWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nSelectWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nSelectWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n\tthis.setSelectValue();\n\t$tw.utils.addEventListeners(this.getSelectDomNode(),[\n\t\t{name: \&quot;change\&quot;, handlerObject: this, handlerMethod: \&quot;handleChangeEvent\&quot;}\n\t]);\n};\n\n/*\nHandle a change event\n*/\nSelectWidget.prototype.handleChangeEvent = function(event) {\n\tvar value = this.getSelectDomNode().value;\n\tthis.wiki.setText(this.selectTitle,this.selectField,this.selectIndex,value);\n};\n\n/*\nIf necessary, set the value of the select element to the current value\n*/\nSelectWidget.prototype.setSelectValue = function() {\n\tvar value = this.selectDefault;\n\t// Get the value\n\tif(this.selectIndex) {\n\t\tvalue = this.wiki.extractTiddlerDataItem(this.selectTitle,this.selectIndex);\n\t} else {\n\t\tvar tiddler = this.wiki.getTiddler(this.selectTitle);\n\t\tif(tiddler) {\n\t\t\tif(this.selectField === \&quot;text\&quot;) {\n\t\t\t\t// Calling getTiddlerText() triggers lazy loading of skinny tiddlers\n\t\t\t\tvalue = this.wiki.getTiddlerText(this.selectTitle);\n\t\t\t} else {\n\t\t\t\tif($tw.utils.hop(tiddler.fields,this.selectField)) {\n\t\t\t\t\tvalue = tiddler.getFieldString(this.selectField);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif(this.selectField === \&quot;title\&quot;) {\n\t\t\t\tvalue = this.selectTitle;\n\t\t\t}\n\t\t}\n\t}\n\t// Assign it to the select element if it's different than the current value\n\tvar domNode = this.getSelectDomNode();\n\tif(domNode.value !== value) {\n\t\tdomNode.value = value;\n\t}\n};\n\n/*\nGet the DOM node of the select element\n*/\nSelectWidget.prototype.getSelectDomNode = function() {\n\treturn this.children[0].domNodes[0];\n};\n\n/*\nCompute the internal state of the widget\n*/\nSelectWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.selectTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.selectField = this.getAttribute(\&quot;field\&quot;,\&quot;text\&quot;);\n\tthis.selectIndex = this.getAttribute(\&quot;index\&quot;);\n\tthis.selectClass = this.getAttribute(\&quot;class\&quot;);\n\tthis.selectDefault = this.getAttribute(\&quot;default\&quot;);\n\t// Make the child widgets\n\tvar selectNode = {\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;select\&quot;,\n\t\tchildren: this.parseTreeNode.children\n\t};\n\tif(this.selectClass) {\n\t\t$tw.utils.addAttributeToParseTreeNode(selectNode,\&quot;class\&quot;,this.selectClass);\n\t}\n\tthis.makeChildWidgets([selectNode]);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nSelectWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\t// If we're using a different tiddler/field/index then completely refresh ourselves\n\tif(changedAttributes.selectTitle || changedAttributes.selectField || changedAttributes.selectIndex) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t// If the target tiddler value has changed, just update setting and refresh the children\n\t} else {\n\t\tif(changedTiddlers[this.selectTitle]) {\n\t\t\tthis.setSelectValue();\n\t\t} \n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.select = SelectWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/select.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/set.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/set.js\ntype: application/javascript\nmodule-type: widget\n\nSet variable widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar SetWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nSetWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nSetWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nSetWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.setName = this.getAttribute(\&quot;name\&quot;,\&quot;currentTiddler\&quot;);\n\tthis.setFilter = this.getAttribute(\&quot;filter\&quot;);\n\tthis.setValue = this.getAttribute(\&quot;value\&quot;);\n\tthis.setEmptyValue = this.getAttribute(\&quot;emptyValue\&quot;);\n\t// Set context variable\n\tvar value = this.setValue;\n\tif(this.setFilter) {\n\t\tvar results = this.wiki.filterTiddlers(this.setFilter,this);\n\t\tif(!this.setValue) {\n\t\t\tvalue = $tw.utils.stringifyList(results);\n\t\t}\n\t\tif(results.length === 0 &amp;&amp; this.setEmptyValue !== undefined) {\n\t\t\tvalue = this.setEmptyValue;\n\t\t}\n\t}\n\tthis.setVariable(this.setName,value,this.parseTreeNode.params);\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nSetWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.name || changedAttributes.filter || changedAttributes.value || changedAttributes.emptyValue) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.setvariable = SetWidget;\nexports.set = SetWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/set.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/text.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/text.js\ntype: application/javascript\nmodule-type: widget\n\nText node widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar TextNodeWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nTextNodeWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nTextNodeWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar text = this.getAttribute(\&quot;text\&quot;,this.parseTreeNode.text || \&quot;\&quot;);\n\ttext = text.replace(/\\r/mg,\&quot;\&quot;);\n\tvar textNode = this.document.createTextNode(text);\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nTextNodeWidget.prototype.execute = function() {\n\t// Nothing to do for a text node\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nTextNodeWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.text) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\t\n\t}\n};\n\nexports.text = TextNodeWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/text.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/tiddler.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/tiddler.js\ntype: application/javascript\nmodule-type: widget\n\nTiddler widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar TiddlerWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nTiddlerWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nTiddlerWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nTiddlerWidget.prototype.execute = function() {\n\tthis.tiddlerState = this.computeTiddlerState();\n\tthis.setVariable(\&quot;currentTiddler\&quot;,this.tiddlerState.currentTiddler);\n\tthis.setVariable(\&quot;missingTiddlerClass\&quot;,this.tiddlerState.missingTiddlerClass);\n\tthis.setVariable(\&quot;shadowTiddlerClass\&quot;,this.tiddlerState.shadowTiddlerClass);\n\tthis.setVariable(\&quot;systemTiddlerClass\&quot;,this.tiddlerState.systemTiddlerClass);\n\tthis.setVariable(\&quot;tiddlerTagClasses\&quot;,this.tiddlerState.tiddlerTagClasses);\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nCompute the tiddler state flags\n*/\nTiddlerWidget.prototype.computeTiddlerState = function() {\n\t// Get our parameters\n\tthis.tiddlerTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\t// Compute the state\n\tvar state = {\n\t\tcurrentTiddler: this.tiddlerTitle || \&quot;\&quot;,\n\t\tmissingTiddlerClass: (this.wiki.tiddlerExists(this.tiddlerTitle) || this.wiki.isShadowTiddler(this.tiddlerTitle)) ? \&quot;tc-tiddler-exists\&quot; : \&quot;tc-tiddler-missing\&quot;,\n\t\tshadowTiddlerClass: this.wiki.isShadowTiddler(this.tiddlerTitle) ? \&quot;tc-tiddler-shadow\&quot; : \&quot;\&quot;,\n\t\tsystemTiddlerClass: this.wiki.isSystemTiddler(this.tiddlerTitle) ? \&quot;tc-tiddler-system\&quot; : \&quot;\&quot;,\n\t\ttiddlerTagClasses: this.getTagClasses()\n\t};\n\t// Compute a simple hash to make it easier to detect changes\n\tstate.hash = state.currentTiddler + state.missingTiddlerClass + state.shadowTiddlerClass + state.systemTiddlerClass + state.tiddlerTagClasses;\n\treturn state;\n};\n\n/*\nCreate a string of CSS classes derived from the tags of the current tiddler\n*/\nTiddlerWidget.prototype.getTagClasses = function() {\n\tvar tiddler = this.wiki.getTiddler(this.tiddlerTitle);\n\tif(tiddler) {\n\t\tvar tags = [];\n\t\t$tw.utils.each(tiddler.fields.tags,function(tag) {\n\t\t\ttags.push(\&quot;tc-tagged-\&quot; + encodeURIComponent(tag));\n\t\t});\n\t\treturn tags.join(\&quot; \&quot;);\n\t} else {\n\t\treturn \&quot;\&quot;;\n\t}\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nTiddlerWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes(),\n\t\tnewTiddlerState = this.computeTiddlerState();\n\tif(changedAttributes.tiddler || newTiddlerState.hash !== this.tiddlerState.hash) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.tiddler = TiddlerWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/tiddler.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/transclude.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/transclude.js\ntype: application/javascript\nmodule-type: widget\n\nTransclude widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar TranscludeWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nTranscludeWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nTranscludeWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nTranscludeWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.transcludeTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.transcludeSubTiddler = this.getAttribute(\&quot;subtiddler\&quot;);\n\tthis.transcludeField = this.getAttribute(\&quot;field\&quot;);\n\tthis.transcludeIndex = this.getAttribute(\&quot;index\&quot;);\n\tthis.transcludeMode = this.getAttribute(\&quot;mode\&quot;);\n\t// Parse the text reference\n\tvar parseAsInline = !this.parseTreeNode.isBlock;\n\tif(this.transcludeMode === \&quot;inline\&quot;) {\n\t\tparseAsInline = true;\n\t} else if(this.transcludeMode === \&quot;block\&quot;) {\n\t\tparseAsInline = false;\n\t}\n\tvar parser = this.wiki.parseTextReference(\n\t\t\t\t\t\tthis.transcludeTitle,\n\t\t\t\t\t\tthis.transcludeField,\n\t\t\t\t\t\tthis.transcludeIndex,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tparseAsInline: parseAsInline,\n\t\t\t\t\t\t\tsubTiddler: this.transcludeSubTiddler\n\t\t\t\t\t\t}),\n\t\tparseTreeNodes = parser ? parser.tree : this.parseTreeNode.children;\n\t// Set context variables for recursion detection\n\tvar recursionMarker = this.makeRecursionMarker();\n\tthis.setVariable(\&quot;transclusion\&quot;,recursionMarker);\n\t// Check for recursion\n\tif(parser) {\n\t\tif(this.parentWidget &amp;&amp; this.parentWidget.hasVariable(\&quot;transclusion\&quot;,recursionMarker)) {\n\t\t\tparseTreeNodes = [{type: \&quot;element\&quot;, tag: \&quot;span\&quot;, attributes: {\n\t\t\t\t\&quot;class\&quot;: {type: \&quot;string\&quot;, value: \&quot;tc-error\&quot;}\n\t\t\t}, children: [\n\t\t\t\t{type: \&quot;text\&quot;, text: \&quot;Recursive transclusion error in transclude widget\&quot;}\n\t\t\t]}];\n\t\t}\n\t}\n\t// Construct the child widgets\n\tthis.makeChildWidgets(parseTreeNodes);\n};\n\n/*\nCompose a string comprising the title, field and/or index to identify this transclusion for recursion detection\n*/\nTranscludeWidget.prototype.makeRecursionMarker = function() {\n\tvar output = [];\n\toutput.push(\&quot;{\&quot;);\n\toutput.push(this.getVariable(\&quot;currentTiddler\&quot;,{defaultValue: \&quot;\&quot;}));\n\toutput.push(\&quot;|\&quot;);\n\toutput.push(this.transcludeTitle || \&quot;\&quot;);\n\toutput.push(\&quot;|\&quot;);\n\toutput.push(this.transcludeField || \&quot;\&quot;);\n\toutput.push(\&quot;|\&quot;);\n\toutput.push(this.transcludeIndex || \&quot;\&quot;);\n\toutput.push(\&quot;|\&quot;);\n\toutput.push(this.transcludeSubTiddler || \&quot;\&quot;);\n\toutput.push(\&quot;}\&quot;);\n\treturn output.join(\&quot;\&quot;);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nTranscludeWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.index || changedTiddlers[this.transcludeTitle]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.transclude = TranscludeWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/transclude.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/view.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/view.js\ntype: application/javascript\nmodule-type: widget\n\nView widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar ViewWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nViewWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nViewWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tif(this.text) {\n\t\tvar textNode = this.document.createTextNode(this.text);\n\t\tparent.insertBefore(textNode,nextSibling);\n\t\tthis.domNodes.push(textNode);\n\t} else {\n\t\tthis.makeChildWidgets();\n\t\tthis.renderChildren(parent,nextSibling);\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nViewWidget.prototype.execute = function() {\n\t// Get parameters from our attributes\n\tthis.viewTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.viewSubtiddler = this.getAttribute(\&quot;subtiddler\&quot;);\n\tthis.viewField = this.getAttribute(\&quot;field\&quot;,\&quot;text\&quot;);\n\tthis.viewIndex = this.getAttribute(\&quot;index\&quot;);\n\tthis.viewFormat = this.getAttribute(\&quot;format\&quot;,\&quot;text\&quot;);\n\tthis.viewTemplate = this.getAttribute(\&quot;template\&quot;,\&quot;\&quot;);\n\tswitch(this.viewFormat) {\n\t\tcase \&quot;htmlwikified\&quot;:\n\t\t\tthis.text = this.getValueAsHtmlWikified();\n\t\t\tbreak;\n\t\tcase \&quot;htmlencoded\&quot;:\n\t\t\tthis.text = this.getValueAsHtmlEncoded();\n\t\t\tbreak;\n\t\tcase \&quot;urlencoded\&quot;:\n\t\t\tthis.text = this.getValueAsUrlEncoded();\n\t\t\tbreak;\n\t\tcase \&quot;doubleurlencoded\&quot;:\n\t\t\tthis.text = this.getValueAsDoubleUrlEncoded();\n\t\t\tbreak;\n\t\tcase \&quot;date\&quot;:\n\t\t\tthis.text = this.getValueAsDate(this.viewTemplate);\n\t\t\tbreak;\n\t\tcase \&quot;relativedate\&quot;:\n\t\t\tthis.text = this.getValueAsRelativeDate();\n\t\t\tbreak;\n\t\tcase \&quot;stripcomments\&quot;:\n\t\t\tthis.text = this.getValueAsStrippedComments();\n\t\t\tbreak;\n\t\tcase \&quot;jsencoded\&quot;:\n\t\t\tthis.text = this.getValueAsJsEncoded();\n\t\t\tbreak;\n\t\tdefault: // \&quot;text\&quot;\n\t\t\tthis.text = this.getValueAsText();\n\t\t\tbreak;\n\t}\n};\n\n/*\nThe various formatter functions are baked into this widget for the moment. Eventually they will be replaced by macro functions\n*/\n\n/*\nRetrieve the value of the widget. Options are:\nasString: Optionally return the value as a string\n*/\nViewWidget.prototype.getValue = function(options) {\n\toptions = options || {};\n\tvar value = options.asString ? \&quot;\&quot; : undefined;\n\tif(this.viewIndex) {\n\t\tvalue = this.wiki.extractTiddlerDataItem(this.viewTitle,this.viewIndex);\n\t} else {\n\t\tvar tiddler;\n\t\tif(this.viewSubtiddler) {\n\t\t\ttiddler = this.wiki.getSubTiddler(this.viewTitle,this.viewSubtiddler);\t\n\t\t} else {\n\t\t\ttiddler = this.wiki.getTiddler(this.viewTitle);\n\t\t}\n\t\tif(tiddler) {\n\t\t\tif(this.viewField === \&quot;text\&quot; &amp;&amp; !this.viewSubtiddler) {\n\t\t\t\t// Calling getTiddlerText() triggers lazy loading of skinny tiddlers\n\t\t\t\tvalue = this.wiki.getTiddlerText(this.viewTitle);\n\t\t\t} else {\n\t\t\t\tif($tw.utils.hop(tiddler.fields,this.viewField)) {\n\t\t\t\t\tif(options.asString) {\n\t\t\t\t\t\tvalue = tiddler.getFieldString(this.viewField);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = tiddler.fields[this.viewField];\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif(this.viewField === \&quot;title\&quot;) {\n\t\t\t\tvalue = this.viewTitle;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n\nViewWidget.prototype.getValueAsText = function() {\n\treturn this.getValue({asString: true});\n};\n\nViewWidget.prototype.getValueAsHtmlWikified = function() {\n\treturn this.wiki.renderText(\&quot;text/html\&quot;,\&quot;text/vnd.tiddlywiki\&quot;,this.getValueAsText(),{parentWidget: this});\n};\n\nViewWidget.prototype.getValueAsHtmlEncoded = function() {\n\treturn $tw.utils.htmlEncode(this.getValueAsText());\n};\n\nViewWidget.prototype.getValueAsUrlEncoded = function() {\n\treturn encodeURIComponent(this.getValueAsText());\n};\n\nViewWidget.prototype.getValueAsDoubleUrlEncoded = function() {\n\treturn encodeURIComponent(encodeURIComponent(this.getValueAsText()));\n};\n\nViewWidget.prototype.getValueAsDate = function(format) {\n\tformat = format || \&quot;YYYY MM DD 0hh:0mm\&quot;;\n\tvar value = $tw.utils.parseDate(this.getValue());\n\tif(value &amp;&amp; $tw.utils.isDate(value) &amp;&amp; value.toString() !== \&quot;Invalid Date\&quot;) {\n\t\treturn $tw.utils.formatDateString(value,format);\n\t} else {\n\t\treturn \&quot;\&quot;;\n\t}\n};\n\nViewWidget.prototype.getValueAsRelativeDate = function(format) {\n\tvar value = $tw.utils.parseDate(this.getValue());\n\tif(value &amp;&amp; $tw.utils.isDate(value) &amp;&amp; value.toString() !== \&quot;Invalid Date\&quot;) {\n\t\treturn $tw.utils.getRelativeDate((new Date()) - (new Date(value))).description;\n\t} else {\n\t\treturn \&quot;\&quot;;\n\t}\n};\n\nViewWidget.prototype.getValueAsStrippedComments = function() {\n\tvar lines = this.getValueAsText().split(\&quot;\\n\&quot;),\n\t\tout = [];\n\tfor(var line=0; line&lt;lines.length; line++) {\n\t\tvar text = lines[line];\n\t\tif(!/^\\s*\\/\\/#/.test(text)) {\n\t\t\tout.push(text);\n\t\t}\n\t}\n\treturn out.join(\&quot;\\n\&quot;);\n};\n\nViewWidget.prototype.getValueAsJsEncoded = function() {\n\treturn $tw.utils.stringify(this.getValueAsText());\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nViewWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.index || changedAttributes.template || changedAttributes.format || changedTiddlers[this.viewTitle]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\t\n\t}\n};\n\nexports.view = ViewWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/view.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/widget.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/widget.js\ntype: application/javascript\nmodule-type: widget\n\nWidget base class\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nCreate a widget object for a parse tree node\n\tparseTreeNode: reference to the parse tree node to be rendered\n\toptions: see below\nOptions include:\n\twiki: mandatory reference to wiki associated with this render tree\n\tparentWidget: optional reference to a parent renderer node for the context chain\n\tdocument: optional document object to use instead of global document\n*/\nvar Widget = function(parseTreeNode,options) {\n\tif(arguments.length &gt; 0) {\n\t\tthis.initialise(parseTreeNode,options);\n\t}\n};\n\n/*\nInitialise widget properties. These steps are pulled out of the constructor so that we can reuse them in subclasses\n*/\nWidget.prototype.initialise = function(parseTreeNode,options) {\n\toptions = options || {};\n\t// Save widget info\n\tthis.parseTreeNode = parseTreeNode;\n\tthis.wiki = options.wiki;\n\tthis.parentWidget = options.parentWidget;\n\tthis.variablesConstructor = function() {};\n\tthis.variablesConstructor.prototype = this.parentWidget ? this.parentWidget.variables : {};\n\tthis.variables = new this.variablesConstructor();\n\tthis.document = options.document;\n\tthis.attributes = {};\n\tthis.children = [];\n\tthis.domNodes = [];\n\tthis.eventListeners = {};\n\t// Hashmap of the widget classes\n\tif(!this.widgetClasses) {\n\t\tWidget.prototype.widgetClasses = $tw.modules.applyMethods(\&quot;widget\&quot;);\n\t}\n};\n\n/*\nRender this widget into the DOM\n*/\nWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nWidget.prototype.execute = function() {\n\tthis.makeChildWidgets();\n};\n\n/*\nSet the value of a context variable\nname: name of the variable\nvalue: value of the variable\nparams: array of {name:, default:} for each parameter\n*/\nWidget.prototype.setVariable = function(name,value,params) {\n\tthis.variables[name] = {value: value, params: params};\n};\n\n/*\nGet the prevailing value of a context variable\nname: name of variable\noptions: see below\nOptions include\nparams: array of {name:, value:} for each parameter\ndefaultValue: default value if the variable is not defined\n*/\nWidget.prototype.getVariable = function(name,options) {\n\toptions = options || {};\n\tvar actualParams = options.params || [],\n\t\tparentWidget = this.parentWidget;\n\t// Check for the variable defined in the parent widget (or an ancestor in the prototype chain)\n\tif(parentWidget &amp;&amp; name in parentWidget.variables) {\n\t\tvar variable = parentWidget.variables[name],\n\t\t\tvalue = variable.value;\n\t\t// Substitute any parameters specified in the definition\n\t\tvalue = this.substituteVariableParameters(value,variable.params,actualParams);\n\t\tvalue = this.substituteVariableReferences(value);\n\t\treturn value;\n\t}\n\t// If the variable doesn't exist in the parent widget then look for a macro module\n\treturn this.evaluateMacroModule(name,actualParams,options.defaultValue);\n};\n\nWidget.prototype.substituteVariableParameters = function(text,formalParams,actualParams) {\n\tif(formalParams) {\n\t\tvar nextAnonParameter = 0, // Next candidate anonymous parameter in macro call\n\t\t\tparamInfo, paramValue;\n\t\t// Step through each of the parameters in the macro definition\n\t\tfor(var p=0; p&lt;formalParams.length; p++) {\n\t\t\t// Check if we've got a macro call parameter with the same name\n\t\t\tparamInfo = formalParams[p];\n\t\t\tparamValue = undefined;\n\t\t\tfor(var m=0; m&lt;actualParams.length; m++) {\n\t\t\t\tif(actualParams[m].name === paramInfo.name) {\n\t\t\t\t\tparamValue = actualParams[m].value;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// If not, use the next available anonymous macro call parameter\n\t\t\twhile(nextAnonParameter &lt; actualParams.length &amp;&amp; actualParams[nextAnonParameter].name) {\n\t\t\t\tnextAnonParameter++;\n\t\t\t}\n\t\t\tif(paramValue === undefined &amp;&amp; nextAnonParameter &lt; actualParams.length) {\n\t\t\t\tparamValue = actualParams[nextAnonParameter++].value;\n\t\t\t}\n\t\t\t// If we've still not got a value, use the default, if any\n\t\t\tparamValue = paramValue || paramInfo[\&quot;default\&quot;] || \&quot;\&quot;;\n\t\t\t// Replace any instances of this parameter\n\t\t\ttext = text.replace(new RegExp(\&quot;\\\\$\&quot; + $tw.utils.escapeRegExp(paramInfo.name) + \&quot;\\\\$\&quot;,\&quot;mg\&quot;),paramValue);\n\t\t}\n\t}\n\treturn text;\n};\n\nWidget.prototype.substituteVariableReferences = function(text) {\n\tvar self = this;\n\treturn (text || \&quot;\&quot;).replace(/\\$\\(([^\\)\\$]+)\\)\\$/g,function(match,p1,offset,string) {\n\t\treturn self.getVariable(p1,{defaultValue: \&quot;\&quot;});\n\t});\n};\n\nWidget.prototype.evaluateMacroModule = function(name,actualParams,defaultValue) {\n\tif($tw.utils.hop($tw.macros,name)) {\n\t\tvar macro = $tw.macros[name],\n\t\t\targs = [];\n\t\tif(macro.params.length &gt; 0) {\n\t\t\tvar nextAnonParameter = 0, // Next candidate anonymous parameter in macro call\n\t\t\t\tparamInfo, paramValue;\n\t\t\t// Step through each of the parameters in the macro definition\n\t\t\tfor(var p=0; p&lt;macro.params.length; p++) {\n\t\t\t\t// Check if we've got a macro call parameter with the same name\n\t\t\t\tparamInfo = macro.params[p];\n\t\t\t\tparamValue = undefined;\n\t\t\t\tfor(var m=0; m&lt;actualParams.length; m++) {\n\t\t\t\t\tif(actualParams[m].name === paramInfo.name) {\n\t\t\t\t\t\tparamValue = actualParams[m].value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// If not, use the next available anonymous macro call parameter\n\t\t\t\twhile(nextAnonParameter &lt; actualParams.length &amp;&amp; actualParams[nextAnonParameter].name) {\n\t\t\t\t\tnextAnonParameter++;\n\t\t\t\t}\n\t\t\t\tif(paramValue === undefined &amp;&amp; nextAnonParameter &lt; actualParams.length) {\n\t\t\t\t\tparamValue = actualParams[nextAnonParameter++].value;\n\t\t\t\t}\n\t\t\t\t// If we've still not got a value, use the default, if any\n\t\t\t\tparamValue = paramValue || paramInfo[\&quot;default\&quot;] || \&quot;\&quot;;\n\t\t\t\t// Save the parameter\n\t\t\t\targs.push(paramValue);\n\t\t\t}\n\t\t}\n\t\telse for(var i=0; i&lt;actualParams.length; ++i) {\n\t\t\targs.push(actualParams[i].value);\n\t\t}\n\t\treturn macro.run.apply(this,args).toString();\n\t} else {\n\t\treturn defaultValue;\n\t}\n};\n\n/*\nCheck whether a given context variable value exists in the parent chain\n*/\nWidget.prototype.hasVariable = function(name,value) {\n\tvar node = this;\n\twhile(node) {\n\t\tif($tw.utils.hop(node.variables,name) &amp;&amp; node.variables[name].value === value) {\n\t\t\treturn true;\n\t\t}\n\t\tnode = node.parentWidget;\n\t}\n\treturn false;\n};\n\n/*\nConstruct a qualifying string based on a hash of concatenating the values of a given variable in the parent chain\n*/\nWidget.prototype.getStateQualifier = function(name) {\n\tname = name || \&quot;transclusion\&quot;;\n\tvar output = [],\n\t\tnode = this;\n\twhile(node &amp;&amp; node.parentWidget) {\n\t\tif($tw.utils.hop(node.parentWidget.variables,name)) {\n\t\t\toutput.push(node.getVariable(name));\n\t\t}\n\t\tnode = node.parentWidget;\n\t}\n\treturn $tw.utils.hashString(output.join(\&quot;\&quot;));\n};\n\n/*\nCompute the current values of the attributes of the widget. Returns a hashmap of the names of the attributes that have changed\n*/\nWidget.prototype.computeAttributes = function() {\n\tvar changedAttributes = {},\n\t\tself = this,\n\t\tvalue;\n\t$tw.utils.each(this.parseTreeNode.attributes,function(attribute,name) {\n\t\tif(attribute.type === \&quot;indirect\&quot;) {\n\t\t\tvalue = self.wiki.getTextReference(attribute.textReference,\&quot;\&quot;,self.getVariable(\&quot;currentTiddler\&quot;));\n\t\t} else if(attribute.type === \&quot;macro\&quot;) {\n\t\t\tvalue = self.getVariable(attribute.value.name,{params: attribute.value.params});\n\t\t} else { // String attribute\n\t\t\tvalue = attribute.value;\n\t\t}\n\t\t// Check whether the attribute has changed\n\t\tif(self.attributes[name] !== value) {\n\t\t\tself.attributes[name] = value;\n\t\t\tchangedAttributes[name] = true;\n\t\t}\n\t});\n\treturn changedAttributes;\n};\n\n/*\nCheck for the presence of an attribute\n*/\nWidget.prototype.hasAttribute = function(name) {\n\treturn $tw.utils.hop(this.attributes,name);\n};\n\n/*\nGet the value of an attribute\n*/\nWidget.prototype.getAttribute = function(name,defaultText) {\n\tif($tw.utils.hop(this.attributes,name)) {\n\t\treturn this.attributes[name];\n\t} else {\n\t\treturn defaultText;\n\t}\n};\n\n/*\nAssign the computed attributes of the widget to a domNode\noptions include:\nexcludeEventAttributes: ignores attributes whose name begins with \&quot;on\&quot;\n*/\nWidget.prototype.assignAttributes = function(domNode,options) {\n\toptions = options || {};\n\tvar self = this;\n\t$tw.utils.each(this.attributes,function(v,a) {\n\t\t// Check exclusions\n\t\tif(options.excludeEventAttributes &amp;&amp; a.substr(0,2) === \&quot;on\&quot;) {\n\t\t\tv = undefined;\n\t\t}\n\t\tif(v !== undefined) {\n\t\t\tvar b = a.split(\&quot;:\&quot;);\n\t\t\t// Setting certain attributes can cause a DOM error (eg xmlns on the svg element)\n\t\t\ttry {\n\t\t\t\tif (b.length == 2 &amp;&amp; b[0] == \&quot;xlink\&quot;){\n\t\t\t\t\tdomNode.setAttributeNS(\&quot;http://www.w3.org/1999/xlink\&quot;,b[1],v);\n\t\t\t\t} else {\n\t\t\t\t\tdomNode.setAttributeNS(null,a,v);\n\t\t\t\t}\n\t\t\t} catch(e) {\n\t\t\t}\n\t\t}\n\t});\n};\n\n/*\nMake child widgets correspondng to specified parseTreeNodes\n*/\nWidget.prototype.makeChildWidgets = function(parseTreeNodes) {\n\tthis.children = [];\n\tvar self = this;\n\t$tw.utils.each(parseTreeNodes || (this.parseTreeNode &amp;&amp; this.parseTreeNode.children),function(childNode) {\n\t\tself.children.push(self.makeChildWidget(childNode));\n\t});\n};\n\n/*\nConstruct the widget object for a parse tree node\n*/\nWidget.prototype.makeChildWidget = function(parseTreeNode) {\n\tvar WidgetClass = this.widgetClasses[parseTreeNode.type];\n\tif(!WidgetClass) {\n\t\tWidgetClass = this.widgetClasses.text;\n\t\tparseTreeNode = {type: \&quot;text\&quot;, text: \&quot;Undefined widget '\&quot; + parseTreeNode.type + \&quot;'\&quot;};\n\t}\n\treturn new WidgetClass(parseTreeNode,{\n\t\twiki: this.wiki,\n\t\tvariables: {},\n\t\tparentWidget: this,\n\t\tdocument: this.document\n\t});\n};\n\n/*\nGet the next sibling of this widget\n*/\nWidget.prototype.nextSibling = function() {\n\tif(this.parentWidget) {\n\t\tvar index = this.parentWidget.children.indexOf(this);\n\t\tif(index !== -1 &amp;&amp; index &lt; this.parentWidget.children.length-1) {\n\t\t\treturn this.parentWidget.children[index+1];\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nGet the previous sibling of this widget\n*/\nWidget.prototype.previousSibling = function() {\n\tif(this.parentWidget) {\n\t\tvar index = this.parentWidget.children.indexOf(this);\n\t\tif(index !== -1 &amp;&amp; index &gt; 0) {\n\t\t\treturn this.parentWidget.children[index-1];\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nRender the children of this widget into the DOM\n*/\nWidget.prototype.renderChildren = function(parent,nextSibling) {\n\t$tw.utils.each(this.children,function(childWidget) {\n\t\tchildWidget.render(parent,nextSibling);\n\t});\n};\n\n/*\nAdd a list of event listeners from an array [{type:,handler:},...]\n*/\nWidget.prototype.addEventListeners = function(listeners) {\n\tvar self = this;\n\t$tw.utils.each(listeners,function(listenerInfo) {\n\t\tself.addEventListener(listenerInfo.type,listenerInfo.handler);\n\t});\n};\n\n/*\nAdd an event listener\n*/\nWidget.prototype.addEventListener = function(type,handler) {\n\tvar self = this;\n\tif(typeof handler === \&quot;string\&quot;) { // The handler is a method name on this widget\n\t\tthis.eventListeners[type] = function(event) {\n\t\t\treturn self[handler].call(self,event);\n\t\t};\n\t} else { // The handler is a function\n\t\tthis.eventListeners[type] = function(event) {\n\t\t\treturn handler.call(self,event);\n\t\t};\n\t}\n};\n\n/*\nDispatch an event to a widget. If the widget doesn't handle the event then it is also dispatched to the parent widget\n*/\nWidget.prototype.dispatchEvent = function(event) {\n\t// Dispatch the event if this widget handles it\n\tvar listener = this.eventListeners[event.type];\n\tif(listener) {\n\t\t// Don't propagate the event if the listener returned false\n\t\tif(!listener(event)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t// Dispatch the event to the parent widget\n\tif(this.parentWidget) {\n\t\treturn this.parentWidget.dispatchEvent(event);\n\t}\n\treturn true;\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nWidget.prototype.refresh = function(changedTiddlers) {\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nRebuild a previously rendered widget\n*/\nWidget.prototype.refreshSelf = function() {\n\tvar nextSibling = this.findNextSiblingDomNode();\n\tthis.removeChildDomNodes();\n\tthis.render(this.parentDomNode,nextSibling);\n};\n\n/*\nRefresh all the children of a widget\n*/\nWidget.prototype.refreshChildren = function(changedTiddlers) {\n\tvar self = this,\n\t\trefreshed = false;\n\t$tw.utils.each(this.children,function(childWidget) {\n\t\trefreshed = childWidget.refresh(changedTiddlers) || refreshed;\n\t});\n\treturn refreshed;\n};\n\n/*\nFind the next sibling in the DOM to this widget. This is done by scanning the widget tree through all next siblings and their descendents that share the same parent DOM node\n*/\nWidget.prototype.findNextSiblingDomNode = function(startIndex) {\n\t// Refer to this widget by its index within its parents children\n\tvar parent = this.parentWidget,\n\t\tindex = startIndex !== undefined ? startIndex : parent.children.indexOf(this);\nif(index === -1) {\n\tthrow \&quot;node not found in parents children\&quot;;\n}\n\t// Look for a DOM node in the later siblings\n\twhile(++index &lt; parent.children.length) {\n\t\tvar domNode = parent.children[index].findFirstDomNode();\n\t\tif(domNode) {\n\t\t\treturn domNode;\n\t\t}\n\t}\n\t// Go back and look for later siblings of our parent if it has the same parent dom node\n\tvar grandParent = parent.parentWidget;\n\tif(grandParent &amp;&amp; parent.parentDomNode === this.parentDomNode) {\n\t\tindex = grandParent.children.indexOf(parent);\n\t\treturn parent.findNextSiblingDomNode(index);\n\t}\n\treturn null;\n};\n\n/*\nFind the first DOM node generated by a widget or its children\n*/\nWidget.prototype.findFirstDomNode = function() {\n\t// Return the first dom node of this widget, if we've got one\n\tif(this.domNodes.length &gt; 0) {\n\t\treturn this.domNodes[0];\n\t}\n\t// Otherwise, recursively call our children\n\tfor(var t=0; t&lt;this.children.length; t++) {\n\t\tvar domNode = this.children[t].findFirstDomNode();\n\t\tif(domNode) {\n\t\t\treturn domNode;\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nRemove any DOM nodes created by this widget or its children\n*/\nWidget.prototype.removeChildDomNodes = function() {\n\t// If this widget has directly created DOM nodes, delete them and exit. This assumes that any child widgets are contained within the created DOM nodes, which would normally be the case\n\tif(this.domNodes.length &gt; 0) {\n\t\t$tw.utils.each(this.domNodes,function(domNode) {\n\t\t\tdomNode.parentNode.removeChild(domNode);\n\t\t});\n\t\tthis.domNodes = [];\n\t} else {\n\t\t// Otherwise, ask the child widgets to delete their DOM nodes\n\t\t$tw.utils.each(this.children,function(childWidget) {\n\t\t\tchildWidget.removeChildDomNodes();\n\t\t});\n\t}\n};\n\n/*\nInvoke any action widgets that are immediate children of this widget\n*/\nWidget.prototype.invokeActions = function(event) {\n\tvar handled = false;\n\tfor(var t=0; t&lt;this.children.length; t++) {\n\t\tvar child = this.children[t];\n\t\tif(child.invokeAction &amp;&amp; child.invokeAction(this,event)) {\n\t\t\thandled = true;\n\t\t}\n\t}\n\treturn handled;\n};\n\nexports.widget = Widget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/widget.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/wiki.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/wiki.js\ntype: application/javascript\nmodule-type: wikimethod\n\nExtension methods for the $tw.Wiki object\n\nAdds the following properties to the wiki object:\n\n* `eventListeners` is a hashmap by type of arrays of listener functions\n* `changedTiddlers` is a hashmap describing changes to named tiddlers since wiki change events were last dispatched. Each entry is a hashmap containing two fields:\n\tmodified: true/false\n\tdeleted: true/false\n* `changeCount` is a hashmap by tiddler title containing a numerical index that starts at zero and is incremented each time a tiddler is created changed or deleted\n* `caches` is a hashmap by tiddler title containing a further hashmap of named cache objects. Caches are automatically cleared when a tiddler is modified or deleted\n* `globalCache` is a hashmap by cache name of cache objects that are cleared whenever any tiddler change occurs\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;);\n\nvar USER_NAME_TITLE = \&quot;$:/status/UserName\&quot;;\n\n/*\nGet the value of a text reference. Text references can have any of these forms:\n\t&lt;tiddlertitle&gt;\n\t&lt;tiddlertitle&gt;!!&lt;fieldname&gt;\n\t!!&lt;fieldname&gt; - specifies a field of the current tiddlers\n\t&lt;tiddlertitle&gt;##&lt;index&gt;\n*/\nexports.getTextReference = function(textRef,defaultText,currTiddlerTitle) {\n\tvar tr = $tw.utils.parseTextReference(textRef),\n\t\ttitle = tr.title || currTiddlerTitle;\n\tif(tr.field) {\n\t\tvar tiddler = this.getTiddler(title);\n\t\tif(tr.field === \&quot;title\&quot;) { // Special case so we can return the title of a non-existent tiddler\n\t\t\treturn title;\n\t\t} else if(tiddler &amp;&amp; $tw.utils.hop(tiddler.fields,tr.field)) {\n\t\t\treturn tiddler.getFieldString(tr.field);\n\t\t} else {\n\t\t\treturn defaultText;\n\t\t}\n\t} else if(tr.index) {\n\t\treturn this.extractTiddlerDataItem(title,tr.index,defaultText);\n\t} else {\n\t\treturn this.getTiddlerText(title,defaultText);\n\t}\n};\n\nexports.setTextReference = function(textRef,value,currTiddlerTitle) {\n\tvar tr = $tw.utils.parseTextReference(textRef),\n\t\ttitle = tr.title || currTiddlerTitle;\n\tthis.setText(title,tr.field,tr.index,value);\n};\n\nexports.setText = function(title,field,index,value) {\n\t// Check if it is a reference to a tiddler field\n\tif(index) {\n\t\tvar data = this.getTiddlerData(title,Object.create(null));\n\t\tdata[index] = value;\n\t\tthis.setTiddlerData(title,data,this.getModificationFields());\n\t} else {\n\t\tvar tiddler = this.getTiddler(title),\n\t\t\tfields = {title: title};\n\t\tfields[field || \&quot;text\&quot;] = value;\n\t\tthis.addTiddler(new $tw.Tiddler(tiddler,fields,this.getModificationFields()));\n\t}\n};\n\nexports.deleteTextReference = function(textRef,currTiddlerTitle) {\n\tvar tr = $tw.utils.parseTextReference(textRef),\n\t\ttitle,tiddler,fields;\n\t// Check if it is a reference to a tiddler\n\tif(tr.title &amp;&amp; !tr.field) {\n\t\tthis.deleteTiddler(tr.title);\n\t// Else check for a field reference\n\t} else if(tr.field) {\n\t\ttitle = tr.title || currTiddlerTitle;\n\t\ttiddler = this.getTiddler(title);\n\t\tif(tiddler &amp;&amp; $tw.utils.hop(tiddler.fields,tr.field)) {\n\t\t\tfields = Object.create(null);\n\t\t\tfields[tr.field] = undefined;\n\t\t\tthis.addTiddler(new $tw.Tiddler(tiddler,fields,this.getModificationFields()));\n\t\t}\n\t}\n};\n\nexports.addEventListener = function(type,listener) {\n\tthis.eventListeners = this.eventListeners || {};\n\tthis.eventListeners[type] = this.eventListeners[type]  || [];\n\tthis.eventListeners[type].push(listener);\t\n};\n\nexports.removeEventListener = function(type,listener) {\n\tvar listeners = this.eventListeners[type];\n\tif(listeners) {\n\t\tvar p = listeners.indexOf(listener);\n\t\tif(p !== -1) {\n\t\t\tlisteners.splice(p,1);\n\t\t}\n\t}\n};\n\nexports.dispatchEvent = function(type /*, args */) {\n\tvar args = Array.prototype.slice.call(arguments,1),\n\t\tlisteners = this.eventListeners[type];\n\tif(listeners) {\n\t\tfor(var p=0; p&lt;listeners.length; p++) {\n\t\t\tvar listener = listeners[p];\n\t\t\tlistener.apply(listener,args);\n\t\t}\n\t}\n};\n\n/*\nCauses a tiddler to be marked as changed, incrementing the change count, and triggers event handlers.\nThis method should be called after the changes it describes have been made to the wiki.tiddlers[] array.\n\ttitle: Title of tiddler\n\tisDeleted: defaults to false (meaning the tiddler has been created or modified),\n\t\ttrue if the tiddler has been deleted\n*/\nexports.enqueueTiddlerEvent = function(title,isDeleted) {\n\t// Record the touch in the list of changed tiddlers\n\tthis.changedTiddlers = this.changedTiddlers || Object.create(null);\n\tthis.changedTiddlers[title] = this.changedTiddlers[title] || Object.create(null);\n\tthis.changedTiddlers[title][isDeleted ? \&quot;deleted\&quot; : \&quot;modified\&quot;] = true;\n\t// Increment the change count\n\tthis.changeCount = this.changeCount || Object.create(null);\n\tif($tw.utils.hop(this.changeCount,title)) {\n\t\tthis.changeCount[title]++;\n\t} else {\n\t\tthis.changeCount[title] = 1;\n\t}\n\t// Trigger events\n\tthis.eventListeners = this.eventListeners || [];\n\tif(!this.eventsTriggered) {\n\t\tvar self = this;\n\t\t$tw.utils.nextTick(function() {\n\t\t\tvar changes = self.changedTiddlers;\n\t\t\tself.changedTiddlers = Object.create(null);\n\t\t\tself.eventsTriggered = false;\n\t\t\tif($tw.utils.count(changes) &gt; 0) {\n\t\t\t\tself.dispatchEvent(\&quot;change\&quot;,changes);\n\t\t\t}\n\t\t});\n\t\tthis.eventsTriggered = true;\n\t}\n};\n\nexports.getSizeOfTiddlerEventQueue = function() {\n\treturn $tw.utils.count(this.changedTiddlers);\n};\n\nexports.clearTiddlerEventQueue = function() {\n\tthis.changedTiddlers = Object.create(null);\n\tthis.changeCount = Object.create(null);\n};\n\nexports.getChangeCount = function(title) {\n\tthis.changeCount = this.changeCount || Object.create(null);\n\tif($tw.utils.hop(this.changeCount,title)) {\n\t\treturn this.changeCount[title];\n\t} else {\n\t\treturn 0;\n\t}\n};\n\n/*\nGenerate an unused title from the specified base\n*/\nexports.generateNewTitle = function(baseTitle,options) {\n\toptions = options || {};\n\tvar c = 0,\n\t\ttitle = baseTitle;\n\twhile(this.tiddlerExists(title) || this.isShadowTiddler(title) || this.findDraft(title)) {\n\t\ttitle = baseTitle + \n\t\t\t(options.prefix || \&quot; \&quot;) + \n\t\t\t(++c);\n\t}\n\treturn title;\n};\n\nexports.isSystemTiddler = function(title) {\n\treturn title.indexOf(\&quot;$:/\&quot;) === 0;\n};\n\nexports.isTemporaryTiddler = function(title) {\n\treturn title.indexOf(\&quot;$:/temp/\&quot;) === 0;\n};\n\nexports.isImageTiddler = function(title) {\n\tvar tiddler = this.getTiddler(title);\n\tif(tiddler) {\t\t\n\t\tvar contentTypeInfo = $tw.config.contentTypeInfo[tiddler.fields.type || \&quot;text/vnd.tiddlywiki\&quot;];\n\t\treturn !!contentTypeInfo &amp;&amp; contentTypeInfo.flags.indexOf(\&quot;image\&quot;) !== -1;\n\t} else {\n\t\treturn null;\n\t}\n};\n\n/*\nLike addTiddler() except it will silently reject any plugin tiddlers that are older than the currently loaded version. Returns true if the tiddler was imported\n*/\nexports.importTiddler = function(tiddler) {\n\tvar existingTiddler = this.getTiddler(tiddler.fields.title);\n\t// Check if we're dealing with a plugin\n\tif(tiddler &amp;&amp; tiddler.hasField(\&quot;plugin-type\&quot;) &amp;&amp; tiddler.hasField(\&quot;version\&quot;) &amp;&amp; existingTiddler &amp;&amp; existingTiddler.hasField(\&quot;plugin-type\&quot;) &amp;&amp; existingTiddler.hasField(\&quot;version\&quot;)) {\n\t\t// Reject the incoming plugin if it is older\n\t\tif($tw.utils.checkVersions(existingTiddler.fields.version,tiddler.fields.version)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t// Fall through to adding the tiddler\n\tthis.addTiddler(tiddler);\n\treturn true;\n};\n\n/*\nReturn a hashmap of the fields that should be set when a tiddler is created\n*/\nexports.getCreationFields = function() {\n\tvar fields = {\n\t\t\tcreated: new Date()\n\t\t},\n\t\tcreator = this.getTiddlerText(USER_NAME_TITLE);\n\tif(creator) {\n\t\tfields.creator = creator;\n\t}\n\treturn fields;\n};\n\n/*\nReturn a hashmap of the fields that should be set when a tiddler is modified\n*/\nexports.getModificationFields = function() {\n\tvar fields = Object.create(null),\n\t\tmodifier = this.getTiddlerText(USER_NAME_TITLE);\n\tfields.modified = new Date();\n\tif(modifier) {\n\t\tfields.modifier = modifier;\n\t}\n\treturn fields;\n};\n\n/*\nReturn a sorted array of tiddler titles.  Options include:\nsortField: field to sort by\nexcludeTag: tag to exclude\nincludeSystem: whether to include system tiddlers (defaults to false)\n*/\nexports.getTiddlers = function(options) {\n\toptions = options || Object.create(null);\n\tvar self = this,\n\t\tsortField = options.sortField || \&quot;title\&quot;,\n\t\ttiddlers = [], t, titles = [];\n\tthis.each(function(tiddler,title) {\n\t\tif(options.includeSystem || !self.isSystemTiddler(title)) {\n\t\t\tif(!options.excludeTag || !tiddler.hasTag(options.excludeTag)) {\n\t\t\t\ttiddlers.push(tiddler);\n\t\t\t}\n\t\t}\n\t});\n\ttiddlers.sort(function(a,b) {\n\t\tvar aa = a.fields[sortField].toLowerCase() || \&quot;\&quot;,\n\t\t\tbb = b.fields[sortField].toLowerCase() || \&quot;\&quot;;\n\t\tif(aa &lt; bb) {\n\t\t\treturn -1;\n\t\t} else {\n\t\t\tif(aa &gt; bb) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t});\n\tfor(t=0; t&lt;tiddlers.length; t++) {\n\t\ttitles.push(tiddlers[t].fields.title);\n\t}\n\treturn titles;\n};\n\nexports.countTiddlers = function(excludeTag) {\n\tvar tiddlers = this.getTiddlers({excludeTag: excludeTag});\n\treturn $tw.utils.count(tiddlers);\n};\n\n/*\nReturns a function iterator(callback) that iterates through the specified titles, and invokes the callback with callback(tiddler,title)\n*/\nexports.makeTiddlerIterator = function(titles) {\n\tvar self = this;\n\tif(!$tw.utils.isArray(titles)) {\n\t\ttitles = Object.keys(titles);\n\t} else {\n\t\ttitles = titles.slice(0);\n\t}\n\treturn function(callback) {\n\t\ttitles.forEach(function(title) {\n\t\t\tcallback(self.getTiddler(title),title);\n\t\t});\n\t};\n};\n\n/*\nSort an array of tiddler titles by a specified field\n\ttitles: array of titles (sorted in place)\n\tsortField: name of field to sort by\n\tisDescending: true if the sort should be descending\n\tisCaseSensitive: true if the sort should consider upper and lower case letters to be different\n*/\nexports.sortTiddlers = function(titles,sortField,isDescending,isCaseSensitive,isNumeric) {\n\tvar self = this;\n\ttitles.sort(function(a,b) {\n\t\tif(sortField !== \&quot;title\&quot;) {\n\t\t\tvar tiddlerA = self.getTiddler(a),\n\t\t\t\ttiddlerB = self.getTiddler(b);\n\t\t\tif(tiddlerA) {\n\t\t\t\ta = tiddlerA.fields[sortField] || \&quot;\&quot;;\n\t\t\t} else {\n\t\t\t\ta = \&quot;\&quot;;\n\t\t\t}\n\t\t\tif(tiddlerB) {\n\t\t\t\tb = tiddlerB.fields[sortField] || \&quot;\&quot;;\n\t\t\t} else {\n\t\t\t\tb = \&quot;\&quot;;\n\t\t\t}\n\t\t}\n\t\tif(isNumeric) {\n\t\t\ta = Number(a);\n\t\t\tb = Number(b);\n\t\t\treturn isDescending ? b - a : a - b;\n\t\t} else if($tw.utils.isDate(a) &amp;&amp; $tw.utils.isDate(b)) {\n\t\t\treturn isDescending ? b - a : a - b;\n\t\t} else {\n\t\t\ta = String(a);\n\t\t\tb = String(b);\n\t\t\tif(!isCaseSensitive) {\n\t\t\t\ta = a.toLowerCase();\n\t\t\t\tb = b.toLowerCase();\n\t\t\t}\n\t\t\treturn isDescending ? b.localeCompare(a) : a.localeCompare(b);\n\t\t}\n\t});\n};\n\n/*\nFor every tiddler invoke a callback(title,tiddler) with `this` set to the wiki object. Options include:\nsortField: field to sort by\nexcludeTag: tag to exclude\nincludeSystem: whether to include system tiddlers (defaults to false)\n*/\nexports.forEachTiddler = function(/* [options,]callback */) {\n\tvar arg = 0,\n\t\toptions = arguments.length &gt;= 2 ? arguments[arg++] : {},\n\t\tcallback = arguments[arg++],\n\t\ttitles = this.getTiddlers(options),\n\t\tt, tiddler;\n\tfor(t=0; t&lt;titles.length; t++) {\n\t\ttiddler = this.getTiddler(titles[t]);\n\t\tif(tiddler) {\n\t\t\tcallback.call(this,tiddler.fields.title,tiddler);\n\t\t}\n\t}\n};\n\n/*\nReturn an array of tiddler titles that are directly linked from the specified tiddler\n*/\nexports.getTiddlerLinks = function(title) {\n\tvar self = this;\n\t// We'll cache the links so they only get computed if the tiddler changes\n\treturn this.getCacheForTiddler(title,\&quot;links\&quot;,function() {\n\t\t// Parse the tiddler\n\t\tvar parser = self.parseTiddler(title);\n\t\t// Count up the links\n\t\tvar links = [],\n\t\t\tcheckParseTree = function(parseTree) {\n\t\t\t\tfor(var t=0; t&lt;parseTree.length; t++) {\n\t\t\t\t\tvar parseTreeNode = parseTree[t];\n\t\t\t\t\tif(parseTreeNode.type === \&quot;link\&quot; &amp;&amp; parseTreeNode.attributes.to &amp;&amp; parseTreeNode.attributes.to.type === \&quot;string\&quot;) {\n\t\t\t\t\t\tvar value = parseTreeNode.attributes.to.value;\n\t\t\t\t\t\tif(links.indexOf(value) === -1) {\n\t\t\t\t\t\t\tlinks.push(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(parseTreeNode.children) {\n\t\t\t\t\t\tcheckParseTree(parseTreeNode.children);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\tif(parser) {\n\t\t\tcheckParseTree(parser.tree);\n\t\t}\n\t\treturn links;\n\t});\n};\n\n/*\nReturn an array of tiddler titles that link to the specified tiddler\n*/\nexports.getTiddlerBacklinks = function(targetTitle) {\n\tvar self = this,\n\t\tbacklinks = [];\n\tthis.forEachTiddler(function(title,tiddler) {\n\t\tvar links = self.getTiddlerLinks(title);\n\t\tif(links.indexOf(targetTitle) !== -1) {\n\t\t\tbacklinks.push(title);\n\t\t}\n\t});\n\treturn backlinks;\n};\n\n/*\nReturn a hashmap of tiddler titles that are referenced but not defined. Each value is the number of times the missing tiddler is referenced\n*/\nexports.getMissingTitles = function() {\n\tvar self = this,\n\t\tmissing = [];\n// We should cache the missing tiddler list, even if we recreate it every time any tiddler is modified\n\tthis.forEachTiddler(function(title,tiddler) {\n\t\tvar links = self.getTiddlerLinks(title);\n\t\t$tw.utils.each(links,function(link) {\n\t\t\tif((!self.tiddlerExists(link) &amp;&amp; !self.isShadowTiddler(link)) &amp;&amp; missing.indexOf(link) === -1) {\n\t\t\t\tmissing.push(link);\n\t\t\t}\n\t\t});\n\t});\n\treturn missing;\n};\n\nexports.getOrphanTitles = function() {\n\tvar self = this,\n\t\torphans = this.getTiddlers();\n\tthis.forEachTiddler(function(title,tiddler) {\n\t\tvar links = self.getTiddlerLinks(title);\n\t\t$tw.utils.each(links,function(link) {\n\t\t\tvar p = orphans.indexOf(link);\n\t\t\tif(p !== -1) {\n\t\t\t\torphans.splice(p,1);\n\t\t\t}\n\t\t});\n\t});\n\treturn orphans; // Todo\n};\n\n/*\nRetrieves a list of the tiddler titles that are tagged with a given tag\n*/\nexports.getTiddlersWithTag = function(tag) {\n\tvar self = this;\n\treturn this.getGlobalCache(\&quot;taglist-\&quot; + tag,function() {\n\t\tvar tagmap = self.getTagMap();\n\t\treturn self.sortByList(tagmap[tag],tag);\n\t});\n};\n\n/*\nGet a hashmap by tag of arrays of tiddler titles\n*/\nexports.getTagMap = function() {\n\tvar self = this;\n\treturn this.getGlobalCache(\&quot;tagmap\&quot;,function() {\n\t\tvar tags = Object.create(null),\n\t\t\tstoreTags = function(tagArray,title) {\n\t\t\t\tif(tagArray) {\n\t\t\t\t\tfor(var index=0; index&lt;tagArray.length; index++) {\n\t\t\t\t\t\tvar tag = tagArray[index];\n\t\t\t\t\t\tif($tw.utils.hop(tags,tag)) {\n\t\t\t\t\t\t\ttags[tag].push(title);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttags[tag] = [title];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\ttitle, tiddler;\n\t\t// Collect up all the tags\n\t\tself.eachShadow(function(tiddler,title) {\n\t\t\tif(!self.tiddlerExists(title)) {\n\t\t\t\ttiddler = self.getTiddler(title);\n\t\t\t\tstoreTags(tiddler.fields.tags,title);\n\t\t\t}\n\t\t});\n\t\tself.each(function(tiddler,title) {\n\t\t\tstoreTags(tiddler.fields.tags,title);\n\t\t});\n\t\treturn tags;\n\t});\n};\n\n/*\nLookup a given tiddler and return a list of all the tiddlers that include it in the specified list field\n*/\nexports.findListingsOfTiddler = function(targetTitle,fieldName) {\n\tfieldName = fieldName || \&quot;list\&quot;;\n\tvar titles = [];\n\tthis.each(function(tiddler,title) {\n\t\tvar list = $tw.utils.parseStringArray(tiddler.fields[fieldName]);\n\t\tif(list &amp;&amp; list.indexOf(targetTitle) !== -1) {\n\t\t\ttitles.push(title);\n\t\t}\n\t});\n\treturn titles;\n};\n\n/*\nSorts an array of tiddler titles according to an ordered list\n*/\nexports.sortByList = function(array,listTitle) {\n\tvar list = this.getTiddlerList(listTitle);\n\tif(!array || array.length === 0) {\n\t\treturn [];\n\t} else {\n\t\tvar titles = [], t, title;\n\t\t// First place any entries that are present in the list\n\t\tfor(t=0; t&lt;list.length; t++) {\n\t\t\ttitle = list[t];\n\t\t\tif(array.indexOf(title) !== -1) {\n\t\t\t\ttitles.push(title);\n\t\t\t}\n\t\t}\n\t\t// Then place any remaining entries\n\t\tfor(t=0; t&lt;array.length; t++) {\n\t\t\ttitle = array[t];\n\t\t\tif(list.indexOf(title) === -1) {\n\t\t\t\ttitles.push(title);\n\t\t\t}\n\t\t}\n\t\t// Finally obey the list-before and list-after fields of each tiddler in turn\n\t\tvar sortedTitles = titles.slice(0);\n\t\tfor(t=0; t&lt;sortedTitles.length; t++) {\n\t\t\ttitle = sortedTitles[t];\n\t\t\tvar currPos = titles.indexOf(title),\n\t\t\t\tnewPos = -1,\n\t\t\t\ttiddler = this.getTiddler(title);\n\t\t\tif(tiddler) {\n\t\t\t\tvar beforeTitle = tiddler.fields[\&quot;list-before\&quot;],\n\t\t\t\t\tafterTitle = tiddler.fields[\&quot;list-after\&quot;];\n\t\t\t\tif(beforeTitle === \&quot;\&quot;) {\n\t\t\t\t\tnewPos = 0;\n\t\t\t\t} else if(beforeTitle) {\n\t\t\t\t\tnewPos = titles.indexOf(beforeTitle);\n\t\t\t\t} else if(afterTitle) {\n\t\t\t\t\tnewPos = titles.indexOf(afterTitle);\n\t\t\t\t\tif(newPos &gt;= 0) {\n\t\t\t\t\t\t++newPos;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(newPos === -1) {\n\t\t\t\t\tnewPos = currPos;\n\t\t\t\t}\n\t\t\t\tif(newPos !== currPos) {\n\t\t\t\t\ttitles.splice(currPos,1);\n\t\t\t\t\tif(newPos &gt;= currPos) {\n\t\t\t\t\t\tnewPos--;\n\t\t\t\t\t}\n\t\t\t\t\ttitles.splice(newPos,0,title);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\treturn titles;\n\t}\n};\n\nexports.getSubTiddler = function(title,subTiddlerTitle) {\n\tvar bundleInfo = this.getPluginInfo(title) || this.getTiddlerData(title);\n\tif(bundleInfo &amp;&amp; bundleInfo.tiddlers) {\n\t\tvar subTiddler = bundleInfo.tiddlers[subTiddlerTitle];\n\t\tif(subTiddler) {\n\t\t\treturn new $tw.Tiddler(subTiddler);\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nRetrieve a tiddler as a JSON string of the fields\n*/\nexports.getTiddlerAsJson = function(title) {\n\tvar tiddler = this.getTiddler(title);\n\tif(tiddler) {\n\t\tvar fields = Object.create(null);\n\t\t$tw.utils.each(tiddler.fields,function(value,name) {\n\t\t\tfields[name] = tiddler.getFieldString(name);\n\t\t});\n\t\treturn JSON.stringify(fields);\n\t} else {\n\t\treturn JSON.stringify({title: title});\n\t}\n};\n\n/*\nGet the content of a tiddler as a JavaScript object. How this is done depends on the type of the tiddler:\n\napplication/json: the tiddler JSON is parsed into an object\napplication/x-tiddler-dictionary: the tiddler is parsed as sequence of name:value pairs\n\nOther types currently just return null.\n\ntitleOrTiddler: string tiddler title or a tiddler object\ndefaultData: default data to be returned if the tiddler is missing or doesn't contain data\n*/\nexports.getTiddlerData = function(titleOrTiddler,defaultData) {\n\tvar tiddler = titleOrTiddler,\n\t\tdata;\n\tif(!(tiddler instanceof $tw.Tiddler)) {\n\t\ttiddler = this.getTiddler(tiddler);\t\n\t}\n\tif(tiddler &amp;&amp; tiddler.fields.text) {\n\t\tswitch(tiddler.fields.type) {\n\t\t\tcase \&quot;application/json\&quot;:\n\t\t\t\t// JSON tiddler\n\t\t\t\ttry {\n\t\t\t\t\tdata = JSON.parse(tiddler.fields.text);\n\t\t\t\t} catch(ex) {\n\t\t\t\t\treturn defaultData;\n\t\t\t\t}\n\t\t\t\treturn data;\n\t\t\tcase \&quot;application/x-tiddler-dictionary\&quot;:\n\t\t\t\treturn $tw.utils.parseFields(tiddler.fields.text);\n\t\t}\n\t}\n\treturn defaultData;\n};\n\n/*\nExtract an indexed field from within a data tiddler\n*/\nexports.extractTiddlerDataItem = function(titleOrTiddler,index,defaultText) {\n\tvar data = this.getTiddlerData(titleOrTiddler,Object.create(null)),\n\t\ttext;\n\tif(data &amp;&amp; $tw.utils.hop(data,index)) {\n\t\ttext = data[index];\n\t}\n\tif(typeof text === \&quot;string\&quot; || typeof text === \&quot;number\&quot;) {\n\t\treturn text.toString();\n\t} else {\n\t\treturn defaultText;\n\t}\n};\n\n/*\nSet a tiddlers content to a JavaScript object. Currently this is done by setting the tiddler's type to \&quot;application/json\&quot; and setting the text to the JSON text of the data.\ntitle: title of tiddler\ndata: object that can be serialised to JSON\nfields: optional hashmap of additional tiddler fields to be set\n*/\nexports.setTiddlerData = function(title,data,fields) {\n\tvar existingTiddler = this.getTiddler(title),\n\t\tnewFields = {\n\t\t\ttitle: title\n\t};\n\tif(existingTiddler &amp;&amp; existingTiddler.fields.type === \&quot;application/x-tiddler-dictionary\&quot;) {\n\t\tnewFields.text = $tw.utils.makeTiddlerDictionary(data);\n\t} else {\n\t\tnewFields.type = \&quot;application/json\&quot;;\n\t\tnewFields.text = JSON.stringify(data,null,$tw.config.preferences.jsonSpaces);\n\t}\n\tthis.addTiddler(new $tw.Tiddler(existingTiddler,fields,newFields,this.getModificationFields()));\n};\n\n/*\nReturn the content of a tiddler as an array containing each line\n*/\nexports.getTiddlerList = function(title,field,index) {\n\tif(index) {\n\t\treturn $tw.utils.parseStringArray(this.extractTiddlerDataItem(title,index,\&quot;\&quot;));\n\t}\n\tfield = field || \&quot;list\&quot;;\n\tvar tiddler = this.getTiddler(title);\n\tif(tiddler) {\n\t\treturn ($tw.utils.parseStringArray(tiddler.fields[field]) || []).slice(0);\n\t}\n\treturn [];\n};\n\n// Return a named global cache object. Global cache objects are cleared whenever a tiddler change occurs\nexports.getGlobalCache = function(cacheName,initializer) {\n\tthis.globalCache = this.globalCache || Object.create(null);\n\tif($tw.utils.hop(this.globalCache,cacheName)) {\n\t\treturn this.globalCache[cacheName];\n\t} else {\n\t\tthis.globalCache[cacheName] = initializer();\n\t\treturn this.globalCache[cacheName];\n\t}\n};\n\nexports.clearGlobalCache = function() {\n\tthis.globalCache = Object.create(null);\n};\n\n// Return the named cache object for a tiddler. If the cache doesn't exist then the initializer function is invoked to create it\nexports.getCacheForTiddler = function(title,cacheName,initializer) {\n\n// Temporarily disable caching so that tweakParseTreeNode() works\nreturn initializer();\n\n//\tthis.caches = this.caches || Object.create(null);\n//\tvar caches = this.caches[title];\n//\tif(caches &amp;&amp; caches[cacheName]) {\n//\t\treturn caches[cacheName];\n//\t} else {\n//\t\tif(!caches) {\n//\t\t\tcaches = Object.create(null);\n//\t\t\tthis.caches[title] = caches;\n//\t\t}\n//\t\tcaches[cacheName] = initializer();\n//\t\treturn caches[cacheName];\n//\t}\n};\n\n// Clear all caches associated with a particular tiddler\nexports.clearCache = function(title) {\n\tthis.caches = this.caches || Object.create(null);\n\tif($tw.utils.hop(this.caches,title)) {\n\t\tdelete this.caches[title];\n\t}\n};\n\nexports.initParsers = function(moduleType) {\n\t// Install the parser modules\n\t$tw.Wiki.parsers = {};\n\tvar self = this;\n\t$tw.modules.forEachModuleOfType(\&quot;parser\&quot;,function(title,module) {\n\t\tfor(var f in module) {\n\t\t\tif($tw.utils.hop(module,f)) {\n\t\t\t\t$tw.Wiki.parsers[f] = module[f]; // Store the parser class\n\t\t\t}\n\t\t}\n\t});\n};\n\n/*\nParse a block of text of a specified MIME type\n\ttype: content type of text to be parsed\n\ttext: text\n\toptions: see below\nOptions include:\n\tparseAsInline: if true, the text of the tiddler will be parsed as an inline run\n\t_canonical_uri: optional string of the canonical URI of this content\n*/\nexports.old_parseText = function(type,text,options) {\n\toptions = options || {};\n\t// Select a parser\n\tvar Parser = $tw.Wiki.parsers[type];\n\tif(!Parser &amp;&amp; $tw.config.fileExtensionInfo[type]) {\n\t\tParser = $tw.Wiki.parsers[$tw.config.fileExtensionInfo[type].type];\n\t}\n\tif(!Parser) {\n\t\tParser = $tw.Wiki.parsers[options.defaultType || \&quot;text/vnd.tiddlywiki\&quot;];\n\t}\n\tif(!Parser) {\n\t\treturn null;\n\t}\n\t// Return the parser instance\n\treturn new Parser(type,text,{\n\t\tparseAsInline: options.parseAsInline,\n\t\twiki: this,\n\t\t_canonical_uri: options._canonical_uri\n\t});\n};\n\n/*\nParse a tiddler according to its MIME type\n*/\nexports.old_parseTiddler = function(title,options) {\n\toptions = $tw.utils.extend({},options);\n\tvar cacheType = options.parseAsInline ? \&quot;newInlineParseTree\&quot; : \&quot;newBlockParseTree\&quot;,\n\t\ttiddler = this.getTiddler(title),\n\t\tself = this;\n\treturn tiddler ? this.getCacheForTiddler(title,cacheType,function() {\n\t\t\tif(tiddler.hasField(\&quot;_canonical_uri\&quot;)) {\n\t\t\t\toptions._canonical_uri = tiddler.fields._canonical_uri;\n\t\t\t}\n\t\t\treturn self.old_parseText(tiddler.fields.type,tiddler.fields.text,options);\n\t\t}) : null;\n};\n\nvar tweakMacroDefinition = function(nodeList) {\n\tif(nodeList &amp;&amp; nodeList[0] &amp;&amp; nodeList[0].type === \&quot;macrodef\&quot;) {\n\t\tnodeList[0].type = \&quot;set\&quot;;\n\t\tnodeList[0].attributes = {\n\t\t\tname: {type: \&quot;string\&quot;, value: nodeList[0].name},\n\t\t\tvalue: {type: \&quot;string\&quot;, value: nodeList[0].text}\n\t\t};\n\t\tnodeList[0].children = nodeList.slice(1);\n\t\tnodeList.splice(1,nodeList.length-1);\n\t\ttweakMacroDefinition(nodeList[0].children);\n\t}\n};\n\nvar tweakParser = function(parser) {\n\t// Move any macro definitions to contain the body tree\n\ttweakMacroDefinition(parser.tree);\n};\n\nexports.parseText = function(type,text,options) {\n\tvar parser = this.old_parseText(type,text,options);\n\tif(parser) {\n\t\ttweakParser(parser);\n\t}\n\treturn parser;\n};\n\nexports.parseTiddler = function(title,options) {\n\tvar parser = this.old_parseTiddler(title,options);\n\tif(parser) {\n\t\ttweakParser(parser);\n\t}\n\treturn parser;\n};\n\nexports.parseTextReference = function(title,field,index,options) {\n\tvar tiddler,text;\n\tif(options.subTiddler) {\n\t\ttiddler = this.getSubTiddler(title,options.subTiddler);\n\t} else {\n\t\ttiddler = this.getTiddler(title);\n\t\tif(field === \&quot;text\&quot; || (!field &amp;&amp; !index)) {\n\t\t\tthis.getTiddlerText(title); // Force the tiddler to be lazily loaded\n\t\t\treturn this.parseTiddler(title,options);\n\t\t}\n\t}\n\tif(field === \&quot;text\&quot; || (!field &amp;&amp; !index)) {\n\t\tif(tiddler &amp;&amp; tiddler.fields) {\n\t\t\treturn this.parseText(tiddler.fields.type || \&quot;text/vnd.tiddlywiki\&quot;,tiddler.fields.text,options);\t\t\t\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t} else if(field) {\n\t\tif(field === \&quot;title\&quot;) {\n\t\t\ttext = title;\n\t\t} else {\n\t\t\tif(!tiddler || !tiddler.hasField(field)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\ttext = tiddler.fields[field];\n\t\t}\n\t\treturn this.parseText(\&quot;text/vnd.tiddlywiki\&quot;,text.toString(),options);\n\t} else if(index) {\n\t\tthis.getTiddlerText(title); // Force the tiddler to be lazily loaded\n\t\ttext = this.extractTiddlerDataItem(tiddler,index,undefined);\n\t\tif(text === undefined) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.parseText(\&quot;text/vnd.tiddlywiki\&quot;,text,options);\n\t}\n};\n\n/*\nMake a widget tree for a parse tree\nparser: parser object\noptions: see below\nOptions include:\ndocument: optional document to use\nvariables: hashmap of variables to set\nparentWidget: optional parent widget for the root node\n*/\nexports.makeWidget = function(parser,options) {\n\toptions = options || {};\n\tvar widgetNode = {\n\t\t\ttype: \&quot;widget\&quot;,\n\t\t\tchildren: []\n\t\t},\n\t\tcurrWidgetNode = widgetNode;\n\t// Create set variable widgets for each variable\n\t$tw.utils.each(options.variables,function(value,name) {\n\t\tvar setVariableWidget = {\n\t\t\ttype: \&quot;set\&quot;,\n\t\t\tattributes: {\n\t\t\t\tname: {type: \&quot;string\&quot;, value: name},\n\t\t\t\tvalue: {type: \&quot;string\&quot;, value: value}\n\t\t\t},\n\t\t\tchildren: []\n\t\t};\n\t\tcurrWidgetNode.children = [setVariableWidget];\n\t\tcurrWidgetNode = setVariableWidget;\n\t});\n\t// Add in the supplied parse tree nodes\n\tcurrWidgetNode.children = parser ? parser.tree : [];\n\t// Create the widget\n\treturn new widget.widget(widgetNode,{\n\t\twiki: this,\n\t\tdocument: options.document || $tw.fakeDocument,\n\t\tparentWidget: options.parentWidget\n\t});\n};\n\n/*\nMake a widget tree for transclusion\ntitle: target tiddler title\noptions: as for wiki.makeWidget() plus:\noptions.field: optional field to transclude (defaults to \&quot;text\&quot;)\noptions.children: optional array of children for the transclude widget\n*/\nexports.makeTranscludeWidget = function(title,options) {\n\toptions = options || {};\n\tvar parseTree = {tree: [{\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;div\&quot;,\n\t\t\tchildren: [{\n\t\t\t\ttype: \&quot;transclude\&quot;,\n\t\t\t\tattributes: {\n\t\t\t\t\ttiddler: {\n\t\t\t\t\t\tname: \&quot;tiddler\&quot;,\n\t\t\t\t\t\ttype: \&quot;string\&quot;,\n\t\t\t\t\t\tvalue: title}},\n\t\t\t\tisBlock: !options.parseAsInline}]}\n\t]};\n\tif(options.field) {\n\t\tparseTree.tree[0].children[0].attributes.field = {type: \&quot;string\&quot;, value: options.field};\n\t}\n\tif(options.children) {\n\t\tparseTree.tree[0].children[0].children = options.children;\n\t}\n\treturn $tw.wiki.makeWidget(parseTree,options);\n};\n\n/*\nParse text in a specified format and render it into another format\n\toutputType: content type for the output\n\ttextType: content type of the input text\n\ttext: input text\n\toptions: see below\nOptions include:\nvariables: hashmap of variables to set\nparentWidget: optional parent widget for the root node\n*/\nexports.renderText = function(outputType,textType,text,options) {\n\toptions = options || {};\n\tvar parser = this.parseText(textType,text,options),\n\t\twidgetNode = this.makeWidget(parser,options);\n\tvar container = $tw.fakeDocument.createElement(\&quot;div\&quot;);\n\twidgetNode.render(container,null);\n\treturn outputType === \&quot;text/html\&quot; ? container.innerHTML : container.textContent;\n};\n\n/*\nParse text from a tiddler and render it into another format\n\toutputType: content type for the output\n\ttitle: title of the tiddler to be rendered\n\toptions: see below\nOptions include:\nvariables: hashmap of variables to set\nparentWidget: optional parent widget for the root node\n*/\nexports.renderTiddler = function(outputType,title,options) {\n\toptions = options || {};\n\tvar parser = this.parseTiddler(title,options),\n\t\twidgetNode = this.makeWidget(parser,options);\n\tvar container = $tw.fakeDocument.createElement(\&quot;div\&quot;);\n\twidgetNode.render(container,null);\n\treturn outputType === \&quot;text/html\&quot; ? container.innerHTML : (outputType === \&quot;text/plain-formatted\&quot; ? container.formattedTextContent : container.textContent);\n};\n\n/*\nReturn an array of tiddler titles that match a search string\n\ttext: The text string to search for\n\toptions: see below\nOptions available:\n\tsource: an iterator function for the source tiddlers, called source(iterator), where iterator is called as iterator(tiddler,title)\n\texclude: An array of tiddler titles to exclude from the search\n\tinvert: If true returns tiddlers that do not contain the specified string\n\tcaseSensitive: If true forces a case sensitive search\n\tliteral: If true, searches for literal string, rather than separate search terms\n\tfield: If specified, restricts the search to the specified field\n*/\nexports.search = function(text,options) {\n\toptions = options || {};\n\tvar self = this,\n\t\tt,\n\t\tinvert = !!options.invert;\n\t// Convert the search string into a regexp for each term\n\tvar terms, searchTermsRegExps,\n\t\tflags = options.caseSensitive ? \&quot;\&quot; : \&quot;i\&quot;;\n\tif(options.literal) {\n\t\tif(text.length === 0) {\n\t\t\tsearchTermsRegExps = null;\n\t\t} else {\n\t\t\tsearchTermsRegExps = [new RegExp(\&quot;(\&quot; + $tw.utils.escapeRegExp(text) + \&quot;)\&quot;,flags)];\n\t\t}\n\t} else {\n\t\tterms = text.split(/ +/);\n\t\tif(terms.length === 1 &amp;&amp; terms[0] === \&quot;\&quot;) {\n\t\t\tsearchTermsRegExps = null;\n\t\t} else {\n\t\t\tsearchTermsRegExps = [];\n\t\t\tfor(t=0; t&lt;terms.length; t++) {\n\t\t\t\tsearchTermsRegExps.push(new RegExp(\&quot;(\&quot; + $tw.utils.escapeRegExp(terms[t]) + \&quot;)\&quot;,flags));\n\t\t\t}\n\t\t}\n\t}\n\t// Function to check a given tiddler for the search term\n\tvar searchTiddler = function(title) {\n\t\tif(!searchTermsRegExps) {\n\t\t\treturn true;\n\t\t}\n\t\tvar tiddler = self.getTiddler(title);\n\t\tif(!tiddler) {\n\t\t\ttiddler = new $tw.Tiddler({title: title, text: \&quot;\&quot;, type: \&quot;text/vnd.tiddlywiki\&quot;});\n\t\t}\n\t\tvar contentTypeInfo = $tw.config.contentTypeInfo[tiddler.fields.type] || $tw.config.contentTypeInfo[\&quot;text/vnd.tiddlywiki\&quot;],\n\t\t\tmatch;\n\t\tfor(var t=0; t&lt;searchTermsRegExps.length; t++) {\n\t\t\tmatch = false;\n\t\t\tif(options.field) {\n\t\t\t\tmatch = searchTermsRegExps[t].test(tiddler.getFieldString(options.field));\n\t\t\t} else {\n\t\t\t\t// Search title, tags and body\n\t\t\t\tif(contentTypeInfo.encoding === \&quot;utf8\&quot;) {\n\t\t\t\t\tmatch = match || searchTermsRegExps[t].test(tiddler.fields.text);\n\t\t\t\t}\n\t\t\t\tvar tags = tiddler.fields.tags ? tiddler.fields.tags.join(\&quot;\\0\&quot;) : \&quot;\&quot;;\n\t\t\t\tmatch = match || searchTermsRegExps[t].test(tags) || searchTermsRegExps[t].test(tiddler.fields.title);\n\t\t\t}\n\t\t\tif(!match) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\t// Loop through all the tiddlers doing the search\n\tvar results = [],\n\t\tsource = options.source || this.each;\n\tsource(function(tiddler,title) {\n\t\tif(searchTiddler(title) !== options.invert) {\n\t\t\tresults.push(title);\n\t\t}\n\t});\n\t// Remove any of the results we have to exclude\n\tif(options.exclude) {\n\t\tfor(t=0; t&lt;options.exclude.length; t++) {\n\t\t\tvar p = results.indexOf(options.exclude[t]);\n\t\t\tif(p !== -1) {\n\t\t\t\tresults.splice(p,1);\n\t\t\t}\n\t\t}\n\t}\n\treturn results;\n};\n\n/*\nTrigger a load for a tiddler if it is skinny. Returns the text, or undefined if the tiddler is missing, null if the tiddler is being lazily loaded.\n*/\nexports.getTiddlerText = function(title,defaultText) {\n\tvar tiddler = this.getTiddler(title);\n\t// Return undefined if the tiddler isn't found\n\tif(!tiddler) {\n\t\treturn defaultText;\n\t}\n\tif(tiddler.fields.text !== undefined) {\n\t\t// Just return the text if we've got it\n\t\treturn tiddler.fields.text;\n\t} else {\n\t\t// Tell any listeners about the need to lazily load this tiddler\n\t\tthis.dispatchEvent(\&quot;lazyLoad\&quot;,title);\n\t\t// Indicate that the text is being loaded\n\t\treturn null;\n\t}\n};\n\n/*\nRead an array of browser File objects, invoking callback(tiddlerFieldsArray) once they're all read\n*/\nexports.readFiles = function(files,callback) {\n\tvar result = [],\n\t\toutstanding = files.length;\n\tfor(var f=0; f&lt;files.length; f++) {\n\t\tthis.readFile(files[f],function(tiddlerFieldsArray) {\n\t\t\tresult.push.apply(result,tiddlerFieldsArray);\n\t\t\tif(--outstanding === 0) {\n\t\t\t\tcallback(result);\n\t\t\t}\n\t\t});\n\t}\n\treturn files.length;\n};\n\n/*\nRead a browser File object, invoking callback(tiddlerFieldsArray) with an array of tiddler fields objects\n*/\nexports.readFile = function(file,callback) {\n\t// Get the type, falling back to the filename extension\n\tvar self = this,\n\t\ttype = file.type;\n\tif(type === \&quot;\&quot; || !type) {\n\t\tvar dotPos = file.name.lastIndexOf(\&quot;.\&quot;);\n\t\tif(dotPos !== -1) {\n\t\t\tvar fileExtensionInfo = $tw.config.fileExtensionInfo[file.name.substr(dotPos)];\n\t\t\tif(fileExtensionInfo) {\n\t\t\t\ttype = fileExtensionInfo.type;\n\t\t\t}\n\t\t}\n\t}\n\t// Figure out if we're reading a binary file\n\tvar contentTypeInfo = $tw.config.contentTypeInfo[type],\n\t\tisBinary = contentTypeInfo ? contentTypeInfo.encoding === \&quot;base64\&quot; : false;\n\t// Log some debugging information\n\tif($tw.log.IMPORT) {\n\t\tconsole.log(\&quot;Importing file '\&quot; + file.name + \&quot;', type: '\&quot; + type + \&quot;', isBinary: \&quot; + isBinary);\n\t}\n\t// Create the FileReader\n\tvar reader = new FileReader();\n\t// Onload\n\treader.onload = function(event) {\n\t\t// Deserialise the file contents\n\t\tvar text = event.target.result,\n\t\t\ttiddlerFields = {title: file.name || \&quot;Untitled\&quot;, type: type};\n\t\t// Are we binary?\n\t\tif(isBinary) {\n\t\t\t// The base64 section starts after the first comma in the data URI\n\t\t\tvar commaPos = text.indexOf(\&quot;,\&quot;);\n\t\t\tif(commaPos !== -1) {\n\t\t\t\ttiddlerFields.text = text.substr(commaPos+1);\n\t\t\t\tcallback([tiddlerFields]);\n\t\t\t}\n\t\t} else {\n\t\t\t// Check whether this is an encrypted TiddlyWiki file\n\t\t\tvar encryptedJson = $tw.utils.extractEncryptedStoreArea(text);\n\t\t\tif(encryptedJson) {\n\t\t\t\t// If so, attempt to decrypt it with the current password\n\t\t\t\t$tw.utils.decryptStoreAreaInteractive(encryptedJson,function(tiddlers) {\n\t\t\t\t\tcallback(tiddlers);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Otherwise, just try to deserialise any tiddlers in the file\n\t\t\t\tcallback(self.deserializeTiddlers(type,text,tiddlerFields));\n\t\t\t}\n\t\t}\n\t};\n\t// Kick off the read\n\tif(isBinary) {\n\t\treader.readAsDataURL(file);\n\t} else {\n\t\treader.readAsText(file);\n\t}\n};\n\n/*\nFind any existing draft of a specified tiddler\n*/\nexports.findDraft = function(targetTitle) {\n\tvar draftTitle = undefined;\n\tthis.forEachTiddler({includeSystem: true},function(title,tiddler) {\n\t\tif(tiddler.fields[\&quot;draft.title\&quot;] &amp;&amp; tiddler.fields[\&quot;draft.of\&quot;] === targetTitle) {\n\t\t\tdraftTitle = title;\n\t\t}\n\t});\n\treturn draftTitle;\n}\n\n/*\nCheck whether the specified draft tiddler has been modified\n*/\nexports.isDraftModified = function(title) {\n\tvar tiddler = this.getTiddler(title);\n\tif(!tiddler.isDraft()) {\n\t\treturn false;\n\t}\n\tvar ignoredFields = [\&quot;created\&quot;, \&quot;modified\&quot;, \&quot;title\&quot;, \&quot;draft.title\&quot;, \&quot;draft.of\&quot;],\n\t\torigTiddler = this.getTiddler(tiddler.fields[\&quot;draft.of\&quot;]);\n\tif(!origTiddler) {\n\t\treturn tiddler.fields.text !== \&quot;\&quot;;\n\t}\n\treturn tiddler.fields[\&quot;draft.title\&quot;] !== tiddler.fields[\&quot;draft.of\&quot;] || !tiddler.isEqual(origTiddler,ignoredFields);\n};\n\n/*\nAdd a new record to the top of the history stack\ntitle: a title string or an array of title strings\nfromPageRect: page coordinates of the origin of the navigation\nhistoryTitle: title of history tiddler (defaults to $:/HistoryList)\n*/\nexports.addToHistory = function(title,fromPageRect,historyTitle) {\n\thistoryTitle = historyTitle || \&quot;$:/HistoryList\&quot;;\n\tvar titles = $tw.utils.isArray(title) ? title : [title];\n\t// Add a new record to the top of the history stack\n\tvar historyList = this.getTiddlerData(historyTitle,[]);\n\t$tw.utils.each(titles,function(title) {\n\t\thistoryList.push({title: title, fromPageRect: fromPageRect});\n\t});\n\tthis.setTiddlerData(historyTitle,historyList,{\&quot;current-tiddler\&quot;: titles[titles.length-1]});\n};\n\n/*\nInvoke the available upgrader modules\ntitles: array of tiddler titles to be processed\ntiddlers: hashmap by title of tiddler fields of pending import tiddlers. These can be modified by the upgraders. An entry with no fields indicates a tiddler that was pending import has been suppressed. When entries are added to the pending import the tiddlers hashmap may have entries that are not present in the titles array\nReturns a hashmap of messages keyed by tiddler title.\n*/\nexports.invokeUpgraders = function(titles,tiddlers) {\n\t// Collect up the available upgrader modules\n\tvar self = this;\n\tif(!this.upgraderModules) {\n\t\tthis.upgraderModules = [];\n\t\t$tw.modules.forEachModuleOfType(\&quot;upgrader\&quot;,function(title,module) {\n\t\t\tif(module.upgrade) {\n\t\t\t\tself.upgraderModules.push(module);\n\t\t\t}\n\t\t});\n\t}\n\t// Invoke each upgrader in turn\n\tvar messages = {};\n\tfor(var t=0; t&lt;this.upgraderModules.length; t++) {\n\t\tvar upgrader = this.upgraderModules[t],\n\t\t\tupgraderMessages = upgrader.upgrade(this,titles,tiddlers);\n\t\t$tw.utils.extend(messages,upgraderMessages);\n\t}\n\treturn messages;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/wiki.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikimethod&quot;
        },
        &quot;$:/palettes/Blanca&quot;: {
            &quot;title&quot;: &quot;$:/palettes/Blanca&quot;,
            &quot;name&quot;: &quot;Blanca&quot;,
            &quot;description&quot;: &quot;A clean white palette to let you focus&quot;,
            &quot;tags&quot;: &quot;$:/tags/Palette&quot;,
            &quot;type&quot;: &quot;application/x-tiddler-dictionary&quot;,
            &quot;text&quot;: &quot;alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndirty-indicator: #ff0000\ndownload-background: #66cccc\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #999999\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #ffffff\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #7897f3\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #ccc\nsidebar-foreground-shadow: rgba(255,255,255, 0.8)\nsidebar-foreground: #acacac\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: #ffffff\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #444444\nsidebar-tiddler-link-foreground: #7897f3\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #fffffffff\ntab-background: #eeeeee\ntab-border-selected: #cccccc\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #ffeedd\ntag-foreground: #000\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: #eee\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #ff9900\ntoolbar-new-button:\ntoolbar-options-button:\ntoolbar-save-button:\ntoolbar-info-button:\ntoolbar-edit-button:\ntoolbar-close-button:\ntoolbar-delete-button:\ntoolbar-cancel-button:\ntoolbar-done-button:\nuntagged-background: #999999\nvery-muted-foreground: #888888\n&quot;
        },
        &quot;$:/palettes/Blue&quot;: {
            &quot;title&quot;: &quot;$:/palettes/Blue&quot;,
            &quot;name&quot;: &quot;Blue&quot;,
            &quot;description&quot;: &quot;A blue theme&quot;,
            &quot;tags&quot;: &quot;$:/tags/Palette&quot;,
            &quot;type&quot;: &quot;application/x-tiddler-dictionary&quot;,
            &quot;text&quot;: &quot;alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #fff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndirty-indicator: #ff0000\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour foreground&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333353\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #999999\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #ddddff\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #5778d8\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #ffffff\nsidebar-foreground-shadow: rgba(255,255,255, 0.8)\nsidebar-foreground: #acacac\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: &lt;&lt;colour page-background&gt;&gt;\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #444444\nsidebar-tiddler-link-foreground: #5959c0\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: &lt;&lt;colour background&gt;&gt;\ntab-background: #ccccdd\ntab-border-selected: #ccccdd\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #eeeeff\ntag-foreground: #000\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #666666\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #ffffff\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #ffffff\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #5959c0\ntoolbar-new-button: #5eb95e\ntoolbar-options-button: rgb(128, 88, 165)\ntoolbar-save-button: #0e90d2\ntoolbar-info-button: #0e90d2\ntoolbar-edit-button: rgb(243, 123, 29)\ntoolbar-close-button: #dd514c\ntoolbar-delete-button: #dd514c\ntoolbar-cancel-button: rgb(243, 123, 29)\ntoolbar-done-button: #5eb95e\nuntagged-background: #999999\nvery-muted-foreground: #888888\n&quot;
        },
        &quot;$:/palettes/Muted&quot;: {
            &quot;title&quot;: &quot;$:/palettes/Muted&quot;,
            &quot;name&quot;: &quot;Muted&quot;,
            &quot;description&quot;: &quot;Bright tiddlers on a muted background&quot;,
            &quot;tags&quot;: &quot;$:/tags/Palette&quot;,
            &quot;type&quot;: &quot;application/x-tiddler-dictionary&quot;,
            &quot;text&quot;: &quot;alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndirty-indicator: #ff0000\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #bbb\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #6f6f70\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #29a6ee\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #c2c1c2\nsidebar-foreground-shadow: rgba(255,255,255,0)\nsidebar-foreground: #d3d2d4\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: #6f6f70\nsidebar-tab-background: #666667\nsidebar-tab-border-selected: #999\nsidebar-tab-border: #515151\nsidebar-tab-divider: #999\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: #999\nsidebar-tiddler-link-foreground-hover: #444444\nsidebar-tiddler-link-foreground: #d1d0d2\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #ffffff\ntab-background: #d8d8d8\ntab-border-selected: #d8d8d8\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #d5ad34\ntag-foreground: #ffffff\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #182955\ntoolbar-new-button: \ntoolbar-options-button: \ntoolbar-save-button: \ntoolbar-info-button: \ntoolbar-edit-button: \ntoolbar-close-button: \ntoolbar-delete-button: \ntoolbar-cancel-button: \ntoolbar-done-button: \nuntagged-background: #999999\nvery-muted-foreground: #888888\n&quot;
        },
        &quot;$:/palettes/Contrast&quot;: {
            &quot;title&quot;: &quot;$:/palettes/Contrast&quot;,
            &quot;name&quot;: &quot;Contrast&quot;,
            &quot;description&quot;: &quot;High contrast and unambiguous&quot;,
            &quot;tags&quot;: &quot;$:/tags/Palette&quot;,
            &quot;type&quot;: &quot;application/x-tiddler-dictionary&quot;,
            &quot;text&quot;: &quot;alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndirty-indicator: #ff0000\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #999999\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #000000\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #5778d8\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #ffffff\nsidebar-foreground-shadow: rgba(255,0,0, 0.5)\nsidebar-foreground: #ffffff\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: #ececec\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #444444\nsidebar-tiddler-link-foreground: #999999\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #ffffff\ntab-background: #d8d8d8\ntab-border-selected: #d8d8d8\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #d5ad34\ntag-foreground: #ffffff\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #182955\ntoolbar-new-button:\ntoolbar-options-button:\ntoolbar-save-button:\ntoolbar-info-button:\ntoolbar-edit-button:\ntoolbar-close-button:\ntoolbar-delete-button:\ntoolbar-cancel-button:\ntoolbar-done-button:\nuntagged-background: #999999\nvery-muted-foreground: #888888\n&quot;
        },
        &quot;$:/palettes/Rocker&quot;: {
            &quot;title&quot;: &quot;$:/palettes/Rocker&quot;,
            &quot;name&quot;: &quot;Rocker&quot;,
            &quot;description&quot;: &quot;A dark theme&quot;,
            &quot;tags&quot;: &quot;$:/tags/Palette&quot;,
            &quot;type&quot;: &quot;application/x-tiddler-dictionary&quot;,
            &quot;text&quot;: &quot;alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndirty-indicator: #ff0000\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #999999\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #000\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #cc0000\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #ffffff\nsidebar-foreground-shadow: rgba(255,255,255, 0.0)\nsidebar-foreground: #acacac\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: #000\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #ffbb99\nsidebar-tiddler-link-foreground: #cc0000\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #ffffff\ntab-background: #d8d8d8\ntab-border-selected: #d8d8d8\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #ffbb99\ntag-foreground: #000\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #cc0000\ntoolbar-new-button:\ntoolbar-options-button:\ntoolbar-save-button:\ntoolbar-info-button:\ntoolbar-edit-button:\ntoolbar-close-button:\ntoolbar-delete-button:\ntoolbar-cancel-button:\ntoolbar-done-button:\nuntagged-background: #999999\nvery-muted-foreground: #888888\n&quot;
        },
        &quot;$:/palettes/Vanilla&quot;: {
            &quot;title&quot;: &quot;$:/palettes/Vanilla&quot;,
            &quot;name&quot;: &quot;Vanilla&quot;,
            &quot;description&quot;: &quot;Pale and unobtrusive&quot;,
            &quot;tags&quot;: &quot;$:/tags/Palette&quot;,
            &quot;type&quot;: &quot;application/x-tiddler-dictionary&quot;,
            &quot;text&quot;: &quot;alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndirty-indicator: #ff0000\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #bbb\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #ececec\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #5778d8\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #aaaaaa\nsidebar-foreground-shadow: rgba(255,255,255, 0.8)\nsidebar-foreground: #acacac\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: #ececec\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: #e4e4e4\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #444444\nsidebar-tiddler-link-foreground: #999999\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #ffffff\ntab-background: #d8d8d8\ntab-border-selected: #d8d8d8\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #ec6\ntag-foreground: #ffffff\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #182955\ntoolbar-new-button:\ntoolbar-options-button:\ntoolbar-save-button:\ntoolbar-info-button:\ntoolbar-edit-button:\ntoolbar-close-button:\ntoolbar-delete-button:\ntoolbar-cancel-button:\ntoolbar-done-button:\nuntagged-background: #999999\nvery-muted-foreground: #888888\n&quot;
        },
        &quot;$:/core/readme&quot;: {
            &quot;title&quot;: &quot;$:/core/readme&quot;,
            &quot;text&quot;: &quot;This plugin contains TiddlyWiki's core components, comprising:\n\n* JavaScript code modules\n* Icons\n* Templates needed to create TiddlyWiki's user interface\n* British English (''en-GB'') translations of the localisable strings used by the core\n&quot;
        },
        &quot;$:/core/templates/MOTW.html&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/MOTW.html&quot;,
            &quot;text&quot;: &quot;\\rules only filteredtranscludeinline transcludeinline entity\n&lt;!-- The following comment is called a MOTW comment and is necessary for the TiddlyIE Internet Explorer extension --&gt;\n&lt;!-- saved from url=(0021)http://tiddlywiki.com --&gt;&amp;#13;&amp;#10;&quot;
        },
        &quot;$:/core/templates/alltiddlers.template.html&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/alltiddlers.template.html&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki-html&quot;,
            &quot;text&quot;: &quot;&lt;!-- This template is provided for backwards compatibility with older versions of TiddlyWiki --&gt;\n\n&lt;$set name=\&quot;exportFilter\&quot; value=\&quot;[!is[system]sort[title]]\&quot;&gt;\n\n{{$:/core/templates/exporters/StaticRiver}}\n\n&lt;/$set&gt;\n&quot;
        },
        &quot;$:/core/templates/canonical-uri-external-image&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/canonical-uri-external-image&quot;,
            &quot;text&quot;: &quot;&lt;!--\n\nThis template is used to assign the ''_canonical_uri'' field to external images.\n\nChange the `./images/` part to a different base URI. The URI can be relative or absolute.\n\n--&gt;\n./images/&lt;$view field=\&quot;title\&quot; format=\&quot;doubleurlencoded\&quot;/&gt;&quot;
        },
        &quot;$:/core/templates/css-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/css-tiddler&quot;,
            &quot;text&quot;: &quot;&lt;!--\n\nThis template is used for saving CSS tiddlers as a style tag with data attributes representing the tiddler fields.\n\n--&gt;`&lt;style`&lt;$fields template=' data-tiddler-$name$=\&quot;$encoded_value$\&quot;'&gt;&lt;/$fields&gt;` type=\&quot;text/css\&quot;&gt;`&lt;$view field=\&quot;text\&quot; format=\&quot;text\&quot; /&gt;`&lt;/style&gt;`&quot;
        },
        &quot;$:/core/templates/exporters/CsvFile&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/exporters/CsvFile&quot;,
            &quot;tags&quot;: &quot;$:/tags/Exporter&quot;,
            &quot;description&quot;: &quot;{{$:/language/Exporters/CsvFile}}&quot;,
            &quot;extension&quot;: &quot;.csv&quot;,
            &quot;text&quot;: &quot;\\define renderContent()\n&lt;$text text=&lt;&lt;csvtiddlers filter:\&quot;\&quot;\&quot;$(exportFilter)$\&quot;\&quot;\&quot; format:\&quot;quoted-comma-sep\&quot;&gt;&gt;/&gt;\n\\end\n&lt;&lt;renderContent&gt;&gt;\n&quot;
        },
        &quot;$:/core/templates/exporters/JsonFile&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/exporters/JsonFile&quot;,
            &quot;tags&quot;: &quot;$:/tags/Exporter&quot;,
            &quot;description&quot;: &quot;{{$:/language/Exporters/JsonFile}}&quot;,
            &quot;extension&quot;: &quot;.json&quot;,
            &quot;text&quot;: &quot;\\define renderContent()\n&lt;$text text=&lt;&lt;jsontiddlers filter:\&quot;\&quot;\&quot;$(exportFilter)$\&quot;\&quot;\&quot;&gt;&gt;/&gt;\n\\end\n&lt;&lt;renderContent&gt;&gt;\n&quot;
        },
        &quot;$:/core/templates/exporters/StaticRiver&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/exporters/StaticRiver&quot;,
            &quot;tags&quot;: &quot;$:/tags/Exporter&quot;,
            &quot;description&quot;: &quot;{{$:/language/Exporters/StaticRiver}}&quot;,
            &quot;extension&quot;: &quot;.html&quot;,
            &quot;text&quot;: &quot;\\define tv-wikilink-template() #$uri_encoded$\n\\define tv-config-toolbar-icons() no\n\\define tv-config-toolbar-text() no\n\\define tv-config-toolbar-class() tc-btn-invisible\n\\rules only filteredtranscludeinline transcludeinline\n&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\&quot;Content-Type\&quot; content=\&quot;text/html;charset=utf-8\&quot; /&gt;\n&lt;meta name=\&quot;generator\&quot; content=\&quot;TiddlyWiki\&quot; /&gt;\n&lt;meta name=\&quot;tiddlywiki-version\&quot; content=\&quot;{{$:/core/templates/version}}\&quot; /&gt;\n&lt;meta name=\&quot;format-detection\&quot; content=\&quot;telephone=no\&quot;&gt;\n&lt;link id=\&quot;faviconLink\&quot; rel=\&quot;shortcut icon\&quot; href=\&quot;favicon.ico\&quot;&gt;\n&lt;title&gt;{{$:/core/wiki/title}}&lt;/title&gt;\n&lt;div id=\&quot;styleArea\&quot;&gt;\n{{$:/boot/boot.css||$:/core/templates/css-tiddler}}\n&lt;/div&gt;\n&lt;style type=\&quot;text/css\&quot;&gt;\n{{$:/core/ui/PageStylesheet||$:/core/templates/wikified-tiddler}}\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body class=\&quot;tc-body\&quot;&gt;\n{{$:/StaticBanner||$:/core/templates/html-tiddler}}\n&lt;section class=\&quot;tc-story-river\&quot;&gt;\n{{$:/core/templates/exporters/StaticRiver/Content||$:/core/templates/html-tiddler}}\n&lt;/section&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&quot;
        },
        &quot;$:/core/templates/exporters/StaticRiver/Content&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/exporters/StaticRiver/Content&quot;,
            &quot;text&quot;: &quot;\\define renderContent()\n{{{ $(exportFilter)$ ||$:/core/templates/static-tiddler}}}\n\\end\n&lt;$importvariables filter=\&quot;[[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\&quot;&gt;\n&lt;&lt;renderContent&gt;&gt;\n&lt;/$importvariables&gt;\n&quot;
        },
        &quot;$:/core/templates/exporters/TidFile&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/exporters/TidFile&quot;,
            &quot;tags&quot;: &quot;$:/tags/Exporter&quot;,
            &quot;description&quot;: &quot;{{$:/language/Exporters/TidFile}}&quot;,
            &quot;extension&quot;: &quot;.tid&quot;,
            &quot;text&quot;: &quot;\\define renderContent()\n{{{ $(exportFilter)$ +[limit[1]] ||$:/core/templates/tid-tiddler}}}\n\\end\n&lt;$importvariables filter=\&quot;[[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\&quot;&gt;&lt;&lt;renderContent&gt;&gt;&lt;/$importvariables&gt;&quot;
        },
        &quot;$:/core/templates/html-div-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/html-div-tiddler&quot;,
            &quot;text&quot;: &quot;&lt;!--\n\nThis template is used for saving tiddlers as an HTML DIV tag with attributes representing the tiddler fields.\n\n--&gt;`&lt;div`&lt;$fields template=' $name$=\&quot;$encoded_value$\&quot;'&gt;&lt;/$fields&gt;`&gt;\n&lt;pre&gt;`&lt;$view field=\&quot;text\&quot; format=\&quot;htmlencoded\&quot; /&gt;`&lt;/pre&gt;\n&lt;/div&gt;`\n&quot;
        },
        &quot;$:/core/templates/html-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/html-tiddler&quot;,
            &quot;text&quot;: &quot;&lt;!--\n\nThis template is used for saving tiddlers as raw HTML\n\n--&gt;&lt;$view field=\&quot;text\&quot; format=\&quot;htmlwikified\&quot; /&gt;&quot;
        },
        &quot;$:/core/templates/javascript-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/javascript-tiddler&quot;,
            &quot;text&quot;: &quot;&lt;!--\n\nThis template is used for saving JavaScript tiddlers as a script tag with data attributes representing the tiddler fields.\n\n--&gt;`&lt;script`&lt;$fields template=' data-tiddler-$name$=\&quot;$encoded_value$\&quot;'&gt;&lt;/$fields&gt;` type=\&quot;text/javascript\&quot;&gt;`&lt;$view field=\&quot;text\&quot; format=\&quot;text\&quot; /&gt;`&lt;/script&gt;`&quot;
        },
        &quot;$:/core/templates/module-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/module-tiddler&quot;,
            &quot;text&quot;: &quot;&lt;!--\n\nThis template is used for saving JavaScript tiddlers as a script tag with data attributes representing the tiddler fields. The body of the tiddler is wrapped in a call to the `$tw.modules.define` function in order to define the body of the tiddler as a module\n\n--&gt;`&lt;script`&lt;$fields template=' data-tiddler-$name$=\&quot;$encoded_value$\&quot;'&gt;&lt;/$fields&gt;` type=\&quot;text/javascript\&quot; data-module=\&quot;yes\&quot;&gt;$tw.modules.define(\&quot;`&lt;$view field=\&quot;title\&quot; format=\&quot;jsencoded\&quot; /&gt;`\&quot;,\&quot;`&lt;$view field=\&quot;module-type\&quot; format=\&quot;jsencoded\&quot; /&gt;`\&quot;,function(module,exports,require) {`&lt;$view field=\&quot;text\&quot; format=\&quot;text\&quot; /&gt;`});\n&lt;/script&gt;`&quot;
        },
        &quot;$:/core/templates/plain-text-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/plain-text-tiddler&quot;,
            &quot;text&quot;: &quot;&lt;$view field=\&quot;text\&quot; format=\&quot;text\&quot; /&gt;&quot;
        },
        &quot;$:/core/save/all&quot;: {
            &quot;title&quot;: &quot;$:/core/save/all&quot;,
            &quot;text&quot;: &quot;\\define saveTiddlerFilter()\n[is[tiddler]] -[prefix[$:/state/popup/]] -[[$:/HistoryList]] -[[$:/boot/boot.css]] -[type[application/javascript]library[yes]] -[[$:/boot/boot.js]] -[[$:/boot/bootprefix.js]] +[sort[title]]\n\\end\n{{$:/core/templates/tiddlywiki5.html}}\n&quot;
        },
        &quot;$:/core/save/empty&quot;: {
            &quot;title&quot;: &quot;$:/core/save/empty&quot;,
            &quot;text&quot;: &quot;\\define saveTiddlerFilter()\n[is[system]] -[prefix[$:/state/popup/]] -[[$:/boot/boot.css]] -[type[application/javascript]library[yes]] -[[$:/boot/boot.js]] -[[$:/boot/bootprefix.js]] +[sort[title]]\n\\end\n{{$:/core/templates/tiddlywiki5.html}}\n&quot;
        },
        &quot;$:/core/save/lazy-images&quot;: {
            &quot;title&quot;: &quot;$:/core/save/lazy-images&quot;,
            &quot;text&quot;: &quot;\\define saveTiddlerFilter()\n[is[tiddler]] -[prefix[$:/state/popup/]] -[[$:/HistoryList]] -[[$:/boot/boot.css]] -[type[application/javascript]library[yes]] -[[$:/boot/boot.js]] -[[$:/boot/bootprefix.js]] -[!is[system]is[image]] +[sort[title]] \n\\end\n{{$:/core/templates/tiddlywiki5.html}}\n&quot;
        },
        &quot;$:/core/templates/split-recipe&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/split-recipe&quot;,
            &quot;text&quot;: &quot;&lt;$list filter=\&quot;[!is[system]]\&quot;&gt;\ntiddler: &lt;$view field=\&quot;title\&quot; format=\&quot;urlencoded\&quot;/&gt;.tid\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/templates/static-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/static-tiddler&quot;,
            &quot;text&quot;: &quot;&lt;a name=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$transclude tiddler=\&quot;$:/core/ui/ViewTemplate\&quot;/&gt;\n&lt;/a&gt;&quot;
        },
        &quot;$:/core/templates/static.area&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/static.area&quot;,
            &quot;text&quot;: &quot;&lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;$:/isEncrypted\&quot; text=\&quot;yes\&quot;&gt;\n{{$:/core/templates/static.content||$:/core/templates/html-tiddler}}\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=\&quot;$:/isEncrypted\&quot; text=\&quot;yes\&quot;&gt;\nThis file contains an encrypted ~TiddlyWiki. Enable ~JavaScript and enter the decryption password when prompted.\n&lt;/$reveal&gt;\n&quot;
        },
        &quot;$:/core/templates/static.content&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/static.content&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki&quot;,
            &quot;text&quot;: &quot;&lt;!-- For Google, and people without JavaScript--&gt;\nThis [[TiddlyWiki|http://tiddlywiki.com]] contains the following tiddlers:\n\n&lt;ul&gt;\n&lt;$list filter=&lt;&lt;saveTiddlerFilter&gt;&gt;&gt;\n&lt;li&gt;&lt;$view field=\&quot;title\&quot; format=\&quot;text\&quot;&gt;&lt;/$view&gt;&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n&quot;
        },
        &quot;$:/core/templates/static.template.css&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/static.template.css&quot;,
            &quot;text&quot;: &quot;{{$:/boot/boot.css||$:/core/templates/plain-text-tiddler}}\n\n{{$:/core/ui/PageStylesheet||$:/core/templates/wikified-tiddler}}\n&quot;
        },
        &quot;$:/core/templates/static.template.html&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/static.template.html&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki-html&quot;,
            &quot;text&quot;: &quot;\\define tv-wikilink-template() static/$uri_doubleencoded$.html\n\\define tv-config-toolbar-icons() no\n\\define tv-config-toolbar-text() no\n\\define tv-config-toolbar-class() tc-btn-invisible\n\\rules only filteredtranscludeinline transcludeinline\n&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\&quot;Content-Type\&quot; content=\&quot;text/html;charset=utf-8\&quot; /&gt;\n&lt;meta name=\&quot;generator\&quot; content=\&quot;TiddlyWiki\&quot; /&gt;\n&lt;meta name=\&quot;tiddlywiki-version\&quot; content=\&quot;{{$:/core/templates/version}}\&quot; /&gt;\n&lt;meta name=\&quot;format-detection\&quot; content=\&quot;telephone=no\&quot;&gt;\n&lt;link id=\&quot;faviconLink\&quot; rel=\&quot;shortcut icon\&quot; href=\&quot;favicon.ico\&quot;&gt;\n&lt;title&gt;{{$:/core/wiki/title}}&lt;/title&gt;\n&lt;div id=\&quot;styleArea\&quot;&gt;\n{{$:/boot/boot.css||$:/core/templates/css-tiddler}}\n&lt;/div&gt;\n&lt;style type=\&quot;text/css\&quot;&gt;\n{{$:/core/ui/PageStylesheet||$:/core/templates/wikified-tiddler}}\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body class=\&quot;tc-body\&quot;&gt;\n{{$:/StaticBanner||$:/core/templates/html-tiddler}}\n{{$:/core/ui/PageTemplate||$:/core/templates/html-tiddler}}\n&lt;/body&gt;\n&lt;/html&gt;\n&quot;
        },
        &quot;$:/core/templates/static.tiddler.html&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/static.tiddler.html&quot;,
            &quot;text&quot;: &quot;\\define tv-wikilink-template() $uri_doubleencoded$.html\n\\define tv-config-toolbar-icons() no\n\\define tv-config-toolbar-text() no\n\\define tv-config-toolbar-class() tc-btn-invisible\n`&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\&quot;Content-Type\&quot; content=\&quot;text/html;charset=utf-8\&quot; /&gt;\n&lt;meta name=\&quot;generator\&quot; content=\&quot;TiddlyWiki\&quot; /&gt;\n&lt;meta name=\&quot;tiddlywiki-version\&quot; content=\&quot;`{{$:/core/templates/version}}`\&quot; /&gt;\n&lt;meta name=\&quot;format-detection\&quot; content=\&quot;telephone=no\&quot;&gt;\n&lt;link id=\&quot;faviconLink\&quot; rel=\&quot;shortcut icon\&quot; href=\&quot;favicon.ico\&quot;&gt;\n&lt;link rel=\&quot;stylesheet\&quot; href=\&quot;static.css\&quot;&gt;\n&lt;title&gt;`{{$:/core/wiki/title}}`&lt;/title&gt;\n&lt;/head&gt;\n&lt;body class=\&quot;tc-body\&quot;&gt;\n`{{$:/StaticBanner||$:/core/templates/html-tiddler}}`\n&lt;section class=\&quot;tc-story-river\&quot;&gt;\n`&lt;$importvariables filter=\&quot;[[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\&quot;&gt;\n&lt;$view tiddler=\&quot;$:/core/ui/ViewTemplate\&quot; format=\&quot;htmlwikified\&quot;/&gt;\n&lt;/$importvariables&gt;`\n&lt;/section&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n`&quot;
        },
        &quot;$:/core/templates/store.area.template.html&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/store.area.template.html&quot;,
            &quot;text&quot;: &quot;&lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;$:/isEncrypted\&quot; text=\&quot;yes\&quot;&gt;\n`&lt;div id=\&quot;storeArea\&quot; style=\&quot;display:none;\&quot;&gt;`\n&lt;$list filter=&lt;&lt;saveTiddlerFilter&gt;&gt; template=\&quot;$:/core/templates/html-div-tiddler\&quot;/&gt;\n`&lt;/div&gt;`\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=\&quot;$:/isEncrypted\&quot; text=\&quot;yes\&quot;&gt;\n`&lt;!--~~ Encrypted tiddlers ~~--&gt;`\n`&lt;pre id=\&quot;encryptedStoreArea\&quot; type=\&quot;text/plain\&quot; style=\&quot;display:none;\&quot;&gt;`\n&lt;$encrypt filter=&lt;&lt;saveTiddlerFilter&gt;&gt;/&gt;\n`&lt;/pre&gt;`\n&lt;/$reveal&gt;&quot;
        },
        &quot;$:/core/templates/tid-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/tid-tiddler&quot;,
            &quot;text&quot;: &quot;&lt;!--\n\nThis template is used for saving tiddlers in TiddlyWeb *.tid format\n\n--&gt;&lt;$fields exclude='text bag' template='$name$: $value$\n'&gt;&lt;/$fields&gt;`\n`&lt;$view field=\&quot;text\&quot; format=\&quot;text\&quot; /&gt;&quot;
        },
        &quot;$:/core/templates/tiddler-metadata&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/tiddler-metadata&quot;,
            &quot;text&quot;: &quot;&lt;!--\n\nThis template is used for saving tiddler metadata *.meta files\n\n--&gt;&lt;$fields exclude='text bag' template='$name$: $value$\n'&gt;&lt;/$fields&gt;&quot;
        },
        &quot;$:/core/templates/tiddlywiki5.html&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/tiddlywiki5.html&quot;,
            &quot;text&quot;: &quot;\\rules only filteredtranscludeinline transcludeinline\n&lt;!doctype html&gt;\n{{$:/core/templates/MOTW.html}}&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\&quot;X-UA-Compatible\&quot; content=\&quot;IE=edge\&quot; /&gt;\t\t&lt;!-- Force IE standards mode for Intranet and HTA - should be the first meta --&gt;\n&lt;meta http-equiv=\&quot;Content-Type\&quot; content=\&quot;text/html;charset=utf-8\&quot; /&gt;\n&lt;meta name=\&quot;application-name\&quot; content=\&quot;TiddlyWiki\&quot; /&gt;\n&lt;meta name=\&quot;generator\&quot; content=\&quot;TiddlyWiki\&quot; /&gt;\n&lt;meta name=\&quot;tiddlywiki-version\&quot; content=\&quot;{{$:/core/templates/version}}\&quot; /&gt;\n&lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1.0\&quot; /&gt;\n&lt;meta name=\&quot;apple-mobile-web-app-capable\&quot; content=\&quot;yes\&quot; /&gt;\n&lt;meta name=\&quot;apple-mobile-web-app-status-bar-style\&quot; content=\&quot;black-translucent\&quot; /&gt;\n&lt;meta name=\&quot;format-detection\&quot; content=\&quot;telephone=no\&quot; /&gt;\n&lt;meta name=\&quot;copyright\&quot; content=\&quot;{{$:/core/copyright.txt}}\&quot; /&gt;\n&lt;link id=\&quot;faviconLink\&quot; rel=\&quot;shortcut icon\&quot; href=\&quot;favicon.ico\&quot;&gt;\n&lt;title&gt;{{$:/core/wiki/title}}&lt;/title&gt;\n&lt;!--~~ This is a Tiddlywiki file. The points of interest in the file are marked with this pattern ~~--&gt;\n\n&lt;!--~~ Raw markup ~~--&gt;\n{{{ [all[shadows+tiddlers]tag[$:/core/wiki/rawmarkup]] [all[shadows+tiddlers]tag[$:/tags/RawMarkup]] ||$:/core/templates/plain-text-tiddler}}}\n&lt;/head&gt;\n&lt;body class=\&quot;tc-body\&quot;&gt;\n&lt;!--~~ Static styles ~~--&gt;\n&lt;div id=\&quot;styleArea\&quot;&gt;\n{{$:/boot/boot.css||$:/core/templates/css-tiddler}}\n&lt;/div&gt;\n&lt;!--~~ Static content for Google and browsers without JavaScript ~~--&gt;\n&lt;noscript&gt;\n&lt;div id=\&quot;splashArea\&quot;&gt;\n{{$:/core/templates/static.area}}\n&lt;/div&gt;\n&lt;/noscript&gt;\n&lt;!--~~ Ordinary tiddlers ~~--&gt;\n{{$:/core/templates/store.area.template.html}}\n&lt;!--~~ Library modules ~~--&gt;\n&lt;div id=\&quot;libraryModules\&quot; style=\&quot;display:none;\&quot;&gt;\n{{{ [is[system]type[application/javascript]library[yes]] ||$:/core/templates/javascript-tiddler}}}\n&lt;/div&gt;\n&lt;!--~~ Boot kernel prologue ~~--&gt;\n&lt;div id=\&quot;bootKernelPrefix\&quot; style=\&quot;display:none;\&quot;&gt;\n{{ $:/boot/bootprefix.js ||$:/core/templates/javascript-tiddler}}\n&lt;/div&gt;\n&lt;!--~~ Boot kernel ~~--&gt;\n&lt;div id=\&quot;bootKernel\&quot; style=\&quot;display:none;\&quot;&gt;\n{{ $:/boot/boot.js ||$:/core/templates/javascript-tiddler}}\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&quot;
        },
        &quot;$:/core/templates/version&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/version&quot;,
            &quot;text&quot;: &quot;&lt;&lt;version&gt;&gt;&quot;
        },
        &quot;$:/core/templates/wikified-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/wikified-tiddler&quot;,
            &quot;text&quot;: &quot;&lt;$transclude /&gt;&quot;
        },
        &quot;$:/core/ui/AdvancedSearch/Filter&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/AdvancedSearch/Filter&quot;,
            &quot;tags&quot;: &quot;$:/tags/AdvancedSearch&quot;,
            &quot;caption&quot;: &quot;{{$:/language/Search/Filter/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/Search/\n&lt;$linkcatcher to=\&quot;$:/temp/advancedsearch\&quot;&gt;\n\n&lt;&lt;lingo Filter/Hint&gt;&gt;\n\n&lt;div class=\&quot;tc-search tc-advanced-search\&quot;&gt;\n&lt;$edit-text tiddler=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;search\&quot; tag=\&quot;input\&quot;/&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/filterDropdown\&quot;&gt;&gt; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$button&gt;\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;\n&lt;$action-setfield $tiddler=\&quot;$:/temp/advancedsearch\&quot; $field=\&quot;text\&quot; $value=\&quot;\&quot;/&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;$macrocall $name=\&quot;exportButton\&quot; exportFilter={{$:/temp/advancedsearch}} lingoBase=\&quot;$:/language/Buttons/ExportTiddlers/\&quot;/&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\n&lt;div class=\&quot;tc-block-dropdown-wrapper\&quot;&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/filterDropdown\&quot;&gt;&gt; type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=\&quot;\&quot;&gt;\n&lt;div class=\&quot;tc-block-dropdown tc-edit-type-dropdown\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/Filter]]\&quot;&gt;&lt;$link to={{!!filter}}&gt;&lt;$transclude field=\&quot;description\&quot;/&gt;&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\n&lt;/$linkcatcher&gt;\n\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n&lt;$set name=\&quot;resultCount\&quot; value=\&quot;\&quot;\&quot;&lt;$count filter={{$:/temp/advancedsearch}}/&gt;\&quot;\&quot;\&quot;&gt;\n&lt;div class=\&quot;tc-search-results\&quot;&gt;\n&lt;&lt;lingo Filter/Matches&gt;&gt;\n&lt;$list filter={{$:/temp/advancedsearch}} template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&lt;/div&gt;\n&lt;/$set&gt;\n&lt;/$reveal&gt;\n&quot;
        },
        &quot;$:/core/ui/AdvancedSearch/Shadows&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/AdvancedSearch/Shadows&quot;,
            &quot;tags&quot;: &quot;$:/tags/AdvancedSearch&quot;,
            &quot;caption&quot;: &quot;{{$:/language/Search/Shadows/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/Search/\n&lt;$linkcatcher to=\&quot;$:/temp/advancedsearch\&quot;&gt;\n\n&lt;&lt;lingo Shadows/Hint&gt;&gt;\n\n&lt;div class=\&quot;tc-search\&quot;&gt;\n&lt;$edit-text tiddler=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;search\&quot; tag=\&quot;input\&quot;/&gt;\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;\n&lt;$action-setfield $tiddler=\&quot;$:/temp/advancedsearch\&quot; $field=\&quot;text\&quot; $value=\&quot;\&quot;/&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\n&lt;/$linkcatcher&gt;\n\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n\n&lt;$set name=\&quot;resultCount\&quot; value=\&quot;\&quot;\&quot;&lt;$count filter=\&quot;[all[shadows]search{$:/temp/advancedsearch}] -[[$:/temp/advancedsearch]]\&quot;/&gt;\&quot;\&quot;\&quot;&gt;\n\n&lt;div class=\&quot;tc-search-results\&quot;&gt;\n\n&lt;&lt;lingo Shadows/Matches&gt;&gt;\n\n&lt;$list filter=\&quot;[all[shadows]search{$:/temp/advancedsearch}sort[title]limit[250]] -[[$:/temp/advancedsearch]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n\n&lt;/div&gt;\n\n&lt;/$set&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;match\&quot; text=\&quot;\&quot;&gt;\n\n&lt;/$reveal&gt;\n&quot;
        },
        &quot;$:/core/ui/AdvancedSearch/Standard&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/AdvancedSearch/Standard&quot;,
            &quot;tags&quot;: &quot;$:/tags/AdvancedSearch&quot;,
            &quot;caption&quot;: &quot;{{$:/language/Search/Standard/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/Search/\n&lt;$linkcatcher to=\&quot;$:/temp/advancedsearch\&quot;&gt;\n\n&lt;&lt;lingo Standard/Hint&gt;&gt;\n\n&lt;div class=\&quot;tc-search\&quot;&gt;\n&lt;$edit-text tiddler=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;search\&quot; tag=\&quot;input\&quot;/&gt;\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;\n&lt;$action-setfield $tiddler=\&quot;$:/temp/advancedsearch\&quot; $field=\&quot;text\&quot; $value=\&quot;\&quot;/&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\n&lt;/$linkcatcher&gt;\n\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n&lt;$set name=\&quot;searchTiddler\&quot; value=\&quot;$:/temp/advancedsearch\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/SearchResults]!has[draft.of]butfirst[]limit[1]]\&quot; emptyMessage=\&quot;\&quot;\&quot;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/SearchResults]!has[draft.of]]\&quot;&gt;\n&lt;$transclude/&gt;\n&lt;/$list&gt;\n\&quot;\&quot;\&quot;&gt;\n&lt;$macrocall $name=\&quot;tabs\&quot; tabsList=\&quot;[all[shadows+tiddlers]tag[$:/tags/SearchResults]!has[draft.of]]\&quot; default={{$:/config/SearchResults/Default}}/&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n&lt;/$reveal&gt;\n&quot;
        },
        &quot;$:/core/ui/AdvancedSearch/System&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/AdvancedSearch/System&quot;,
            &quot;tags&quot;: &quot;$:/tags/AdvancedSearch&quot;,
            &quot;caption&quot;: &quot;{{$:/language/Search/System/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/Search/\n&lt;$linkcatcher to=\&quot;$:/temp/advancedsearch\&quot;&gt;\n\n&lt;&lt;lingo System/Hint&gt;&gt;\n\n&lt;div class=\&quot;tc-search\&quot;&gt;\n&lt;$edit-text tiddler=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;search\&quot; tag=\&quot;input\&quot;/&gt;\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;\n&lt;$action-setfield $tiddler=\&quot;$:/temp/advancedsearch\&quot; $field=\&quot;text\&quot; $value=\&quot;\&quot;/&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\n&lt;/$linkcatcher&gt;\n\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n\n&lt;$set name=\&quot;resultCount\&quot; value=\&quot;\&quot;\&quot;&lt;$count filter=\&quot;[is[system]search{$:/temp/advancedsearch}] -[[$:/temp/advancedsearch]]\&quot;/&gt;\&quot;\&quot;\&quot;&gt;\n\n&lt;div class=\&quot;tc-search-results\&quot;&gt;\n\n&lt;&lt;lingo System/Matches&gt;&gt;\n\n&lt;$list filter=\&quot;[is[system]search{$:/temp/advancedsearch}sort[title]limit[250]] -[[$:/temp/advancedsearch]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n\n&lt;/div&gt;\n\n&lt;/$set&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;match\&quot; text=\&quot;\&quot;&gt;\n\n&lt;/$reveal&gt;\n&quot;
        },
        &quot;$:/AdvancedSearch&quot;: {
            &quot;title&quot;: &quot;$:/AdvancedSearch&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-advanced-search\&quot;&gt;\n&lt;&lt;tabs \&quot;[all[shadows+tiddlers]tag[$:/tags/AdvancedSearch]!has[draft.of]]\&quot; \&quot;$:/core/ui/AdvancedSearch/System\&quot;&gt;&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/AlertTemplate&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/AlertTemplate&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-alert\&quot;&gt;\n&lt;div class=\&quot;tc-alert-toolbar\&quot;&gt;\n&lt;$button message=\&quot;tm-delete-tiddler\&quot; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/delete-button}}&lt;/$button&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;tc-alert-subtitle\&quot;&gt;\n&lt;$view field=\&quot;component\&quot;/&gt; - &lt;$view field=\&quot;modified\&quot; format=\&quot;date\&quot; template=\&quot;0hh:0mm:0ss DD MM YYYY\&quot;/&gt; &lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;!!count\&quot; text=\&quot;\&quot;&gt;&lt;span class=\&quot;tc-alert-highlight\&quot;&gt;(count: &lt;$view field=\&quot;count\&quot;/&gt;)&lt;/span&gt;&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;tc-alert-body\&quot;&gt;\n\n&lt;$transclude/&gt;\n\n&lt;/div&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/BinaryWarning&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/BinaryWarning&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/BinaryWarning/\n&lt;div class=\&quot;tc-binary-warning\&quot;&gt;\n\n&lt;&lt;lingo Prompt&gt;&gt;\n\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Advanced&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Advanced&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Info&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Advanced/Caption}}&quot;,
            &quot;text&quot;: &quot;{{$:/language/ControlPanel/Advanced/Hint}}\n\n&lt;div class=\&quot;tc-control-panel\&quot;&gt;\n&lt;&lt;tabs \&quot;[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Advanced]!has[draft.of]]\&quot; \&quot;$:/core/ui/ControlPanel/TiddlerFields\&quot;&gt;&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Appearance&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Appearance&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Appearance/Caption}}&quot;,
            &quot;text&quot;: &quot;{{$:/language/ControlPanel/Appearance/Hint}}\n\n&lt;div class=\&quot;tc-control-panel\&quot;&gt;\n&lt;&lt;tabs \&quot;[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Appearance]!has[draft.of]]\&quot; \&quot;$:/core/ui/ControlPanel/Theme\&quot;&gt;&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Basics&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Basics&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Info&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Basics/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Basics/\n\n\\define show-filter-count(filter)\n&lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;\n&lt;$action-setfield $tiddler=\&quot;$:/temp/advancedsearch\&quot; $value=\&quot;\&quot;\&quot;$filter$\&quot;\&quot;\&quot;/&gt;\n&lt;$action-setfield $tiddler=\&quot;$:/state/tab--1498284803\&quot; $value=\&quot;$:/core/ui/AdvancedSearch/Filter\&quot;/&gt;\n&lt;$action-navigate $to=\&quot;$:/AdvancedSearch\&quot;/&gt;\n''&lt;$count filter=\&quot;\&quot;\&quot;$filter$\&quot;\&quot;\&quot;/&gt;''\n{{$:/core/images/advanced-search-button}}\n&lt;/$button&gt;\n\\end\n\n|&lt;&lt;lingo Version/Prompt&gt;&gt; |''&lt;&lt;version&gt;&gt;'' |\n|&lt;$link to=\&quot;$:/SiteTitle\&quot;&gt;&lt;&lt;lingo Title/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\&quot;$:/SiteTitle\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;$link to=\&quot;$:/SiteSubtitle\&quot;&gt;&lt;&lt;lingo Subtitle/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\&quot;$:/SiteSubtitle\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;$link to=\&quot;$:/status/UserName\&quot;&gt;&lt;&lt;lingo Username/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\&quot;$:/status/UserName\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;$link to=\&quot;$:/config/AnimationDuration\&quot;&gt;&lt;&lt;lingo AnimDuration/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\&quot;$:/config/AnimationDuration\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;$link to=\&quot;$:/DefaultTiddlers\&quot;&gt;&lt;&lt;lingo DefaultTiddlers/Prompt&gt;&gt;&lt;/$link&gt; |&lt;&lt;lingo DefaultTiddlers/TopHint&gt;&gt;&lt;br&gt; &lt;$edit-text tag=\&quot;textarea\&quot; tiddler=\&quot;$:/DefaultTiddlers\&quot;/&gt;&lt;br&gt;//&lt;&lt;lingo DefaultTiddlers/BottomHint&gt;&gt;// |\n|&lt;$link to=\&quot;$:/config/NewJournal/Title\&quot;&gt;&lt;&lt;lingo NewJournal/Title/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\&quot;$:/config/NewJournal/Title\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;$link to=\&quot;$:/config/NewJournal/Tags\&quot;&gt;&lt;&lt;lingo NewJournal/Tags/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\&quot;$:/config/NewJournal/Tags\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;&lt;lingo Language/Prompt&gt;&gt; |{{$:/snippets/minilanguageswitcher}} |\n|&lt;&lt;lingo Tiddlers/Prompt&gt;&gt; |&lt;&lt;show-filter-count \&quot;[!is[system]sort[title]]\&quot;&gt;&gt; |\n|&lt;&lt;lingo Tags/Prompt&gt;&gt; |&lt;&lt;show-filter-count \&quot;[tags[]sort[title]]\&quot;&gt;&gt; |\n|&lt;&lt;lingo SystemTiddlers/Prompt&gt;&gt; |&lt;&lt;show-filter-count \&quot;[is[system]sort[title]]\&quot;&gt;&gt; |\n|&lt;&lt;lingo ShadowTiddlers/Prompt&gt;&gt; |&lt;&lt;show-filter-count \&quot;[all[shadows]sort[title]]\&quot;&gt;&gt; |\n|&lt;&lt;lingo OverriddenShadowTiddlers/Prompt&gt;&gt; |&lt;&lt;show-filter-count \&quot;[is[tiddler]is[shadow]sort[title]]\&quot;&gt;&gt; |\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/EditorTypes&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/EditorTypes&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Advanced&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/EditorTypes/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/EditorTypes/\n\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;table&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;th&gt;&lt;&lt;lingo Type/Caption&gt;&gt;&lt;/th&gt;\n&lt;th&gt;&lt;&lt;lingo Editor/Caption&gt;&gt;&lt;/th&gt;\n&lt;/tr&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]prefix[$:/config/EditorTypeMappings/]sort[title]]\&quot;&gt;\n&lt;tr&gt;\n&lt;td&gt;\n&lt;$link&gt;\n&lt;$list filter=\&quot;[all[current]removeprefix[$:/config/EditorTypeMappings/]]\&quot;&gt;\n&lt;$text text={{!!title}}/&gt;\n&lt;/$list&gt;\n&lt;/$link&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$view field=\&quot;text\&quot;/&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Info&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Info&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Info/Caption}}&quot;,
            &quot;text&quot;: &quot;{{$:/language/ControlPanel/Info/Hint}}\n\n&lt;div class=\&quot;tc-control-panel\&quot;&gt;\n&lt;&lt;tabs \&quot;[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Info]!has[draft.of]]\&quot; \&quot;$:/core/ui/ControlPanel/Basics\&quot;&gt;&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/LoadedModules&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/LoadedModules&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Advanced&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/LoadedModules/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/\n&lt;&lt;lingo LoadedModules/Hint&gt;&gt;\n\n{{$:/snippets/modules}}\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Palette&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Palette&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Appearance&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Palette/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Palette/\n\n{{$:/snippets/paletteswitcher}}\n\n&lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;$:/state/ShowPaletteEditor\&quot; text=\&quot;yes\&quot;&gt;\n\n&lt;$button set=\&quot;$:/state/ShowPaletteEditor\&quot; setTo=\&quot;yes\&quot;&gt;&lt;&lt;lingo ShowEditor/Caption&gt;&gt;&lt;/$button&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal type=\&quot;match\&quot; state=\&quot;$:/state/ShowPaletteEditor\&quot; text=\&quot;yes\&quot;&gt;\n\n&lt;$button set=\&quot;$:/state/ShowPaletteEditor\&quot; setTo=\&quot;no\&quot;&gt;&lt;&lt;lingo HideEditor/Caption&gt;&gt;&lt;/$button&gt;\n{{$:/snippets/paletteeditor}}\n\n&lt;/$reveal&gt;\n\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Plugins&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Plugins&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Plugins/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Plugins/\n\\define popup-state-macro()\n$(qualified-state)$-$(currentTiddler)$\n\\end\n\\define tabs-state-macro()\n$(popup-state)$-$(pluginInfoType)$\n\\end\n\\define plugin-icon-title()\n$(currentTiddler)$/icon\n\\end\n\\define plugin-disable-title()\n$:/config/Plugins/Disabled/$(currentTiddler)$\n\\end\n\\define plugin-table-body(type,disabledMessage)\n&lt;div class=\&quot;tc-plugin-info-chunk\&quot;&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;popup-state&gt;&gt; text=\&quot;yes\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; set=&lt;&lt;popup-state&gt;&gt; setTo=\&quot;yes\&quot;&gt;\n{{$:/core/images/right-arrow}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;popup-state&gt;&gt; text=\&quot;yes\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; set=&lt;&lt;popup-state&gt;&gt; setTo=\&quot;no\&quot;&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;tc-plugin-info-chunk\&quot;&gt;\n&lt;$transclude tiddler=&lt;&lt;currentTiddler&gt;&gt; subtiddler=&lt;&lt;plugin-icon-title&gt;&gt;&gt;\n&lt;$transclude tiddler=\&quot;$:/core/images/plugin-generic-$type$\&quot;/&gt;\n&lt;/$transclude&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;tc-plugin-info-chunk\&quot;&gt;\n&lt;div&gt;\n''&lt;$view field=\&quot;description\&quot;&gt;&lt;$view field=\&quot;title\&quot;/&gt;&lt;/$view&gt;'' $disabledMessage$\n&lt;/div&gt;\n&lt;div&gt;\n&lt;$view field=\&quot;title\&quot;/&gt;\n&lt;/div&gt;\n&lt;div&gt;\n&lt;$view field=\&quot;version\&quot;/&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\\end\n\\define plugin-table(type)\n&lt;$set name=\&quot;qualified-state\&quot; value=&lt;&lt;qualify \&quot;$:/state/plugin-info\&quot;&gt;&gt;&gt;\n&lt;$list filter=\&quot;[!has[draft.of]plugin-type[$type$]sort[description]]\&quot; emptyMessage=&lt;&lt;lingo \&quot;Empty/Hint\&quot;&gt;&gt;&gt;\n&lt;$set name=\&quot;popup-state\&quot; value=&lt;&lt;popup-state-macro&gt;&gt;&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;plugin-disable-title&gt;&gt; text=\&quot;yes\&quot;&gt;\n&lt;$link to={{!!title}} class=\&quot;tc-plugin-info\&quot;&gt;\n&lt;&lt;plugin-table-body type:\&quot;$type$\&quot;&gt;&gt;\n&lt;/$link&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;plugin-disable-title&gt;&gt; text=\&quot;yes\&quot;&gt;\n&lt;$link to={{!!title}} class=\&quot;tc-plugin-info tc-plugin-info-disabled\&quot;&gt;\n&lt;&lt;plugin-table-body type:\&quot;$type$\&quot; disabledMessage:\&quot;&lt;$macrocall $name='lingo' title='Disabled/Status'/&gt;\&quot;&gt;&gt;\n&lt;/$link&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; text=\&quot;yes\&quot; state=&lt;&lt;popup-state&gt;&gt;&gt;\n&lt;div class=\&quot;tc-plugin-info-dropdown\&quot;&gt;\n&lt;$list filter=\&quot;[all[current]] -[[$:/core]]\&quot;&gt;\n&lt;div style=\&quot;float:right;\&quot;&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;plugin-disable-title&gt;&gt; text=\&quot;yes\&quot;&gt;\n&lt;$button set=&lt;&lt;plugin-disable-title&gt;&gt; setTo=\&quot;yes\&quot; tooltip={{$:/language/ControlPanel/Plugins/Disable/Hint}} aria-label={{$:/language/ControlPanel/Plugins/Disable/Caption}}&gt;\n&lt;&lt;lingo Disable/Caption&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;plugin-disable-title&gt;&gt; text=\&quot;yes\&quot;&gt;\n&lt;$button set=&lt;&lt;plugin-disable-title&gt;&gt; setTo=\&quot;no\&quot; tooltip={{$:/language/ControlPanel/Plugins/Enable/Hint}} aria-label={{$:/language/ControlPanel/Plugins/Enable/Caption}}&gt;\n&lt;&lt;lingo Enable/Caption&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; text=\&quot;\&quot; state=\&quot;!!list\&quot;&gt;\n&lt;$macrocall $name=\&quot;tabs\&quot; state=&lt;&lt;tabs-state-macro&gt;&gt; tabsList={{!!list}} default=\&quot;readme\&quot; template=\&quot;$:/core/ui/PluginInfo\&quot;/&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; text=\&quot;\&quot; state=\&quot;!!list\&quot;&gt;\nNo information provided\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n\\end\n\n! &lt;&lt;lingo Plugin/Prompt&gt;&gt;\n\n&lt;&lt;plugin-table plugin&gt;&gt;\n\n! &lt;&lt;lingo Theme/Prompt&gt;&gt;\n\n&lt;&lt;plugin-table theme&gt;&gt;\n\n! &lt;&lt;lingo Language/Prompt&gt;&gt;\n\n&lt;&lt;plugin-table language&gt;&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Saving&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Saving&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Saving/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Saving/\n\\define backupURL()\nhttp://$(userName)$.tiddlyspot.com/backup/\n\\end\n\\define backupLink()\n&lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;$:/UploadName\&quot; text=\&quot;\&quot;&gt;\n&lt;$set name=\&quot;userName\&quot; value={{$:/UploadName}}&gt;\n&lt;a href=&lt;&lt;backupURL&gt;&gt;&gt;&lt;$macrocall $name=\&quot;backupURL\&quot; $type=\&quot;text/plain\&quot; $output=\&quot;text/plain\&quot;/&gt;&lt;/a&gt;\n&lt;/$set&gt;\n&lt;/$reveal&gt;\n\\end\n! &lt;&lt;lingo TiddlySpot/Heading&gt;&gt;\n\n&lt;&lt;lingo TiddlySpot/Description&gt;&gt;\n\n|&lt;&lt;lingo TiddlySpot/UserName&gt;&gt; |&lt;$edit-text tiddler=\&quot;$:/UploadName\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;&lt;lingo TiddlySpot/Password&gt;&gt; |&lt;$password name=\&quot;upload\&quot;/&gt; |\n|&lt;&lt;lingo TiddlySpot/Backups&gt;&gt; |&lt;&lt;backupLink&gt;&gt; |\n\n''&lt;&lt;lingo TiddlySpot/Advanced/Heading&gt;&gt;''\n\n|&lt;&lt;lingo TiddlySpot/ServerURL&gt;&gt;  |&lt;$edit-text tiddler=\&quot;$:/UploadURL\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;&lt;lingo TiddlySpot/Filename&gt;&gt; |&lt;$edit-text tiddler=\&quot;$:/UploadFilename\&quot; default=\&quot;index.html\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;&lt;lingo TiddlySpot/UploadDir&gt;&gt; |&lt;$edit-text tiddler=\&quot;$:/UploadDir\&quot; default=\&quot;.\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;&lt;lingo TiddlySpot/BackupDir&gt;&gt; |&lt;$edit-text tiddler=\&quot;$:/UploadBackupDir\&quot; default=\&quot;.\&quot; tag=\&quot;input\&quot;/&gt; |\n\n&lt;&lt;lingo TiddlySpot/Hint&gt;&gt;\n\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Settings/AutoSave&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Settings/AutoSave&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Settings&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/AutoSave/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Settings/AutoSave/\n\n&lt;$link to=\&quot;$:/config/AutoSave\&quot;&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/$link&gt;\n\n&lt;$radio tiddler=\&quot;$:/config/AutoSave\&quot; value=\&quot;yes\&quot;&gt; &lt;&lt;lingo Enabled/Description&gt;&gt; &lt;/$radio&gt;\n\n&lt;$radio tiddler=\&quot;$:/config/AutoSave\&quot; value=\&quot;no\&quot;&gt; &lt;&lt;lingo Disabled/Description&gt;&gt; &lt;/$radio&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Settings/NavigationAddressBar&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Settings/NavigationAddressBar&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Settings&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/NavigationAddressBar/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Settings/NavigationAddressBar/\n\n&lt;$link to=\&quot;$:/config/Navigation/UpdateAddressBar\&quot;&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/$link&gt;\n\n&lt;$radio tiddler=\&quot;$:/config/Navigation/UpdateAddressBar\&quot; value=\&quot;permaview\&quot;&gt; &lt;&lt;lingo Permaview/Description&gt;&gt; &lt;/$radio&gt;\n\n&lt;$radio tiddler=\&quot;$:/config/Navigation/UpdateAddressBar\&quot; value=\&quot;permalink\&quot;&gt; &lt;&lt;lingo Permalink/Description&gt;&gt; &lt;/$radio&gt;\n\n&lt;$radio tiddler=\&quot;$:/config/Navigation/UpdateAddressBar\&quot; value=\&quot;no\&quot;&gt; &lt;&lt;lingo No/Description&gt;&gt; &lt;/$radio&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Settings/NavigationHistory&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Settings/NavigationHistory&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Settings&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/NavigationHistory/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Settings/NavigationHistory/\n&lt;$link to=\&quot;$:/config/Navigation/UpdateHistory\&quot;&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/$link&gt;\n\n&lt;$radio tiddler=\&quot;$:/config/Navigation/UpdateHistory\&quot; value=\&quot;yes\&quot;&gt; &lt;&lt;lingo Yes/Description&gt;&gt; &lt;/$radio&gt;\n\n&lt;$radio tiddler=\&quot;$:/config/Navigation/UpdateHistory\&quot; value=\&quot;no\&quot;&gt; &lt;&lt;lingo No/Description&gt;&gt; &lt;/$radio&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Settings/ToolbarButtons&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Settings/ToolbarButtons&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Settings&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/ToolbarButtons/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Settings/ToolbarButtons/\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;$checkbox tiddler=\&quot;$:/config/Toolbar/Icons\&quot; field=\&quot;text\&quot; checked=\&quot;yes\&quot; unchecked=\&quot;no\&quot; default=\&quot;yes\&quot;&gt; &lt;$link to=\&quot;$:/config/Toolbar/Icons\&quot;&gt;&lt;&lt;lingo Icons/Description&gt;&gt;&lt;/$link&gt; &lt;/$checkbox&gt;\n\n&lt;$checkbox tiddler=\&quot;$:/config/Toolbar/Text\&quot; field=\&quot;text\&quot; checked=\&quot;yes\&quot; unchecked=\&quot;no\&quot; default=\&quot;no\&quot;&gt; &lt;$link to=\&quot;$:/config/Toolbar/Text\&quot;&gt;&lt;&lt;lingo Text/Description&gt;&gt;&lt;/$link&gt; &lt;/$checkbox&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Settings&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Settings&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Settings/\n\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Settings]]\&quot;&gt;\n\n&lt;div style=\&quot;border-top:1px solid #eee;\&quot;&gt;\n\n!! &lt;$link&gt;&lt;$transclude field=\&quot;caption\&quot;/&gt;&lt;/$link&gt;\n\n&lt;$transclude/&gt;\n\n&lt;/div&gt;\n\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/StoryView&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/StoryView&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Appearance&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/StoryView/Caption}}&quot;,
            &quot;text&quot;: &quot;{{$:/snippets/viewswitcher}}\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Theme&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Theme&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Appearance&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Theme/Caption}}&quot;,
            &quot;text&quot;: &quot;{{$:/snippets/themeswitcher}}\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/TiddlerFields&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/TiddlerFields&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Advanced&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/TiddlerFields/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/\n\n&lt;&lt;lingo TiddlerFields/Hint&gt;&gt;\n\n{{$:/snippets/allfields}}&quot;
        },
        &quot;$:/core/ui/ControlPanel/Toolbars/EditToolbar&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Toolbars/EditToolbar&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Toolbars&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Toolbars/EditToolbar/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/\n\\define config-title()\n$:/config/EditToolbarButtons/Visibility/$(listItem)$\n\\end\n\n{{$:/language/ControlPanel/Toolbars/EditToolbar/Hint}}\n\n&lt;$set name=\&quot;tv-config-toolbar-icons\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-text\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/EditToolbar]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;$checkbox tiddler=&lt;&lt;config-title&gt;&gt; field=\&quot;text\&quot; checked=\&quot;show\&quot; unchecked=\&quot;hide\&quot; default=\&quot;show\&quot;/&gt; &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\&quot;caption\&quot;/&gt; &lt;i class=\&quot;tc-muted\&quot;&gt;-- &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\&quot;description\&quot;/&gt;&lt;/i&gt;\n\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Toolbars/PageControls&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Toolbars/PageControls&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Toolbars&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Toolbars/PageControls/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/\n\\define config-title()\n$:/config/PageControlButtons/Visibility/$(listItem)$\n\\end\n\n{{$:/language/ControlPanel/Toolbars/PageControls/Hint}}\n\n&lt;$set name=\&quot;tv-config-toolbar-icons\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-text\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/PageControls]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;$checkbox tiddler=&lt;&lt;config-title&gt;&gt; field=\&quot;text\&quot; checked=\&quot;show\&quot; unchecked=\&quot;hide\&quot; default=\&quot;show\&quot;/&gt; &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\&quot;caption\&quot;/&gt; &lt;i class=\&quot;tc-muted\&quot;&gt;-- &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\&quot;description\&quot;/&gt;&lt;/i&gt;\n\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Toolbars/ViewToolbar&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Toolbars/ViewToolbar&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Toolbars&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Toolbars/ViewToolbar/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/\n\\define config-title()\n$:/config/ViewToolbarButtons/Visibility/$(listItem)$\n\\end\n\n{{$:/language/ControlPanel/Toolbars/ViewToolbar/Hint}}\n\n&lt;$set name=\&quot;tv-config-toolbar-icons\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-text\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/ViewToolbar]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;$checkbox tiddler=&lt;&lt;config-title&gt;&gt; field=\&quot;text\&quot; checked=\&quot;show\&quot; unchecked=\&quot;hide\&quot; default=\&quot;show\&quot;/&gt; &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\&quot;caption\&quot;/&gt; &lt;i class=\&quot;tc-muted\&quot;&gt;-- &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\&quot;description\&quot;/&gt;&lt;/i&gt;\n\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Toolbars&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Toolbars&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Appearance&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Toolbars/Caption}}&quot;,
            &quot;text&quot;: &quot;{{$:/language/ControlPanel/Toolbars/Hint}}\n\n&lt;div class=\&quot;tc-control-panel\&quot;&gt;\n&lt;&lt;tabs \&quot;[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Toolbars]!has[draft.of]]\&quot; \&quot;$:/core/ui/ControlPanel/Toolbars/ViewToolbar\&quot; \&quot;$:/state/tabs/controlpanel/toolbars\&quot; \&quot;tc-vertical\&quot;&gt;&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/ControlPanel&quot;: {
            &quot;title&quot;: &quot;$:/ControlPanel&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-control-panel\&quot;&gt;\n&lt;&lt;tabs \&quot;[all[shadows+tiddlers]tag[$:/tags/ControlPanel]!has[draft.of]]\&quot; \&quot;$:/core/ui/ControlPanel/Info\&quot;&gt;&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/DefaultSearchResultList&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/DefaultSearchResultList&quot;,
            &quot;tags&quot;: &quot;$:/tags/SearchResults&quot;,
            &quot;caption&quot;: &quot;{{$:/language/Search/DefaultResults/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define searchResultList()\n&lt;$set name=\&quot;resultCount\&quot; value=\&quot;\&quot;\&quot;&lt;$count filter=\&quot;[!is[system]search{$(searchTiddler)$}]\&quot;/&gt;\&quot;\&quot;\&quot;&gt;\n\n{{$:/language/Search/Matches}}\n\n&lt;/$set&gt;\n\n//&lt;small&gt;Title matches:&lt;/small&gt;//\n\n&lt;$list filter=\&quot;[!is[system]search:title{$(searchTiddler)$}sort[title]limit[250]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n\n//&lt;small&gt;All matches:&lt;/small&gt;//\n\n&lt;$list filter=\&quot;[!is[system]search{$(searchTiddler)$}sort[title]limit[250]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n\\end\n&lt;&lt;searchResultList&gt;&gt;\n&quot;
        },
        &quot;$:/core/ui/EditTemplate/body&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/EditTemplate/body&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditTemplate&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/EditTemplate/Body/\n&lt;$list filter=\&quot;[is[current]has[_canonical_uri]]\&quot;&gt;\n\n&lt;div class=\&quot;tc-message-box\&quot;&gt;\n\n&lt;&lt;lingo External/Hint&gt;&gt;\n\n&lt;a href={{!!_canonical_uri}}&gt;&lt;$text text={{!!_canonical_uri}}/&gt;&lt;/a&gt;\n\n&lt;$edit-text field=\&quot;_canonical_uri\&quot; class=\&quot;tc-edit-fields\&quot;&gt;&lt;/$edit-text&gt;\n\n&lt;/div&gt;\n\n&lt;/$list&gt;\n\n&lt;$list filter=\&quot;[is[current]!has[_canonical_uri]]\&quot;&gt;\n\n&lt;$reveal state=\&quot;$:/state/showeditpreview\&quot; type=\&quot;match\&quot; text=\&quot;yes\&quot;&gt;\n\n&lt;em class=\&quot;tc-edit\&quot;&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/em&gt; &lt;$button type=\&quot;set\&quot; set=\&quot;$:/state/showeditpreview\&quot; setTo=\&quot;no\&quot;&gt;&lt;&lt;lingo Preview/Button/Hide&gt;&gt;&lt;/$button&gt;\n\n&lt;div class=\&quot;tc-tiddler-preview\&quot;&gt;\n&lt;div class=\&quot;tc-tiddler-preview-preview\&quot;&gt;\n\n&lt;$transclude /&gt;\n\n&lt;/div&gt;\n\n&lt;div class=\&quot;tc-tiddler-preview-edit\&quot;&gt;\n&lt;$edit field=\&quot;text\&quot; class=\&quot;tc-edit-texteditor\&quot; placeholder={{$:/language/EditTemplate/Body/Placeholder}}/&gt;\n\n&lt;/div&gt;\n\n&lt;/div&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal state=\&quot;$:/state/showeditpreview\&quot; type=\&quot;nomatch\&quot; text=\&quot;yes\&quot;&gt;\n\n&lt;em class=\&quot;tc-edit\&quot;&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/em&gt; &lt;$button type=\&quot;set\&quot; set=\&quot;$:/state/showeditpreview\&quot; setTo=\&quot;yes\&quot;&gt;&lt;&lt;lingo Preview/Button/Show&gt;&gt;&lt;/$button&gt;\n&lt;$edit field=\&quot;text\&quot; class=\&quot;tc-edit-texteditor\&quot; placeholder={{$:/language/EditTemplate/Body/Placeholder}}/&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/EditTemplate/controls&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/EditTemplate/controls&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditTemplate&quot;,
            &quot;text&quot;: &quot;\\define config-title()\n$:/config/EditToolbarButtons/Visibility/$(listItem)$\n\\end\n&lt;div class=\&quot;tc-tiddler-title tc-tiddler-edit-title\&quot;&gt;\n&lt;$view field=\&quot;title\&quot;/&gt;\n&lt;span class=\&quot;tc-tiddler-controls tc-titlebar\&quot;&gt;&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/EditToolbar]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;config-title&gt;&gt; text=\&quot;hide\&quot;&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;&lt;/$reveal&gt;&lt;/$list&gt;&lt;/span&gt;\n&lt;div style=\&quot;clear: both;\&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/EditTemplate/fields&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/EditTemplate/fields&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditTemplate&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/EditTemplate/\n\\define config-title()\n$:/config/EditTemplateFields/Visibility/$(currentField)$\n\\end\n\n\\define config-filter()\n[[hide]] -[title{$(config-title)$}]\n\\end\n\n\\define new-field(name,value)\n&lt;$reveal type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=\&quot;\&quot;\&quot;$name$\&quot;\&quot;\&quot;&gt;\n&lt;$button&gt;\n&lt;$action-sendmessage $message=\&quot;tm-add-field\&quot; $name$=\&quot;\&quot;\&quot;$value$\&quot;\&quot;\&quot;/&gt;\n&lt;$action-deletetiddler $tiddler=\&quot;$:/temp/newfieldname\&quot;/&gt;\n&lt;$action-deletetiddler $tiddler=\&quot;$:/temp/newfieldvalue\&quot;/&gt;\n&lt;&lt;lingo Fields/Add/Button&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; text=\&quot;\&quot; default=\&quot;\&quot;\&quot;$name$\&quot;\&quot;\&quot;&gt;\n&lt;$button&gt;\n&lt;&lt;lingo Fields/Add/Button&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n\\end\n\n&lt;div class=\&quot;tc-edit-fields\&quot;&gt;\n&lt;table class=\&quot;tc-edit-fields\&quot;&gt;\n&lt;tbody&gt;\n&lt;$list filter=\&quot;[all[current]fields[]] +[sort[title]]\&quot; variable=\&quot;currentField\&quot;&gt;\n&lt;$list filter=&lt;&lt;config-filter&gt;&gt; variable=\&quot;temp\&quot;&gt;\n&lt;tr class=\&quot;tc-edit-field\&quot;&gt;\n&lt;td class=\&quot;tc-edit-field-name\&quot;&gt;\n&lt;$text text=&lt;&lt;currentField&gt;&gt;/&gt;:&lt;/td&gt;\n&lt;td class=\&quot;tc-edit-field-value\&quot;&gt;\n&lt;$edit-text tiddler=&lt;&lt;currentTiddler&gt;&gt; field=&lt;&lt;currentField&gt;&gt; placeholder={{$:/language/EditTemplate/Fields/Add/Value/Placeholder}}/&gt;\n&lt;/td&gt;\n&lt;td class=\&quot;tc-edit-field-remove\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible\&quot; tooltip={{$:/language/EditTemplate/Field/Remove/Hint}} aria-label={{$:/language/EditTemplate/Field/Remove/Caption}}&gt;\n&lt;$action-deletefield $field=&lt;&lt;currentField&gt;&gt;/&gt;\n{{$:/core/images/delete-button}}\n&lt;/$button&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/div&gt;\n\n&lt;$fieldmangler&gt;\n&lt;div class=\&quot;tc-edit-field-add\&quot;&gt;\n&lt;em class=\&quot;tc-edit\&quot;&gt;\n&lt;&lt;lingo Fields/Add/Prompt&gt;&gt;\n&lt;/em&gt;\n&lt;span class=\&quot;tc-edit-field-add-name\&quot;&gt;\n&lt;$edit-text tiddler=\&quot;$:/temp/newfieldname\&quot; tag=\&quot;input\&quot; default=\&quot;\&quot; placeholder={{$:/language/EditTemplate/Fields/Add/Name/Placeholder}} class=\&quot;tc-edit-texteditor\&quot;/&gt;\n&lt;/span&gt;\n&lt;span class=\&quot;tc-edit-field-add-value\&quot;&gt;\n&lt;$edit-text tiddler=\&quot;$:/temp/newfieldvalue\&quot; tag=\&quot;input\&quot; default=\&quot;\&quot; placeholder={{$:/language/EditTemplate/Fields/Add/Value/Placeholder}} class=\&quot;tc-edit-texteditor\&quot;/&gt;\n&lt;/span&gt;\n&lt;span class=\&quot;tc-edit-field-add-button\&quot;&gt;\n&lt;$macrocall $name=\&quot;new-field\&quot; name={{$:/temp/newfieldname}} value={{$:/temp/newfieldvalue}}/&gt;\n&lt;/span&gt;\n&lt;/div&gt;\n&lt;/$fieldmangler&gt;\n\n&quot;
        },
        &quot;$:/core/ui/EditTemplate/shadow&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/EditTemplate/shadow&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditTemplate&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/EditTemplate/Shadow/\n&lt;$list filter=\&quot;[all[current]get[draft.of]is[shadow]!is[tiddler]]\&quot;&gt;\n&lt;div class=\&quot;tc-message-box\&quot;&gt;\n\n&lt;&lt;lingo Warning&gt;&gt;\n\n&lt;/div&gt;\n&lt;/$list&gt;\n\n&lt;$list filter=\&quot;[all[current]get[draft.of]is[shadow]is[tiddler]]\&quot;&gt;\n&lt;div class=\&quot;tc-message-box\&quot;&gt;\n\n&lt;&lt;lingo OverriddenWarning&gt;&gt;\n\n&lt;/div&gt;\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/EditTemplate/tags&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/EditTemplate/tags&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditTemplate&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/EditTemplate/\n\\define tag-styles()\nbackground-color:$(backgroundColor)$;\n\\end\n&lt;div class=\&quot;tc-edit-tags\&quot;&gt;\n&lt;$fieldmangler&gt;\n&lt;$list filter=\&quot;[all[current]tags[]sort[title]]\&quot; storyview=\&quot;pop\&quot;&gt;&lt;$set name=\&quot;backgroundColor\&quot; value={{!!color}}&gt;&lt;span style=&lt;&lt;tag-styles&gt;&gt; class=\&quot;tc-tag-label\&quot;&gt;\n&lt;$view field=\&quot;title\&quot; format=\&quot;text\&quot; /&gt;\n&lt;$button message=\&quot;tm-remove-tag\&quot; param={{!!title}} class=\&quot;tc-btn-invisible tc-remove-tag-button\&quot;&gt;&amp;times;&lt;/$button&gt;&lt;/span&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n\n&lt;div class=\&quot;tc-edit-add-tag\&quot;&gt;\n&lt;span class=\&quot;tc-add-tag-name\&quot;&gt;\n&lt;$edit-text tiddler=\&quot;$:/temp/NewTagName\&quot; tag=\&quot;input\&quot; default=\&quot;\&quot; placeholder={{$:/language/EditTemplate/Tags/Add/Placeholder}} focusPopup=&lt;&lt;qualify \&quot;$:/state/popup/tags-auto-complete\&quot;&gt;&gt; class=\&quot;tc-edit-texteditor tc-popup-handle\&quot;/&gt;\n&lt;/span&gt; &lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/tags-auto-complete\&quot;&gt;&gt; class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; tooltip={{$:/language/EditTemplate/Tags/Dropdown/Hint}} aria-label={{$:/language/EditTemplate/Tags/Dropdown/Caption}}&gt;{{$:/core/images/down-arrow}}&lt;/$button&gt; &lt;span class=\&quot;tc-add-tag-button\&quot;&gt;\n&lt;$button message=\&quot;tm-add-tag\&quot; param={{$:/temp/NewTagName}} set=\&quot;$:/temp/NewTagName\&quot; setTo=\&quot;\&quot; class=\&quot;\&quot;&gt;\n&lt;&lt;lingo Tags/Add/Button&gt;&gt;\n&lt;/$button&gt;\n&lt;/span&gt;\n&lt;/div&gt;\n\n&lt;div class=\&quot;tc-block-dropdown-wrapper\&quot;&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/tags-auto-complete\&quot;&gt;&gt; type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=\&quot;\&quot;&gt;\n&lt;div class=\&quot;tc-block-dropdown\&quot;&gt;\n&lt;$linkcatcher set=\&quot;$:/temp/NewTagName\&quot; setTo=\&quot;\&quot; message=\&quot;tm-add-tag\&quot;&gt;\n&lt;$list filter=\&quot;[!is[shadow]tags[]search{$:/temp/NewTagName}sort[title]]\&quot;&gt;\n&lt;$link&gt;\n&lt;$set name=\&quot;backgroundColor\&quot; value={{!!color}}&gt;\n&lt;span style=&lt;&lt;tag-styles&gt;&gt; class=\&quot;tc-tag-label\&quot;&gt;\n&lt;$view field=\&quot;title\&quot; format=\&quot;text\&quot;/&gt;\n&lt;/span&gt;\n&lt;/$set&gt;\n&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/$linkcatcher&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;/$fieldmangler&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/core/ui/EditTemplate/title&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/EditTemplate/title&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditTemplate&quot;,
            &quot;text&quot;: &quot;&lt;$edit-text field=\&quot;draft.title\&quot; class=\&quot;tc-titlebar tc-edit-texteditor\&quot; focus=\&quot;true\&quot;/&gt;&quot;
        },
        &quot;$:/core/ui/EditTemplate/type&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/EditTemplate/type&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditTemplate&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/EditTemplate/\n&lt;div class=\&quot;tc-type-selector\&quot;&gt;&lt;$fieldmangler&gt;\n&lt;em class=\&quot;tc-edit\&quot;&gt;&lt;&lt;lingo Type/Prompt&gt;&gt;&lt;/em&gt; &lt;$edit-text field=\&quot;type\&quot; tag=\&quot;input\&quot; default=\&quot;\&quot; placeholder={{$:/language/EditTemplate/Type/Placeholder}} focusPopup=&lt;&lt;qualify \&quot;$:/state/popup/type-dropdown\&quot;&gt;&gt; class=\&quot;tc-edit-typeeditor tc-popup-handle\&quot;/&gt; &lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/type-dropdown\&quot;&gt;&gt; class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; tooltip={{$:/language/EditTemplate/Type/Dropdown/Hint}} aria-label={{$:/language/EditTemplate/Type/Dropdown/Caption}}&gt;{{$:/core/images/down-arrow}}&lt;/$button&gt; &lt;$button message=\&quot;tm-remove-field\&quot; param=\&quot;type\&quot; class=\&quot;tc-btn-invisible tc-btn-icon\&quot; tooltip={{$:/language/EditTemplate/Type/Delete/Hint}} aria-label={{$:/language/EditTemplate/Type/Delete/Caption}}&gt;{{$:/core/images/delete-button}}&lt;/$button&gt;\n&lt;/$fieldmangler&gt;&lt;/div&gt;\n\n&lt;div class=\&quot;tc-block-dropdown-wrapper\&quot;&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/type-dropdown\&quot;&gt;&gt; type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=\&quot;\&quot;&gt;\n&lt;div class=\&quot;tc-block-dropdown tc-edit-type-dropdown\&quot;&gt;\n&lt;$linkcatcher to=\&quot;!!type\&quot;&gt;\n&lt;$list filter='[all[shadows+tiddlers]prefix[$:/language/Docs/Types/]each[group]sort[group]]'&gt;\n&lt;div class=\&quot;tc-dropdown-item\&quot;&gt;\n&lt;$text text={{!!group}}/&gt;\n&lt;/div&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]prefix[$:/language/Docs/Types/]group{!!group}] +[sort[description]]\&quot;&gt;&lt;$link to={{!!name}}&gt;&lt;$view field=\&quot;description\&quot;/&gt; (&lt;$view field=\&quot;name\&quot;/&gt;)&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n&lt;/$linkcatcher&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/core/ui/EditTemplate&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/EditTemplate&quot;,
            &quot;text&quot;: &quot;\\define frame-classes()\ntc-tiddler-frame tc-tiddler-edit-frame $(missingTiddlerClass)$ $(shadowTiddlerClass)$ $(systemTiddlerClass)$\n\\end\n&lt;div class=&lt;&lt;frame-classes&gt;&gt;&gt;\n&lt;$set name=\&quot;storyTiddler\&quot; value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$keyboard key=\&quot;escape\&quot; message=\&quot;tm-cancel-tiddler\&quot;&gt;\n&lt;$keyboard key=\&quot;ctrl+enter\&quot; message=\&quot;tm-save-tiddler\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/EditTemplate]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;\n&lt;/$list&gt;\n&lt;/$keyboard&gt;\n&lt;/$keyboard&gt;\n&lt;/$set&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/Buttons/cancel&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/cancel&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/cancel-button}} {{$:/language/Buttons/Cancel/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Cancel/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-cancel-tiddler\&quot; tooltip={{$:/language/Buttons/Cancel/Hint}} aria-label={{$:/language/Buttons/Cancel/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/cancel-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Cancel/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/delete&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/delete&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/delete-button}} {{$:/language/Buttons/Delete/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Delete/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-delete-tiddler\&quot; tooltip={{$:/language/Buttons/Delete/Hint}} aria-label={{$:/language/Buttons/Delete/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/delete-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Delete/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/save&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/save&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/done-button}} {{$:/language/Buttons/Save/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Save/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-save-tiddler\&quot; tooltip={{$:/language/Buttons/Save/Hint}} aria-label={{$:/language/Buttons/Save/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/done-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Save/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/Filters/AllTags&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/AllTags&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[tags[]!is[system]sort[title]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/AllTags}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/AllTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/AllTiddlers&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[!is[system]sort[title]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/AllTiddlers}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/Drafts&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/Drafts&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[has[draft.of]sort[title]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/Drafts}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/Missing&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/Missing&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[all[missing]sort[title]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/Missing}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/Orphans&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/Orphans&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[all[orphans]sort[title]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/Orphans}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/OverriddenShadowTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/OverriddenShadowTiddlers&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[is[shadow]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/OverriddenShadowTiddlers}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/RecentSystemTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/RecentSystemTiddlers&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[has[modified]!sort[modified]limit[50]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/RecentSystemTiddlers}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/RecentTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/RecentTiddlers&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[!is[system]has[modified]!sort[modified]limit[50]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/RecentTiddlers}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/ShadowTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/ShadowTiddlers&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[all[shadows]sort[title]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/ShadowTiddlers}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/SystemTags&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/SystemTags&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[all[shadows+tiddlers]tags[]is[system]sort[title]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/SystemTags}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/SystemTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/SystemTiddlers&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[is[system]sort[title]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/SystemTiddlers}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/ui/ImportListing&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ImportListing&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/Import/\n\\define messageField()\nmessage-$(payloadTiddler)$\n\\end\n\\define selectionField()\nselection-$(payloadTiddler)$\n\\end\n\\define previewPopupState()\n$(currentTiddler)$!!popup-$(payloadTiddler)$\n\\end\n&lt;table&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;th&gt;\n&lt;&lt;lingo Listing/Select/Caption&gt;&gt;\n&lt;/th&gt;\n&lt;th&gt;\n&lt;&lt;lingo Listing/Title/Caption&gt;&gt;\n&lt;/th&gt;\n&lt;th&gt;\n&lt;&lt;lingo Listing/Status/Caption&gt;&gt;\n&lt;/th&gt;\n&lt;/tr&gt;\n&lt;$list filter=\&quot;[all[current]plugintiddlers[]sort[title]]\&quot; variable=\&quot;payloadTiddler\&quot;&gt;\n&lt;tr&gt;\n&lt;td&gt;\n&lt;$checkbox field=&lt;&lt;selectionField&gt;&gt; checked=\&quot;checked\&quot; unchecked=\&quot;unchecked\&quot; default=\&quot;checked\&quot;/&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;previewPopupState&gt;&gt; text=\&quot;yes\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; set=&lt;&lt;previewPopupState&gt;&gt; setTo=\&quot;yes\&quot;&gt;\n{{$:/core/images/right-arrow}}&amp;nbsp;&lt;$text text=&lt;&lt;payloadTiddler&gt;&gt;/&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;previewPopupState&gt;&gt; text=\&quot;yes\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; set=&lt;&lt;previewPopupState&gt;&gt; setTo=\&quot;no\&quot;&gt;\n{{$:/core/images/down-arrow}}&amp;nbsp;&lt;$text text=&lt;&lt;payloadTiddler&gt;&gt;/&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$view field=&lt;&lt;messageField&gt;&gt;/&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td colspan=\&quot;3\&quot;&gt;\n&lt;$reveal type=\&quot;match\&quot; text=\&quot;yes\&quot; state=&lt;&lt;previewPopupState&gt;&gt;&gt;\n&lt;$transclude subtiddler=&lt;&lt;payloadTiddler&gt;&gt; mode=\&quot;block\&quot;/&gt;\n&lt;/$reveal&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&quot;
        },
        &quot;$:/core/ui/ListItemTemplate&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ListItemTemplate&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-menu-list-item\&quot;&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;$view field=\&quot;title\&quot;/&gt;\n&lt;/$link&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/core/ui/MissingTemplate&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MissingTemplate&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-tiddler-missing\&quot;&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/missing\&quot;&gt;&gt; class=\&quot;tc-btn-invisible tc-missing-tiddler-label\&quot;&gt;\n&lt;$view field=\&quot;title\&quot; format=\&quot;text\&quot; /&gt;\n&lt;/$button&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/missing\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot; animate=\&quot;yes\&quot;&gt;\n&lt;div class=\&quot;tc-drop-down\&quot;&gt;\n&lt;$transclude tiddler=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&lt;hr&gt;\n&lt;$list filter=\&quot;[all[current]backlinks[]sort[title]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/MoreSideBar/All&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MoreSideBar/All&quot;,
            &quot;tags&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/All/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$list filter=\&quot;[!is[system]sort[title]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/MoreSideBar/Drafts&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MoreSideBar/Drafts&quot;,
            &quot;tags&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Drafts/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$list filter=\&quot;[has[draft.of]sort[title]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/MoreSideBar/Missing&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MoreSideBar/Missing&quot;,
            &quot;tags&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Missing/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$list filter=\&quot;[all[missing]sort[title]]\&quot; template=\&quot;$:/core/ui/MissingTemplate\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/MoreSideBar/Orphans&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MoreSideBar/Orphans&quot;,
            &quot;tags&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Orphans/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$list filter=\&quot;[all[orphans]sort[title]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/MoreSideBar/Recent&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MoreSideBar/Recent&quot;,
            &quot;tags&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Recent/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$macrocall $name=\&quot;timeline\&quot; format={{$:/language/RecentChanges/DateFormat}}/&gt;\n&quot;
        },
        &quot;$:/core/ui/MoreSideBar/Shadows&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MoreSideBar/Shadows&quot;,
            &quot;tags&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Shadows/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$list filter=\&quot;[all[shadows]sort[title]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/MoreSideBar/System&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MoreSideBar/System&quot;,
            &quot;tags&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/System/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$list filter=\&quot;[is[system]sort[title]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/MoreSideBar/Tags&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MoreSideBar/Tags&quot;,
            &quot;tags&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Tags/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$set name=\&quot;tv-config-toolbar-icons\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-text\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-class\&quot; value=\&quot;\&quot;&gt;\n\n{{$:/core/ui/Buttons/tag-manager}}\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;$list filter=\&quot;[tags[]!is[system]sort[title]]\&quot;&gt;\n\n&lt;$transclude tiddler=\&quot;$:/core/ui/TagTemplate\&quot;/&gt; &lt;small class=\&quot;tc-menu-list-count\&quot;&gt;&lt;$count filter=\&quot;[all[current]tagging[]]\&quot;/&gt;&lt;/small&gt;\n\n&lt;/$list&gt;\n\n&lt;hr class=\&quot;tc-untagged-separator\&quot;&gt;\n\n{{$:/core/ui/UntaggedTemplate}} &lt;small class=\&quot;tc-menu-list-count\&quot;&gt;&lt;$count filter=\&quot;[untagged[]!is[system]] -[tags[]]\&quot;/&gt;&lt;/small&gt;\n&quot;
        },
        &quot;$:/core/ui/MoreSideBar/Types&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MoreSideBar/Types&quot;,
            &quot;tags&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Types/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$list filter=\&quot;[!is[system]has[type]each[type]sort[type]] -[type[text/vnd.tiddlywiki]]\&quot;&gt;\n&lt;div class=\&quot;tc-menu-list-item\&quot;&gt;\n&lt;$view field=\&quot;type\&quot;/&gt;\n&lt;$list filter=\&quot;[type{!!type}!is[system]sort[title]]\&quot;&gt;\n&lt;div class=\&quot;tc-menu-list-subitem\&quot;&gt;\n&lt;$link to={{!!title}}&gt;&lt;$view field=\&quot;title\&quot;/&gt;&lt;/$link&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/Buttons/advanced-search&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/advanced-search&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/advanced-search-button}} {{$:/language/Buttons/AdvancedSearch/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/AdvancedSearch/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button to=\&quot;$:/AdvancedSearch\&quot; tooltip={{$:/language/Buttons/AdvancedSearch/Hint}} aria-label={{$:/language/Buttons/AdvancedSearch/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/advanced-search-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/AdvancedSearch/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/close-all&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/close-all&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/close-all-button}} {{$:/language/Buttons/CloseAll/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/CloseAll/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-close-all-tiddlers\&quot; tooltip={{$:/language/Buttons/CloseAll/Hint}} aria-label={{$:/language/Buttons/CloseAll/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/close-all-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/CloseAll/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/control-panel&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/control-panel&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/options-button}} {{$:/language/Buttons/ControlPanel/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/ControlPanel/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button to=\&quot;$:/ControlPanel\&quot; tooltip={{$:/language/Buttons/ControlPanel/Hint}} aria-label={{$:/language/Buttons/ControlPanel/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/options-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/ControlPanel/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/encryption&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/encryption&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/locked-padlock}} {{$:/language/Buttons/Encryption/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Encryption/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$reveal type=\&quot;match\&quot; state=\&quot;$:/isEncrypted\&quot; text=\&quot;yes\&quot;&gt;\n&lt;$button message=\&quot;tm-clear-password\&quot; tooltip={{$:/language/Buttons/Encryption/ClearPassword/Hint}} aria-label={{$:/language/Buttons/Encryption/ClearPassword/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/locked-padlock}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Encryption/ClearPassword/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;$:/isEncrypted\&quot; text=\&quot;yes\&quot;&gt;\n&lt;$button message=\&quot;tm-set-password\&quot; tooltip={{$:/language/Buttons/Encryption/SetPassword/Hint}} aria-label={{$:/language/Buttons/Encryption/SetPassword/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/unlocked-padlock}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Encryption/SetPassword/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/export-page&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/export-page&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/export-button}} {{$:/language/Buttons/ExportPage/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/ExportPage/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$macrocall $name=\&quot;exportButton\&quot; exportFilter=\&quot;[!is[system]sort[title]]\&quot; lingoBase=\&quot;$:/language/Buttons/ExportPage/\&quot;/&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/full-screen&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/full-screen&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/full-screen-button}} {{$:/language/Buttons/FullScreen/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/FullScreen/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-full-screen\&quot; tooltip={{$:/language/Buttons/FullScreen/Hint}} aria-label={{$:/language/Buttons/FullScreen/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/full-screen-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/FullScreen/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/home&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/home&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/home-button}} {{$:/language/Buttons/Home/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Home/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-home\&quot; tooltip={{$:/language/Buttons/Home/Hint}} aria-label={{$:/language/Buttons/Home/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/home-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Home/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/import&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/import&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/import-button}} {{$:/language/Buttons/Import/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Import/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-file-input-wrapper\&quot;&gt;\n&lt;$button tooltip={{$:/language/Buttons/Import/Hint}} aria-label={{$:/language/Buttons/Import/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/import-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Import/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;$browse tooltip={{$:/language/Buttons/Import/Hint}}/&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/language&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/language&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/globe}} {{$:/language/Buttons/Language/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Language/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define flag-title()\n$(languagePluginTitle)$/icon\n\\end\n&lt;span class=\&quot;tc-popup-keep\&quot;&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/language\&quot;&gt;&gt; tooltip={{$:/language/Buttons/Language/Hint}} aria-label={{$:/language/Buttons/Language/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\&quot;tc-selected\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-image-button\&quot;&gt;\n&lt;$set name=\&quot;languagePluginTitle\&quot; value={{$:/language}}&gt;\n&lt;$image source=&lt;&lt;flag-title&gt;&gt;/&gt;\n&lt;/$set&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Language/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/span&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/language\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot; animate=\&quot;yes\&quot;&gt;\n&lt;div class=\&quot;tc-drop-down tc-drop-down-language-chooser\&quot;&gt;\n&lt;$linkcatcher to=\&quot;$:/language\&quot;&gt;\n&lt;$list filter=\&quot;[[$:/languages/en-GB]] [plugin-type[language]sort[description]]\&quot;&gt;\n&lt;$link&gt;\n&lt;span class=\&quot;tc-drop-down-bullet\&quot;&gt;\n&lt;$reveal type=\&quot;match\&quot; state=\&quot;$:/language\&quot; text=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&amp;bull;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;$:/language\&quot; text=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&amp;nbsp;\n&lt;/$reveal&gt;\n&lt;/span&gt;\n&lt;span class=\&quot;tc-image-button\&quot;&gt;\n&lt;$set name=\&quot;languagePluginTitle\&quot; value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$transclude subtiddler=&lt;&lt;flag-title&gt;&gt;&gt;\n&lt;$list filter=\&quot;[all[current]field:title[$:/languages/en-GB]]\&quot;&gt;\n&lt;$transclude tiddler=\&quot;$:/languages/en-GB/icon\&quot;/&gt;\n&lt;/$list&gt;\n&lt;/$transclude&gt;\n&lt;/$set&gt;\n&lt;/span&gt;\n&lt;$view field=\&quot;description\&quot;&gt;\n&lt;$view field=\&quot;name\&quot;&gt;\n&lt;$view field=\&quot;title\&quot;/&gt;\n&lt;/$view&gt;\n&lt;/$view&gt;\n&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/$linkcatcher&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/more-page-actions&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/more-page-actions&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/down-arrow}} {{$:/language/Buttons/More/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/More/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define config-title()\n$:/config/PageControlButtons/Visibility/$(listItem)$\n\\end\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/more\&quot;&gt;&gt; tooltip={{$:/language/Buttons/More/Hint}} aria-label={{$:/language/Buttons/More/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\&quot;tc-selected\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/More/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/more\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot; animate=\&quot;yes\&quot;&gt;\n\n&lt;div class=\&quot;tc-drop-down\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-icons\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-text\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-class\&quot; value=\&quot;tc-btn-invisible\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/PageControls]!has[draft.of]] -[[$:/core/ui/Buttons/more-page-actions]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;config-title&gt;&gt; text=\&quot;hide\&quot;&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\&quot;inline\&quot;/&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/div&gt;\n\n&lt;/$reveal&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/new-journal&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/new-journal&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/new-journal-button}} {{$:/language/Buttons/NewJournal/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/NewJournal/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define journalButton()\n&lt;$button tooltip={{$:/language/Buttons/NewJournal/Hint}} aria-label={{$:/language/Buttons/NewJournal/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-new-tiddler\&quot; title=&lt;&lt;now \&quot;$(journalTitleTemplate)$\&quot;&gt;&gt; tags=\&quot;$(journalTags)$\&quot;/&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/new-journal-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/NewJournal/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n&lt;$set name=\&quot;journalTitleTemplate\&quot; value={{$:/config/NewJournal/Title}}&gt;\n&lt;$set name=\&quot;journalTags\&quot; value={{$:/config/NewJournal/Tags}}&gt;\n&lt;&lt;journalButton&gt;&gt;\n&lt;/$set&gt;&lt;/$set&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/new-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/new-tiddler&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/new-button}} {{$:/language/Buttons/NewTiddler/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/NewTiddler/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-new-tiddler\&quot; tooltip={{$:/language/Buttons/NewTiddler/Hint}} aria-label={{$:/language/Buttons/NewTiddler/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/new-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/NewTiddler/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/refresh&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/refresh&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/refresh-button}} {{$:/language/Buttons/Refresh/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Refresh/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-browser-refresh\&quot; tooltip={{$:/language/Buttons/Refresh/Hint}} aria-label={{$:/language/Buttons/Refresh/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/refresh-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Refresh/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/save-wiki&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/save-wiki&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/save-button}} {{$:/language/Buttons/SaveWiki/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/SaveWiki/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-save-wiki\&quot; param={{$:/config/SaveWikiButton/Template}} tooltip={{$:/language/Buttons/SaveWiki/Hint}} aria-label={{$:/language/Buttons/SaveWiki/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;span class=\&quot;tc-dirty-indicator\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/save-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/SaveWiki/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/span&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/storyview&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/storyview&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/storyview-classic}} {{$:/language/Buttons/StoryView/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/StoryView/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define icon()\n$:/core/images/storyview-$(storyview)$\n\\end\n&lt;span class=\&quot;tc-popup-keep\&quot;&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/storyview\&quot;&gt;&gt; tooltip={{$:/language/Buttons/StoryView/Hint}} aria-label={{$:/language/Buttons/StoryView/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\&quot;tc-selected\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n&lt;$set name=\&quot;storyview\&quot; value={{$:/view}}&gt;\n&lt;$transclude tiddler=&lt;&lt;icon&gt;&gt;/&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/StoryView/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/span&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/storyview\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot; animate=\&quot;yes\&quot;&gt;\n&lt;div class=\&quot;tc-drop-down\&quot;&gt;\n&lt;$linkcatcher to=\&quot;$:/view\&quot;&gt;\n&lt;$list filter=\&quot;[storyviews[]]\&quot; variable=\&quot;storyview\&quot;&gt;\n&lt;$link to=&lt;&lt;storyview&gt;&gt;&gt;\n&lt;span class=\&quot;tc-drop-down-bullet\&quot;&gt;\n&lt;$reveal type=\&quot;match\&quot; state=\&quot;$:/view\&quot; text=&lt;&lt;storyview&gt;&gt;&gt;\n&amp;bull;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;$:/view\&quot; text=&lt;&lt;storyview&gt;&gt;&gt;\n&amp;nbsp;\n&lt;/$reveal&gt;\n&lt;/span&gt;\n&lt;$transclude tiddler=&lt;&lt;icon&gt;&gt;/&gt;\n&lt;$text text=&lt;&lt;storyview&gt;&gt;/&gt;&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/$linkcatcher&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/tag-manager&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/tag-manager&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/tag-button}} {{$:/language/Buttons/TagManager/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/TagManager/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button to=\&quot;$:/TagManager\&quot; tooltip={{$:/language/Buttons/TagManager/Hint}} aria-label={{$:/language/Buttons/TagManager/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/tag-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/TagManager/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/theme&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/theme&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/theme-button}} {{$:/language/Buttons/Theme/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Theme/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;span class=\&quot;tc-popup-keep\&quot;&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/theme\&quot;&gt;&gt; tooltip={{$:/language/Buttons/Theme/Hint}} aria-label={{$:/language/Buttons/Theme/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\&quot;tc-selected\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/theme-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Theme/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/span&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/theme\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot; animate=\&quot;yes\&quot;&gt;\n&lt;div class=\&quot;tc-drop-down\&quot;&gt;\n&lt;$linkcatcher to=\&quot;$:/theme\&quot;&gt;\n&lt;$list filter=\&quot;[plugin-type[theme]sort[title]]\&quot; variable=\&quot;themeTitle\&quot;&gt;\n&lt;$link to=&lt;&lt;themeTitle&gt;&gt;&gt;\n&lt;span class=\&quot;tc-drop-down-bullet\&quot;&gt;\n&lt;$reveal type=\&quot;match\&quot; state=\&quot;$:/theme\&quot; text=&lt;&lt;themeTitle&gt;&gt;&gt;\n&amp;bull;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;$:/theme\&quot; text=&lt;&lt;themeTitle&gt;&gt;&gt;\n&amp;nbsp;\n&lt;/$reveal&gt;\n&lt;/span&gt;\n&lt;$view tiddler=&lt;&lt;themeTitle&gt;&gt; field=\&quot;name\&quot;/&gt;\n&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/$linkcatcher&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;&quot;
        },
        &quot;$:/core/ui/PageTemplate/pagecontrols&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PageTemplate/pagecontrols&quot;,
            &quot;text&quot;: &quot;\\define config-title()\n$:/config/PageControlButtons/Visibility/$(listItem)$\n\\end\n&lt;div class=\&quot;tc-page-controls\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/PageControls]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;config-title&gt;&gt; text=\&quot;hide\&quot;&gt;\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\&quot;inline\&quot;/&gt;\n&lt;/$reveal&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n\n&quot;
        },
        &quot;$:/core/ui/PageStylesheet&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PageStylesheet&quot;,
            &quot;text&quot;: &quot;&lt;$importvariables filter=\&quot;[[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/Stylesheet]!has[draft.of]]\&quot;&gt;\n&lt;$transclude mode=\&quot;block\&quot;/&gt;\n&lt;/$list&gt;\n\n&lt;/$importvariables&gt;\n&quot;
        },
        &quot;$:/core/ui/PageTemplate/alerts&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PageTemplate/alerts&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageTemplate&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-alerts\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/Alert]!has[draft.of]]\&quot; template=\&quot;$:/core/ui/AlertTemplate\&quot; storyview=\&quot;pop\&quot;/&gt;\n\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/PageTemplate/sidebar&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PageTemplate/sidebar&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageTemplate&quot;,
            &quot;text&quot;: &quot;&lt;$scrollable fallthrough=\&quot;no\&quot; class=\&quot;tc-sidebar-scrollable\&quot;&gt;\n\n&lt;div class=\&quot;tc-sidebar-header\&quot;&gt;\n\n&lt;$reveal state=\&quot;$:/state/sidebar\&quot; type=\&quot;match\&quot; text=\&quot;yes\&quot; default=\&quot;yes\&quot; retain=\&quot;yes\&quot;&gt;\n\n&lt;h1 class=\&quot;tc-site-title\&quot;&gt;\n\n&lt;$transclude tiddler=\&quot;$:/SiteTitle\&quot; mode=\&quot;inline\&quot;/&gt;\n\n&lt;/h1&gt;\n\n&lt;div class=\&quot;tc-site-subtitle\&quot;&gt;\n\n&lt;$transclude tiddler=\&quot;$:/SiteSubtitle\&quot; mode=\&quot;inline\&quot;/&gt;\n\n&lt;/div&gt;\n\n{{||$:/core/ui/PageTemplate/pagecontrols}}\n\n&lt;$transclude tiddler=\&quot;$:/core/ui/SideBarLists\&quot; mode=\&quot;inline\&quot;/&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/div&gt;\n\n&lt;/$scrollable&gt;&quot;
        },
        &quot;$:/core/ui/PageTemplate/story&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PageTemplate/story&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageTemplate&quot;,
            &quot;text&quot;: &quot;&lt;section class=\&quot;tc-story-river\&quot;&gt;\n\n&lt;section class=\&quot;story-backdrop\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/AboveStory]!has[draft.of]]\&quot;&gt;\n\n&lt;$transclude/&gt;\n\n&lt;/$list&gt;\n\n&lt;/section&gt;\n\n&lt;$list filter=\&quot;[list[$:/StoryList]]\&quot; history=\&quot;$:/HistoryList\&quot; template=\&quot;$:/core/ui/ViewTemplate\&quot; editTemplate=\&quot;$:/core/ui/EditTemplate\&quot; storyview={{$:/view}} /&gt;\n\n&lt;section class=\&quot;story-frontdrop\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/BelowStory]!has[draft.of]]\&quot;&gt;\n\n&lt;$transclude/&gt;\n\n&lt;/$list&gt;\n\n&lt;/section&gt;\n\n&lt;/section&gt;\n&quot;
        },
        &quot;$:/core/ui/PageTemplate/topleftbar&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PageTemplate/topleftbar&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageTemplate&quot;,
            &quot;text&quot;: &quot;&lt;span class=\&quot;tc-topbar tc-topbar-left\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/TopLeftBar]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\&quot;inline\&quot;/&gt;\n\n&lt;/$list&gt;\n\n&lt;/span&gt;\n&quot;
        },
        &quot;$:/core/ui/PageTemplate/toprightbar&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PageTemplate/toprightbar&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageTemplate&quot;,
            &quot;text&quot;: &quot;&lt;span class=\&quot;tc-topbar tc-topbar-right\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/TopRightBar]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\&quot;inline\&quot;/&gt;\n\n&lt;/$list&gt;\n\n&lt;/span&gt;\n&quot;
        },
        &quot;$:/core/ui/PageTemplate&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PageTemplate&quot;,
            &quot;text&quot;: &quot;\\define containerClasses()\ntc-page-container tc-page-view-$(themeTitle)$ tc-language-$(languageTitle)$\n\\end\n\n&lt;$importvariables filter=\&quot;[[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-icons\&quot; value={{$:/config/Toolbar/Icons}}&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-text\&quot; value={{$:/config/Toolbar/Text}}&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-class\&quot; value=\&quot;tc-btn-invisible\&quot;&gt;\n\n&lt;$set name=\&quot;themeTitle\&quot; value={{$:/view}}&gt;\n\n&lt;$set name=\&quot;currentTiddler\&quot; value={{$:/language}}&gt;\n\n&lt;$set name=\&quot;languageTitle\&quot; value={{!!name}}&gt;\n\n&lt;$set name=\&quot;currentTiddler\&quot; value=\&quot;\&quot;&gt;\n\n&lt;div class=&lt;&lt;containerClasses&gt;&gt;&gt;\n\n&lt;$navigator story=\&quot;$:/StoryList\&quot; history=\&quot;$:/HistoryList\&quot;&gt;\n\n&lt;$dropzone&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/PageTemplate]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;\n\n&lt;/$list&gt;\n\n&lt;/$dropzone&gt;\n\n&lt;/$navigator&gt;\n\n&lt;/div&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$importvariables&gt;\n&quot;
        },
        &quot;$:/core/ui/PluginInfo&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PluginInfo&quot;,
            &quot;text&quot;: &quot;\\define localised-info-tiddler-title()\n$(currentTiddler)$/$(languageTitle)$/$(currentTab)$\n\\end\n\\define info-tiddler-title()\n$(currentTiddler)$/$(currentTab)$\n\\end\n&lt;$transclude tiddler=&lt;&lt;localised-info-tiddler-title&gt;&gt; mode=\&quot;block\&quot;&gt;\n&lt;$transclude tiddler=&lt;&lt;currentTiddler&gt;&gt; subtiddler=&lt;&lt;localised-info-tiddler-title&gt;&gt; mode=\&quot;block\&quot;&gt;\n&lt;$transclude tiddler=&lt;&lt;currentTiddler&gt;&gt; subtiddler=&lt;&lt;info-tiddler-title&gt;&gt; mode=\&quot;block\&quot;&gt;\nNo ''\&quot;&lt;$text text=&lt;&lt;currentTab&gt;&gt;/&gt;\&quot;'' found\n&lt;/$transclude&gt;\n&lt;/$transclude&gt;\n&lt;/$transclude&gt;\n&quot;
        },
        &quot;$:/core/ui/SearchResults&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/SearchResults&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-search-results\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/SearchResults]!has[draft.of]butfirst[]limit[1]]\&quot; emptyMessage=\&quot;\&quot;\&quot;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/SearchResults]!has[draft.of]]\&quot;&gt;\n&lt;$transclude mode=\&quot;block\&quot;/&gt;\n&lt;/$list&gt;\n\&quot;\&quot;\&quot;&gt;\n&lt;$macrocall $name=\&quot;tabs\&quot; tabsList=\&quot;[all[shadows+tiddlers]tag[$:/tags/SearchResults]!has[draft.of]]\&quot; default={{$:/config/SearchResults/Default}}/&gt;\n&lt;/$list&gt;\n\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/SideBar/More&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/SideBar/More&quot;,
            &quot;tags&quot;: &quot;$:/tags/SideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/More/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-more-sidebar\&quot;&gt;\n&lt;&lt;tabs \&quot;[all[shadows+tiddlers]tag[$:/tags/MoreSideBar]!has[draft.of]]\&quot; \&quot;$:/core/ui/MoreSideBar/Tags\&quot; \&quot;$:/state/tab/moresidebar\&quot; \&quot;tc-vertical\&quot;&gt;&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/SideBar/Open&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/SideBar/Open&quot;,
            &quot;tags&quot;: &quot;$:/tags/SideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Open/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/CloseAll/\n&lt;$list filter=\&quot;[list[$:/StoryList]]\&quot; history=\&quot;$:/HistoryList\&quot; storyview=\&quot;pop\&quot;&gt;\n\n&lt;$button message=\&quot;tm-close-tiddler\&quot; tooltip={{$:/language/Buttons/Close/Hint}} aria-label={{$:/language/Buttons/Close/Caption}} class=\&quot;tc-btn-invisible tc-btn-mini\&quot;&gt;&amp;times;&lt;/$button&gt; &lt;$link to={{!!title}}&gt;&lt;$view field=\&quot;title\&quot;/&gt;&lt;/$link&gt;\n\n&lt;/$list&gt;\n\n&lt;$button message=\&quot;tm-close-all-tiddlers\&quot; class=\&quot;tc-btn-invisible tc-btn-mini\&quot;&gt;&lt;&lt;lingo Button&gt;&gt;&lt;/$button&gt;\n&quot;
        },
        &quot;$:/core/ui/SideBar/Recent&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/SideBar/Recent&quot;,
            &quot;tags&quot;: &quot;$:/tags/SideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Recent/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$macrocall $name=\&quot;timeline\&quot; format={{$:/language/RecentChanges/DateFormat}}/&gt;\n&quot;
        },
        &quot;$:/core/ui/SideBar/Tools&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/SideBar/Tools&quot;,
            &quot;tags&quot;: &quot;$:/tags/SideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Tools/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/\n\\define config-title()\n$:/config/PageControlButtons/Visibility/$(listItem)$\n\\end\n\n&lt;&lt;lingo Basics/Version/Prompt&gt;&gt; &lt;&lt;version&gt;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-icons\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-text\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-class\&quot; value=\&quot;\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/PageControls]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;div style=\&quot;position:relative;\&quot;&gt;\n\n&lt;$checkbox tiddler=&lt;&lt;config-title&gt;&gt; field=\&quot;text\&quot; checked=\&quot;show\&quot; unchecked=\&quot;hide\&quot; default=\&quot;show\&quot;/&gt; &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt; &lt;i class=\&quot;tc-muted\&quot;&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\&quot;description\&quot;/&gt;&lt;/i&gt;\n\n&lt;/div&gt;\n\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n&quot;
        },
        &quot;$:/core/ui/SideBarLists&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/SideBarLists&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-sidebar-lists\&quot;&gt;\n\n&lt;div class=\&quot;tc-search\&quot;&gt;\n&lt;$edit-text tiddler=\&quot;$:/temp/search\&quot; type=\&quot;search\&quot; tag=\&quot;input\&quot;/&gt;\n&lt;$reveal state=\&quot;$:/temp/search\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n&lt;$button tooltip={{$:/language/Buttons/AdvancedSearch/Hint}} aria-label={{$:/language/Buttons/AdvancedSearch/Caption}} class=\&quot;tc-btn-invisible\&quot;&gt;\n&lt;$action-setfield $tiddler=\&quot;$:/temp/advancedsearch\&quot; text={{$:/temp/search}}/&gt;\n&lt;$action-setfield $tiddler=\&quot;$:/temp/search\&quot; text=\&quot;\&quot;/&gt;\n&lt;$action-navigate $to=\&quot;$:/AdvancedSearch\&quot;/&gt;\n{{$:/core/images/advanced-search-button}}\n&lt;/$button&gt;\n&lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;\n&lt;$action-setfield $tiddler=\&quot;$:/temp/search\&quot; text=\&quot;\&quot; /&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal state=\&quot;$:/temp/search\&quot; type=\&quot;match\&quot; text=\&quot;\&quot;&gt;\n&lt;$button to=\&quot;$:/AdvancedSearch\&quot; tooltip={{$:/language/Buttons/AdvancedSearch/Hint}} aria-label={{$:/language/Buttons/AdvancedSearch/Caption}} class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/advanced-search-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\n&lt;$reveal state=\&quot;$:/temp/search\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n\n&lt;$set name=\&quot;searchTiddler\&quot; value=\&quot;$:/temp/search\&quot;&gt;\n{{$:/core/ui/SearchResults}}\n&lt;/$set&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal state=\&quot;$:/temp/search\&quot; type=\&quot;match\&quot; text=\&quot;\&quot;&gt;\n\n&lt;&lt;tabs \&quot;[all[shadows+tiddlers]tag[$:/tags/SideBar]!has[draft.of]]\&quot; \&quot;$:/core/ui/SideBar/Open\&quot; \&quot;$:/state/tab/sidebar\&quot;&gt;&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/TagManager&quot;: {
            &quot;title&quot;: &quot;$:/TagManager&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TagManager/\n\\define iconEditorTab(type)\n&lt;$list filter=\&quot;[all[shadows+tiddlers]is[image]] [all[shadows+tiddlers]tag[$:/tags/Image]] -[type[application/pdf]] +[sort[title]] +[$type$is[system]]\&quot;&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;$transclude/&gt; &lt;$view field=\&quot;title\&quot;/&gt;\n&lt;/$link&gt;\n&lt;/$list&gt;\n\\end\n\\define iconEditor(title)\n&lt;div class=\&quot;tc-drop-down-wrapper\&quot;&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/icon/$title$\&quot;&gt;&gt; class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot;&gt;{{$:/core/images/down-arrow}}&lt;/$button&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/icon/$title$\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;belowleft\&quot; text=\&quot;\&quot; default=\&quot;\&quot;&gt;\n&lt;div class=\&quot;tc-drop-down\&quot;&gt;\n&lt;$linkcatcher to=\&quot;$title$!!icon\&quot;&gt;\n&lt;&lt;iconEditorTab type:\&quot;!\&quot;&gt;&gt;\n&lt;hr/&gt;\n&lt;&lt;iconEditorTab type:\&quot;\&quot;&gt;&gt;\n&lt;/$linkcatcher&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\\end\n\\define qualifyTitle(title)\n$title$$(currentTiddler)$\n\\end\n\\define toggleButton(state)\n&lt;$reveal state=\&quot;$state$\&quot; type=\&quot;match\&quot; text=\&quot;closed\&quot; default=\&quot;closed\&quot;&gt;\n&lt;$button set=\&quot;$state$\&quot; setTo=\&quot;open\&quot; class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; selectedClass=\&quot;tc-selected\&quot;&gt;\n{{$:/core/images/info-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal state=\&quot;$state$\&quot; type=\&quot;match\&quot; text=\&quot;open\&quot; default=\&quot;closed\&quot;&gt;\n&lt;$button set=\&quot;$state$\&quot; setTo=\&quot;closed\&quot; class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; selectedClass=\&quot;tc-selected\&quot;&gt;\n{{$:/core/images/info-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n\\end\n&lt;table class=\&quot;tc-tag-manager-table\&quot;&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;th&gt;&lt;&lt;lingo Colour/Heading&gt;&gt;&lt;/th&gt;\n&lt;th class=\&quot;tc-tag-manager-tag\&quot;&gt;&lt;&lt;lingo Tag/Heading&gt;&gt;&lt;/th&gt;\n&lt;th&gt;&lt;&lt;lingo Icon/Heading&gt;&gt;&lt;/th&gt;\n&lt;th&gt;&lt;&lt;lingo Info/Heading&gt;&gt;&lt;/th&gt;\n&lt;/tr&gt;\n&lt;$list filter=\&quot;[tags[]!is[system]sort[title]]\&quot;&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;$edit-text field=\&quot;color\&quot; tag=\&quot;input\&quot; type=\&quot;color\&quot;/&gt;&lt;/td&gt;\n&lt;td&gt;&lt;$transclude tiddler=\&quot;$:/core/ui/TagTemplate\&quot;/&gt;&lt;/td&gt;\n&lt;td&gt;\n&lt;$macrocall $name=\&quot;iconEditor\&quot; title={{!!title}}/&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$macrocall $name=\&quot;toggleButton\&quot; state=&lt;&lt;qualifyTitle \&quot;$:/state/tag-manager/\&quot;&gt;&gt; /&gt; \n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;/td&gt;\n&lt;td&gt;\n&lt;$reveal state=&lt;&lt;qualifyTitle \&quot;$:/state/tag-manager/\&quot;&gt;&gt; type=\&quot;match\&quot; text=\&quot;open\&quot; default=\&quot;\&quot;&gt;\n&lt;table&gt;\n&lt;tbody&gt;\n&lt;tr&gt;&lt;td&gt;&lt;&lt;lingo Colour/Heading&gt;&gt;&lt;/td&gt;&lt;td&gt;&lt;$edit-text field=\&quot;color\&quot; tag=\&quot;input\&quot; type=\&quot;text\&quot; size=\&quot;9\&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;&lt;&lt;lingo Icon/Heading&gt;&gt;&lt;/td&gt;&lt;td&gt;&lt;$edit-text field=\&quot;icon\&quot; tag=\&quot;input\&quot; size=\&quot;45\&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/$reveal&gt;\n&lt;/td&gt;\n&lt;td&gt;&lt;/td&gt;\n&lt;td&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&quot;
        },
        &quot;$:/core/ui/TagTemplate&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TagTemplate&quot;,
            &quot;text&quot;: &quot;\\define tag-styles()\nbackground-color:$(backgroundColor)$;\nfill:$(foregroundColor)$;\ncolor:$(foregroundColor)$;\n\\end\n\n\\define tag-body-inner(colour,fallbackTarget,colourA,colourB)\n&lt;$set name=\&quot;foregroundColor\&quot; value=&lt;&lt;contrastcolour target:\&quot;\&quot;\&quot;$colour$\&quot;\&quot;\&quot; fallbackTarget:\&quot;\&quot;\&quot;$fallbackTarget$\&quot;\&quot;\&quot; colourA:\&quot;\&quot;\&quot;$colourA$\&quot;\&quot;\&quot; colourB:\&quot;\&quot;\&quot;$colourB$\&quot;\&quot;\&quot;&gt;&gt;&gt;\n&lt;$set name=\&quot;backgroundColor\&quot; value=\&quot;\&quot;\&quot;$colour$\&quot;\&quot;\&quot;&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/tag\&quot;&gt;&gt; class=\&quot;tc-btn-invisible tc-tag-label\&quot; style=&lt;&lt;tag-styles&gt;&gt;&gt;\n&lt;$transclude tiddler={{!!icon}}/&gt; &lt;$view field=\&quot;title\&quot; format=\&quot;text\&quot; /&gt;\n&lt;/$button&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/tag\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot; animate=\&quot;yes\&quot;&gt;&lt;div class=\&quot;tc-drop-down\&quot;&gt;&lt;$transclude tiddler=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&lt;hr&gt;\n&lt;$list filter=\&quot;[all[current]tagging[]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n\\end\n\n\\define tag-body(colour,palette)\n&lt;span class=\&quot;tc-tag-list-item\&quot;&gt;\n&lt;$macrocall $name=\&quot;tag-body-inner\&quot; colour=\&quot;\&quot;\&quot;$colour$\&quot;\&quot;\&quot; fallbackTarget={{$palette$##tag-background}} colourA={{$palette$##foreground}} colourB={{$palette$##background}}/&gt;\n&lt;/span&gt;\n\\end\n\n&lt;$macrocall $name=\&quot;tag-body\&quot; colour={{!!color}} palette={{$:/palette}}/&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerFieldTemplate&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerFieldTemplate&quot;,
            &quot;text&quot;: &quot;&lt;tr class=\&quot;tc-view-field\&quot;&gt;\n&lt;td class=\&quot;tc-view-field-name\&quot;&gt;\n&lt;$text text=&lt;&lt;listItem&gt;&gt;/&gt;\n&lt;/td&gt;\n&lt;td class=\&quot;tc-view-field-value\&quot;&gt;\n&lt;$view field=&lt;&lt;listItem&gt;&gt;/&gt;\n&lt;/td&gt;\n&lt;/tr&gt;&quot;
        },
        &quot;$:/core/ui/TiddlerFields&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerFields&quot;,
            &quot;text&quot;: &quot;&lt;table class=\&quot;tc-view-field-table\&quot;&gt;\n&lt;tbody&gt;\n&lt;$list filter=\&quot;[all[current]fields[]sort[title]] -text\&quot; template=\&quot;$:/core/ui/TiddlerFieldTemplate\&quot; variable=\&quot;listItem\&quot;/&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo/Advanced/PluginInfo&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo/Advanced/PluginInfo&quot;,
            &quot;tags&quot;: &quot;$:/tags/TiddlerInfo/Advanced&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/Advanced/PluginInfo/\n&lt;$list filter=\&quot;[all[current]has[plugin-type]]\&quot;&gt;\n\n! &lt;&lt;lingo Heading&gt;&gt;\n\n&lt;&lt;lingo Hint&gt;&gt;\n&lt;ul&gt;\n&lt;$list filter=\&quot;[all[current]plugintiddlers[]sort[title]]\&quot; emptyMessage=&lt;&lt;lingo Empty/Hint&gt;&gt;&gt;\n&lt;li&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;$view field=\&quot;title\&quot;/&gt;\n&lt;/$link&gt;\n&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo/Advanced/ShadowInfo&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo/Advanced/ShadowInfo&quot;,
            &quot;tags&quot;: &quot;$:/tags/TiddlerInfo/Advanced&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/Advanced/ShadowInfo/\n&lt;$set name=\&quot;infoTiddler\&quot; value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n\n''&lt;&lt;lingo Heading&gt;&gt;''\n\n&lt;$list filter=\&quot;[all[current]!is[shadow]]\&quot;&gt;\n\n&lt;&lt;lingo NotShadow/Hint&gt;&gt;\n\n&lt;/$list&gt;\n\n&lt;$list filter=\&quot;[all[current]is[shadow]]\&quot;&gt;\n\n&lt;&lt;lingo Shadow/Hint&gt;&gt;\n\n&lt;$list filter=\&quot;[all[current]shadowsource[]]\&quot;&gt;\n\n&lt;$set name=\&quot;pluginTiddler\&quot; value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;&lt;lingo Shadow/Source&gt;&gt;\n&lt;/$set&gt;\n\n&lt;/$list&gt;\n\n&lt;$list filter=\&quot;[all[current]is[shadow]is[tiddler]]\&quot;&gt;\n\n&lt;&lt;lingo OverriddenShadow/Hint&gt;&gt;\n\n&lt;/$list&gt;\n\n\n&lt;/$list&gt;\n&lt;/$set&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo/Advanced&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo/Advanced&quot;,
            &quot;tags&quot;: &quot;$:/tags/TiddlerInfo&quot;,
            &quot;caption&quot;: &quot;{{$:/language/TiddlerInfo/Advanced/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/TiddlerInfo/Advanced]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;\n\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo/Fields&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo/Fields&quot;,
            &quot;tags&quot;: &quot;$:/tags/TiddlerInfo&quot;,
            &quot;caption&quot;: &quot;{{$:/language/TiddlerInfo/Fields/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$transclude tiddler=\&quot;$:/core/ui/TiddlerFields\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo/List&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo/List&quot;,
            &quot;tags&quot;: &quot;$:/tags/TiddlerInfo&quot;,
            &quot;caption&quot;: &quot;{{$:/language/TiddlerInfo/List/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/\n&lt;$list filter=\&quot;[list{!!title}]\&quot; emptyMessage=&lt;&lt;lingo List/Empty&gt;&gt; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo/Listed&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo/Listed&quot;,
            &quot;tags&quot;: &quot;$:/tags/TiddlerInfo&quot;,
            &quot;caption&quot;: &quot;{{$:/language/TiddlerInfo/Listed/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/\n&lt;$list filter=\&quot;[all[current]listed[]!is[system]]\&quot; emptyMessage=&lt;&lt;lingo Listed/Empty&gt;&gt; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo/References&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo/References&quot;,
            &quot;tags&quot;: &quot;$:/tags/TiddlerInfo&quot;,
            &quot;caption&quot;: &quot;{{$:/language/TiddlerInfo/References/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/\n&lt;$list filter=\&quot;[all[current]backlinks[]sort[title]]\&quot; emptyMessage=&lt;&lt;lingo References/Empty&gt;&gt; template=\&quot;$:/core/ui/ListItemTemplate\&quot;&gt;\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo/Tagging&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo/Tagging&quot;,
            &quot;tags&quot;: &quot;$:/tags/TiddlerInfo&quot;,
            &quot;caption&quot;: &quot;{{$:/language/TiddlerInfo/Tagging/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/\n&lt;$list filter=\&quot;[all[current]tagging[]]\&quot; emptyMessage=&lt;&lt;lingo Tagging/Empty&gt;&gt; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo/Tools&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo/Tools&quot;,
            &quot;tags&quot;: &quot;$:/tags/TiddlerInfo&quot;,
            &quot;caption&quot;: &quot;{{$:/language/TiddlerInfo/Tools/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/\n\\define config-title()\n$:/config/ViewToolbarButtons/Visibility/$(listItem)$\n\\end\n&lt;$set name=\&quot;tv-config-toolbar-icons\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-text\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-class\&quot; value=\&quot;\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/ViewToolbar]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;$checkbox tiddler=&lt;&lt;config-title&gt;&gt; field=\&quot;text\&quot; checked=\&quot;show\&quot; unchecked=\&quot;hide\&quot; default=\&quot;show\&quot;/&gt; &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt; &lt;i class=\&quot;tc-muted\&quot;&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\&quot;description\&quot;/&gt;&lt;/i&gt;\n\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo&quot;,
            &quot;text&quot;: &quot;&lt;$macrocall $name=\&quot;tabs\&quot; tabsList=\&quot;[all[shadows+tiddlers]tag[$:/tags/TiddlerInfo]!has[draft.of]]\&quot; default={{$:/config/TiddlerInfo/Default}}/&gt;&quot;
        },
        &quot;$:/core/ui/TopBar/menu&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TopBar/menu&quot;,
            &quot;tags&quot;: &quot;$:/tags/TopRightBar&quot;,
            &quot;text&quot;: &quot;&lt;$reveal state=\&quot;$:/state/sidebar\&quot; type=\&quot;nomatch\&quot; text=\&quot;no\&quot;&gt;\n&lt;$button set=\&quot;$:/state/sidebar\&quot; setTo=\&quot;no\&quot; tooltip={{$:/language/Buttons/HideSideBar/Hint}} aria-label={{$:/language/Buttons/HideSideBar/Caption}} class=\&quot;tc-btn-invisible\&quot;&gt;{{$:/core/images/chevron-right}}&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal state=\&quot;$:/state/sidebar\&quot; type=\&quot;match\&quot; text=\&quot;no\&quot;&gt;\n&lt;$button set=\&quot;$:/state/sidebar\&quot; setTo=\&quot;yes\&quot; tooltip={{$:/language/Buttons/ShowSideBar/Hint}} aria-label={{$:/language/Buttons/ShowSideBar/Caption}} class=\&quot;tc-btn-invisible\&quot;&gt;{{$:/core/images/chevron-left}}&lt;/$button&gt;\n&lt;/$reveal&gt;\n&quot;
        },
        &quot;$:/core/ui/UntaggedTemplate&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/UntaggedTemplate&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/SideBar/\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/tag\&quot;&gt;&gt; class=\&quot;tc-btn-invisible tc-untagged-label tc-tag-label\&quot;&gt;\n&lt;&lt;lingo Tags/Untagged/Caption&gt;&gt;\n&lt;/$button&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/tag\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot;&gt;\n&lt;div class=\&quot;tc-drop-down\&quot;&gt;\n&lt;$list filter=\&quot;[untagged[]!is[system]] -[tags[]] +[sort[title]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&quot;
        },
        &quot;$:/core/ui/ViewTemplate/body&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ViewTemplate/body&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewTemplate&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-tiddler-body\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[current]!has[plugin-type]!field:hide-body[yes]]\&quot;&gt;\n\n&lt;$transclude&gt;\n\n&lt;$transclude tiddler=\&quot;$:/language/MissingTiddler/Hint\&quot;/&gt;\n\n&lt;/$transclude&gt;\n\n&lt;/$list&gt;\n\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/ViewTemplate/classic&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ViewTemplate/classic&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewTemplate $:/tags/EditTemplate&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ClassicWarning/\n&lt;$list filter=\&quot;[all[current]type[text/x-tiddlywiki]]\&quot;&gt;\n&lt;div class=\&quot;tc-message-box\&quot;&gt;\n\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;$button set=\&quot;!!type\&quot; setTo=\&quot;text/vnd.tiddlywiki\&quot;&gt;&lt;&lt;lingo Upgrade/Caption&gt;&gt;&lt;/$button&gt;\n\n&lt;/div&gt;\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/ViewTemplate/import&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ViewTemplate/import&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewTemplate&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/Import/\n\n&lt;$list filter=\&quot;[all[current]field:plugin-type[import]]\&quot;&gt;\n\n&lt;div class=\&quot;tc-import\&quot;&gt;\n\n&lt;&lt;lingo Listing/Hint&gt;&gt;\n\n{{||$:/core/ui/ImportListing}}\n\n&lt;$button message=\&quot;tm-delete-tiddler\&quot; param=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;&lt;lingo Listing/Cancel/Caption&gt;&gt;&lt;/$button&gt;\n&lt;$button message=\&quot;tm-perform-import\&quot; param=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;&lt;lingo Listing/Import/Caption&gt;&gt;&lt;/$button&gt;\n\n&lt;/div&gt;\n\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/ViewTemplate/plugin&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ViewTemplate/plugin&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewTemplate&quot;,
            &quot;text&quot;: &quot;&lt;$list filter=\&quot;[all[current]has[plugin-type]] -[all[current]field:plugin-type[import]]\&quot;&gt;\n\n{{||$:/core/ui/TiddlerInfo/Advanced/PluginInfo}}\n\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/ViewTemplate/subtitle&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ViewTemplate/subtitle&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewTemplate&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-subtitle\&quot;&gt;\n&lt;$link to={{!!modifier}}&gt;\n&lt;$view field=\&quot;modifier\&quot;/&gt;\n&lt;/$link&gt; &lt;$view field=\&quot;modified\&quot; format=\&quot;relativedate\&quot;/&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/ViewTemplate/tags&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ViewTemplate/tags&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewTemplate&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-tags-wrapper\&quot;&gt;&lt;$list filter=\&quot;[all[current]tags[]sort[title]]\&quot; template=\&quot;$:/core/ui/TagTemplate\&quot; storyview=\&quot;pop\&quot;/&gt;&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/ViewTemplate/title&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ViewTemplate/title&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewTemplate&quot;,
            &quot;text&quot;: &quot;\\define title-styles()\nfill:$(foregroundColor)$;\n\\end\n\\define config-title()\n$:/config/ViewToolbarButtons/Visibility/$(listItem)$\n\\end\n&lt;div class=\&quot;tc-tiddler-title\&quot;&gt;\n&lt;div class=\&quot;tc-titlebar\&quot;&gt;\n&lt;span class=\&quot;tc-tiddler-controls\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/ViewToolbar]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;config-title&gt;&gt; text=\&quot;hide\&quot;&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;&lt;/$reveal&gt;&lt;/$list&gt;\n&lt;/span&gt;\n&lt;$set name=\&quot;foregroundColor\&quot; value={{!!color}}&gt;\n&lt;span class=\&quot;tc-tiddler-title-icon\&quot; style=&lt;&lt;title-styles&gt;&gt;&gt;\n&lt;$transclude tiddler={{!!icon}}/&gt;\n&lt;/span&gt;\n&lt;/$set&gt;\n&lt;$list filter=\&quot;[all[current]removeprefix[$:/]]\&quot;&gt;\n&lt;h2 class=\&quot;tc-title\&quot; title={{$:/language/SystemTiddler/Tooltip}}&gt;\n&lt;span class=\&quot;tc-system-title-prefix\&quot;&gt;$:/&lt;/span&gt;&lt;$text text=&lt;&lt;currentTiddler&gt;&gt;/&gt;\n&lt;/h2&gt;\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[all[current]!prefix[$:/]]\&quot;&gt;\n&lt;h2 class=\&quot;tc-title\&quot;&gt;\n&lt;$view field=\&quot;title\&quot;/&gt;\n&lt;/h2&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n\n&lt;$reveal type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=\&quot;\&quot; state=&lt;&lt;tiddlerInfoState&gt;&gt; class=\&quot;tc-tiddler-info tc-popup-handle\&quot; animate=\&quot;yes\&quot; retain=\&quot;yes\&quot;&gt;\n\n&lt;$transclude tiddler=\&quot;$:/core/ui/TiddlerInfo\&quot;/&gt;\n\n&lt;/$reveal&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/core/ui/ViewTemplate&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ViewTemplate&quot;,
            &quot;text&quot;: &quot;\\define frame-classes()\ntc-tiddler-frame tc-tiddler-view-frame $(missingTiddlerClass)$ $(shadowTiddlerClass)$ $(systemTiddlerClass)$ $(tiddlerTagClasses)$\n\\end\n&lt;$set name=\&quot;storyTiddler\&quot; value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$set name=\&quot;tiddlerInfoState\&quot; value=&lt;&lt;qualify \&quot;$:/state/popup/tiddler-info\&quot;&gt;&gt;&gt;&lt;$tiddler tiddler=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;div class=&lt;&lt;frame-classes&gt;&gt;&gt;&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/ViewTemplate]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$tiddler&gt;&lt;/$set&gt;&lt;/$set&gt;\n&quot;
        },
        &quot;$:/core/ui/Buttons/clone&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/clone&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/clone-button}} {{$:/language/Buttons/Clone/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Clone/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-new-tiddler\&quot; param=&lt;&lt;currentTiddler&gt;&gt; tooltip={{$:/language/Buttons/Clone/Hint}} aria-label={{$:/language/Buttons/Clone/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/clone-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Clone/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/close-others&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/close-others&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/close-others-button}} {{$:/language/Buttons/CloseOthers/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/CloseOthers/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-close-other-tiddlers\&quot; param=&lt;&lt;currentTiddler&gt;&gt; tooltip={{$:/language/Buttons/CloseOthers/Hint}} aria-label={{$:/language/Buttons/CloseOthers/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/close-others-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/CloseOthers/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/close&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/close&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/close-button}} {{$:/language/Buttons/Close/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Close/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-close-tiddler\&quot; tooltip={{$:/language/Buttons/Close/Hint}} aria-label={{$:/language/Buttons/Close/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/close-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Close/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/edit&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/edit&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/edit-button}} {{$:/language/Buttons/Edit/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Edit/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-edit-tiddler\&quot; tooltip={{$:/language/Buttons/Edit/Hint}} aria-label={{$:/language/Buttons/Edit/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/edit-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Edit/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/export-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/export-tiddler&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/export-button}} {{$:/language/Buttons/ExportTiddler/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/ExportTiddler/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define makeExportFilter()\n[[$(currentTiddler)$]]\n\\end\n&lt;$macrocall $name=\&quot;exportButton\&quot; exportFilter=&lt;&lt;makeExportFilter&gt;&gt; lingoBase=\&quot;$:/language/Buttons/ExportTiddler/\&quot; baseFilename=&lt;&lt;currentTiddler&gt;&gt;/&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/info&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/info&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/info-button}} {{$:/language/Buttons/Info/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Info/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button popup=&lt;&lt;tiddlerInfoState&gt;&gt; tooltip={{$:/language/Buttons/Info/Hint}} aria-label={{$:/language/Buttons/Info/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\&quot;tc-selected\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/info-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Info/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/more-tiddler-actions&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/more-tiddler-actions&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/down-arrow}} {{$:/language/Buttons/More/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/More/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define config-title()\n$:/config/ViewToolbarButtons/Visibility/$(listItem)$\n\\end\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/more\&quot;&gt;&gt; tooltip={{$:/language/Buttons/More/Hint}} aria-label={{$:/language/Buttons/More/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\&quot;tc-selected\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/More/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/more\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot; animate=\&quot;yes\&quot;&gt;\n&lt;div class=\&quot;tc-drop-down\&quot;&gt;\n&lt;$set name=\&quot;tv-config-toolbar-icons\&quot; value=\&quot;yes\&quot;&gt;\n&lt;$set name=\&quot;tv-config-toolbar-text\&quot; value=\&quot;yes\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/ViewToolbar]!has[draft.of]] -[[$:/core/ui/Buttons/more-tiddler-actions]]\&quot; variable=\&quot;listItem\&quot;&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;config-title&gt;&gt; text=\&quot;hide\&quot;&gt;\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;\n&lt;/$reveal&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/new-here&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/new-here&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/new-here-button}} {{$:/language/Buttons/NewHere/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/NewHere/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define newHereButtonTags()\n[[$(currentTiddler)$]]\n\\end\n\\define newHereButton()\n&lt;$button tooltip={{$:/language/Buttons/NewHere/Hint}} aria-label={{$:/language/Buttons/NewHere/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-new-tiddler\&quot; tags=&lt;&lt;newHereButtonTags&gt;&gt;/&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/new-here-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/NewHere/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n&lt;&lt;newHereButton&gt;&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/new-journal-here&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/new-journal-here&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/new-journal-button}} {{$:/language/Buttons/NewJournalHere/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/NewJournalHere/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define journalButtonTags()\n[[$(currentTiddlerTag)$]] $(journalTags)$\n\\end\n\\define journalButton()\n&lt;$button tooltip={{$:/language/Buttons/NewJournalHere/Hint}} aria-label={{$:/language/Buttons/NewJournalHere/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-new-tiddler\&quot; title=&lt;&lt;now \&quot;$(journalTitleTemplate)$\&quot;&gt;&gt; tags=&lt;&lt;journalButtonTags&gt;&gt;/&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/new-journal-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/NewJournalHere/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n&lt;$set name=\&quot;journalTitleTemplate\&quot; value={{$:/config/NewJournal/Title}}&gt;\n&lt;$set name=\&quot;journalTags\&quot; value={{$:/config/NewJournal/Tags}}&gt;\n&lt;$set name=\&quot;currentTiddlerTag\&quot; value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;&lt;journalButton&gt;&gt;\n&lt;/$set&gt;&lt;/$set&gt;&lt;/$set&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/permalink&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/permalink&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/permalink-button}} {{$:/language/Buttons/Permalink/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Permalink/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-permalink\&quot; tooltip={{$:/language/Buttons/Permalink/Hint}} aria-label={{$:/language/Buttons/Permalink/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/permalink-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Permalink/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/permaview&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/permaview&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar $:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/permaview-button}} {{$:/language/Buttons/Permaview/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Permaview/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-permaview\&quot; tooltip={{$:/language/Buttons/Permaview/Hint}} aria-label={{$:/language/Buttons/Permaview/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/permaview-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Permaview/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/DefaultTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/DefaultTiddlers&quot;,
            &quot;text&quot;: &quot;GettingStarted\n&quot;
        },
        &quot;$:/temp/advancedsearch&quot;: {
            &quot;title&quot;: &quot;$:/temp/advancedsearch&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/snippets/allfields&quot;: {
            &quot;title&quot;: &quot;$:/snippets/allfields&quot;,
            &quot;text&quot;: &quot;\\define renderfield(title)\n&lt;tr class=\&quot;tc-view-field\&quot;&gt;&lt;td class=\&quot;tc-view-field-name\&quot;&gt;''$title$'':&lt;/td&gt;&lt;td class=\&quot;tc-view-field-value\&quot;&gt;//{{$:/language/Docs/Fields/$title$}}//&lt;/td&gt;&lt;/tr&gt;\n\\end\n&lt;table class=\&quot;tc-view-field-table\&quot;&gt;&lt;tbody&gt;&lt;$list filter=\&quot;[fields[]sort[title]]\&quot; variable=\&quot;listItem\&quot;&gt;&lt;$macrocall $name=\&quot;renderfield\&quot; title=&lt;&lt;listItem&gt;&gt;/&gt;&lt;/$list&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n&quot;
        },
        &quot;$:/config/AnimationDuration&quot;: {
            &quot;title&quot;: &quot;$:/config/AnimationDuration&quot;,
            &quot;text&quot;: &quot;400&quot;
        },
        &quot;$:/config/AutoSave&quot;: {
            &quot;title&quot;: &quot;$:/config/AutoSave&quot;,
            &quot;text&quot;: &quot;yes&quot;
        },
        &quot;$:/config/BitmapEditor/Colour&quot;: {
            &quot;title&quot;: &quot;$:/config/BitmapEditor/Colour&quot;,
            &quot;text&quot;: &quot;#ff0&quot;
        },
        &quot;$:/config/BitmapEditor/LineWidth&quot;: {
            &quot;title&quot;: &quot;$:/config/BitmapEditor/LineWidth&quot;,
            &quot;text&quot;: &quot;3&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/title&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/title&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/tags&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/tags&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/text&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/text&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/creator&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/creator&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/created&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/created&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/modified&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/modified&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/modifier&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/modifier&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/type&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/type&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/draft.title&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/draft.title&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/draft.of&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/draft.of&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/revision&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/revision&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/bag&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/bag&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditorTypeMappings/image/gif&quot;: {
            &quot;title&quot;: &quot;$:/config/EditorTypeMappings/image/gif&quot;,
            &quot;text&quot;: &quot;bitmap&quot;
        },
        &quot;$:/config/EditorTypeMappings/image/jpeg&quot;: {
            &quot;title&quot;: &quot;$:/config/EditorTypeMappings/image/jpeg&quot;,
            &quot;text&quot;: &quot;bitmap&quot;
        },
        &quot;$:/config/EditorTypeMappings/image/jpg&quot;: {
            &quot;title&quot;: &quot;$:/config/EditorTypeMappings/image/jpg&quot;,
            &quot;text&quot;: &quot;bitmap&quot;
        },
        &quot;$:/config/EditorTypeMappings/image/png&quot;: {
            &quot;title&quot;: &quot;$:/config/EditorTypeMappings/image/png&quot;,
            &quot;text&quot;: &quot;bitmap&quot;
        },
        &quot;$:/config/EditorTypeMappings/image/x-icon&quot;: {
            &quot;title&quot;: &quot;$:/config/EditorTypeMappings/image/x-icon&quot;,
            &quot;text&quot;: &quot;bitmap&quot;
        },
        &quot;$:/config/EditorTypeMappings/text/vnd.tiddlywiki&quot;: {
            &quot;title&quot;: &quot;$:/config/EditorTypeMappings/text/vnd.tiddlywiki&quot;,
            &quot;text&quot;: &quot;text&quot;
        },
        &quot;$:/config/Navigation/UpdateAddressBar&quot;: {
            &quot;title&quot;: &quot;$:/config/Navigation/UpdateAddressBar&quot;,
            &quot;text&quot;: &quot;no&quot;
        },
        &quot;$:/config/Navigation/UpdateHistory&quot;: {
            &quot;title&quot;: &quot;$:/config/Navigation/UpdateHistory&quot;,
            &quot;text&quot;: &quot;no&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/advanced-search&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/advanced-search&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/close-all&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/close-all&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/encryption&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/encryption&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/export-page&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/export-page&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/full-screen&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/full-screen&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/home&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/home&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/refresh&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/refresh&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/import&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/import&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/language&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/language&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/tag-manager&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/tag-manager&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/more-page-actions&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/more-page-actions&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/new-journal&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/new-journal&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/permaview&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/permaview&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/storyview&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/storyview&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/theme&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/theme&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/SaveWikiButton/Template&quot;: {
            &quot;title&quot;: &quot;$:/config/SaveWikiButton/Template&quot;,
            &quot;text&quot;: &quot;$:/core/save/all&quot;
        },
        &quot;$:/config/SaverFilter&quot;: {
            &quot;title&quot;: &quot;$:/config/SaverFilter&quot;,
            &quot;text&quot;: &quot;[all[]] -[[$:/HistoryList]] -[[$:/StoryList]] -[[$:/Import]] -[[$:/isEncrypted]] -[[$:/UploadName]] -[prefix[$:/state]] -[prefix[$:/temp]]&quot;
        },
        &quot;$:/config/SearchResults/Default&quot;: {
            &quot;title&quot;: &quot;$:/config/SearchResults/Default&quot;,
            &quot;text&quot;: &quot;$:/core/ui/DefaultSearchResultList&quot;
        },
        &quot;$:/config/SyncFilter&quot;: {
            &quot;title&quot;: &quot;$:/config/SyncFilter&quot;,
            &quot;text&quot;: &quot;[is[tiddler]] -[[$:/HistoryList]] -[[$:/StoryList]] -[[$:/Import]] -[[$:/isEncrypted]] -[prefix[$:/status]] -[prefix[$:/state]] -[prefix[$:/temp]]&quot;
        },
        &quot;$:/config/TiddlerInfo/Default&quot;: {
            &quot;title&quot;: &quot;$:/config/TiddlerInfo/Default&quot;,
            &quot;text&quot;: &quot;$:/core/ui/TiddlerInfo/Fields&quot;
        },
        &quot;$:/config/Toolbar/Icons&quot;: {
            &quot;title&quot;: &quot;$:/config/Toolbar/Icons&quot;,
            &quot;text&quot;: &quot;yes&quot;
        },
        &quot;$:/config/Toolbar/Text&quot;: {
            &quot;title&quot;: &quot;$:/config/Toolbar/Text&quot;,
            &quot;text&quot;: &quot;no&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/clone&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/clone&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/close-others&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/close-others&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/export-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/export-tiddler&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/info&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/info&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/more-tiddler-actions&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/more-tiddler-actions&quot;,
            &quot;text&quot;: &quot;show&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/new-here&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/new-here&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/new-journal-here&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/new-journal-here&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/permalink&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/permalink&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/permaview&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/permaview&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/snippets/currpalettepreview&quot;: {
            &quot;title&quot;: &quot;$:/snippets/currpalettepreview&quot;,
            &quot;text&quot;: &quot;\\define swatchStyle()\nbackground-color: $(swatchColour)$;\n\\end\n\\define swatch(colour)\n&lt;$set name=\&quot;swatchColour\&quot; value={{##$colour$}}&gt;\n&lt;div class=\&quot;tc-swatch\&quot; style=&lt;&lt;swatchStyle&gt;&gt;/&gt;\n&lt;/$set&gt;\n\\end\n&lt;div class=\&quot;tc-swatches-horiz\&quot;&gt;\n&lt;&lt;swatch foreground&gt;&gt;\n&lt;&lt;swatch background&gt;&gt;\n&lt;&lt;swatch muted-foreground&gt;&gt;\n&lt;&lt;swatch primary&gt;&gt;\n&lt;&lt;swatch page-background&gt;&gt;\n&lt;&lt;swatch tab-background&gt;&gt;\n&lt;&lt;swatch tiddler-info-background&gt;&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/snippets/download-wiki-button&quot;: {
            &quot;title&quot;: &quot;$:/snippets/download-wiki-button&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Tools/Download/\n&lt;$button class=\&quot;tc-btn-big-green\&quot;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-download-file\&quot; $param=\&quot;$:/core/save/all\&quot; filename=\&quot;index.html\&quot;/&gt;\n&lt;&lt;lingo Full/Caption&gt;&gt; {{$:/core/images/save-button}}\n&lt;/$button&gt;&quot;
        },
        &quot;$:/language&quot;: {
            &quot;title&quot;: &quot;$:/language&quot;,
            &quot;text&quot;: &quot;$:/languages/en-GB&quot;
        },
        &quot;$:/snippets/languageswitcher&quot;: {
            &quot;title&quot;: &quot;$:/snippets/languageswitcher&quot;,
            &quot;text&quot;: &quot;{{$:/language/ControlPanel/Basics/Language/Prompt}} &lt;$select tiddler=\&quot;$:/language\&quot;&gt;\n&lt;$list filter=\&quot;[[$:/languages/en-GB]] [plugin-type[language]sort[description]]\&quot;&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$view field=\&quot;description\&quot;&gt;&lt;$view field=\&quot;name\&quot;&gt;&lt;$view field=\&quot;title\&quot;/&gt;&lt;/$view&gt;&lt;/$view&gt;&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;&quot;
        },
        &quot;$:/core/macros/CSS&quot;: {
            &quot;title&quot;: &quot;$:/core/macros/CSS&quot;,
            &quot;tags&quot;: &quot;$:/tags/Macro&quot;,
            &quot;text&quot;: &quot;\\define colour(name)\n&lt;$transclude tiddler={{$:/palette}} index=\&quot;$name$\&quot;&gt;&lt;$transclude tiddler=\&quot;$:/palettes/Vanilla\&quot; index=\&quot;$name$\&quot;/&gt;&lt;/$transclude&gt;\n\\end\n\n\\define color(name)\n&lt;&lt;colour $name$&gt;&gt;\n\\end\n\n\\define box-shadow(shadow)\n``\n  -webkit-box-shadow: $shadow$;\n     -moz-box-shadow: $shadow$;\n          box-shadow: $shadow$;\n``\n\\end\n\n\\define filter(filter)\n``\n  -webkit-filter: $filter$;\n     -moz-filter: $filter$;\n          filter: $filter$;\n``\n\\end\n\n\\define transition(transition)\n``\n  -webkit-transition: $transition$;\n     -moz-transition: $transition$;\n          transition: $transition$;\n``\n\\end\n\n\\define transform-origin(origin)\n``\n  -webkit-transform-origin: $origin$;\n     -moz-transform-origin: $origin$;\n          transform-origin: $origin$;\n``\n\\end\n\n\\define background-linear-gradient(gradient)\n``\nbackground-image: linear-gradient($gradient$);\nbackground-image: -o-linear-gradient($gradient$);\nbackground-image: -moz-linear-gradient($gradient$);\nbackground-image: -webkit-linear-gradient($gradient$);\nbackground-image: -ms-linear-gradient($gradient$);\n``\n\\end\n\n\\define datauri(title)\n&lt;$macrocall $name=\&quot;makedatauri\&quot; type={{$title$!!type}} text={{$title$}}/&gt;\n\\end\n\n\\define if-sidebar(text)\n&lt;$reveal state=\&quot;$:/state/sidebar\&quot; type=\&quot;match\&quot; text=\&quot;yes\&quot; default=\&quot;yes\&quot;&gt;$text$&lt;/$reveal&gt;\n\\end\n\n\\define if-no-sidebar(text)\n&lt;$reveal state=\&quot;$:/state/sidebar\&quot; type=\&quot;nomatch\&quot; text=\&quot;yes\&quot; default=\&quot;yes\&quot;&gt;$text$&lt;/$reveal&gt;\n\\end\n&quot;
        },
        &quot;$:/core/macros/export&quot;: {
            &quot;title&quot;: &quot;$:/core/macros/export&quot;,
            &quot;tags&quot;: &quot;$:/tags/Macro&quot;,
            &quot;text&quot;: &quot;\\define exportButtonFilename(baseFilename)\n$baseFilename$$(extension)$\n\\end\n\n\\define exportButton(exportFilter:\&quot;[!is[system]sort[title]]\&quot;,lingoBase,baseFilename:\&quot;tiddlers\&quot;)\n&lt;span class=\&quot;tc-popup-keep\&quot;&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/export\&quot;&gt;&gt; tooltip={{$lingoBase$Hint}} aria-label={{$lingoBase$Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\&quot;tc-selected\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/export-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$lingoBase$Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/span&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/export\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot; animate=\&quot;yes\&quot;&gt;\n&lt;div class=\&quot;tc-drop-down\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/Exporter]]\&quot;&gt;\n&lt;$set name=\&quot;extension\&quot; value={{!!extension}}&gt;\n&lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-download-file\&quot; $param=&lt;&lt;currentTiddler&gt;&gt; exportFilter=\&quot;\&quot;\&quot;$exportFilter$\&quot;\&quot;\&quot; filename=&lt;&lt;exportButtonFilename \&quot;\&quot;\&quot;$baseFilename$\&quot;\&quot;\&quot;&gt;&gt;/&gt;\n&lt;$action-deletetiddler $tiddler=&lt;&lt;qualify \&quot;$:/state/popup/export\&quot;&gt;&gt;/&gt;\n&lt;$transclude field=\&quot;description\&quot;/&gt;\n&lt;/$button&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n\\end\n&quot;
        },
        &quot;$:/core/macros/lingo&quot;: {
            &quot;title&quot;: &quot;$:/core/macros/lingo&quot;,
            &quot;tags&quot;: &quot;$:/tags/Macro&quot;,
            &quot;text&quot;: &quot;\\define lingo-base()\n$:/language/\n\\end\n\n\\define lingo(title)\n{{$(lingo-base)$$title$}}\n\\end\n&quot;
        },
        &quot;$:/core/macros/list&quot;: {
            &quot;title&quot;: &quot;$:/core/macros/list&quot;,
            &quot;tags&quot;: &quot;$:/tags/Macro&quot;,
            &quot;text&quot;: &quot;\\define list-links(filter,type:\&quot;ul\&quot;,subtype:\&quot;li\&quot;,class:\&quot;\&quot;)\n&lt;$type$ class=\&quot;$class$\&quot;&gt;\n&lt;$list filter=\&quot;$filter$\&quot;&gt;\n&lt;$subtype$&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;$transclude field=\&quot;caption\&quot;&gt;\n&lt;$view field=\&quot;title\&quot;/&gt;\n&lt;/$transclude&gt;\n&lt;/$link&gt;\n&lt;/$subtype$&gt;\n&lt;/$list&gt;\n&lt;/$type$&gt;\n\\end\n&quot;
        },
        &quot;$:/core/macros/tabs&quot;: {
            &quot;title&quot;: &quot;$:/core/macros/tabs&quot;,
            &quot;tags&quot;: &quot;$:/tags/Macro&quot;,
            &quot;text&quot;: &quot;\\define tabs(tabsList,default,state:\&quot;$:/state/tab\&quot;,class,template)\n&lt;div class=\&quot;tc-tab-set $class$\&quot;&gt;\n&lt;div class=\&quot;tc-tab-buttons $class$\&quot;&gt;\n&lt;$list filter=\&quot;$tabsList$\&quot; variable=\&quot;currentTab\&quot;&gt;\n&lt;$button set=&lt;&lt;qualify \&quot;$state$\&quot;&gt;&gt; setTo=&lt;&lt;currentTab&gt;&gt; default=\&quot;$default$\&quot; selectedClass=\&quot;tc-tab-selected\&quot;&gt;\n&lt;$transclude tiddler=&lt;&lt;currentTab&gt;&gt; field=\&quot;caption\&quot;&gt;\n&lt;$macrocall $name=\&quot;currentTab\&quot; $type=\&quot;text/plain\&quot; $output=\&quot;text/plain\&quot;/&gt;\n&lt;/$transclude&gt;\n&lt;/$button&gt;\n&lt;/$list&gt;\n&lt;/div&gt;&lt;div class=\&quot;tc-tab-divider $class$\&quot;/&gt;&lt;div class=\&quot;tc-tab-content $class$\&quot;&gt;\n&lt;$list filter=\&quot;$tabsList$\&quot; variable=\&quot;currentTab\&quot;&gt;\n\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;qualify \&quot;$state$\&quot;&gt;&gt; text=&lt;&lt;currentTab&gt;&gt; default=\&quot;$default$\&quot;&gt;\n\n&lt;$transclude tiddler=\&quot;$template$\&quot; mode=\&quot;block\&quot;&gt;\n\n&lt;$transclude tiddler=&lt;&lt;currentTab&gt;&gt; mode=\&quot;block\&quot;/&gt;\n\n&lt;/$transclude&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\\end\n&quot;
        },
        &quot;$:/core/macros/tag&quot;: {
            &quot;title&quot;: &quot;$:/core/macros/tag&quot;,
            &quot;tags&quot;: &quot;$:/tags/Macro&quot;,
            &quot;text&quot;: &quot;\\define tag(tag)\n{{$tag$||$:/core/ui/TagTemplate}}\n\\end\n&quot;
        },
        &quot;$:/core/macros/timeline&quot;: {
            &quot;created&quot;: &quot;20141212105914482&quot;,
            &quot;modified&quot;: &quot;20141212110330815&quot;,
            &quot;tags&quot;: &quot;$:/tags/Macro&quot;,
            &quot;title&quot;: &quot;$:/core/macros/timeline&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki&quot;,
            &quot;text&quot;: &quot;\\define timeline-title()\n&lt;!-- Override this macro with a global macro \n     of the same name if you need to change \n     how titles are displayed on the timeline \n     --&gt;\n&lt;$view field=\&quot;title\&quot;/&gt;\n\\end\n\\define timeline(limit:\&quot;100\&quot;,format:\&quot;DDth MMM YYYY\&quot;,subfilter:\&quot;\&quot;,dateField:\&quot;modified\&quot;)\n&lt;div class=\&quot;tc-timeline\&quot;&gt;\n&lt;$list filter=\&quot;[!is[system]$subfilter$has[$dateField$]!sort[$dateField$]limit[$limit$]eachday[$dateField$]]\&quot;&gt;\n&lt;div class=\&quot;tc-menu-list-item\&quot;&gt;\n&lt;$view field=\&quot;$dateField$\&quot; format=\&quot;date\&quot; template=\&quot;$format$\&quot;/&gt;\n&lt;$list filter=\&quot;[sameday{!!$dateField$}!is[system]$subfilter$!sort[$dateField$]]\&quot;&gt;\n&lt;div class=\&quot;tc-menu-list-subitem\&quot;&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;&lt;timeline-title&gt;&gt;\n&lt;/$link&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n\\end\n&quot;
        },
        &quot;$:/core/macros/toc&quot;: {
            &quot;title&quot;: &quot;$:/core/macros/toc&quot;,
            &quot;tags&quot;: &quot;$:/tags/Macro&quot;,
            &quot;text&quot;: &quot;\\define toc-caption()\n&lt;$set name=\&quot;tv-wikilinks\&quot; value=\&quot;no\&quot;&gt;\n&lt;$transclude field=\&quot;caption\&quot;&gt;\n&lt;$view field=\&quot;title\&quot;/&gt;\n&lt;/$transclude&gt;\n&lt;/$set&gt;\n\\end\n\n\\define toc-body(rootTag,tag,sort:\&quot;\&quot;,itemClassFilter)\n&lt;ol class=\&quot;tc-toc\&quot;&gt;\n&lt;$list filter=\&quot;\&quot;\&quot;[all[shadows+tiddlers]tag[$tag$]!has[draft.of]$sort$]\&quot;\&quot;\&quot;&gt;\n&lt;$set name=\&quot;toc-item-class\&quot; filter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot; value=\&quot;toc-item-selected\&quot; emptyValue=\&quot;toc-item\&quot;&gt;\n&lt;li class=&lt;&lt;toc-item-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[all[current]toc-link[no]]\&quot; emptyMessage=\&quot;&lt;$link&gt;&lt;$view field='caption'&gt;&lt;$view field='title'/&gt;&lt;/$view&gt;&lt;/$link&gt;\&quot;&gt;\n&lt;&lt;toc-caption&gt;&gt;\n&lt;/$list&gt;\n&lt;$list filter=\&quot;\&quot;\&quot;[all[current]] -[[$rootTag$]]\&quot;\&quot;\&quot;&gt;\n&lt;$macrocall $name=\&quot;toc-body\&quot; rootTag=\&quot;\&quot;\&quot;$rootTag$\&quot;\&quot;\&quot; tag=&lt;&lt;currentTiddler&gt;&gt; sort=\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; itemClassFilter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot;/&gt;\n&lt;/$list&gt;\n&lt;/li&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;/ol&gt;\n\\end\n\n\\define toc(tag,sort:\&quot;\&quot;,itemClassFilter)\n&lt;&lt;toc-body rootTag:\&quot;\&quot;\&quot;$tag$\&quot;\&quot;\&quot; tag:\&quot;\&quot;\&quot;$tag$\&quot;\&quot;\&quot; sort:\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; itemClassFilter:\&quot;\&quot;\&quot;itemClassFilter\&quot;\&quot;\&quot;&gt;&gt;\n\\end\n\n\\define toc-linked-expandable-body(tag,sort:\&quot;\&quot;,itemClassFilter)\n&lt;$set name=\&quot;toc-state\&quot; value=&lt;&lt;qualify \&quot;$:/state/toc/$tag$-$(currentTiddler)$\&quot;&gt;&gt;&gt;\n&lt;$set name=\&quot;toc-item-class\&quot; filter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot; value=\&quot;toc-item-selected\&quot; emptyValue=\&quot;toc-item\&quot;&gt;\n&lt;li class=&lt;&lt;toc-item-class&gt;&gt;&gt;\n&lt;$link&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$button set=&lt;&lt;toc-state&gt;&gt; setTo=\&quot;open\&quot; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/right-arrow}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$button set=&lt;&lt;toc-state&gt;&gt; setTo=\&quot;close\&quot; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;&lt;toc-caption&gt;&gt;\n&lt;/$link&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$macrocall $name=\&quot;toc-expandable\&quot; tag=&lt;&lt;currentTiddler&gt;&gt; sort=\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; itemClassFilter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot;/&gt;\n&lt;/$reveal&gt;\n&lt;/li&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n\\end\n\n\\define toc-unlinked-expandable-body(tag,sort:\&quot;\&quot;,itemClassFilter)\n&lt;$set name=\&quot;toc-state\&quot; value=&lt;&lt;qualify \&quot;$:/state/toc/$tag$-$(currentTiddler)$\&quot;&gt;&gt;&gt;\n&lt;$set name=\&quot;toc-item-class\&quot; filter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot; value=\&quot;toc-item-selected\&quot; emptyValue=\&quot;toc-item\&quot;&gt;\n&lt;li class=&lt;&lt;toc-item-class&gt;&gt;&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$button set=&lt;&lt;toc-state&gt;&gt; setTo=\&quot;open\&quot; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/right-arrow}}\n&lt;&lt;toc-caption&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$button set=&lt;&lt;toc-state&gt;&gt; setTo=\&quot;close\&quot; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/down-arrow}}\n&lt;&lt;toc-caption&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$macrocall $name=\&quot;toc-expandable\&quot; tag=&lt;&lt;currentTiddler&gt;&gt; sort=\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; itemClassFilter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot;/&gt;\n&lt;/$reveal&gt;\n&lt;/li&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n\\end\n\n\\define toc-expandable(tag,sort:\&quot;\&quot;,itemClassFilter)\n&lt;ol class=\&quot;tc-toc toc-expandable\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$tag$]!has[draft.of]$sort$]\&quot;&gt;\n&lt;$list filter=\&quot;[all[current]toc-link[no]]\&quot; emptyMessage=\&quot;&lt;&lt;toc-linked-expandable-body tag:'$tag$' sort:'$sort$' itemClassFilter:'$itemClassFilter$'&gt;&gt;\&quot;&gt;\n&lt;&lt;toc-unlinked-expandable-body tag:\&quot;\&quot;\&quot;$tag$\&quot;\&quot;\&quot; sort:\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; itemClassFilter:\&quot;\&quot;\&quot;itemClassFilter\&quot;\&quot;\&quot;&gt;&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n&lt;/ol&gt;\n\\end\n\n\\define toc-linked-selective-expandable-body(tag,sort:\&quot;\&quot;,itemClassFilter)\n&lt;$set name=\&quot;toc-state\&quot; value=&lt;&lt;qualify \&quot;$:/state/toc/$tag$-$(currentTiddler)$\&quot;&gt;&gt;&gt;\n&lt;$set name=\&quot;toc-item-class\&quot; filter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot; value=\&quot;toc-item-selected\&quot; emptyValue=\&quot;toc-item\&quot;&gt;\n&lt;li class=&lt;&lt;toc-item-class&gt;&gt;&gt;\n&lt;$link&gt;\n&lt;$list filter=\&quot;[all[current]tagging[]limit[1]]\&quot; variable=\&quot;ignore\&quot; emptyMessage=\&quot;&lt;$button class='tc-btn-invisible'&gt;{{$:/core/images/blank}}&lt;/$button&gt;\&quot;&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$button set=&lt;&lt;toc-state&gt;&gt; setTo=\&quot;open\&quot; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/right-arrow}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$button set=&lt;&lt;toc-state&gt;&gt; setTo=\&quot;close\&quot; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/$list&gt;\n&lt;&lt;toc-caption&gt;&gt;\n&lt;/$link&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$macrocall $name=\&quot;toc-selective-expandable\&quot; tag=&lt;&lt;currentTiddler&gt;&gt; sort=\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; itemClassFilter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot;/&gt;\n&lt;/$reveal&gt;\n&lt;/li&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n\\end\n\n\\define toc-unlinked-selective-expandable-body(tag,sort:\&quot;\&quot;,itemClassFilter)\n&lt;$set name=\&quot;toc-state\&quot; value=&lt;&lt;qualify \&quot;$:/state/toc/$tag$-$(currentTiddler)$\&quot;&gt;&gt;&gt;\n&lt;$set name=\&quot;toc-item-class\&quot; filter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot; value=\&quot;toc-item-selected\&quot; emptyValue=\&quot;toc-item\&quot;&gt;\n&lt;li class=&lt;&lt;toc-item-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[all[current]tagging[]limit[1]]\&quot; variable=\&quot;ignore\&quot; emptyMessage=\&quot;&lt;$button class='tc-btn-invisible'&gt;{{$:/core/images/blank}}&lt;/$button&gt; &lt;$view field='caption'&gt;&lt;$view field='title'/&gt;&lt;/$view&gt;\&quot;&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$button set=&lt;&lt;toc-state&gt;&gt; setTo=\&quot;open\&quot; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/right-arrow}}\n&lt;&lt;toc-caption&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$button set=&lt;&lt;toc-state&gt;&gt; setTo=\&quot;close\&quot; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/down-arrow}}\n&lt;&lt;toc-caption&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/$list&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$macrocall $name=\&quot;\&quot;\&quot;toc-selective-expandable\&quot;\&quot;\&quot; tag=&lt;&lt;currentTiddler&gt;&gt; sort=\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; itemClassFilter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot;/&gt;\n&lt;/$reveal&gt;\n&lt;/li&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n\\end\n\n\\define toc-selective-expandable(tag,sort:\&quot;\&quot;,itemClassFilter)\n&lt;ol class=\&quot;tc-toc toc-selective-expandable\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$tag$]!has[draft.of]$sort$]\&quot;&gt;\n&lt;$list filter=\&quot;[all[current]toc-link[no]]\&quot; variable=\&quot;ignore\&quot; emptyMessage=\&quot;&lt;&lt;toc-linked-selective-expandable-body tag:'$tag$' sort:'$sort$' itemClassFilter:'$itemClassFilter$'&gt;&gt;\&quot;&gt;\n&lt;&lt;toc-unlinked-selective-expandable-body tag:\&quot;\&quot;\&quot;$tag$\&quot;\&quot;\&quot; sort:\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; itemClassFilter:\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot;&gt;&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n&lt;/ol&gt;\n\\end\n\n\\define toc-tabbed-selected-item-filter(selectedTiddler)\n[all[current]field:title{$selectedTiddler$}]\n\\end\n\n\\define toc-tabbed-external-nav(tag,sort:\&quot;\&quot;,selectedTiddler:\&quot;$:/temp/toc/selectedTiddler\&quot;,unselectedText,missingText,template:\&quot;\&quot;)\n&lt;$tiddler tiddler={{$selectedTiddler$}}&gt;\n&lt;div class=\&quot;tc-tabbed-table-of-contents\&quot;&gt;\n&lt;$linkcatcher to=\&quot;$selectedTiddler$\&quot;&gt;\n&lt;div class=\&quot;tc-table-of-contents\&quot;&gt;\n&lt;$macrocall $name=\&quot;toc-selective-expandable\&quot; tag=\&quot;\&quot;\&quot;$tag$\&quot;\&quot;\&quot; sort=\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; itemClassFilter=&lt;&lt;toc-tabbed-selected-item-filter selectedTiddler:\&quot;\&quot;\&quot;$selectedTiddler$\&quot;\&quot;\&quot;&gt;&gt;/&gt;\n&lt;/div&gt;\n&lt;/$linkcatcher&gt;\n&lt;div class=\&quot;tc-tabbed-table-of-contents-content\&quot;&gt;\n&lt;$reveal state=\&quot;\&quot;\&quot;$selectedTiddler$\&quot;\&quot;\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n&lt;$transclude mode=\&quot;block\&quot; tiddler=\&quot;$template$\&quot;&gt;\n&lt;h1&gt;&lt;$transclude field=\&quot;caption\&quot;&gt;&lt;$view field=\&quot;title\&quot;/&gt;&lt;/$transclude&gt;&lt;/h1&gt;\n&lt;$transclude mode=\&quot;block\&quot;&gt;$missingText$&lt;/$transclude&gt;\n&lt;/$transclude&gt;\n&lt;/$reveal&gt;\n&lt;$reveal state=\&quot;\&quot;\&quot;$selectedTiddler$\&quot;\&quot;\&quot; type=\&quot;match\&quot; text=\&quot;\&quot;&gt;\n$unselectedText$\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/$tiddler&gt;\n\\end\n\n\\define toc-tabbed-internal-nav(tag,sort:\&quot;\&quot;,selectedTiddler:\&quot;$:/temp/toc/selectedTiddler\&quot;,unselectedText,missingText,template:\&quot;\&quot;)\n&lt;$linkcatcher to=\&quot;\&quot;\&quot;$selectedTiddler$\&quot;\&quot;\&quot;&gt;\n&lt;$macrocall $name=\&quot;toc-tabbed-external-nav\&quot; tag=\&quot;\&quot;\&quot;$tag$\&quot;\&quot;\&quot; sort=\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; selectedTiddler=\&quot;\&quot;\&quot;$selectedTiddler$\&quot;\&quot;\&quot; unselectedText=\&quot;\&quot;\&quot;$unselectedText$\&quot;\&quot;\&quot; missingText=\&quot;\&quot;\&quot;$missingText$\&quot;\&quot;\&quot; template=\&quot;\&quot;\&quot;$template$\&quot;\&quot;\&quot;/&gt;\n&lt;/$linkcatcher&gt;\n\\end\n\n&quot;
        },
        &quot;$:/snippets/minilanguageswitcher&quot;: {
            &quot;title&quot;: &quot;$:/snippets/minilanguageswitcher&quot;,
            &quot;text&quot;: &quot;&lt;$select tiddler=\&quot;$:/language\&quot;&gt;\n&lt;$list filter=\&quot;[[$:/languages/en-GB]] [plugin-type[language]sort[title]]\&quot;&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$view field=\&quot;description\&quot;&gt;&lt;$view field=\&quot;name\&quot;&gt;&lt;$view field=\&quot;title\&quot;/&gt;&lt;/$view&gt;&lt;/$view&gt;&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;&quot;
        },
        &quot;$:/snippets/minithemeswitcher&quot;: {
            &quot;title&quot;: &quot;$:/snippets/minithemeswitcher&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Theme/\n&lt;&lt;lingo Prompt&gt;&gt; &lt;$select tiddler=\&quot;$:/theme\&quot;&gt;\n&lt;$list filter=\&quot;[plugin-type[theme]sort[title]]\&quot;&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$view field=\&quot;name\&quot;&gt;&lt;$view field=\&quot;title\&quot;/&gt;&lt;/$view&gt;&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;&quot;
        },
        &quot;$:/snippets/modules&quot;: {
            &quot;title&quot;: &quot;$:/snippets/modules&quot;,
            &quot;text&quot;: &quot;\\define describeModuleType(type)\n{{$:/language/Docs/ModuleTypes/$type$}}\n\\end\n&lt;$list filter=\&quot;[moduletypes[]]\&quot;&gt;\n\n!! &lt;$macrocall $name=\&quot;currentTiddler\&quot; $type=\&quot;text/plain\&quot; $output=\&quot;text/plain\&quot;/&gt;\n\n&lt;$macrocall $name=\&quot;describeModuleType\&quot; type=&lt;&lt;currentTiddler&gt;&gt;/&gt;\n\n&lt;ul&gt;&lt;$list filter=\&quot;[all[current]modules[]]\&quot;&gt;&lt;li&gt;&lt;$link&gt;&lt;&lt;currentTiddler&gt;&gt;&lt;/$link&gt;\n&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/palette&quot;: {
            &quot;title&quot;: &quot;$:/palette&quot;,
            &quot;text&quot;: &quot;$:/palettes/Vanilla&quot;
        },
        &quot;$:/snippets/paletteeditor&quot;: {
            &quot;title&quot;: &quot;$:/snippets/paletteeditor&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Palette/Editor/\n\\define describePaletteColour(colour)\n{{$:/language/Docs/PaletteColours/$colour$}}\n\\end\n&lt;$set name=\&quot;currentTiddler\&quot; value={{$:/palette}}&gt;\n\n&lt;&lt;lingo Prompt&gt;&gt; &lt;$link to={{$:/palette}}&gt;&lt;$macrocall $name=\&quot;currentTiddler\&quot; $output=\&quot;text/plain\&quot;/&gt;&lt;/$link&gt;\n\n&lt;$list filter=\&quot;[all[current]is[shadow]is[tiddler]]\&quot; variable=\&quot;listItem\&quot;&gt;\n&lt;&lt;lingo Prompt/Modified&gt;&gt;\n&lt;$button message=\&quot;tm-delete-tiddler\&quot; param={{$:/palette}}&gt;&lt;&lt;lingo Reset/Caption&gt;&gt;&lt;/$button&gt;\n&lt;/$list&gt;\n\n&lt;$list filter=\&quot;[all[current]is[shadow]!is[tiddler]]\&quot; variable=\&quot;listItem\&quot;&gt;\n&lt;&lt;lingo Clone/Prompt&gt;&gt;\n&lt;/$list&gt;\n\n&lt;$button message=\&quot;tm-new-tiddler\&quot; param={{$:/palette}}&gt;&lt;&lt;lingo Clone/Caption&gt;&gt;&lt;/$button&gt;\n\n&lt;table&gt;\n&lt;tbody&gt;\n&lt;$list filter=\&quot;[all[current]indexes[]]\&quot; variable=\&quot;colourName\&quot;&gt;\n&lt;tr&gt;\n&lt;td&gt;\n''&lt;$macrocall $name=\&quot;describePaletteColour\&quot; colour=&lt;&lt;colourName&gt;&gt;/&gt;''&lt;br/&gt;\n&lt;$macrocall $name=\&quot;colourName\&quot; $output=\&quot;text/plain\&quot;/&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$edit-text index=&lt;&lt;colourName&gt;&gt; tag=\&quot;input\&quot;/&gt;\n&lt;br&gt;\n&lt;$edit-text index=&lt;&lt;colourName&gt;&gt; type=\&quot;color\&quot; tag=\&quot;input\&quot;/&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/$set&gt;\n&quot;
        },
        &quot;$:/snippets/palettepreview&quot;: {
            &quot;title&quot;: &quot;$:/snippets/palettepreview&quot;,
            &quot;text&quot;: &quot;&lt;$set name=\&quot;currentTiddler\&quot; value={{$:/palette}}&gt;\n&lt;$transclude tiddler=\&quot;$:/snippets/currpalettepreview\&quot;/&gt;\n&lt;/$set&gt;\n&quot;
        },
        &quot;$:/snippets/paletteswitcher&quot;: {
            &quot;title&quot;: &quot;$:/snippets/paletteswitcher&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Palette/\n&lt;&lt;lingo Prompt&gt;&gt; &lt;$view tiddler={{$:/palette}} field=\&quot;name\&quot;/&gt;\n\n&lt;$linkcatcher to=\&quot;$:/palette\&quot;&gt;\n&lt;div class=\&quot;tc-chooser\&quot;&gt;&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/Palette]sort[description]]\&quot;&gt;&lt;div class=\&quot;tc-chooser-item\&quot;&gt;&lt;$link to={{!!title}}&gt;&lt;div&gt;&lt;$reveal state=\&quot;$:/palette\&quot; type=\&quot;match\&quot; text={{!!title}}&gt;&amp;bull;&lt;/$reveal&gt;&lt;$reveal state=\&quot;$:/palette\&quot; type=\&quot;nomatch\&quot; text={{!!title}}&gt;&amp;nbsp;&lt;/$reveal&gt; ''&lt;$view field=\&quot;name\&quot; format=\&quot;text\&quot;/&gt;'' - &lt;$view field=\&quot;description\&quot; format=\&quot;text\&quot;/&gt;&lt;/div&gt;&lt;$transclude tiddler=\&quot;$:/snippets/currpalettepreview\&quot;/&gt;&lt;/$link&gt;&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$linkcatcher&gt;&quot;
        },
        &quot;$:/temp/search&quot;: {
            &quot;title&quot;: &quot;$:/temp/search&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/tags/AdvancedSearch&quot;: {
            &quot;title&quot;: &quot;$:/tags/AdvancedSearch&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/AdvancedSearch/Standard]] [[$:/core/ui/AdvancedSearch/System]] [[$:/core/ui/AdvancedSearch/Shadows]] [[$:/core/ui/AdvancedSearch/Filter]]&quot;
        },
        &quot;$:/tags/ControlPanel&quot;: {
            &quot;title&quot;: &quot;$:/tags/ControlPanel&quot;,
            &quot;list&quot;: &quot;$:/core/ui/ControlPanel/Info $:/core/ui/ControlPanel/Appearance $:/core/ui/ControlPanel/Settings $:/core/ui/ControlPanel/Saving $:/core/ui/ControlPanel/Plugins $:/core/ui/ControlPanel/Tools $:/core/ui/ControlPanel/Internals&quot;
        },
        &quot;$:/tags/ControlPanel/Info&quot;: {
            &quot;title&quot;: &quot;$:/tags/ControlPanel/Info&quot;,
            &quot;list&quot;: &quot;$:/core/ui/ControlPanel/Basics $:/core/ui/ControlPanel/Advanced&quot;
        },
        &quot;$:/tags/EditTemplate&quot;: {
            &quot;title&quot;: &quot;$:/tags/EditTemplate&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/EditTemplate/controls]] [[$:/core/ui/EditTemplate/title]] [[$:/core/ui/EditTemplate/tags]] [[$:/core/ui/EditTemplate/shadow]] [[$:/core/ui/ViewTemplate/classic]] [[$:/core/ui/EditTemplate/body]] [[$:/core/ui/EditTemplate/type]] [[$:/core/ui/EditTemplate/fields]]&quot;
        },
        &quot;$:/tags/EditToolbar&quot;: {
            &quot;title&quot;: &quot;$:/tags/EditToolbar&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/Buttons/delete]] [[$:/core/ui/Buttons/cancel]] [[$:/core/ui/Buttons/save]]&quot;
        },
        &quot;$:/tags/MoreSideBar&quot;: {
            &quot;title&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/MoreSideBar/All]] [[$:/core/ui/MoreSideBar/Recent]] [[$:/core/ui/MoreSideBar/Tags]] [[$:/core/ui/MoreSideBar/Missing]] [[$:/core/ui/MoreSideBar/Drafts]] [[$:/core/ui/MoreSideBar/Orphans]] [[$:/core/ui/MoreSideBar/Types]] [[$:/core/ui/MoreSideBar/System]] [[$:/core/ui/MoreSideBar/Shadows]]&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/tags/PageControls&quot;: {
            &quot;title&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/Buttons/home]] [[$:/core/ui/Buttons/close-all]] [[$:/core/ui/Buttons/permaview]] [[$:/core/ui/Buttons/new-tiddler]] [[$:/core/ui/Buttons/new-journal]] [[$:/core/ui/Buttons/import]] [[$:/core/ui/Buttons/export-page]] [[$:/core/ui/Buttons/control-panel]] [[$:/core/ui/Buttons/advanced-search]] [[$:/core/ui/Buttons/tag-manager]] [[$:/core/ui/Buttons/language]] [[$:/core/ui/Buttons/theme]] [[$:/core/ui/Buttons/storyview]] [[$:/core/ui/Buttons/encryption]] [[$:/core/ui/Buttons/full-screen]] [[$:/core/ui/Buttons/save-wiki]] [[$:/core/ui/Buttons/refresh]] [[$:/core/ui/Buttons/more-page-actions]]&quot;
        },
        &quot;$:/tags/PageTemplate&quot;: {
            &quot;title&quot;: &quot;$:/tags/PageTemplate&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/PageTemplate/sidebar]] [[$:/core/ui/PageTemplate/story]] [[$:/core/ui/PageTemplate/alerts]] [[$:/core/ui/PageTemplate/topleftbar]] [[$:/core/ui/PageTemplate/toprightbar]]&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/tags/SideBar&quot;: {
            &quot;title&quot;: &quot;$:/tags/SideBar&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/SideBar/Open]] [[$:/core/ui/SideBar/Recent]] [[$:/core/ui/SideBar/Tools]] [[$:/core/ui/SideBar/More]]&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/tags/TiddlerInfo&quot;: {
            &quot;title&quot;: &quot;$:/tags/TiddlerInfo&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/TiddlerInfo/Tools]] [[$:/core/ui/TiddlerInfo/References]] [[$:/core/ui/TiddlerInfo/Tagging]] [[$:/core/ui/TiddlerInfo/List]] [[$:/core/ui/TiddlerInfo/Listed]] [[$:/core/ui/TiddlerInfo/Fields]]&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/tags/TiddlerInfo/Advanced&quot;: {
            &quot;title&quot;: &quot;$:/tags/TiddlerInfo/Advanced&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/TiddlerInfo/Advanced/ShadowInfo]] [[$:/core/ui/TiddlerInfo/Advanced/PluginInfo]]&quot;
        },
        &quot;$:/tags/ViewTemplate&quot;: {
            &quot;title&quot;: &quot;$:/tags/ViewTemplate&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/ViewTemplate/title]] [[$:/core/ui/ViewTemplate/subtitle]] [[$:/core/ui/ViewTemplate/tags]] [[$:/core/ui/ViewTemplate/classic]] [[$:/core/ui/ViewTemplate/body]]&quot;
        },
        &quot;$:/tags/ViewToolbar&quot;: {
            &quot;title&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/Buttons/more-tiddler-actions]] [[$:/core/ui/Buttons/info]] [[$:/core/ui/Buttons/new-here]] [[$:/core/ui/Buttons/new-journal-here]] [[$:/core/ui/Buttons/clone]] [[$:/core/ui/Buttons/export-tiddler]] [[$:/core/ui/Buttons/edit]] [[$:/core/ui/Buttons/permalink]] [[$:/core/ui/Buttons/permaview]] [[$:/core/ui/Buttons/close-others]] [[$:/core/ui/Buttons/close]]&quot;
        },
        &quot;$:/snippets/themeswitcher&quot;: {
            &quot;title&quot;: &quot;$:/snippets/themeswitcher&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Theme/\n&lt;&lt;lingo Prompt&gt;&gt; &lt;$view tiddler={{$:/theme}} field=\&quot;name\&quot;/&gt;\n\n&lt;$linkcatcher to=\&quot;$:/theme\&quot;&gt;\n&lt;$list filter=\&quot;[plugin-type[theme]sort[title]]\&quot;&gt;&lt;div&gt;&lt;$reveal state=\&quot;$:/theme\&quot; type=\&quot;match\&quot; text={{!!title}}&gt;&amp;bull;&lt;/$reveal&gt;&lt;$reveal state=\&quot;$:/theme\&quot; type=\&quot;nomatch\&quot; text={{!!title}}&gt;&amp;nbsp;&lt;/$reveal&gt; &lt;$link to={{!!title}}&gt;''&lt;$view field=\&quot;name\&quot; format=\&quot;text\&quot;/&gt;'' &lt;$view field=\&quot;description\&quot; format=\&quot;text\&quot;/&gt;&lt;/$link&gt;&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/$linkcatcher&gt;&quot;
        },
        &quot;$:/core/wiki/title&quot;: {
            &quot;title&quot;: &quot;$:/core/wiki/title&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki&quot;,
            &quot;text&quot;: &quot;{{$:/SiteTitle}} --- {{$:/SiteSubtitle}}&quot;
        },
        &quot;$:/view&quot;: {
            &quot;title&quot;: &quot;$:/view&quot;,
            &quot;text&quot;: &quot;classic&quot;
        },
        &quot;$:/snippets/viewswitcher&quot;: {
            &quot;title&quot;: &quot;$:/snippets/viewswitcher&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/StoryView/\n&lt;&lt;lingo Prompt&gt;&gt; &lt;$select tiddler=\&quot;$:/view\&quot;&gt;\n&lt;$list filter=\&quot;[storyviews[]]\&quot;&gt;\n&lt;option&gt;&lt;$view field=\&quot;title\&quot;/&gt;&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;&quot;
        }
    }
}</pre>
</div>
<div created="20150327225944842" modified="20150327225947114" title="$:/DefaultTiddlers">
<pre>[[The Federalist Papers]]
</pre>
</div>
<div created="20150325214936365" modified="20150325230938252" tags="$:/tags/Stylesheet" title="$:/FiscoCSS">
<pre>span.footnote {
/* color: green;
text-decoration: underline;
text-decoration-style: wavy; */
border-bottom: 1px dotted #000;
}</pre>
</div>
<div plugin-type="import" status="pending" title="$:/Import" type="application/json">
<pre>{
    &quot;tiddlers&quot;: {
        &quot;Madison&quot;: {
            &quot;title&quot;: &quot;Madison&quot;
        }
    }
}</pre>
</div>
<div title="$:/isEncrypted">
<pre>no</pre>
</div>
<div created="20150330193600865" modified="20150330193616058" title="$:/SiteSubtitle">
<pre>Personal wiki of The Federalist Papers</pre>
</div>
<div created="20150325205730863" modified="20150327221131703" title="$:/SiteTitle">
<pre>The Federalist Papers</pre>
</div>
<div modified="20150325214944592" title="$:/state/tab/moresidebar-401116514">
<pre>$:/core/ui/MoreSideBar/Shadows</pre>
</div>
<div modified="20150330194335953" title="$:/state/tab/sidebar--1835078512">
<pre>Help</pre>
</div>
<div list="[[The Federalist Papers]]" title="$:/StoryList">
<pre></pre>
</div>
<div plugin-type="info" title="$:/temp/info-plugin" type="application/json">
<pre>{
    &quot;tiddlers&quot;: {
        &quot;$:/info/browser&quot;: {
            &quot;title&quot;: &quot;$:/info/browser&quot;,
            &quot;text&quot;: &quot;yes&quot;
        },
        &quot;$:/info/node&quot;: {
            &quot;title&quot;: &quot;$:/info/node&quot;,
            &quot;text&quot;: &quot;no&quot;
        }
    }
}</pre>
</div>
<div created="20150325205849710" modified="20150330170300163" title="$:/temp/NewTagName">
<pre></pre>
</div>
<div created="20150325214606353" modified="20150330194414378" title="$:/temp/search">
<pre>help</pre>
</div>
<div author="JeremyRuston" core-version="&gt;=5.0.0" dependents="$:/themes/tiddlywiki/vanilla" description="A clean theme that emphasises individual tiddlers" name="Snow White" plugin-type="theme" title="$:/themes/tiddlywiki/snowwhite" type="application/json" version="5.1.7">
<pre>{
    &quot;tiddlers&quot;: {
        &quot;$:/themes/tiddlywiki/snowwhite/base&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/snowwhite/base&quot;,
            &quot;tags&quot;: &quot;[[$:/tags/Stylesheet]]&quot;,
            &quot;text&quot;: &quot;\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline\n\n.tc-sidebar-header {\n\ttext-shadow: 0 1px 0 &lt;&lt;colour sidebar-foreground-shadow&gt;&gt;;\n}\n\n.tc-tiddler-info {\n\t&lt;&lt;box-shadow \&quot;inset 1px 2px 3px rgba(0,0,0,0.1)\&quot;&gt;&gt;\n}\n\n@media screen {\n\t.tc-tiddler-frame {\n\t\t&lt;&lt;box-shadow \&quot;5px 5px 5px rgba(0, 0, 0, 0.1)\&quot;&gt;&gt;\n\t}\n}\n\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n\t.tc-tiddler-frame {\n\t\t&lt;&lt;box-shadow none&gt;&gt;\n\t}\n}\n\n.tc-page-controls button svg, .tc-tiddler-controls button svg, .tc-topbar button svg {\n\t&lt;&lt;transition \&quot;fill 150ms ease-in-out\&quot;&gt;&gt;\n}\n\n.tc-tiddler-controls button.tc-selected svg {\n\t&lt;&lt;filter \&quot;drop-shadow(0px -1px 2px rgba(0,0,0,0.25))\&quot;&gt;&gt;\n}\n\n.tc-tiddler-frame input.tc-edit-texteditor {\n\t&lt;&lt;box-shadow \&quot;inset 0 1px 8px rgba(0, 0, 0, 0.15)\&quot;&gt;&gt;\n}\n\n.tc-edit-tags {\n\t&lt;&lt;box-shadow \&quot;inset 0 1px 8px rgba(0, 0, 0, 0.15)\&quot;&gt;&gt;\n}\n\n.tc-tiddler-frame .tc-edit-tags input.tc-edit-texteditor {\n\t&lt;&lt;box-shadow \&quot;none\&quot;&gt;&gt;\n\tborder: none;\n\toutline: none;\n}\n\ncanvas.tc-edit-bitmapeditor  {\n\t&lt;&lt;box-shadow \&quot;2px 2px 5px rgba(0, 0, 0, 0.5)\&quot;&gt;&gt;\n}\n\n.tc-drop-down {\n\tborder-radius: 4px;\n\t&lt;&lt;box-shadow \&quot;2px 2px 10px rgba(0, 0, 0, 0.5)\&quot;&gt;&gt;\n}\n\n.tc-block-dropdown {\n\tborder-radius: 4px;\n\t&lt;&lt;box-shadow \&quot;2px 2px 10px rgba(0, 0, 0, 0.5)\&quot;&gt;&gt;\n}\n\n.tc-modal-displayed {\n\t-webkit-filter: blur(4px);\n}\n\n.tc-modal {\n\tborder-radius: 6px;\n\t&lt;&lt;box-shadow \&quot;0 3px 7px rgba(0,0,0,0.3)\&quot;&gt;&gt;\n}\n\n.tc-modal-footer {\n\tborder-radius: 0 0 6px 6px;\n\t&lt;&lt;box-shadow \&quot;inset 0 1px 0 #fff\&quot;&gt;&gt;;\n}\n\n\n.tc-alert {\n\tborder-radius: 6px;\n\t&lt;&lt;box-shadow \&quot;0 3px 7px rgba(0,0,0,0.6)\&quot;&gt;&gt;\n}\n\n.tc-notification {\n\tborder-radius: 6px;\n\t&lt;&lt;box-shadow \&quot;0 3px 7px rgba(0,0,0,0.3)\&quot;&gt;&gt;\n\ttext-shadow: 0 1px 0 rgba(255,255,255, 0.8);\n}\n\n.tc-sidebar-lists .tc-tab-divider {\n\t&lt;&lt;background-linear-gradient \&quot;left, rgb(216,216,216) 0%, rgb(236,236,236) 250px\&quot;&gt;&gt;\n}\n\n.tc-more-sidebar .tc-tab-buttons button {\n\t&lt;&lt;background-linear-gradient \&quot;left, rgb(236,236,236) 0%, rgb(224,224,224) 100%\&quot;&gt;&gt;\n}\n\n.tc-more-sidebar .tc-tab-buttons button.tc-tab-selected {\n\t&lt;&lt;background-linear-gradient \&quot;left, rgb(236,236,236) 0%, rgb(248,248,248) 100%\&quot;&gt;&gt;\n}\n\n.tc-message-box img {\n\t&lt;&lt;box-shadow \&quot;1px 1px 3px rgba(0,0,0,0.5)\&quot;&gt;&gt;\n}\n\n.tc-plugin-info {\n\t&lt;&lt;box-shadow \&quot;2px 2px 4px rgba(0,0,0,0.2)\&quot;&gt;&gt;\n}\n&quot;
        }
    }
}</pre>
</div>
<div author="JeremyRuston" core-version="&gt;=5.0.0" dependents="" description="A basic default theme" name="Vanilla" plugin-type="theme" title="$:/themes/tiddlywiki/vanilla" type="application/json" version="5.1.7">
<pre>{
    &quot;tiddlers&quot;: {
        &quot;$:/themes/tiddlywiki/vanilla/themetweaks&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/themetweaks&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Appearance&quot;,
            &quot;caption&quot;: &quot;Theme Tweaks&quot;,
            &quot;text&quot;: &quot;You can tweak certain aspects of the ''Vanilla'' theme.\n\n! Settings\n\n* [[Font family|$:/themes/tiddlywiki/vanilla/settings/fontfamily]]: &lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/settings/fontfamily\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt;\n\n! Sizes\n\n* [[Font size|$:/themes/tiddlywiki/vanilla/metrics/fontsize]]: &lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/fontsize\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt;\n* [[Line height|$:/themes/tiddlywiki/vanilla/metrics/lineheight]]: &lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/lineheight\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt;\n* [[Font size for tiddler body|$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize]]: &lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt;\n* [[Line height for tiddler body|$:/themes/tiddlywiki/vanilla/metrics/bodylineheight]]: &lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/bodylineheight\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt;\n* [[Story left position|$:/themes/tiddlywiki/vanilla/metrics/storyleft]] //(the distance between the left of the screen and the left margin of the story river or tiddler area)//: &lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/storyleft\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt;\n* [[Story top position|$:/themes/tiddlywiki/vanilla/metrics/storytop]] //(the distance between the top of the screen and the top margin of the story river or tiddler area)//: &lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/storytop\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt;\n* [[Story right|$:/themes/tiddlywiki/vanilla/metrics/storyright]] //(the distance between the left side of the screen and the left margin of the sidebar area)//: &lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/storyright\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt;\n* [[Story width|$:/themes/tiddlywiki/vanilla/metrics/storywidth]] //(the width of the story river or tiddler area)//: &lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/storywidth\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt;\n* [[Tiddler width|$:/themes/tiddlywiki/vanilla/metrics/tiddlerwidth]] //(the width of individual tiddlers -- used for zoomin storyview)//: &lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/tiddlerwidth\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt;\n* [[Sidebar breakpoint|$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint]] //(the minimum width for the sidebar to be displayed alongside the story river)//: &lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt;\n&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/base&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/base&quot;,
            &quot;tags&quot;: &quot;[[$:/tags/Stylesheet]]&quot;,
            &quot;text&quot;: &quot;\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline\n/*\n** Start with the normalize CSS reset, and then belay some of its effects\n*/\n\n{{$:/themes/tiddlywiki/vanilla/reset}}\n\n*, input[type=\&quot;search\&quot;] {\n\tbox-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\t-webkit-box-sizing: border-box;\n}\n\nhtml button {\n\tline-height: 1.2;\n}\n\n/*\n** Basic element styles\n*/\n\nhtml {\n\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings/fontfamily}};\n\ttext-rendering: optimizeLegibility; /* Enables kerning and ligatures etc. */\t\n}\n\nhtml:-webkit-full-screen {\n\tbackground-color: &lt;&lt;colour page-background&gt;&gt;;\n}\n\nbody.tc-body {\n\tfont-size: {{$:/themes/tiddlywiki/vanilla/metrics/fontsize}};\n\tline-height: {{$:/themes/tiddlywiki/vanilla/metrics/lineheight}};\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n\tbackground-color: &lt;&lt;colour page-background&gt;&gt;;\n\tword-wrap: break-word;\n}\n\nh1, h2, h3, h4, h5, h6 {\n\tline-height: 1.2;\n\tfont-weight: 300;\n}\n\npre {\n\tdisplay: block;\n\tpadding: 14px;\n\tmargin-top: 1em;\n\tmargin-bottom: 1em;\n\tword-break: normal;\n\tword-wrap: break-word;\n\twhite-space: pre;\n\twhite-space: pre-wrap;\n\tbackground-color: &lt;&lt;colour pre-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour pre-border&gt;&gt;;\n\tpadding: 0 3px 2px;\n\tborder-radius: 3px;\n}\n\ncode {\n\tcolor: &lt;&lt;colour code-foreground&gt;&gt;;\n\tbackground-color: &lt;&lt;colour code-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour code-border&gt;&gt;;\n    white-space: pre-wrap;\n\tpadding: 0 3px 2px;\n\tborder-radius: 3px;\n}\n\nblockquote {\n\tborder-left: 5px solid &lt;&lt;colour blockquote-bar&gt;&gt;;\n\tmargin-left: 25px;\n\tpadding-left: 10px;\n}\n\ndl dt {\n\tfont-weight: bold;\n\tmargin-top: 6px;\n}\n\n.tc-muted {\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n/*\nMarkdown likes putting code elements inside pre elements\n*/\npre &gt; code {\n\tpadding: 0;\n\tborder: none;\n\tbackground-color: inherit;\n\tcolor: inherit;\n}\n\ntable {\n\tborder: 1px solid &lt;&lt;colour table-border&gt;&gt;;\n\twidth: auto;\n\tmax-width: 100%;\n\tcaption-side: bottom;\n\tmargin-top: 1em;\n\tmargin-bottom: 1em;\n}\n\ntable th, table td {\n\tpadding: 0 7px 0 7px;\n\tborder-top: 1px solid &lt;&lt;colour table-border&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour table-border&gt;&gt;;\n}\n\ntable thead tr td, table th {\n\tbackground-color: &lt;&lt;colour table-header-background&gt;&gt;;\n\tfont-weight: bold;\n}\n\ntable tfoot tr td {\n\tbackground-color: &lt;&lt;colour table-footer-background&gt;&gt;;\n}\n\n.tc-csv-table {\n\twhite-space: nowrap;\n}\n\n.tc-tiddler-frame img,\n.tc-tiddler-frame svg,\n.tc-tiddler-frame canvas,\n.tc-tiddler-frame embed,\n.tc-tiddler-frame iframe {\n\tmax-width: 100%;\n}\n\n.tc-tiddler-body &gt; embed,\n.tc-tiddler-body &gt; iframe {\n\twidth: 100%;\n\theight: 600px;\n}\n\n/*\n** Links\n*/\n\nbutton.tc-tiddlylink,\na.tc-tiddlylink {\n\ttext-decoration: none;\n\tfont-weight: normal;\n\tcolor: &lt;&lt;colour tiddler-link-foreground&gt;&gt;;\n\t-webkit-user-select: inherit; /* Otherwise the draggable attribute makes links impossible to select */\n}\n\n.tc-sidebar-lists a.tc-tiddlylink {\n\tcolor: &lt;&lt;colour sidebar-tiddler-link-foreground&gt;&gt;;\n}\n\n.tc-sidebar-lists a.tc-tiddlylink:hover {\n\tcolor: &lt;&lt;colour sidebar-tiddler-link-foreground-hover&gt;&gt;;\n}\n\nbutton.tc-tiddlylink:hover,\na.tc-tiddlylink:hover {\n\ttext-decoration: underline;\n}\n\na.tc-tiddlylink-resolves {\n}\n\na.tc-tiddlylink-shadow {\n\tfont-weight: bold;\n}\n\na.tc-tiddlylink-shadow.tc-tiddlylink-resolves {\n\tfont-weight: normal;\n}\n\na.tc-tiddlylink-missing {\n\tfont-style: italic;\n}\n\na.tc-tiddlylink-external {\n\ttext-decoration: underline;\n\tcolor: &lt;&lt;colour external-link-foreground&gt;&gt;;\n\tbackground-color: &lt;&lt;colour external-link-background&gt;&gt;;\n}\n\na.tc-tiddlylink-external:visited {\n\tcolor: &lt;&lt;colour external-link-foreground-visited&gt;&gt;;\n\tbackground-color: &lt;&lt;colour external-link-background-visited&gt;&gt;;\n}\n\na.tc-tiddlylink-external:hover {\n\tcolor: &lt;&lt;colour external-link-foreground-hover&gt;&gt;;\n\tbackground-color: &lt;&lt;colour external-link-background-hover&gt;&gt;;\n}\n\n/*\n** Drag and drop styles\n*/\n\n.tc-tiddler-dragger {\n\tposition: relative;\n\tz-index: -10000;\n}\n\n.tc-tiddler-dragger-inner {\n\tposition: absolute;\n\tdisplay: inline-block;\n\tpadding: 8px 20px;\n\tfont-size: 16.9px;\n\tfont-weight: bold;\n\tline-height: 20px;\n\tcolor: &lt;&lt;colour dragger-foreground&gt;&gt;;\n\ttext-shadow: 0 1px 0 rgba(0, 0, 0, 1);\n\twhite-space: nowrap;\n\tvertical-align: baseline;\n\tbackground-color: &lt;&lt;colour dragger-background&gt;&gt;;\n\tborder-radius: 20px;\n}\n\n.tc-tiddler-dragger-cover {\n\tposition: absolute;\n\tbackground-color: &lt;&lt;colour page-background&gt;&gt;;\n}\n\n.tc-dropzone {\n\tposition: relative;\n}\n\n.tc-dropzone.tc-dragover:before {\n\tz-index: 10000;\n\tdisplay: block;\n\tposition: absolute;\n\tposition: -webkit-sticky;\n\tposition: -moz-sticky;\n\tposition: -o-sticky;\n\tposition: -ms-sticky;\n\tposition: sticky;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground: &lt;&lt;colour dropzone-background&gt;&gt;;\n\ttext-align: center;\n\tcontent: \&quot;&lt;&lt;lingo DropMessage&gt;&gt;\&quot;;\n}\n\n/*\n** Buttons\n*/\n\nbutton svg, button img {\n\tvertical-align: middle;\n}\n\n.tc-btn-invisible {\n\tpadding: 0;\n\tmargin: 0;\n\tbackground: none;\n\tborder: none;\n}\n\n.tc-btn-icon svg {\n\theight: 1em;\n\twidth: 1em;\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-btn-text {\n\tpadding: 0;\n\tmargin: 0;\n}\n\n.tc-btn-big-green {\n\tpadding: 8px;\n\tmargin: 4px 8px 4px 8px;\n\tbackground: &lt;&lt;colour download-background&gt;&gt;;\n\tcolor: &lt;&lt;colour download-foreground&gt;&gt;;\n\tfill: &lt;&lt;colour download-foreground&gt;&gt;;\n\tborder: none;\n\tfont-size: 1.2em;\n\tline-height: 1.4em;\n}\n\n.tc-sidebar-lists input {\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-sidebar-lists button {\n\tcolor: &lt;&lt;colour sidebar-button-foreground&gt;&gt;;\n\tfill: &lt;&lt;colour sidebar-button-foreground&gt;&gt;;\n}\n\n.tc-sidebar-lists button.tc-btn-mini {\n\tcolor: &lt;&lt;colour sidebar-muted-foreground&gt;&gt;;\n}\n\n.tc-sidebar-lists button.tc-btn-mini:hover {\n\tcolor: &lt;&lt;colour sidebar-muted-foreground-hover&gt;&gt;;\n}\n\nbutton svg.tc-image-button, button .tc-image-button img {\n\theight: 1em;\n\twidth: 1em;\n}\n\n/*\n** Tags and missing tiddlers\n*/\n\n.tc-tag-list-item {\n\tposition: relative;\n\tdisplay: inline-block;\n\tmargin-right: 7px;\n}\n\n.tc-tags-wrapper {\n\tmargin: 4px 0 14px 0;\n}\n\n.tc-missing-tiddler-label {\n\tfont-style: italic;\n\tfont-weight: normal;\n\tdisplay: inline-block;\n\tfont-size: 11.844px;\n\tline-height: 14px;\n\twhite-space: nowrap;\n\tvertical-align: baseline;\n}\n\nbutton.tc-tag-label, span.tc-tag-label {\n\tdisplay: inline-block;\n\tpadding: 0.16em 0.7em;\n\tfont-size: 0.9em;\n\tfont-weight: 300;\n\tline-height: 1.2em;\n\tcolor: &lt;&lt;colour tag-foreground&gt;&gt;;\n\twhite-space: nowrap;\n\tvertical-align: baseline;\n\tbackground-color: &lt;&lt;colour tag-background&gt;&gt;;\n\tborder-radius: 1em;\n}\n\n.tc-untagged-separator {\n\twidth: 10em;\n\tleft: 0;\n\tmargin-left: 0;\n\tborder: 0;\n\theight: 1px;\n\tbackground: &lt;&lt;colour tab-divider&gt;&gt;;\n}\n\nbutton.tc-untagged-label {\n\tbackground-color: &lt;&lt;colour untagged-background&gt;&gt;;\n}\n\n.tc-tag-label svg, .tc-tag-label img {\n\theight: 1em;\n\twidth: 1em;\n\tfill: &lt;&lt;colour tag-foreground&gt;&gt;;\n}\n\n.tc-tag-manager-table .tc-tag-label {\n\twhite-space: normal;\n}\n\n.tc-tag-manager-tag {\n\twidth: 100%;\n}\n\n/*\n** Page layout\n*/\n\n.tc-topbar {\n\tposition: fixed;\n\tz-index: 1200;\n}\n\n.tc-topbar-left {\n\tleft: 29px;\n\ttop: 5px;\n}\n\n.tc-topbar-right {\n\ttop: 5px;\n\tright: 29px;\n}\n\n.tc-topbar button {\n\tpadding: 8px;\n}\n\n.tc-topbar svg {\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-topbar button:hover svg {\n\tfill: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-sidebar-header {\n\tcolor: &lt;&lt;colour sidebar-foreground&gt;&gt;;\n\tfill: &lt;&lt;colour sidebar-foreground&gt;&gt;;\n}\n\n.tc-sidebar-header .tc-title a.tc-tiddlylink-resolves {\n\tfont-weight: 300;\n}\n\n.tc-sidebar-header .tc-sidebar-lists p {\n\tmargin-top: 3px;\n\tmargin-bottom: 3px;\n}\n\n.tc-sidebar-header .tc-missing-tiddler-label {\n\tcolor: &lt;&lt;colour sidebar-foreground&gt;&gt;;\n}\n\n.tc-advanced-search input {\n\twidth: 60%;\n}\n\n.tc-search a svg {\n\twidth: 1.2em;\n\theight: 1.2em;\n\tvertical-align: middle;\n}\n\n.tc-search-results {\n\tpadding-top: 14px;\n}\n\n.tc-page-controls {\n\tmargin-top: 14px;\n\tfont-size: 1.5em;\n}\n\n.tc-page-controls button {\n\tmargin-right: 0.5em;\n}\n\n.tc-page-controls a.tc-tiddlylink:hover {\n\ttext-decoration: none;\n}\n\n.tc-page-controls img {\n\twidth: 1em;\n}\n\n.tc-page-controls svg,\n.tc-search svg {\n\tfill: &lt;&lt;colour sidebar-controls-foreground&gt;&gt;;\n}\n\n.tc-page-controls button:hover svg, .tc-page-controls a:hover svg,\n.tc-search button:hover svg, .tc-search a:hover svg {\n\tfill: &lt;&lt;colour sidebar-controls-foreground-hover&gt;&gt;;\n}\n\n.tc-menu-list-item {\n\twhite-space: nowrap;\n}\n\n.tc-menu-list-count {\n\tfont-weight: bold;\n}\n\n.tc-menu-list-subitem {\n\tpadding-left: 7px;\n}\n\n.tc-story-river {\n\tposition: relative;\n}\n\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n\n\t.tc-sidebar-header {\n\t\tpadding: 14px;\n\t\tmin-height: 32px;\n\t\tmargin-top: {{$:/themes/tiddlywiki/vanilla/metrics/storytop}};\n\t}\n\n\t.tc-story-river {\n\t\tposition: relative;\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n\n\t.tc-message-box {\n\t\tmargin: 21px -21px 21px -21px;\n\t}\n\n\t.tc-sidebar-scrollable {\n\t\tposition: fixed;\n\t\ttop: {{$:/themes/tiddlywiki/vanilla/metrics/storytop}};\n\t\tleft: {{$:/themes/tiddlywiki/vanilla/metrics/storyright}};\n\t\tbottom: 0;\n\t\tright: 0;\n\t\toverflow-y: auto;\n\t\toverflow-x: auto;\n\t\t-webkit-overflow-scrolling: touch;\n\t\tmargin: 0 0 0 -42px;\n\t\tpadding: 71px 0 28px 42px;\n\t}\n\n\t.tc-story-river {\n\t\tposition: relative;\n\t\tleft: {{$:/themes/tiddlywiki/vanilla/metrics/storyleft}};\n\t\ttop: {{$:/themes/tiddlywiki/vanilla/metrics/storytop}};\n\t\twidth: {{$:/themes/tiddlywiki/vanilla/metrics/storywidth}};\n\t\tpadding: 42px 42px 42px 42px;\n\t}\n\n&lt;&lt;if-no-sidebar \&quot;\n\n\t.tc-story-river {\n\t\twidth: auto;\n\t}\n\n\&quot;&gt;&gt;\n\n}\n\n@media print {\n\n\tbody.tc-body {\n\t\tbackground-color: transparent;\n\t}\n\n\t.tc-sidebar-header, .tc-topbar {\n\t\tdisplay: none;\n\t}\n\n\t.tc-story-river {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\t.tc-story-river .tc-tiddler-frame {\n\t\tmargin: 0;\n\t\tborder: none;\n\t\tpadding: 28px;\n\t}\n}\n\n/*\n** Tiddler styles\n*/\n\n.tc-tiddler-frame {\n\tmargin-bottom: 28px;\n\tbackground-color: &lt;&lt;colour tiddler-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour tiddler-border&gt;&gt;;\n}\n\n.tc-tiddler-info {\n\tpadding: 14px 42px 14px 42px;\n\tbackground-color: &lt;&lt;colour tiddler-info-background&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour tiddler-info-border&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tiddler-info-border&gt;&gt;;\n}\n\n.tc-tiddler-info p {\n\tmargin-top: 3px;\n\tmargin-bottom: 3px;\n}\n\n.tc-tiddler-info .tc-tab-buttons button.tc-tab-selected {\n\tbackground-color: &lt;&lt;colour tiddler-info-tab-background&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tiddler-info-tab-background&gt;&gt;;\n}\n\n.tc-view-field-table {\n\twidth: 100%;\n}\n\n.tc-view-field-name {\n\twidth: 1%; /* Makes this column be as narrow as possible */\n\ttext-align: right;\n\tfont-style: italic;\n\tfont-weight: 200;\n}\n\n.tc-view-field-value {\n}\n\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n\t.tc-tiddler-frame {\n\t\tpadding: 14px 14px 14px 14px;\n\t}\n\n\t.tc-tiddler-info {\n\t\tmargin: 0 -14px 0 -14px;\n\t}\n}\n\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n\t.tc-tiddler-frame {\n\t\tpadding: 28px 42px 42px 42px;\n\t\twidth: {{$:/themes/tiddlywiki/vanilla/metrics/tiddlerwidth}};\n\t\tborder-radius: 2px;\n\t}\n\n&lt;&lt;if-no-sidebar \&quot;\n\n\t.tc-tiddler-frame {\n\t\twidth: 100%;\n\t}\n\n\&quot;&gt;&gt;\n\n\t.tc-tiddler-info {\n\t\tmargin: 0 -42px 0 -42px;\n\t}\n}\n\n.tc-site-title,\n.tc-titlebar {\n\tfont-weight: 300;\n\tfont-size: 2.35em;\n\tline-height: 1.2em;\n\tcolor: &lt;&lt;colour tiddler-title-foreground&gt;&gt;;\n\tmargin: 0;\n}\n\n.tc-tiddler-title-icon {\n\tvertical-align: middle;\n}\n\n.tc-system-title-prefix {\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-titlebar h2 {\n\tfont-size: 1em;\n\tdisplay: inline;\n}\n\n.tc-titlebar img {\n\theight: 1em;\n}\n\n.tc-subtitle {\n\tfont-size: 0.9em;\n\tcolor: &lt;&lt;colour tiddler-subtitle-foreground&gt;&gt;;\n\tfont-weight: 300;\n}\n\n.tc-tiddler-missing .tc-title {\n  font-style: italic;\n  font-weight: normal;\n}\n\n.tc-tiddler-frame .tc-tiddler-controls {\n\tfloat: right;\n}\n\n.tc-tiddler-controls .tc-drop-down {\n\tfont-size: 0.6em;\n}\n\n.tc-tiddler-controls .tc-drop-down .tc-drop-down {\n\tfont-size: 1em;\n}\n\n.tc-tiddler-controls &gt; span &gt; button {\n\tvertical-align: baseline;\n\tmargin-left:5px;\n}\n\n.tc-tiddler-controls button svg, .tc-tiddler-controls button img {\n\theight: 0.75em;\n\tfill: &lt;&lt;colour tiddler-controls-foreground&gt;&gt;;\n}\n\n.tc-tiddler-controls button.tc-selected svg {\n\tfill: &lt;&lt;colour tiddler-controls-foreground-selected&gt;&gt;;\n}\n\n.tc-tiddler-controls button.tc-btn-invisible:hover svg {\n\tfill: &lt;&lt;colour tiddler-controls-foreground-hover&gt;&gt;;\n}\n\n@media print {\n\t.tc-tiddler-controls {\n\t\tdisplay: none;\n\t}\n}\n\n.tc-tiddler-help { /* Help prompts within tiddler template */\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tmargin-top: 14px;\n}\n\n.tc-tiddler-help a.tc-tiddlylink {\n\tcolor: &lt;&lt;colour very-muted-foreground&gt;&gt;;\n}\n\n.tc-tiddler-frame input.tc-edit-texteditor, .tc-tiddler-frame textarea.tc-edit-texteditor {\n\twidth: 100%;\n\tpadding: 3px 3px 3px 3px;\n\tborder: 1px solid &lt;&lt;colour tiddler-editor-border&gt;&gt;;\n\tline-height: 1.3em;\n\t-webkit-appearance: none;\n\tmargin: 4px 0 4px 0;\n}\n\n.tc-tiddler-frame .tc-binary-warning {\n\twidth: 100%;\n\theight: 5em;\n\ttext-align: center;\n\tpadding: 3em 3em 6em 3em;\n\tbackground: &lt;&lt;colour alert-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour alert-border&gt;&gt;;\n}\n\n.tc-tiddler-frame input.tc-edit-texteditor {\n\tbackground-color: &lt;&lt;colour tiddler-editor-background&gt;&gt;;\n}\n\ncanvas.tc-edit-bitmapeditor  {\n\tborder: 6px solid &lt;&lt;colour tiddler-editor-border-image&gt;&gt;;\n\tcursor: crosshair;\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tmargin-top: 6px;\n\tmargin-bottom: 6px;\n}\n\n.tc-edit-bitmapeditor-width {\n\tdisplay: block;\n}\n\n.tc-edit-bitmapeditor-height {\n\tdisplay: block;\n}\n\n.tc-tiddler-frame .tc-tiddler-body {\n\tfont-size: {{$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize}};\n\tline-height: {{$:/themes/tiddlywiki/vanilla/metrics/bodylineheight}};\n}\n\n.tc-titlebar, .tc-tiddler-edit-title {\n\toverflow: hidden; /* https://github.com/Jermolene/TiddlyWiki5/issues/282 */\n}\n\n/*\n** Toolbar buttons\n*/\n\n.tc-page-controls svg.tc-image-new-button {\n  fill: &lt;&lt;colour toolbar-new-button&gt;&gt;;\n}\n\n.tc-page-controls svg.tc-image-options-button {\n  fill: &lt;&lt;colour toolbar-options-button&gt;&gt;;\n}\n\n.tc-page-controls svg.tc-image-save-button {\n  fill: &lt;&lt;colour toolbar-save-button&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg.tc-image-info-button {\n  fill: &lt;&lt;colour toolbar-info-button&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg.tc-image-edit-button {\n  fill: &lt;&lt;colour toolbar-edit-button&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg.tc-image-close-button {\n  fill: &lt;&lt;colour toolbar-close-button&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg.tc-image-delete-button {\n  fill: &lt;&lt;colour toolbar-delete-button&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg.tc-image-cancel-button {\n  fill: &lt;&lt;colour toolbar-cancel-button&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg.tc-image-done-button {\n  fill: &lt;&lt;colour toolbar-done-button&gt;&gt;;\n}\n\n/*\n** Tiddler edit mode\n*/\n\n.tc-tiddler-edit-frame em.tc-edit {\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tfont-style: normal;\n}\n\n.tc-edit-type-dropdown a.tc-tiddlylink-missing {\n\tfont-style: normal;\n}\n\n.tc-edit-tags {\n\tborder: 1px solid &lt;&lt;colour tiddler-editor-border&gt;&gt;;\n\tpadding: 4px 8px 4px 8px;\n}\n\n.tc-edit-add-tag {\n\tdisplay: inline-block;\n}\n\n.tc-edit-add-tag .tc-add-tag-name input {\n\twidth: 50%;\n}\n\n.tc-edit-tags .tc-tag-label {\n\tdisplay: inline-block;\n}\n\n.tc-edit-tags-list {\n\tmargin: 14px 0 14px 0;\n}\n\n.tc-remove-tag-button {\n\tpadding-left: 4px;\n}\n\n.tc-tiddler-preview {\n\toverflow: auto;\n}\n\n.tc-tiddler-preview-preview {\n\tfloat: right;\n\twidth: 48%;\n\tborder: 1px solid &lt;&lt;colour tiddler-editor-border&gt;&gt;;\n\tmargin: 4px 3px 3px 3px;\n\tpadding: 3px 3px 3px 3px;\n}\n\n.tc-tiddler-preview-edit {\n\twidth: 48%;\n}\n\n.tc-edit-fields {\n\twidth: 100%;\n}\n\n\n.tc-edit-fields table, .tc-edit-fields tr, .tc-edit-fields td {\n\tborder: none;\n\tpadding: 4px;\n}\n\n.tc-edit-fields &gt; tbody &gt; .tc-edit-field:nth-child(odd) {\n\tbackground-color: &lt;&lt;colour tiddler-editor-fields-odd&gt;&gt;;\n}\n\n.tc-edit-fields &gt; tbody &gt; .tc-edit-field:nth-child(even) {\n\tbackground-color: &lt;&lt;colour tiddler-editor-fields-even&gt;&gt;;\n}\n\n.tc-edit-field-name {\n\ttext-align: right;\n}\n\n.tc-edit-field-value input {\n\twidth: 100%;\n}\n\n.tc-edit-field-remove {\n}\n\n.tc-edit-field-remove svg {\n\theight: 1em;\n\twidth: 1em;\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tvertical-align: middle;\n}\n\n.tc-edit-field-add-name {\n\tdisplay: inline-block;\n\twidth: 15%;\n}\n\n.tc-edit-field-add-value {\n\tdisplay: inline-block;\n\twidth: 40%;\n}\n\n.tc-edit-field-add-button {\n\tdisplay: inline-block;\n\twidth: 10%;\n}\n\n/*\n** Storyview Classes\n*/\n\n.tc-storyview-zoomin-tiddler {\n\tposition: absolute;\n\tdisplay: block;\n\twidth: 100%;\n\twidth: calc(100% - 84px);\n}\n\n/*\n** Dropdowns\n*/\n\n.tc-btn-dropdown {\n\ttext-align: left;\n}\n\n.tc-btn-dropdown svg, .tc-btn-dropdown img {\n\theight: 1em;\n\twidth: 1em;\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-drop-down-wrapper {\n\tposition: relative;\n}\n\n.tc-drop-down {\n\tmin-width: 380px;\n\tborder: 1px solid &lt;&lt;colour dropdown-border&gt;&gt;;\n\tbackground-color: &lt;&lt;colour dropdown-background&gt;&gt;;\n\tpadding: 7px 0 7px 0;\n\tmargin: 4px 0 0 0;\n\twhite-space: nowrap;\n\ttext-shadow: none;\n\tline-height: 1.4;\n}\n\n.tc-drop-down .tc-drop-down {\n\tmargin-left: 14px;\n}\n\n.tc-drop-down button svg, .tc-drop-down a svg  {\n\tfill: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-drop-down button.tc-btn-invisible:hover svg {\n\tfill: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-drop-down p {\n\tpadding: 0 14px 0 14px;\n}\n\n.tc-drop-down svg {\n\twidth: 1em;\n\theight: 1em;\n}\n\n.tc-drop-down img {\n\twidth: 1em;\n}\n\n.tc-drop-down-language-chooser img {\n\twidth: 2em;\n\tvertical-align: baseline;\n}\n\n.tc-drop-down a, .tc-drop-down button {\n\tdisplay: block;\n\tpadding: 0 14px 0 14px;\n\twidth: 100%;\n\ttext-align: left;\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n\tline-height: 1.4;\n}\n\n.tc-drop-down .tc-file-input-wrapper {\n\twidth: 100%;\n}\n\n.tc-drop-down .tc-file-input-wrapper button {\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-drop-down a:hover, .tc-drop-down button:hover, .tc-drop-down .tc-file-input-wrapper:hover button {\n\tcolor: &lt;&lt;colour tiddler-link-background&gt;&gt;;\n\tbackground-color: &lt;&lt;colour tiddler-link-foreground&gt;&gt;;\n\ttext-decoration: none;\n}\n\n.tc-drop-down .tc-tab-buttons button {\n\tbackground-color: &lt;&lt;colour dropdown-tab-background&gt;&gt;;\n}\n\n.tc-drop-down .tc-tab-buttons button.tc-tab-selected {\n\tbackground-color: &lt;&lt;colour dropdown-tab-background-selected&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour dropdown-tab-background-selected&gt;&gt;;\n}\n\n.tc-drop-down-bullet {\n\tdisplay: inline-block;\n\twidth: 0.5em;\n}\n\n.tc-drop-down .tc-tab-contents a {\n\tpadding: 0 0.5em 0 0.5em;\n}\n\n.tc-block-dropdown-wrapper {\n\tposition: relative;\n}\n\n.tc-block-dropdown {\n\tposition: absolute;\n\tmin-width: 220px;\n\tborder: 1px solid &lt;&lt;colour dropdown-border&gt;&gt;;\n\tbackground-color: &lt;&lt;colour dropdown-background&gt;&gt;;\n\tpadding: 7px 0;\n\tmargin: 4px 0 0 0;\n\twhite-space: nowrap;\n\tz-index: 1000;\n}\n\n.tc-block-dropdown a {\n\tdisplay: block;\n\tpadding: 4px 14px 4px 14px;\n}\n\n.tc-drop-down .tc-dropdown-item,\n.tc-block-dropdown .tc-dropdown-item {\n\tpadding: 4px 14px 4px 7px;\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-block-dropdown a:hover {\n\tcolor: &lt;&lt;colour tiddler-link-background&gt;&gt;;\n\tbackground-color: &lt;&lt;colour tiddler-link-foreground&gt;&gt;;\n\ttext-decoration: none;\n}\n\n/*\n** Modals\n*/\n\n.tc-modal-wrapper {\n\tposition: fixed;\n\toverflow: auto;\n\toverflow-y: scroll;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n}\n\n.tc-modal-backdrop {\n\tposition: fixed;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n\tz-index: 1000;\n\tbackground-color: &lt;&lt;colour modal-backdrop&gt;&gt;;\n}\n\n.tc-modal {\n\tz-index: 1100;\n\tbackground-color: &lt;&lt;colour modal-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour modal-border&gt;&gt;;\n}\n\n@media (max-width: 55em) {\n\t.tc-modal {\n\t\tposition: fixed;\n\t\ttop: 1em;\n\t\tleft: 1em;\n\t\tright: 1em;\n\t}\n\n\t.tc-modal-body {\n\t\toverflow-y: auto;\n\t\tmax-height: 400px;\n\t}\n}\n\n@media (min-width: 55em) {\n\t.tc-modal {\n\t\tposition: relative;\n\t\twidth: 50%;\n\t\tmargin: 30px auto;\n\t}\n}\n\n.tc-modal-header {\n\tpadding: 9px 15px;\n\tborder-bottom: 1px solid &lt;&lt;colour modal-header-border&gt;&gt;;\n}\n\n.tc-modal-header h3 {\n\tmargin: 0;\n\tline-height: 30px;\n}\n\n.tc-modal-body {\n\tpadding: 15px;\n}\n\n.tc-modal-footer {\n\tpadding: 14px 15px 15px;\n\tmargin-bottom: 0;\n\ttext-align: right;\n\tbackground-color: &lt;&lt;colour modal-footer-background&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour modal-footer-border&gt;&gt;;\n}\n\n/*\n** Notifications\n*/\n\n.tc-notification {\n\tposition: fixed;\n\ttop: 14px;\n\tright: 42px;\n\tz-index: 1300;\n\tmax-width: 280px;\n\tpadding: 0 14px 0 14px;\n\tbackground-color: &lt;&lt;colour notification-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour notification-border&gt;&gt;;\n}\n\n/*\n** Tabs\n*/\n\n.tc-tab-set.tc-vertical {\n\tdisplay: -webkit-flex;\n\tdisplay: flex;\n}\n\n.tc-tab-buttons {\n\tfont-size: 0.85em;\n\tpadding-top: 1em;\n\tmargin-bottom: -2px;\n}\n\n.tc-tab-buttons.tc-vertical  {\n\tz-index: 100;\n\tdisplay: block;\n\tpadding-top: 14px;\n\tvertical-align: top;\n\ttext-align: right;\n\tmargin-bottom: inherit;\n\tmargin-right: -1px;\n\tmax-width: 33%;\n\t-webkit-flex: 0 0 auto;\n\tflex: 0 0 auto;\n}\n\n.tc-tab-buttons button.tc-tab-selected {\n\tcolor: &lt;&lt;colour tab-foreground-selected&gt;&gt;;\n\tbackground-color: &lt;&lt;colour tab-background-selected&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border-selected&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour tab-border-selected&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour tab-border-selected&gt;&gt;;\n}\n\n.tc-tab-buttons button {\n\tcolor: &lt;&lt;colour tab-foreground&gt;&gt;;\n\tpadding: 3px 5px 3px 5px;\n\tfont-weight: 300;\n\tborder: none;\n\tbackground: inherit;\n\tbackground-color: &lt;&lt;colour tab-background&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-top-left-radius: 2px;\n\tborder-top-right-radius: 2px;\n}\n\n.tc-tab-buttons.tc-vertical button {\n\tdisplay: block;\n\twidth: 100%;\n\tmargin-top: 3px;\n\ttext-align: right;\n\tbackground-color: &lt;&lt;colour tab-background&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-right: none;\n\tborder-top-left-radius: 2px;\n\tborder-bottom-left-radius: 2px;\n}\n\n.tc-tab-buttons.tc-vertical button.tc-tab-selected {\n\tbackground-color: &lt;&lt;colour tab-background-selected&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour tab-background-selected&gt;&gt;;\n}\n\n.tc-tab-divider {\n\tborder-top: 1px solid &lt;&lt;colour tab-divider&gt;&gt;;\n}\n\n.tc-tab-divider.tc-vertical  {\n\tdisplay: none;\n}\n\n.tc-tab-content {\n\tmargin-top: 14px;\n}\n\n.tc-tab-content.tc-vertical  {\n\tdisplay: inline-block;\n\tvertical-align: top;\n\tpadding-top: 0;\n\tpadding-left: 14px;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\t-webkit-flex: 1 0 70%;\n\tflex: 1 0 70%;\n}\n\n.tc-sidebar-lists .tc-tab-buttons {\n\tmargin-bottom: -1px;\n}\n\n.tc-sidebar-lists .tc-tab-buttons button.tc-tab-selected {\n\tbackground-color: &lt;&lt;colour sidebar-tab-background-selected&gt;&gt;;\n\tcolor: &lt;&lt;colour sidebar-tab-foreground-selected&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour sidebar-tab-border-selected&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour sidebar-tab-border-selected&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour sidebar-tab-border-selected&gt;&gt;;\n}\n\n.tc-sidebar-lists .tc-tab-buttons button {\n\tbackground-color: &lt;&lt;colour sidebar-tab-background&gt;&gt;;\n\tcolor: &lt;&lt;colour sidebar-tab-foreground&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour sidebar-tab-border&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour sidebar-tab-border&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour sidebar-tab-border&gt;&gt;;\n}\n\n.tc-sidebar-lists .tc-tab-divider {\n\tborder-top: 1px solid &lt;&lt;colour sidebar-tab-divider&gt;&gt;;\n}\n\n.tc-more-sidebar .tc-tab-buttons button {\n\tbackground-color: &lt;&lt;colour sidebar-tab-background&gt;&gt;;\n\tborder-top: none;\n\tborder-left: none;\n\tborder-bottom: none;\n\tborder-right: 1px solid #ccc;\n\tmargin-bottom: inherit;\n}\n\n.tc-more-sidebar .tc-tab-buttons button.tc-tab-selected {\n\tbackground-color: &lt;&lt;colour sidebar-tab-background-selected&gt;&gt;;\n\tborder: none;\n}\n\n/*\n** Alerts\n*/\n\n.tc-alerts {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tmax-width: 500px;\n\tz-index: 20000;\n}\n\n.tc-alert {\n\tposition: relative;\n\tmargin: 28px;\n\tpadding: 14px 14px 14px 14px;\n\tborder: 2px solid &lt;&lt;colour alert-border&gt;&gt;;\n\tbackground-color: &lt;&lt;colour alert-background&gt;&gt;;\n}\n\n.tc-alert-toolbar {\n\tposition: absolute;\n\ttop: 14px;\n\tright: 14px;\n}\n\n.tc-alert-toolbar svg {\n\tfill: &lt;&lt;colour alert-muted-foreground&gt;&gt;;\n}\n\n.tc-alert-subtitle {\n\tcolor: &lt;&lt;colour alert-muted-foreground&gt;&gt;;\n\tfont-weight: bold;\n}\n\n.tc-alert-highlight {\n\tcolor: &lt;&lt;colour alert-highlight&gt;&gt;;\t\n}\n\n.tc-static-alert {\n\tposition: relative;\n}\n\n.tc-static-alert-inner {\n\tpadding: 0 2px 2px 42px;\n\tcolor: &lt;&lt;colour static-alert-foreground&gt;&gt;;\n\tposition: absolute;\n}\n\n/*\n** Control panel\n*/\n\n.tc-control-panel td {\n\tpadding: 4px;\n}\n\n.tc-control-panel table, .tc-control-panel table input, .tc-control-panel table textarea {\n\twidth: 100%;\n}\n\n.tc-plugin-info {\n\tdisplay: block;\n\tborder: 1px solid &lt;&lt;colour muted-foreground&gt;&gt;;\n\tbackground-colour: &lt;&lt;colour background&gt;&gt;;\n\tmargin: 1em 0 1em 0;\n\tpadding: 8px;\n}\n\n.tc-plugin-info-disabled {\n\tbackground: -webkit-repeating-linear-gradient(45deg, #ff0, #ff0 10px, #eee 10px, #eee 20px);\n\tbackground: repeating-linear-gradient(45deg, #ff0, #ff0 10px, #eee 10px, #eee 20px);\n}\n\n.tc-plugin-info-disabled:hover {\n\tbackground: -webkit-repeating-linear-gradient(45deg, #aa0, #aa0 10px, #888 10px, #888 20px);\n\tbackground: repeating-linear-gradient(45deg, #aa0, #aa0 10px, #888 10px, #888 20px);\n}\n\na.tc-tiddlylink.tc-plugin-info:hover {\n\ttext-decoration: none;\n\tbackground-color: &lt;&lt;colour primary&gt;&gt;;\n\tcolor: &lt;&lt;colour background&gt;&gt;;\n\tfill: &lt;&lt;colour foreground&gt;&gt;;\n}\n\na.tc-tiddlylink.tc-plugin-info:hover svg {\n\tfill: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-plugin-info-chunk {\n\tdisplay: inline-block;\n\tvertical-align: middle;\t\n}\n\na.tc-plugin-info img, a.tc-plugin-info svg {\n\twidth: 2em;\n\theight: 2em;\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-plugin-info-dropdown {\n\tborder: 1px solid &lt;&lt;colour muted-foreground&gt;&gt;;\n\tpadding: 1em 1em 1em 1em;\n\tmargin-top: -1em;\n}\n\n/*\n** Message boxes\n*/\n\n.tc-message-box {\n\tborder: 1px solid &lt;&lt;colour message-border&gt;&gt;;\n\tbackground: &lt;&lt;colour message-background&gt;&gt;;\n\tpadding: 0px 21px 0px 21px;\n\tfont-size: 12px;\n\tline-height: 18px;\n\tcolor: &lt;&lt;colour message-foreground&gt;&gt;;\n}\n\n/*\n** Pictures\n*/\n\n.tc-bordered-image {\n\tborder: 1px solid &lt;&lt;colour muted-foreground&gt;&gt;;\n\tpadding: 5px;\n\tmargin: 5px;\n}\n\n/*\n** Floats\n*/\n\n.tc-float-right {\n\tfloat: right;\n}\n\n/*\n** Chooser\n*/\n\n.tc-chooser {\n\tborder: 1px solid &lt;&lt;colour table-border&gt;&gt;;\n}\n\n.tc-chooser-item {\n\tborder: 8px;\n}\n\n.tc-chooser-item a.tc-tiddlylink {\n\tdisplay: block;\n\ttext-decoration: none;\n\tcolor: &lt;&lt;colour tiddler-link-foreground&gt;&gt;;\n\tbackground-color: &lt;&lt;colour tiddler-link-background&gt;&gt;;\n\tmargin: 4px;\n}\n\n.tc-chooser-item a.tc-tiddlylink:hover {\n\ttext-decoration: none;\n\tcolor: &lt;&lt;colour tiddler-link-background&gt;&gt;;\n\tbackground-color: &lt;&lt;colour tiddler-link-foreground&gt;&gt;;\n}\n\n/*\n** Palette swatches\n*/\n\n.tc-swatches-horiz {\n}\n\n.tc-swatches-horiz .tc-swatch {\n\tdisplay: inline-block;\n}\n\n.tc-swatch {\n\twidth: 2em;\n\theight: 2em;\n\tmargin: 4px;\n\tborder: 1px solid #000;\n}\n\n/*\n** Table of contents\n*/\n\n.tc-sidebar-lists .tc-table-of-contents {\n\twhite-space: nowrap;\n}\n\n.tc-table-of-contents button {\n\tcolor: &lt;&lt;colour sidebar-foreground&gt;&gt;;\n}\n\n.tc-table-of-contents svg {\n\twidth: 0.7em;\n\theight: 0.7em;\n\tvertical-align: middle;\n\tfill: &lt;&lt;colour sidebar-foreground&gt;&gt;;\n}\n\n.tc-table-of-contents ol {\n\tlist-style-type: none;\n\tpadding-left: 0;\n}\n\n.tc-table-of-contents ol ol {\n\tpadding-left: 1em;\n}\n\n.tc-table-of-contents li {\n\tfont-size: 1.0em;\n\tfont-weight: bold;\n}\n\n.tc-table-of-contents li a {\n\tfont-weight: bold;\n}\n\n.tc-table-of-contents li li {\n\tfont-size: 0.95em;\n\tfont-weight: normal;\n\tline-height: 1.4;\n}\n\n.tc-table-of-contents li li a {\n\tfont-weight: normal;\n}\n\n.tc-table-of-contents li li li {\n\tfont-size: 0.95em;\n\tfont-weight: 200;\n\tline-height: 1.5;\n}\n\n.tc-table-of-contents li li li a {\n\tfont-weight: bold;\n}\n\n.tc-table-of-contents li li li li {\n\tfont-size: 0.95em;\n\tfont-weight: 200;\n}\n\n.tc-tabbed-table-of-contents {\n\tdisplay: -webkit-flex;\n\tdisplay: flex;\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents {\n\tz-index: 100;\n\tdisplay: inline-block;\n\tpadding-left: 1em;\n\tmax-width: 50%;\n\t-webkit-flex: 0 0 auto;\n\tflex: 0 0 auto;\n\tbackground: &lt;&lt;colour tab-background&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item &gt; a,\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item-selected &gt; a {\n\tdisplay: block;\n\tpadding: 0.12em 1em 0.12em 0.25em;\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item &gt; a {\n\tborder-top: 1px solid &lt;&lt;colour tab-background&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-background&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tab-background&gt;&gt;;\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item &gt; a:hover {\n\ttext-decoration: none;\n\tborder-top: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tbackground: &lt;&lt;colour tab-border&gt;&gt;;\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item-selected &gt; a {\n\tborder-top: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tbackground: &lt;&lt;colour background&gt;&gt;;\n\tmargin-right: -1px;\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item-selected &gt; a:hover {\n\ttext-decoration: none;\n}\n\n.tc-tabbed-table-of-contents .tc-tabbed-table-of-contents-content {\n\tdisplay: inline-block;\n\tvertical-align: top;\n\tpadding-left: 1.5em;\n\tpadding-right: 1.5em;\n\tborder: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\t-webkit-flex: 1 0 50%;\n\tflex: 1 0 50%;\n}\n\n/*\n** Dirty indicator\n*/\n\nbody.tc-dirty span.tc-dirty-indicator, body.tc-dirty span.tc-dirty-indicator svg {\n\tfill: &lt;&lt;colour dirty-indicator&gt;&gt;;\n\tcolor: &lt;&lt;colour dirty-indicator&gt;&gt;;\n}\n\n/*\n** File inputs\n*/\n\n.tc-file-input-wrapper {\n\tposition: relative;\n\toverflow: hidden;\n\tdisplay: inline-block;\n\tvertical-align: middle;\n}\n\n.tc-file-input-wrapper input[type=file] {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tfont-size: 999px;\n\tmax-width: 100%;\n\tmax-height: 100%;\n\tfilter: alpha(opacity=0);\n\topacity: 0;\n\toutline: none;\n\tbackground: white;\n\tcursor: pointer;\n\tdisplay: inline-block;\n}\n\n/*\n** Errors\n*/\n\n.tc-error {\n\tbackground: #f00;\n\tcolor: #fff;\n}\n&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize&quot;,
            &quot;text&quot;: &quot;15px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/bodylineheight&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/bodylineheight&quot;,
            &quot;text&quot;: &quot;22px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/fontsize&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/fontsize&quot;,
            &quot;text&quot;: &quot;14px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/lineheight&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/lineheight&quot;,
            &quot;text&quot;: &quot;20px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/storyleft&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/storyleft&quot;,
            &quot;text&quot;: &quot;0px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/storytop&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/storytop&quot;,
            &quot;text&quot;: &quot;0px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/storyright&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/storyright&quot;,
            &quot;text&quot;: &quot;770px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/storywidth&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/storywidth&quot;,
            &quot;text&quot;: &quot;770px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/tiddlerwidth&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/tiddlerwidth&quot;,
            &quot;text&quot;: &quot;686px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint&quot;,
            &quot;text&quot;: &quot;960px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/reset&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/reset&quot;,
            &quot;type&quot;: &quot;text/plain&quot;,
            &quot;text&quot;: &quot;/*! normalize.css v3.0.0 | MIT License | git.io/normalize */\n\n/**\n * 1. Set default font family to sans-serif.\n * 2. Prevent iOS text size adjust after orientation change, without disabling\n *    user zoom.\n */\n\nhtml {\n  font-family: sans-serif; /* 1 */\n  -ms-text-size-adjust: 100%; /* 2 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n}\n\n/**\n * Remove default margin.\n */\n\nbody {\n  margin: 0;\n}\n\n/* HTML5 display definitions\n   ========================================================================== */\n\n/**\n * Correct `block` display not defined in IE 8/9.\n */\n\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmain,\nnav,\nsection,\nsummary {\n  display: block;\n}\n\n/**\n * 1. Correct `inline-block` display not defined in IE 8/9.\n * 2. Normalize vertical alignment of `progress` in Chrome, Firefox, and Opera.\n */\n\naudio,\ncanvas,\nprogress,\nvideo {\n  display: inline-block; /* 1 */\n  vertical-align: baseline; /* 2 */\n}\n\n/**\n * Prevent modern browsers from displaying `audio` without controls.\n * Remove excess height in iOS 5 devices.\n */\n\naudio:not([controls]) {\n  display: none;\n  height: 0;\n}\n\n/**\n * Address `[hidden]` styling not present in IE 8/9.\n * Hide the `template` element in IE, Safari, and Firefox &lt; 22.\n */\n\n[hidden],\ntemplate {\n  display: none;\n}\n\n/* Links\n   ========================================================================== */\n\n/**\n * Remove the gray background color from active links in IE 10.\n */\n\na {\n  background: transparent;\n}\n\n/**\n * Improve readability when focused and also mouse hovered in all browsers.\n */\n\na:active,\na:hover {\n  outline: 0;\n}\n\n/* Text-level semantics\n   ========================================================================== */\n\n/**\n * Address styling not present in IE 8/9, Safari 5, and Chrome.\n */\n\nabbr[title] {\n  border-bottom: 1px dotted;\n}\n\n/**\n * Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome.\n */\n\nb,\nstrong {\n  font-weight: bold;\n}\n\n/**\n * Address styling not present in Safari 5 and Chrome.\n */\n\ndfn {\n  font-style: italic;\n}\n\n/**\n * Address variable `h1` font-size and margin within `section` and `article`\n * contexts in Firefox 4+, Safari 5, and Chrome.\n */\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/**\n * Address styling not present in IE 8/9.\n */\n\nmark {\n  background: #ff0;\n  color: #000;\n}\n\n/**\n * Address inconsistent and variable font size in all browsers.\n */\n\nsmall {\n  font-size: 80%;\n}\n\n/**\n * Prevent `sub` and `sup` affecting `line-height` in all browsers.\n */\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsup {\n  top: -0.5em;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\n/* Embedded content\n   ========================================================================== */\n\n/**\n * Remove border when inside `a` element in IE 8/9.\n */\n\nimg {\n  border: 0;\n}\n\n/**\n * Correct overflow displayed oddly in IE 9.\n */\n\nsvg:not(:root) {\n  overflow: hidden;\n}\n\n/* Grouping content\n   ========================================================================== */\n\n/**\n * Address margin not present in IE 8/9 and Safari 5.\n */\n\nfigure {\n  margin: 1em 40px;\n}\n\n/**\n * Address differences between Firefox and other browsers.\n */\n\nhr {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n  height: 0;\n}\n\n/**\n * Contain overflow in all browsers.\n */\n\npre {\n  overflow: auto;\n}\n\n/**\n * Address odd `em`-unit font size rendering in all browsers.\n */\n\ncode,\nkbd,\npre,\nsamp {\n  font-family: monospace, monospace;\n  font-size: 1em;\n}\n\n/* Forms\n   ========================================================================== */\n\n/**\n * Known limitation: by default, Chrome and Safari on OS X allow very limited\n * styling of `select`, unless a `border` property is set.\n */\n\n/**\n * 1. Correct color not being inherited.\n *    Known issue: affects color of disabled elements.\n * 2. Correct font properties not being inherited.\n * 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome.\n */\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  color: inherit; /* 1 */\n  font: inherit; /* 2 */\n  margin: 0; /* 3 */\n}\n\n/**\n * Address `overflow` set to `hidden` in IE 8/9/10.\n */\n\nbutton {\n  overflow: visible;\n}\n\n/**\n * Address inconsistent `text-transform` inheritance for `button` and `select`.\n * All other form control elements do not inherit `text-transform` values.\n * Correct `button` style inheritance in Firefox, IE 8+, and Opera\n * Correct `select` style inheritance in Firefox.\n */\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/**\n * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`\n *    and `video` controls.\n * 2. Correct inability to style clickable `input` types in iOS.\n * 3. Improve usability and consistency of cursor style between image-type\n *    `input` and others.\n */\n\nbutton,\nhtml input[type=\&quot;button\&quot;], /* 1 */\ninput[type=\&quot;reset\&quot;],\ninput[type=\&quot;submit\&quot;] {\n  -webkit-appearance: button; /* 2 */\n  cursor: pointer; /* 3 */\n}\n\n/**\n * Re-set default cursor for disabled elements.\n */\n\nbutton[disabled],\nhtml input[disabled] {\n  cursor: default;\n}\n\n/**\n * Remove inner padding and border in Firefox 4+.\n */\n\nbutton::-moz-focus-inner,\ninput::-moz-focus-inner {\n  border: 0;\n  padding: 0;\n}\n\n/**\n * Address Firefox 4+ setting `line-height` on `input` using `!important` in\n * the UA stylesheet.\n */\n\ninput {\n  line-height: normal;\n}\n\n/**\n * It's recommended that you don't attempt to style these elements.\n * Firefox's implementation doesn't respect box-sizing, padding, or width.\n *\n * 1. Address box sizing set to `content-box` in IE 8/9/10.\n * 2. Remove excess padding in IE 8/9/10.\n */\n\ninput[type=\&quot;checkbox\&quot;],\ninput[type=\&quot;radio\&quot;] {\n  box-sizing: border-box; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Fix the cursor style for Chrome's increment/decrement buttons. For certain\n * `font-size` values of the `input`, it causes the cursor style of the\n * decrement button to change from `default` to `text`.\n */\n\ninput[type=\&quot;number\&quot;]::-webkit-inner-spin-button,\ninput[type=\&quot;number\&quot;]::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.\n * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome\n *    (include `-moz` to future-proof).\n */\n\ninput[type=\&quot;search\&quot;] {\n  -webkit-appearance: textfield; /* 1 */\n  -moz-box-sizing: content-box;\n  -webkit-box-sizing: content-box; /* 2 */\n  box-sizing: content-box;\n}\n\n/**\n * Remove inner padding and search cancel button in Safari and Chrome on OS X.\n * Safari (but not Chrome) clips the cancel button when the search input has\n * padding (and `textfield` appearance).\n */\n\ninput[type=\&quot;search\&quot;]::-webkit-search-cancel-button,\ninput[type=\&quot;search\&quot;]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n * Define consistent border, margin, and padding.\n */\n\nfieldset {\n  border: 1px solid #c0c0c0;\n  margin: 0 2px;\n  padding: 0.35em 0.625em 0.75em;\n}\n\n/**\n * 1. Correct `color` not being inherited in IE 8/9.\n * 2. Remove padding so people aren't caught out if they zero out fieldsets.\n */\n\nlegend {\n  border: 0; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Remove default vertical scrollbar in IE 8/9.\n */\n\ntextarea {\n  overflow: auto;\n}\n\n/**\n * Don't inherit the `font-weight` (applied by a rule above).\n * NOTE: the default cannot safely be changed in Chrome and Safari on OS X.\n */\n\noptgroup {\n  font-weight: bold;\n}\n\n/* Tables\n   ========================================================================== */\n\n/**\n * Remove most spacing between table cells.\n */\n\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n\ntd,\nth {\n  padding: 0;\n}\n&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/settings/fontfamily&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/settings/fontfamily&quot;,
            &quot;text&quot;: &quot;\&quot;Helvetica Neue\&quot;, Helvetica, Arial, \&quot;Lucida Grande\&quot;, sans-serif&quot;
        }
    }
}</pre>
</div>
<div created="20150203201733929" creator="D.F." modified="20150330194429625" modifier="D.F." tags="$:/tags/SideBar" title="Help" type="application/x-tiddler">
<pre>The Federalist Papers: Personal Wiki by [[David Fisco|http://www.davidfisco.com]]

* [[The Federalist Papers Personal Wiki Homepage|http://personal-wikis.davidfisco.com/federalistpapers]]
* Feedback: [[Email David Fisco|mailto:bulkmail@davidfisco.com?subject=The+Federalist+Papers+Personal+Wiki+Feedback]]
* [[TiddlyWiki Homepage|http://tiddlywiki.com/]]
* [[TiddlyWiki Markdown|http://tiddlywiki.com/#WikiText]]</pre>
</div>
<div created="20150325205804183" modified="20150327174105856" tags="Hamilton [[Independent Journal]]" title="No. 1. General Introduction">
<pre>''For the Independent Journal. Saturday, October 27, 1787''

HAMILTON

To the People of the State of New York:

AFTER an unequivocal experience of the inefficacy of the subsisting federal government, you are called upon to deliberate on a new Constitution for the United States of America. The subject speaks its own importance; comprehending in its consequences nothing less than the existence of the UNION, the safety and welfare of the parts of which it is composed, the fate of an empire in many respects the most interesting in the world. It has been frequently remarked that it seems to have been reserved to the people of this country, by their conduct and example, to decide the important question, whether societies of men are really capable or not of establishing good government from reflection and choice, or whether they are forever destined to depend for their political constitutions on accident and force. If there be any truth in the remark, the crisis at which we are arrived may with propriety be regarded as the era in which that decision is to be made; and a wrong election of the part we shall act may, in this view, deserve to be considered as the general misfortune of mankind.

This idea will add the inducements of philanthropy to those of patriotism, to heighten the solicitude which all considerate and good men must feel for the event. Happy will it be if our choice should be directed by a judicious estimate of our true interests, unperplexed and unbiased by considerations not connected with the public good. But this is a thing more ardently to be wished than seriously to be expected. The plan offered to our deliberations affects too many particular interests, innovates upon too many local institutions, not to involve in its discussion a variety of objects foreign to its merits, and of views, passions and prejudices little favorable to the discovery of truth.

Among the most formidable of the obstacles which the new Constitution will have to encounter may readily be distinguished the obvious interest of a certain class of men in every State to resist all changes which may hazard a diminution of the power, emolument, and consequence of the offices they hold under the State establishments; and the perverted ambition of another class of men, who will either hope to aggrandize themselves by the confusions of their country, or will flatter themselves with fairer prospects of elevation from the subdivision of the empire into several partial confederacies than from its union under one government.

It is not, however, my design to dwell upon observations of this nature. I am well aware that it would be disingenuous to resolve indiscriminately the opposition of any set of men (merely because their situations might subject them to suspicion) into interested or ambitious views. Candor will oblige us to admit that even such men may be actuated by upright intentions; and it cannot be doubted that much of the opposition which has made its appearance, or may hereafter make its appearance, will spring from sources, blameless at least, if not respectable—the honest errors of minds led astray by preconceived jealousies and fears. So numerous indeed and so powerful are the causes which serve to give a false bias to the judgment, that we, upon many occasions, see wise and good men on the wrong as well as on the right side of questions of the first magnitude to society. This circumstance, if duly attended to, would furnish a lesson of moderation to those who are ever so much persuaded of their being in the right in any controversy. And a further reason for caution, in this respect, might be drawn from the reflection that we are not always sure that those who advocate the truth are influenced by purer principles than their antagonists. Ambition, avarice, personal animosity, party opposition, and many other motives not more laudable than these, are apt to operate as well upon those who support as those who oppose the right side of a question. Were there not even these inducements to moderation, nothing could be more ill-judged than that intolerant spirit which has, at all times, characterized political parties. For in politics, as in religion, it is equally absurd to aim at making proselytes by fire and sword. Heresies in either can rarely be cured by persecution.

And yet, however just these sentiments will be allowed to be, we have already sufficient indications that it will happen in this as in all former cases of great national discussion. A torrent of angry and malignant passions will be let loose. To judge from the conduct of the opposite parties, we shall be led to conclude that they will mutually hope to evince the justness of their opinions, and to increase the number of their converts by the loudness of their declamations and the bitterness of their invectives. An enlightened zeal for the energy and efficiency of government will be stigmatized as the offspring of a temper fond of despotic power and hostile to the principles of liberty. An over-scrupulous jealousy of danger to the rights of the people, which is more commonly the fault of the head than of the heart, will be represented as mere pretense and artifice, the stale bait for popularity at the expense of the public good. It will be forgotten, on the one hand, that jealousy is the usual concomitant of love, and that the noble enthusiasm of liberty is apt to be infected with a spirit of narrow and illiberal distrust. On the other hand, it will be equally forgotten that the vigor of government is essential to the security of liberty; that, in the contemplation of a sound and well-informed judgment, their interest can never be separated; and that a dangerous ambition more often lurks behind the specious mask of zeal for the rights of the people than under the forbidden appearance of zeal for the firmness and efficiency of government. History will teach us that the former has been found a much more certain road to the introduction of despotism than the latter, and that of those men who have overturned the liberties of republics, the greatest number have begun their career by paying an obsequious court to the people; commencing demagogues, and ending tyrants.

In the course of the preceding observations, I have had an eye, my fellow-citizens, to putting you upon your guard against all attempts, from whatever quarter, to influence your decision in a matter of the utmost moment to your welfare, by any impressions other than those which may result from the evidence of truth. You will, no doubt, at the same time, have collected from the general scope of them, that they proceed from a source not unfriendly to the new Constitution. Yes, my countrymen, I own to you that, after having given it an attentive consideration, I am clearly of opinion it is your interest to adopt it. I am convinced that this is the safest course for your liberty, your dignity, and your happiness. I affect not reserves which I do not feel. I will not amuse you with an appearance of deliberation when I have decided. I frankly acknowledge to you my convictions, and I will freely lay before you the reasons on which they are founded. The consciousness of good intentions disdains ambiguity. I shall not, however, multiply professions on this head. My motives must remain in the depository of my own breast. My arguments will be open to all, and may be judged of by all. They shall at least be offered in a spirit which will not disgrace the cause of truth.

I propose, in a series of papers, to discuss the following interesting particulars:

THE UTILITY OF THE UNION TO YOUR POLITICAL PROSPERITY THE INSUFFICIENCY OF THE PRESENT CONFEDERATION TO PRESERVE THAT UNION THE NECESSITY OF A GOVERNMENT AT LEAST EQUALLY ENERGETIC WITH THE ONE PROPOSED, TO THE ATTAINMENT OF THIS OBJECT THE CONFORMITY OF THE PROPOSED CONSTITUTION TO THE TRUE PRINCIPLES OF REPUBLICAN GOVERNMENT ITS ANALOGY TO YOUR OWN STATE CONSTITUTION and lastly, THE ADDITIONAL SECURITY WHICH ITS ADOPTION WILL AFFORD TO THE PRESERVATION OF THAT SPECIES OF GOVERNMENT, TO LIBERTY, AND TO PROPERTY.

In the progress of this discussion I shall endeavor to give a satisfactory answer to all the objections which shall have made their appearance, that may seem to have any claim to your attention.

It may perhaps be thought superfluous to offer arguments to prove the utility of the UNION, a point, no doubt, deeply engraved on the hearts of the great body of the people in every State, and one, which it may be imagined, has no adversaries. But the fact is, that we already hear it whispered in the private circles of those who oppose the new Constitution, that the thirteen States are of too great extent for any general system, and that we must of necessity resort to separate confederacies of distinct portions of the whole. &lt;span class=&quot;footnote&quot; title=&quot;The same idea, tracing the arguments to their consequences, is held out in several of the late publications against the new Constitution.&quot;&gt;(1)&lt;/span&gt; This doctrine will, in all probability, be gradually propagated, till it has votaries enough to countenance an open avowal of it. For nothing can be more evident, to those who are able to take an enlarged view of the subject, than the alternative of an adoption of the new Constitution or a dismemberment of the Union. It will therefore be of use to begin by examining the advantages of that Union, the certain evils, and the probable dangers, to which every State will be exposed from its dissolution. This shall accordingly constitute the subject of my next address.

PUBLIUS

''Footnote''

1. The same idea, tracing the arguments to their consequences, is held out in several of the late publications against the new Constitution.
</pre>
</div>
<div created="20150327181448357" modified="20150327181548482" tags="Madison [[Daily Advertiser]]" title="No. 10. The Same Subject Continued (The Union as a Safeguard Against Domestic Faction and Insurrection)">
<pre>''From the Daily Advertiser. Thursday, November 22, 1787.''

MADISON

To the People of the State of New York:

AMONG the numerous advantages promised by a well constructed Union, none deserves to be more accurately developed than its tendency to break and control the violence of faction. The friend of popular governments never finds himself so much alarmed for their character and fate, as when he contemplates their propensity to this dangerous vice. He will not fail, therefore, to set a due value on any plan which, without violating the principles to which he is attached, provides a proper cure for it. The instability, injustice, and confusion introduced into the public councils, have, in truth, been the mortal diseases under which popular governments have everywhere perished; as they continue to be the favorite and fruitful topics from which the adversaries to liberty derive their most specious declamations. The valuable improvements made by the American constitutions on the popular models, both ancient and modern, cannot certainly be too much admired; but it would be an unwarrantable partiality, to contend that they have as effectually obviated the danger on this side, as was wished and expected. Complaints are everywhere heard from our most considerate and virtuous citizens, equally the friends of public and private faith, and of public and personal liberty, that our governments are too unstable, that the public good is disregarded in the conflicts of rival parties, and that measures are too often decided, not according to the rules of justice and the rights of the minor party, but by the superior force of an interested and overbearing majority. However anxiously we may wish that these complaints had no foundation, the evidence, of known facts will not permit us to deny that they are in some degree true. It will be found, indeed, on a candid review of our situation, that some of the distresses under which we labor have been erroneously charged on the operation of our governments; but it will be found, at the same time, that other causes will not alone account for many of our heaviest misfortunes; and, particularly, for that prevailing and increasing distrust of public engagements, and alarm for private rights, which are echoed from one end of the continent to the other. These must be chiefly, if not wholly, effects of the unsteadiness and injustice with which a factious spirit has tainted our public administrations.

By a faction, I understand a number of citizens, whether amounting to a majority or a minority of the whole, who are united and actuated by some common impulse of passion, or of interest, adversed to the rights of other citizens, or to the permanent and aggregate interests of the community.

There are two methods of curing the mischiefs of faction: the one, by removing its causes; the other, by controlling its effects.

There are again two methods of removing the causes of faction: the one, by destroying the liberty which is essential to its existence; the other, by giving to every citizen the same opinions, the same passions, and the same interests.

It could never be more truly said than of the first remedy, that it was worse than the disease. Liberty is to faction what air is to fire, an aliment without which it instantly expires. But it could not be less folly to abolish liberty, which is essential to political life, because it nourishes faction, than it would be to wish the annihilation of air, which is essential to animal life, because it imparts to fire its destructive agency.

The second expedient is as impracticable as the first would be unwise. As long as the reason of man continues fallible, and he is at liberty to exercise it, different opinions will be formed. As long as the connection subsists between his reason and his self-love, his opinions and his passions will have a reciprocal influence on each other; and the former will be objects to which the latter will attach themselves. The diversity in the faculties of men, from which the rights of property originate, is not less an insuperable obstacle to a uniformity of interests. The protection of these faculties is the first object of government. From the protection of different and unequal faculties of acquiring property, the possession of different degrees and kinds of property immediately results; and from the influence of these on the sentiments and views of the respective proprietors, ensues a division of the society into different interests and parties.

The latent causes of faction are thus sown in the nature of man; and we see them everywhere brought into different degrees of activity, according to the different circumstances of civil society. A zeal for different opinions concerning religion, concerning government, and many other points, as well of speculation as of practice; an attachment to different leaders ambitiously contending for pre-eminence and power; or to persons of other descriptions whose fortunes have been interesting to the human passions, have, in turn, divided mankind into parties, inflamed them with mutual animosity, and rendered them much more disposed to vex and oppress each other than to co-operate for their common good. So strong is this propensity of mankind to fall into mutual animosities, that where no substantial occasion presents itself, the most frivolous and fanciful distinctions have been sufficient to kindle their unfriendly passions and excite their most violent conflicts. But the most common and durable source of factions has been the various and unequal distribution of property. Those who hold and those who are without property have ever formed distinct interests in society. Those who are creditors, and those who are debtors, fall under a like discrimination. A landed interest, a manufacturing interest, a mercantile interest, a moneyed interest, with many lesser interests, grow up of necessity in civilized nations, and divide them into different classes, actuated by different sentiments and views. The regulation of these various and interfering interests forms the principal task of modern legislation, and involves the spirit of party and faction in the necessary and ordinary operations of the government.

No man is allowed to be a judge in his own cause, because his interest would certainly bias his judgment, and, not improbably, corrupt his integrity. With equal, nay with greater reason, a body of men are unfit to be both judges and parties at the same time; yet what are many of the most important acts of legislation, but so many judicial determinations, not indeed concerning the rights of single persons, but concerning the rights of large bodies of citizens? And what are the different classes of legislators but advocates and parties to the causes which they determine? Is a law proposed concerning private debts? It is a question to which the creditors are parties on one side and the debtors on the other. Justice ought to hold the balance between them. Yet the parties are, and must be, themselves the judges; and the most numerous party, or, in other words, the most powerful faction must be expected to prevail. Shall domestic manufactures be encouraged, and in what degree, by restrictions on foreign manufactures? are questions which would be differently decided by the landed and the manufacturing classes, and probably by neither with a sole regard to justice and the public good. The apportionment of taxes on the various descriptions of property is an act which seems to require the most exact impartiality; yet there is, perhaps, no legislative act in which greater opportunity and temptation are given to a predominant party to trample on the rules of justice. Every shilling with which they overburden the inferior number, is a shilling saved to their own pockets.

It is in vain to say that enlightened statesmen will be able to adjust these clashing interests, and render them all subservient to the public good. Enlightened statesmen will not always be at the helm. Nor, in many cases, can such an adjustment be made at all without taking into view indirect and remote considerations, which will rarely prevail over the immediate interest which one party may find in disregarding the rights of another or the good of the whole.

The inference to which we are brought is, that the CAUSES of faction cannot be removed, and that relief is only to be sought in the means of controlling its EFFECTS.

If a faction consists of less than a majority, relief is supplied by the republican principle, which enables the majority to defeat its sinister views by regular vote. It may clog the administration, it may convulse the society; but it will be unable to execute and mask its violence under the forms of the Constitution. When a majority is included in a faction, the form of popular government, on the other hand, enables it to sacrifice to its ruling passion or interest both the public good and the rights of other citizens. To secure the public good and private rights against the danger of such a faction, and at the same time to preserve the spirit and the form of popular government, is then the great object to which our inquiries are directed. Let me add that it is the great desideratum by which this form of government can be rescued from the opprobrium under which it has so long labored, and be recommended to the esteem and adoption of mankind.

By what means is this object attainable? Evidently by one of two only. Either the existence of the same passion or interest in a majority at the same time must be prevented, or the majority, having such coexistent passion or interest, must be rendered, by their number and local situation, unable to concert and carry into effect schemes of oppression. If the impulse and the opportunity be suffered to coincide, we well know that neither moral nor religious motives can be relied on as an adequate control. They are not found to be such on the injustice and violence of individuals, and lose their efficacy in proportion to the number combined together, that is, in proportion as their efficacy becomes needful.

From this view of the subject it may be concluded that a pure democracy, by which I mean a society consisting of a small number of citizens, who assemble and administer the government in person, can admit of no cure for the mischiefs of faction. A common passion or interest will, in almost every case, be felt by a majority of the whole; a communication and concert result from the form of government itself; and there is nothing to check the inducements to sacrifice the weaker party or an obnoxious individual. Hence it is that such democracies have ever been spectacles of turbulence and contention; have ever been found incompatible with personal security or the rights of property; and have in general been as short in their lives as they have been violent in their deaths. Theoretic politicians, who have patronized this species of government, have erroneously supposed that by reducing mankind to a perfect equality in their political rights, they would, at the same time, be perfectly equalized and assimilated in their possessions, their opinions, and their passions.

A republic, by which I mean a government in which the scheme of representation takes place, opens a different prospect, and promises the cure for which we are seeking. Let us examine the points in which it varies from pure democracy, and we shall comprehend both the nature of the cure and the efficacy which it must derive from the Union.

The two great points of difference between a democracy and a republic are: first, the delegation of the government, in the latter, to a small number of citizens elected by the rest; secondly, the greater number of citizens, and greater sphere of country, over which the latter may be extended.

The effect of the first difference is, on the one hand, to refine and enlarge the public views, by passing them through the medium of a chosen body of citizens, whose wisdom may best discern the true interest of their country, and whose patriotism and love of justice will be least likely to sacrifice it to temporary or partial considerations. Under such a regulation, it may well happen that the public voice, pronounced by the representatives of the people, will be more consonant to the public good than if pronounced by the people themselves, convened for the purpose. On the other hand, the effect may be inverted. Men of factious tempers, of local prejudices, or of sinister designs, may, by intrigue, by corruption, or by other means, first obtain the suffrages, and then betray the interests, of the people. The question resulting is, whether small or extensive republics are more favorable to the election of proper guardians of the public weal; and it is clearly decided in favor of the latter by two obvious considerations:

In the first place, it is to be remarked that, however small the republic may be, the representatives must be raised to a certain number, in order to guard against the cabals of a few; and that, however large it may be, they must be limited to a certain number, in order to guard against the confusion of a multitude. Hence, the number of representatives in the two cases not being in proportion to that of the two constituents, and being proportionally greater in the small republic, it follows that, if the proportion of fit characters be not less in the large than in the small republic, the former will present a greater option, and consequently a greater probability of a fit choice.

In the next place, as each representative will be chosen by a greater number of citizens in the large than in the small republic, it will be more difficult for unworthy candidates to practice with success the vicious arts by which elections are too often carried; and the suffrages of the people being more free, will be more likely to centre in men who possess the most attractive merit and the most diffusive and established characters.

It must be confessed that in this, as in most other cases, there is a mean, on both sides of which inconveniences will be found to lie. By enlarging too much the number of electors, you render the representatives too little acquainted with all their local circumstances and lesser interests; as by reducing it too much, you render him unduly attached to these, and too little fit to comprehend and pursue great and national objects. The federal Constitution forms a happy combination in this respect; the great and aggregate interests being referred to the national, the local and particular to the State legislatures.

The other point of difference is, the greater number of citizens and extent of territory which may be brought within the compass of republican than of democratic government; and it is this circumstance principally which renders factious combinations less to be dreaded in the former than in the latter. The smaller the society, the fewer probably will be the distinct parties and interests composing it; the fewer the distinct parties and interests, the more frequently will a majority be found of the same party; and the smaller the number of individuals composing a majority, and the smaller the compass within which they are placed, the more easily will they concert and execute their plans of oppression. Extend the sphere, and you take in a greater variety of parties and interests; you make it less probable that a majority of the whole will have a common motive to invade the rights of other citizens; or if such a common motive exists, it will be more difficult for all who feel it to discover their own strength, and to act in unison with each other. Besides other impediments, it may be remarked that, where there is a consciousness of unjust or dishonorable purposes, communication is always checked by distrust in proportion to the number whose concurrence is necessary.

Hence, it clearly appears, that the same advantage which a republic has over a democracy, in controlling the effects of faction, is enjoyed by a large over a small republic,—is enjoyed by the Union over the States composing it. Does the advantage consist in the substitution of representatives whose enlightened views and virtuous sentiments render them superior to local prejudices and schemes of injustice? It will not be denied that the representation of the Union will be most likely to possess these requisite endowments. Does it consist in the greater security afforded by a greater variety of parties, against the event of any one party being able to outnumber and oppress the rest? In an equal degree does the increased variety of parties comprised within the Union, increase this security. Does it, in fine, consist in the greater obstacles opposed to the concert and accomplishment of the secret wishes of an unjust and interested majority? Here, again, the extent of the Union gives it the most palpable advantage.

The influence of factious leaders may kindle a flame within their particular States, but will be unable to spread a general conflagration through the other States. A religious sect may degenerate into a political faction in a part of the Confederacy; but the variety of sects dispersed over the entire face of it must secure the national councils against any danger from that source. A rage for paper money, for an abolition of debts, for an equal division of property, or for any other improper or wicked project, will be less apt to pervade the whole body of the Union than a particular member of it; in the same proportion as such a malady is more likely to taint a particular county or district, than an entire State.

In the extent and proper structure of the Union, therefore, we behold a republican remedy for the diseases most incident to republican government. And according to the degree of pleasure and pride we feel in being republicans, ought to be our zeal in cherishing the spirit and supporting the character of Federalists.

PUBLIUS</pre>
</div>
<div created="20150327181628810" modified="20150327182140251" tags="Hamilton [[Independent Journal]]" title="No. 11. The Utility of the Union in Respect to Commercial Relations and a Navy">
<pre>''For the Independent Journal. Saturday, November 24, 1787''

HAMILTON

To the People of the State of New York:

THE importance of the Union, in a commercial light, is one of those points about which there is least room to entertain a difference of opinion, and which has, in fact, commanded the most general assent of men who have any acquaintance with the subject. This applies as well to our intercourse with foreign countries as with each other.

There are appearances to authorize a supposition that the adventurous spirit, which distinguishes the commercial character of America, has already excited uneasy sensations in several of the maritime powers of Europe. They seem to be apprehensive of our too great interference in that carrying trade, which is the support of their navigation and the foundation of their naval strength. Those of them which have colonies in America look forward to what this country is capable of becoming, with painful solicitude. They foresee the dangers that may threaten their American dominions from the neighborhood of States, which have all the dispositions, and would possess all the means, requisite to the creation of a powerful marine. Impressions of this kind will naturally indicate the policy of fostering divisions among us, and of depriving us, as far as possible, of an ACTIVE COMMERCE in our own bottoms. This would answer the threefold purpose of preventing our interference in their navigation, of monopolizing the profits of our trade, and of clipping the wings by which we might soar to a dangerous greatness. Did not prudence forbid the detail, it would not be difficult to trace, by facts, the workings of this policy to the cabinets of ministers.

If we continue united, we may counteract a policy so unfriendly to our prosperity in a variety of ways. By prohibitory regulations, extending, at the same time, throughout the States, we may oblige foreign countries to bid against each other, for the privileges of our markets. This assertion will not appear chimerical to those who are able to appreciate the importance of the markets of three millions of people—increasing in rapid progression, for the most part exclusively addicted to agriculture, and likely from local circumstances to remain so—to any manufacturing nation; and the immense difference there would be to the trade and navigation of such a nation, between a direct communication in its own ships, and an indirect conveyance of its products and returns, to and from America, in the ships of another country. Suppose, for instance, we had a government in America, capable of excluding Great Britain (with whom we have at present no treaty of commerce) from all our ports; what would be the probable operation of this step upon her politics? Would it not enable us to negotiate, with the fairest prospect of success, for commercial privileges of the most valuable and extensive kind, in the dominions of that kingdom? When these questions have been asked, upon other occasions, they have received a plausible, but not a solid or satisfactory answer. It has been said that prohibitions on our part would produce no change in the system of Britain, because she could prosecute her trade with us through the medium of the Dutch, who would be her immediate customers and paymasters for those articles which were wanted for the supply of our markets. But would not her navigation be materially injured by the loss of the important advantage of being her own carrier in that trade? Would not the principal part of its profits be intercepted by the Dutch, as a compensation for their agency and risk? Would not the mere circumstance of freight occasion a considerable deduction? Would not so circuitous an intercourse facilitate the competitions of other nations, by enhancing the price of British commodities in our markets, and by transferring to other hands the management of this interesting branch of the British commerce?

A mature consideration of the objects suggested by these questions will justify a belief that the real disadvantages to Britain from such a state of things, conspiring with the pre-possessions of a great part of the nation in favor of the American trade, and with the importunities of the West India islands, would produce a relaxation in her present system, and would let us into the enjoyment of privileges in the markets of those islands elsewhere, from which our trade would derive the most substantial benefits. Such a point gained from the British government, and which could not be expected without an equivalent in exemptions and immunities in our markets, would be likely to have a correspondent effect on the conduct of other nations, who would not be inclined to see themselves altogether supplanted in our trade.

A further resource for influencing the conduct of European nations toward us, in this respect, would arise from the establishment of a federal navy. There can be no doubt that the continuance of the Union under an efficient government would put it in our power, at a period not very distant, to create a navy which, if it could not vie with those of the great maritime powers, would at least be of respectable weight if thrown into the scale of either of two contending parties. This would be more peculiarly the case in relation to operations in the West Indies. A few ships of the line, sent opportunely to the reinforcement of either side, would often be sufficient to decide the fate of a campaign, on the event of which interests of the greatest magnitude were suspended. Our position is, in this respect, a most commanding one. And if to this consideration we add that of the usefulness of supplies from this country, in the prosecution of military operations in the West Indies, it will readily be perceived that a situation so favorable would enable us to bargain with great advantage for commercial privileges. A price would be set not only upon our friendship, but upon our neutrality. By a steady adherence to the Union we may hope, erelong, to become the arbiter of Europe in America, and to be able to incline the balance of European competitions in this part of the world as our interest may dictate.

But in the reverse of this eligible situation, we shall discover that the rivalships of the parts would make them checks upon each other, and would frustrate all the tempting advantages which nature has kindly placed within our reach. In a state so insignificant our commerce would be a prey to the wanton intermeddlings of all nations at war with each other; who, having nothing to fear from us, would with little scruple or remorse, supply their wants by depredations on our property as often as it fell in their way. The rights of neutrality will only be respected when they are defended by an adequate power. A nation, despicable by its weakness, forfeits even the privilege of being neutral.

Under a vigorous national government, the natural strength and resources of the country, directed to a common interest, would baffle all the combinations of European jealousy to restrain our growth. This situation would even take away the motive to such combinations, by inducing an impracticability of success. An active commerce, an extensive navigation, and a flourishing marine would then be the offspring of moral and physical necessity. We might defy the little arts of the little politicians to control or vary the irresistible and unchangeable course of nature.

But in a state of disunion, these combinations might exist and might operate with success. It would be in the power of the maritime nations, availing themselves of our universal impotence, to prescribe the conditions of our political existence; and as they have a common interest in being our carriers, and still more in preventing our becoming theirs, they would in all probability combine to embarrass our navigation in such a manner as would in effect destroy it, and confine us to a PASSIVE COMMERCE. We should then be compelled to content ourselves with the first price of our commodities, and to see the profits of our trade snatched from us to enrich our enemies and persecutors. That unequaled spirit of enterprise, which signalizes the genius of the American merchants and navigators, and which is in itself an inexhaustible mine of national wealth, would be stifled and lost, and poverty and disgrace would overspread a country which, with wisdom, might make herself the admiration and envy of the world.

There are rights of great moment to the trade of America which are rights of the Union—I allude to the fisheries, to the navigation of the Western lakes, and to that of the Mississippi. The dissolution of the Confederacy would give room for delicate questions concerning the future existence of these rights; which the interest of more powerful partners would hardly fail to solve to our disadvantage. The disposition of Spain with regard to the Mississippi needs no comment. France and Britain are concerned with us in the fisheries, and view them as of the utmost moment to their navigation. They, of course, would hardly remain long indifferent to that decided mastery, of which experience has shown us to be possessed in this valuable branch of traffic, and by which we are able to undersell those nations in their own markets. What more natural than that they should be disposed to exclude from the lists such dangerous competitors?

This branch of trade ought not to be considered as a partial benefit. All the navigating States may, in different degrees, advantageously participate in it, and under circumstances of a greater extension of mercantile capital, would not be unlikely to do it. As a nursery of seamen, it now is, or when time shall have more nearly assimilated the principles of navigation in the several States, will become, a universal resource. To the establishment of a navy, it must be indispensable.

To this great national object, a NAVY, union will contribute in various ways. Every institution will grow and flourish in proportion to the quantity and extent of the means concentred towards its formation and support. A navy of the United States, as it would embrace the resources of all, is an object far less remote than a navy of any single State or partial confederacy, which would only embrace the resources of a single part. It happens, indeed, that different portions of confederated America possess each some peculiar advantage for this essential establishment. The more southern States furnish in greater abundance certain kinds of naval stores—tar, pitch, and turpentine. Their wood for the construction of ships is also of a more solid and lasting texture. The difference in the duration of the ships of which the navy might be composed, if chiefly constructed of Southern wood, would be of signal importance, either in the view of naval strength or of national economy. Some of the Southern and of the Middle States yield a greater plenty of iron, and of better quality. Seamen must chiefly be drawn from the Northern hive. The necessity of naval protection to external or maritime commerce does not require a particular elucidation, no more than the conduciveness of that species of commerce to the prosperity of a navy.

An unrestrained intercourse between the States themselves will advance the trade of each by an interchange of their respective productions, not only for the supply of reciprocal wants at home, but for exportation to foreign markets. The veins of commerce in every part will be replenished, and will acquire additional motion and vigor from a free circulation of the commodities of every part. Commercial enterprise will have much greater scope, from the diversity in the productions of different States. When the staple of one fails from a bad harvest or unproductive crop, it can call to its aid the staple of another. The variety, not less than the value, of products for exportation contributes to the activity of foreign commerce. It can be conducted upon much better terms with a large number of materials of a given value than with a small number of materials of the same value; arising from the competitions of trade and from the fluctuations of markets. Particular articles may be in great demand at certain periods, and unsalable at others; but if there be a variety of articles, it can scarcely happen that they should all be at one time in the latter predicament, and on this account the operations of the merchant would be less liable to any considerable obstruction or stagnation. The speculative trader will at once perceive the force of these observations, and will acknowledge that the aggregate balance of the commerce of the United States would bid fair to be much more favorable than that of the thirteen States without union or with partial unions.

It may perhaps be replied to this, that whether the States are united or disunited, there would still be an intimate intercourse between them which would answer the same ends; this intercourse would be fettered, interrupted, and narrowed by a multiplicity of causes, which in the course of these papers have been amply detailed. A unity of commercial, as well as political, interests, can only result from a unity of government.

There are other points of view in which this subject might be placed, of a striking and animating kind. But they would lead us too far into the regions of futurity, and would involve topics not proper for a newspaper discussion. I shall briefly observe, that our situation invites and our interests prompt us to aim at an ascendant in the system of American affairs. The world may politically, as well as geographically, be divided into four parts, each having a distinct set of interests. Unhappily for the other three, Europe, by her arms and by her negotiations, by force and by fraud, has, in different degrees, extended her dominion over them all. Africa, Asia, and America, have successively felt her domination. The superiority she has long maintained has tempted her to plume herself as the Mistress of the World, and to consider the rest of mankind as created for her benefit. Men admired as profound philosophers have, in direct terms, attributed to her inhabitants a physical superiority, and have gravely asserted that all animals, and with them the human species, degenerate in America—that even dogs cease to bark after having breathed awhile in our atmosphere. &lt;span class=&quot;footnote&quot; title=&quot;“Recherches philosophiques sur les Americains.“&quot;&gt;(1)&lt;/span&gt; Facts have too long supported these arrogant pretensions of the Europeans. It belongs to us to vindicate the honor of the human race, and to teach that assuming brother, moderation. Union will enable us to do it. Disunion will will add another victim to his triumphs. Let Americans disdain to be the instruments of European greatness! Let the thirteen States, bound together in a strict and indissoluble Union, concur in erecting one great American system, superior to the control of all transatlantic force or influence, and able to dictate the terms of the connection between the old and the new world!

PUBLIUS 

''Footnote''

1. &quot;Recherches philosophiques sur les Americains.&quot;</pre>
</div>
<div created="20150327182213811" modified="20150327195718279" tags="Hamilton [[New York Packet]]" title="No. 12. The Utility of the Union In Respect to Revenue">
<pre>''From the New York Packet. Tuesday, November 27, 1787.''

HAMILTON

To the People of the State of New York:

THE effects of Union upon the commercial prosperity of the States have been sufficiently delineated. Its tendency to promote the interests of revenue will be the subject of our present inquiry.

The prosperity of commerce is now perceived and acknowledged by all enlightened statesmen to be the most useful as well as the most productive source of national wealth, and has accordingly become a primary object of their political cares. By multiplying the means of gratification, by promoting the introduction and circulation of the precious metals, those darling objects of human avarice and enterprise, it serves to vivify and invigorate the channels of industry, and to make them flow with greater activity and copiousness. The assiduous merchant, the laborious husbandman, the active mechanic, and the industrious manufacturer,—all orders of men, look forward with eager expectation and growing alacrity to this pleasing reward of their toils. The often-agitated question between agriculture and commerce has, from indubitable experience, received a decision which has silenced the rivalship that once subsisted between them, and has proved, to the satisfaction of their friends, that their interests are intimately blended and interwoven. It has been found in various countries that, in proportion as commerce has flourished, land has risen in value. And how could it have happened otherwise? Could that which procures a freer vent for the products of the earth, which furnishes new incitements to the cultivation of land, which is the most powerful instrument in increasing the quantity of money in a state—could that, in fine, which is the faithful handmaid of labor and industry, in every shape, fail to augment that article, which is the prolific parent of far the greatest part of the objects upon which they are exerted? It is astonishing that so simple a truth should ever have had an adversary; and it is one, among a multitude of proofs, how apt a spirit of ill-informed jealousy, or of too great abstraction and refinement, is to lead men astray from the plainest truths of reason and conviction.

The ability of a country to pay taxes must always be proportioned, in a great degree, to the quantity of money in circulation, and to the celerity with which it circulates. Commerce, contributing to both these objects, must of necessity render the payment of taxes easier, and facilitate the requisite supplies to the treasury. The hereditary dominions of the Emperor of Germany contain a great extent of fertile, cultivated, and populous territory, a large proportion of which is situated in mild and luxuriant climates. In some parts of this territory are to be found the best gold and silver mines in Europe. And yet, from the want of the fostering influence of commerce, that monarch can boast but slender revenues. He has several times been compelled to owe obligations to the pecuniary succors of other nations for the preservation of his essential interests, and is unable, upon the strength of his own resources, to sustain a long or continued war.

But it is not in this aspect of the subject alone that Union will be seen to conduce to the purpose of revenue. There are other points of view, in which its influence will appear more immediate and decisive. It is evident from the state of the country, from the habits of the people, from the experience we have had on the point itself, that it is impracticable to raise any very considerable sums by direct taxation. Tax laws have in vain been multiplied; new methods to enforce the collection have in vain been tried; the public expectation has been uniformly disappointed, and the treasuries of the States have remained empty. The popular system of administration inherent in the nature of popular government, coinciding with the real scarcity of money incident to a languid and mutilated state of trade, has hitherto defeated every experiment for extensive collections, and has at length taught the different legislatures the folly of attempting them.

No person acquainted with what happens in other countries will be surprised at this circumstance. In so opulent a nation as that of Britain, where direct taxes from superior wealth must be much more tolerable, and, from the vigor of the government, much more practicable, than in America, far the greatest part of the national revenue is derived from taxes of the indirect kind, from imposts, and from excises. Duties on imported articles form a large branch of this latter description.

In America, it is evident that we must a long time depend for the means of revenue chiefly on such duties. In most parts of it, excises must be confined within a narrow compass. The genius of the people will ill brook the inquisitive and peremptory spirit of excise laws. The pockets of the farmers, on the other hand, will reluctantly yield but scanty supplies, in the unwelcome shape of impositions on their houses and lands; and personal property is too precarious and invisible a fund to be laid hold of in any other way than by the imperceptible agency of taxes on consumption.

If these remarks have any foundation, that state of things which will best enable us to improve and extend so valuable a resource must be best adapted to our political welfare. And it cannot admit of a serious doubt, that this state of things must rest on the basis of a general Union. As far as this would be conducive to the interests of commerce, so far it must tend to the extension of the revenue to be drawn from that source. As far as it would contribute to rendering regulations for the collection of the duties more simple and efficacious, so far it must serve to answer the purposes of making the same rate of duties more productive, and of putting it into the power of the government to increase the rate without prejudice to trade.

The relative situation of these States; the number of rivers with which they are intersected, and of bays that wash there shores; the facility of communication in every direction; the affinity of language and manners; the familiar habits of intercourse;—all these are circumstances that would conspire to render an illicit trade between them a matter of little difficulty, and would insure frequent evasions of the commercial regulations of each other. The separate States or confederacies would be necessitated by mutual jealousy to avoid the temptations to that kind of trade by the lowness of their duties. The temper of our governments, for a long time to come, would not permit those rigorous precautions by which the European nations guard the avenues into their respective countries, as well by land as by water; and which, even there, are found insufficient obstacles to the adventurous stratagems of avarice.

In France, there is an army of patrols (as they are called) constantly employed to secure their fiscal regulations against the inroads of the dealers in contraband trade. Mr. Neckar computes the number of these patrols at upwards of twenty thousand. This shows the immense difficulty in preventing that species of traffic, where there is an inland communication, and places in a strong light the disadvantages with which the collection of duties in this country would be encumbered, if by disunion the States should be placed in a situation, with respect to each other, resembling that of France with respect to her neighbors. The arbitrary and vexatious powers with which the patrols are necessarily armed, would be intolerable in a free country.

If, on the contrary, there be but one government pervading all the States, there will be, as to the principal part of our commerce, but ONE SIDE to guard—the ATLANTIC COAST. Vessels arriving directly from foreign countries, laden with valuable cargoes, would rarely choose to hazard themselves to the complicated and critical perils which would attend attempts to unlade prior to their coming into port. They would have to dread both the dangers of the coast, and of detection, as well after as before their arrival at the places of their final destination. An ordinary degree of vigilance would be competent to the prevention of any material infractions upon the rights of the revenue. A few armed vessels, judiciously stationed at the entrances of our ports, might at a small expense be made useful sentinels of the laws. And the government having the same interest to provide against violations everywhere, the co-operation of its measures in each State would have a powerful tendency to render them effectual. Here also we should preserve by Union, an advantage which nature holds out to us, and which would be relinquished by separation. The United States lie at a great distance from Europe, and at a considerable distance from all other places with which they would have extensive connections of foreign trade. The passage from them to us, in a few hours, or in a single night, as between the coasts of France and Britain, and of other neighboring nations, would be impracticable. This is a prodigious security against a direct contraband with foreign countries; but a circuitous contraband to one State, through the medium of another, would be both easy and safe. The difference between a direct importation from abroad, and an indirect importation through the channel of a neighboring State, in small parcels, according to time and opportunity, with the additional facilities of inland communication, must be palpable to every man of discernment.

It is therefore evident, that one national government would be able, at much less expense, to extend the duties on imports, beyond comparison, further than would be practicable to the States separately, or to any partial confederacies. Hitherto, I believe, it may safely be asserted, that these duties have not upon an average exceeded in any State three per cent. In France they are estimated to be about fifteen per cent., and in Britain they exceed this proportion. &lt;span class=&quot;footnote&quot; title=&quot;If my memory be right they amount to twenty per cent.&quot;&gt;(1)&lt;/span&gt; There seems to be nothing to hinder their being increased in this country to at least treble their present amount. The single article of ardent spirits, under federal regulation, might be made to furnish a considerable revenue. Upon a ratio to the importation into this State, the whole quantity imported into the United States may be estimated at four millions of gallons; which, at a shilling per gallon, would produce two hundred thousand pounds. That article would well bear this rate of duty; and if it should tend to diminish the consumption of it, such an effect would be equally favorable to the agriculture, to the economy, to the morals, and to the health of the society. There is, perhaps, nothing so much a subject of national extravagance as these spirits.

What will be the consequence, if we are not able to avail ourselves of the resource in question in its full extent? A nation cannot long exist without revenues. Destitute of this essential support, it must resign its independence, and sink into the degraded condition of a province. This is an extremity to which no government will of choice accede. Revenue, therefore, must be had at all events. In this country, if the principal part be not drawn from commerce, it must fall with oppressive weight upon land. It has been already intimated that excises, in their true signification, are too little in unison with the feelings of the people, to admit of great use being made of that mode of taxation; nor, indeed, in the States where almost the sole employment is agriculture, are the objects proper for excise sufficiently numerous to permit very ample collections in that way. Personal estate (as has been before remarked), from the difficulty in tracing it, cannot be subjected to large contributions, by any other means than by taxes on consumption. In populous cities, it may be enough the subject of conjecture, to occasion the oppression of individuals, without much aggregate benefit to the State; but beyond these circles, it must, in a great measure, escape the eye and the hand of the tax-gatherer. As the necessities of the State, nevertheless, must be satisfied in some mode or other, the defect of other resources must throw the principal weight of public burdens on the possessors of land. And as, on the other hand, the wants of the government can never obtain an adequate supply, unless all the sources of revenue are open to its demands, the finances of the community, under such embarrassments, cannot be put into a situation consistent with its respectability or its security. Thus we shall not even have the consolations of a full treasury, to atone for the oppression of that valuable class of the citizens who are employed in the cultivation of the soil. But public and private distress will keep pace with each other in gloomy concert; and unite in deploring the infatuation of those counsels which led to disunion.

PUBLIUS

''Footnote''

1. If my memory be right they amount to twenty per cent.
</pre>
</div>
<div created="20150327182514604" modified="20150327182544922" tags="Hamilton [[Independent Journal]]" title="No. 13. Advantage of the Union in Respect to Economy in Government">
<pre>''For the Independent Journal. Wednesday, November 28, 1787''

HAMILTON

To the People of the State of New York:

As CONNECTED with the subject of revenue, we may with propriety consider that of economy. The money saved from one object may be usefully applied to another, and there will be so much the less to be drawn from the pockets of the people. If the States are united under one government, there will be but one national civil list to support; if they are divided into several confederacies, there will be as many different national civil lists to be provided for—and each of them, as to the principal departments, coextensive with that which would be necessary for a government of the whole. The entire separation of the States into thirteen unconnected sovereignties is a project too extravagant and too replete with danger to have many advocates. The ideas of men who speculate upon the dismemberment of the empire seem generally turned toward three confederacies—one consisting of the four Northern, another of the four Middle, and a third of the five Southern States. There is little probability that there would be a greater number. According to this distribution, each confederacy would comprise an extent of territory larger than that of the kingdom of Great Britain. No well-informed man will suppose that the affairs of such a confederacy can be properly regulated by a government less comprehensive in its organs or institutions than that which has been proposed by the convention. When the dimensions of a State attain to a certain magnitude, it requires the same energy of government and the same forms of administration which are requisite in one of much greater extent. This idea admits not of precise demonstration, because there is no rule by which we can measure the momentum of civil power necessary to the government of any given number of individuals; but when we consider that the island of Britain, nearly commensurate with each of the supposed confederacies, contains about eight millions of people, and when we reflect upon the degree of authority required to direct the passions of so large a society to the public good, we shall see no reason to doubt that the like portion of power would be sufficient to perform the same task in a society far more numerous. Civil power, properly organized and exerted, is capable of diffusing its force to a very great extent; and can, in a manner, reproduce itself in every part of a great empire by a judicious arrangement of subordinate institutions.

The supposition that each confederacy into which the States would be likely to be divided would require a government not less comprehensive than the one proposed, will be strengthened by another supposition, more probable than that which presents us with three confederacies as the alternative to a general Union. If we attend carefully to geographical and commercial considerations, in conjunction with the habits and prejudices of the different States, we shall be led to conclude that in case of disunion they will most naturally league themselves under two governments. The four Eastern States, from all the causes that form the links of national sympathy and connection, may with certainty be expected to unite. New York, situated as she is, would never be unwise enough to oppose a feeble and unsupported flank to the weight of that confederacy. There are other obvious reasons that would facilitate her accession to it. New Jersey is too small a State to think of being a frontier, in opposition to this still more powerful combination; nor do there appear to be any obstacles to her admission into it. Even Pennsylvania would have strong inducements to join the Northern league. An active foreign commerce, on the basis of her own navigation, is her true policy, and coincides with the opinions and dispositions of her citizens. The more Southern States, from various circumstances, may not think themselves much interested in the encouragement of navigation. They may prefer a system which would give unlimited scope to all nations to be the carriers as well as the purchasers of their commodities. Pennsylvania may not choose to confound her interests in a connection so adverse to her policy. As she must at all events be a frontier, she may deem it most consistent with her safety to have her exposed side turned towards the weaker power of the Southern, rather than towards the stronger power of the Northern, Confederacy. This would give her the fairest chance to avoid being the Flanders of America. Whatever may be the determination of Pennsylvania, if the Northern Confederacy includes New Jersey, there is no likelihood of more than one confederacy to the south of that State.

Nothing can be more evident than that the thirteen States will be able to support a national government better than one half, or one third, or any number less than the whole. This reflection must have great weight in obviating that objection to the proposed plan, which is founded on the principle of expense; an objection, however, which, when we come to take a nearer view of it, will appear in every light to stand on mistaken ground.

If, in addition to the consideration of a plurality of civil lists, we take into view the number of persons who must necessarily be employed to guard the inland communication between the different confederacies against illicit trade, and who in time will infallibly spring up out of the necessities of revenue; and if we also take into view the military establishments which it has been shown would unavoidably result from the jealousies and conflicts of the several nations into which the States would be divided, we shall clearly discover that a separation would be not less injurious to the economy, than to the tranquillity, commerce, revenue, and liberty of every part.

PUBLIUS</pre>
</div>
<div created="20150327182607171" modified="20150327182643394" tags="Madison [[New York Packet]]" title="No. 14. Objections to the Proposed Constitution From Extent of Territory Answered">
<pre>''From the New York Packet. Friday, November 30, 1787.''

MADISON

To the People of the State of New York:

WE HAVE seen the necessity of the Union, as our bulwark against foreign danger, as the conservator of peace among ourselves, as the guardian of our commerce and other common interests, as the only substitute for those military establishments which have subverted the liberties of the Old World, and as the proper antidote for the diseases of faction, which have proved fatal to other popular governments, and of which alarming symptoms have been betrayed by our own. All that remains, within this branch of our inquiries, is to take notice of an objection that may be drawn from the great extent of country which the Union embraces. A few observations on this subject will be the more proper, as it is perceived that the adversaries of the new Constitution are availing themselves of the prevailing prejudice with regard to the practicable sphere of republican administration, in order to supply, by imaginary difficulties, the want of those solid objections which they endeavor in vain to find.

The error which limits republican government to a narrow district has been unfolded and refuted in preceding papers. I remark here only that it seems to owe its rise and prevalence chiefly to the confounding of a republic with a democracy, applying to the former reasonings drawn from the nature of the latter. The true distinction between these forms was also adverted to on a former occasion. It is, that in a democracy, the people meet and exercise the government in person; in a republic, they assemble and administer it by their representatives and agents. A democracy, consequently, will be confined to a small spot. A republic may be extended over a large region.

To this accidental source of the error may be added the artifice of some celebrated authors, whose writings have had a great share in forming the modern standard of political opinions. Being subjects either of an absolute or limited monarchy, they have endeavored to heighten the advantages, or palliate the evils of those forms, by placing in comparison the vices and defects of the republican, and by citing as specimens of the latter the turbulent democracies of ancient Greece and modern Italy. Under the confusion of names, it has been an easy task to transfer to a republic observations applicable to a democracy only; and among others, the observation that it can never be established but among a small number of people, living within a small compass of territory.

Such a fallacy may have been the less perceived, as most of the popular governments of antiquity were of the democratic species; and even in modern Europe, to which we owe the great principle of representation, no example is seen of a government wholly popular, and founded, at the same time, wholly on that principle. If Europe has the merit of discovering this great mechanical power in government, by the simple agency of which the will of the largest political body may be concentred, and its force directed to any object which the public good requires, America can claim the merit of making the discovery the basis of unmixed and extensive republics. It is only to be lamented that any of her citizens should wish to deprive her of the additional merit of displaying its full efficacy in the establishment of the comprehensive system now under her consideration.

As the natural limit of a democracy is that distance from the central point which will just permit the most remote citizens to assemble as often as their public functions demand, and will include no greater number than can join in those functions; so the natural limit of a republic is that distance from the centre which will barely allow the representatives to meet as often as may be necessary for the administration of public affairs. Can it be said that the limits of the United States exceed this distance? It will not be said by those who recollect that the Atlantic coast is the longest side of the Union, that during the term of thirteen years, the representatives of the States have been almost continually assembled, and that the members from the most distant States are not chargeable with greater intermissions of attendance than those from the States in the neighborhood of Congress.

That we may form a juster estimate with regard to this interesting subject, let us resort to the actual dimensions of the Union. The limits, as fixed by the treaty of peace, are: on the east the Atlantic, on the south the latitude of thirty-one degrees, on the west the Mississippi, and on the north an irregular line running in some instances beyond the forty-fifth degree, in others falling as low as the forty-second. The southern shore of Lake Erie lies below that latitude. Computing the distance between the thirty-first and forty-fifth degrees, it amounts to nine hundred and seventy-three common miles; computing it from thirty-one to forty-two degrees, to seven hundred and sixty-four miles and a half. Taking the mean for the distance, the amount will be eight hundred and sixty-eight miles and three-fourths. The mean distance from the Atlantic to the Mississippi does not probably exceed seven hundred and fifty miles. On a comparison of this extent with that of several countries in Europe, the practicability of rendering our system commensurate to it appears to be demonstrable. It is not a great deal larger than Germany, where a diet representing the whole empire is continually assembled; or than Poland before the late dismemberment, where another national diet was the depositary of the supreme power. Passing by France and Spain, we find that in Great Britain, inferior as it may be in size, the representatives of the northern extremity of the island have as far to travel to the national council as will be required of those of the most remote parts of the Union.

Favorable as this view of the subject may be, some observations remain which will place it in a light still more satisfactory.

In the first place it is to be remembered that the general government is not to be charged with the whole power of making and administering laws. Its jurisdiction is limited to certain enumerated objects, which concern all the members of the republic, but which are not to be attained by the separate provisions of any. The subordinate governments, which can extend their care to all those other subjects which can be separately provided for, will retain their due authority and activity. Were it proposed by the plan of the convention to abolish the governments of the particular States, its adversaries would have some ground for their objection; though it would not be difficult to show that if they were abolished the general government would be compelled, by the principle of self-preservation, to reinstate them in their proper jurisdiction.

A second observation to be made is that the immediate object of the federal Constitution is to secure the union of the thirteen primitive States, which we know to be practicable; and to add to them such other States as may arise in their own bosoms, or in their neighborhoods, which we cannot doubt to be equally practicable. The arrangements that may be necessary for those angles and fractions of our territory which lie on our northwestern frontier, must be left to those whom further discoveries and experience will render more equal to the task.

Let it be remarked, in the third place, that the intercourse throughout the Union will be facilitated by new improvements. Roads will everywhere be shortened, and kept in better order; accommodations for travelers will be multiplied and meliorated; an interior navigation on our eastern side will be opened throughout, or nearly throughout, the whole extent of the thirteen States. The communication between the Western and Atlantic districts, and between different parts of each, will be rendered more and more easy by those numerous canals with which the beneficence of nature has intersected our country, and which art finds it so little difficult to connect and complete.

A fourth and still more important consideration is, that as almost every State will, on one side or other, be a frontier, and will thus find, in regard to its safety, an inducement to make some sacrifices for the sake of the general protection; so the States which lie at the greatest distance from the heart of the Union, and which, of course, may partake least of the ordinary circulation of its benefits, will be at the same time immediately contiguous to foreign nations, and will consequently stand, on particular occasions, in greatest need of its strength and resources. It may be inconvenient for Georgia, or the States forming our western or northeastern borders, to send their representatives to the seat of government; but they would find it more so to struggle alone against an invading enemy, or even to support alone the whole expense of those precautions which may be dictated by the neighborhood of continual danger. If they should derive less benefit, therefore, from the Union in some respects than the less distant States, they will derive greater benefit from it in other respects, and thus the proper equilibrium will be maintained throughout.

I submit to you, my fellow-citizens, these considerations, in full confidence that the good sense which has so often marked your decisions will allow them their due weight and effect; and that you will never suffer difficulties, however formidable in appearance, or however fashionable the error on which they may be founded, to drive you into the gloomy and perilous scene into which the advocates for disunion would conduct you. Hearken not to the unnatural voice which tells you that the people of America, knit together as they are by so many cords of affection, can no longer live together as members of the same family; can no longer continue the mutual guardians of their mutual happiness; can no longer be fellow citizens of one great, respectable, and flourishing empire. Hearken not to the voice which petulantly tells you that the form of government recommended for your adoption is a novelty in the political world; that it has never yet had a place in the theories of the wildest projectors; that it rashly attempts what it is impossible to accomplish. No, my countrymen, shut your ears against this unhallowed language. Shut your hearts against the poison which it conveys; the kindred blood which flows in the veins of American citizens, the mingled blood which they have shed in defense of their sacred rights, consecrate their Union, and excite horror at the idea of their becoming aliens, rivals, enemies. And if novelties are to be shunned, believe me, the most alarming of all novelties, the most wild of all projects, the most rash of all attempts, is that of rendering us in pieces, in order to preserve our liberties and promote our happiness. But why is the experiment of an extended republic to be rejected, merely because it may comprise what is new? Is it not the glory of the people of America, that, whilst they have paid a decent regard to the opinions of former times and other nations, they have not suffered a blind veneration for antiquity, for custom, or for names, to overrule the suggestions of their own good sense, the knowledge of their own situation, and the lessons of their own experience? To this manly spirit, posterity will be indebted for the possession, and the world for the example, of the numerous innovations displayed on the American theatre, in favor of private rights and public happiness. Had no important step been taken by the leaders of the Revolution for which a precedent could not be discovered, no government established of which an exact model did not present itself, the people of the United States might, at this moment have been numbered among the melancholy victims of misguided councils, must at best have been laboring under the weight of some of those forms which have crushed the liberties of the rest of mankind. Happily for America, happily, we trust, for the whole human race, they pursued a new and more noble course. They accomplished a revolution which has no parallel in the annals of human society. They reared the fabrics of governments which have no model on the face of the globe. They formed the design of a great Confederacy, which it is incumbent on their successors to improve and perpetuate. If their works betray imperfections, we wonder at the fewness of them. If they erred most in the structure of the Union, this was the work most difficult to be executed; this is the work which has been new modelled by the act of your convention, and it is that act on which you are now to deliberate and to decide.

PUBLIUS</pre>
</div>
<div created="20150327182709931" modified="20150327182824594" tags="Hamilton [[Independent Journal]]" title="No. 15. The Insufficiency of the Present Confederation to Preserve the Union">
<pre>''For the Independent Journal. Saturday, December 1, 1787''

HAMILTON

To the People of the State of New York.

IN THE course of the preceding papers, I have endeavored, my fellow citizens, to place before you, in a clear and convincing light, the importance of Union to your political safety and happiness. I have unfolded to you a complication of dangers to which you would be exposed, should you permit that sacred knot which binds the people of America together be severed or dissolved by ambition or by avarice, by jealousy or by misrepresentation. In the sequel of the inquiry through which I propose to accompany you, the truths intended to be inculcated will receive further confirmation from facts and arguments hitherto unnoticed. If the road over which you will still have to pass should in some places appear to you tedious or irksome, you will recollect that you are in quest of information on a subject the most momentous which can engage the attention of a free people, that the field through which you have to travel is in itself spacious, and that the difficulties of the journey have been unnecessarily increased by the mazes with which sophistry has beset the way. It will be my aim to remove the obstacles from your progress in as compendious a manner as it can be done, without sacrificing utility to despatch.

In pursuance of the plan which I have laid down for the discussion of the subject, the point next in order to be examined is the &quot;insufficiency of the present Confederation to the preservation of the Union.&quot; It may perhaps be asked what need there is of reasoning or proof to illustrate a position which is not either controverted or doubted, to which the understandings and feelings of all classes of men assent, and which in substance is admitted by the opponents as well as by the friends of the new Constitution. It must in truth be acknowledged that, however these may differ in other respects, they in general appear to harmonize in this sentiment, at least, that there are material imperfections in our national system, and that something is necessary to be done to rescue us from impending anarchy. The facts that support this opinion are no longer objects of speculation. They have forced themselves upon the sensibility of the people at large, and have at length extorted from those, whose mistaken policy has had the principal share in precipitating the extremity at which we are arrived, a reluctant confession of the reality of those defects in the scheme of our federal government, which have been long pointed out and regretted by the intelligent friends of the Union.

We may indeed with propriety be said to have reached almost the last stage of national humiliation. There is scarcely anything that can wound the pride or degrade the character of an independent nation which we do not experience. Are there engagements to the performance of which we are held by every tie respectable among men? These are the subjects of constant and unblushing violation. Do we owe debts to foreigners and to our own citizens contracted in a time of imminent peril for the preservation of our political existence? These remain without any proper or satisfactory provision for their discharge. Have we valuable territories and important posts in the possession of a foreign power which, by express stipulations, ought long since to have been surrendered? These are still retained, to the prejudice of our interests, not less than of our rights. Are we in a condition to resent or to repel the aggression? We have neither troops, nor treasury, nor government. &lt;span class=&quot;footnote&quot; title=&quot;“I mean for the Union.“&quot;&gt;(1)&lt;/span&gt; Are we even in a condition to remonstrate with dignity? The just imputations on our own faith, in respect to the same treaty, ought first to be removed. Are we entitled by nature and compact to a free participation in the navigation of the Mississippi? Spain excludes us from it. Is public credit an indispensable resource in time of public danger? We seem to have abandoned its cause as desperate and irretrievable. Is commerce of importance to national wealth? Ours is at the lowest point of declension. Is respectability in the eyes of foreign powers a safeguard against foreign encroachments? The imbecility of our government even forbids them to treat with us. Our ambassadors abroad are the mere pageants of mimic sovereignty. Is a violent and unnatural decrease in the value of land a symptom of national distress? The price of improved land in most parts of the country is much lower than can be accounted for by the quantity of waste land at market, and can only be fully explained by that want of private and public confidence, which are so alarmingly prevalent among all ranks, and which have a direct tendency to depreciate property of every kind. Is private credit the friend and patron of industry? That most useful kind which relates to borrowing and lending is reduced within the narrowest limits, and this still more from an opinion of insecurity than from the scarcity of money. To shorten an enumeration of particulars which can afford neither pleasure nor instruction, it may in general be demanded, what indication is there of national disorder, poverty, and insignificance that could befall a community so peculiarly blessed with natural advantages as we are, which does not form a part of the dark catalogue of our public misfortunes?

This is the melancholy situation to which we have been brought by those very maxims and councils which would now deter us from adopting the proposed Constitution; and which, not content with having conducted us to the brink of a precipice, seem resolved to plunge us into the abyss that awaits us below. Here, my countrymen, impelled by every motive that ought to influence an enlightened people, let us make a firm stand for our safety, our tranquillity, our dignity, our reputation. Let us at last break the fatal charm which has too long seduced us from the paths of felicity and prosperity.

It is true, as has been before observed that facts, too stubborn to be resisted, have produced a species of general assent to the abstract proposition that there exist material defects in our national system; but the usefulness of the concession, on the part of the old adversaries of federal measures, is destroyed by a strenuous opposition to a remedy, upon the only principles that can give it a chance of success. While they admit that the government of the United States is destitute of energy, they contend against conferring upon it those powers which are requisite to supply that energy. They seem still to aim at things repugnant and irreconcilable; at an augmentation of federal authority, without a diminution of State authority; at sovereignty in the Union, and complete independence in the members. They still, in fine, seem to cherish with blind devotion the political monster of an imperium in imperio. This renders a full display of the principal defects of the Confederation necessary, in order to show that the evils we experience do not proceed from minute or partial imperfections, but from fundamental errors in the structure of the building, which cannot be amended otherwise than by an alteration in the first principles and main pillars of the fabric.

The great and radical vice in the construction of the existing Confederation is in the principle of LEGISLATION for STATES or GOVERNMENTS, in their CORPORATE or COLLECTIVE CAPACITIES, and as contradistinguished from the INDIVIDUALS of which they consist. Though this principle does not run through all the powers delegated to the Union, yet it pervades and governs those on which the efficacy of the rest depends. Except as to the rule of appointment, the United States has an indefinite discretion to make requisitions for men and money; but they have no authority to raise either, by regulations extending to the individual citizens of America. The consequence of this is, that though in theory their resolutions concerning those objects are laws, constitutionally binding on the members of the Union, yet in practice they are mere recommendations which the States observe or disregard at their option.

It is a singular instance of the capriciousness of the human mind, that after all the admonitions we have had from experience on this head, there should still be found men who object to the new Constitution, for deviating from a principle which has been found the bane of the old, and which is in itself evidently incompatible with the idea of GOVERNMENT; a principle, in short, which, if it is to be executed at all, must substitute the violent and sanguinary agency of the sword to the mild influence of the magistracy.

There is nothing absurd or impracticable in the idea of a league or alliance between independent nations for certain defined purposes precisely stated in a treaty regulating all the details of time, place, circumstance, and quantity; leaving nothing to future discretion; and depending for its execution on the good faith of the parties. Compacts of this kind exist among all civilized nations, subject to the usual vicissitudes of peace and war, of observance and non-observance, as the interests or passions of the contracting powers dictate. In the early part of the present century there was an epidemical rage in Europe for this species of compacts, from which the politicians of the times fondly hoped for benefits which were never realized. With a view to establishing the equilibrium of power and the peace of that part of the world, all the resources of negotiation were exhausted, and triple and quadruple alliances were formed; but they were scarcely formed before they were broken, giving an instructive but afflicting lesson to mankind, how little dependence is to be placed on treaties which have no other sanction than the obligations of good faith, and which oppose general considerations of peace and justice to the impulse of any immediate interest or passion.

If the particular States in this country are disposed to stand in a similar relation to each other, and to drop the project of a general DISCRETIONARY SUPERINTENDENCE, the scheme would indeed be pernicious, and would entail upon us all the mischiefs which have been enumerated under the first head; but it would have the merit of being, at least, consistent and practicable Abandoning all views towards a confederate government, this would bring us to a simple alliance offensive and defensive; and would place us in a situation to be alternate friends and enemies of each other, as our mutual jealousies and rivalships, nourished by the intrigues of foreign nations, should prescribe to us.

But if we are unwilling to be placed in this perilous situation; if we still will adhere to the design of a national government, or, which is the same thing, of a superintending power, under the direction of a common council, we must resolve to incorporate into our plan those ingredients which may be considered as forming the characteristic difference between a league and a government; we must extend the authority of the Union to the persons of the citizens,—the only proper objects of government.

Government implies the power of making laws. It is essential to the idea of a law, that it be attended with a sanction; or, in other words, a penalty or punishment for disobedience. If there be no penalty annexed to disobedience, the resolutions or commands which pretend to be laws will, in fact, amount to nothing more than advice or recommendation. This penalty, whatever it may be, can only be inflicted in two ways: by the agency of the courts and ministers of justice, or by military force; by the COERCION of the magistracy, or by the COERCION of arms. The first kind can evidently apply only to men; the last kind must of necessity, be employed against bodies politic, or communities, or States. It is evident that there is no process of a court by which the observance of the laws can, in the last resort, be enforced. Sentences may be denounced against them for violations of their duty; but these sentences can only be carried into execution by the sword. In an association where the general authority is confined to the collective bodies of the communities, that compose it, every breach of the laws must involve a state of war; and military execution must become the only instrument of civil obedience. Such a state of things can certainly not deserve the name of government, nor would any prudent man choose to commit his happiness to it.

There was a time when we were told that breaches, by the States, of the regulations of the federal authority were not to be expected; that a sense of common interest would preside over the conduct of the respective members, and would beget a full compliance with all the constitutional requisitions of the Union. This language, at the present day, would appear as wild as a great part of what we now hear from the same quarter will be thought, when we shall have received further lessons from that best oracle of wisdom, experience. It at all times betrayed an ignorance of the true springs by which human conduct is actuated, and belied the original inducements to the establishment of civil power. Why has government been instituted at all? Because the passions of men will not conform to the dictates of reason and justice, without constraint. Has it been found that bodies of men act with more rectitude or greater disinterestedness than individuals? The contrary of this has been inferred by all accurate observers of the conduct of mankind; and the inference is founded upon obvious reasons. Regard to reputation has a less active influence, when the infamy of a bad action is to be divided among a number than when it is to fall singly upon one. A spirit of faction, which is apt to mingle its poison in the deliberations of all bodies of men, will often hurry the persons of whom they are composed into improprieties and excesses, for which they would blush in a private capacity.

In addition to all this, there is, in the nature of sovereign power, an impatience of control, that disposes those who are invested with the exercise of it, to look with an evil eye upon all external attempts to restrain or direct its operations. From this spirit it happens, that in every political association which is formed upon the principle of uniting in a common interest a number of lesser sovereignties, there will be found a kind of eccentric tendency in the subordinate or inferior orbs, by the operation of which there will be a perpetual effort in each to fly off from the common centre. This tendency is not difficult to be accounted for. It has its origin in the love of power. Power controlled or abridged is almost always the rival and enemy of that power by which it is controlled or abridged. This simple proposition will teach us how little reason there is to expect, that the persons intrusted with the administration of the affairs of the particular members of a confederacy will at all times be ready, with perfect good-humor, and an unbiased regard to the public weal, to execute the resolutions or decrees of the general authority. The reverse of this results from the constitution of human nature.

If, therefore, the measures of the Confederacy cannot be executed without the intervention of the particular administrations, there will be little prospect of their being executed at all. The rulers of the respective members, whether they have a constitutional right to do it or not, will undertake to judge of the propriety of the measures themselves. They will consider the conformity of the thing proposed or required to their immediate interests or aims; the momentary conveniences or inconveniences that would attend its adoption. All this will be done; and in a spirit of interested and suspicious scrutiny, without that knowledge of national circumstances and reasons of state, which is essential to a right judgment, and with that strong predilection in favor of local objects, which can hardly fail to mislead the decision. The same process must be repeated in every member of which the body is constituted; and the execution of the plans, framed by the councils of the whole, will always fluctuate on the discretion of the ill-informed and prejudiced opinion of every part. Those who have been conversant in the proceedings of popular assemblies; who have seen how difficult it often is, where there is no exterior pressure of circumstances, to bring them to harmonious resolutions on important points, will readily conceive how impossible it must be to induce a number of such assemblies, deliberating at a distance from each other, at different times, and under different impressions, long to co-operate in the same views and pursuits.

In our case, the concurrence of thirteen distinct sovereign wills is requisite, under the Confederation, to the complete execution of every important measure that proceeds from the Union. It has happened as was to have been foreseen. The measures of the Union have not been executed; the delinquencies of the States have, step by step, matured themselves to an extreme, which has, at length, arrested all the wheels of the national government, and brought them to an awful stand. Congress at this time scarcely possess the means of keeping up the forms of administration, till the States can have time to agree upon a more substantial substitute for the present shadow of a federal government. Things did not come to this desperate extremity at once. The causes which have been specified produced at first only unequal and disproportionate degrees of compliance with the requisitions of the Union. The greater deficiencies of some States furnished the pretext of example and the temptation of interest to the complying, or to the least delinquent States. Why should we do more in proportion than those who are embarked with us in the same political voyage? Why should we consent to bear more than our proper share of the common burden? These were suggestions which human selfishness could not withstand, and which even speculative men, who looked forward to remote consequences, could not, without hesitation, combat. Each State, yielding to the persuasive voice of immediate interest or convenience, has successively withdrawn its support, till the frail and tottering edifice seems ready to fall upon our heads, and to crush us beneath its ruins.

PUBLIUS

1. &quot;I mean for the Union.&quot;</pre>
</div>
<div created="20150327182930363" modified="20150327183003410" tags="Hamilton [[New York Packet]]" title="No. 16. The Same Subject Continued (The Insufficiency of the Present Confederation to Preserve the Union)">
<pre>''From the New York Packet. Tuesday, December 4, 1787.''

HAMILTON

To the People of the State of New York:

THE tendency of the principle of legislation for States, or communities, in their political capacities, as it has been exemplified by the experiment we have made of it, is equally attested by the events which have befallen all other governments of the confederate kind, of which we have any account, in exact proportion to its prevalence in those systems. The confirmations of this fact will be worthy of a distinct and particular examination. I shall content myself with barely observing here, that of all the confederacies of antiquity, which history has handed down to us, the Lycian and Achaean leagues, as far as there remain vestiges of them, appear to have been most free from the fetters of that mistaken principle, and were accordingly those which have best deserved, and have most liberally received, the applauding suffrages of political writers.

This exceptionable principle may, as truly as emphatically, be styled the parent of anarchy: It has been seen that delinquencies in the members of the Union are its natural and necessary offspring; and that whenever they happen, the only constitutional remedy is force, and the immediate effect of the use of it, civil war.

It remains to inquire how far so odious an engine of government, in its application to us, would even be capable of answering its end. If there should not be a large army constantly at the disposal of the national government it would either not be able to employ force at all, or, when this could be done, it would amount to a war between parts of the Confederacy concerning the infractions of a league, in which the strongest combination would be most likely to prevail, whether it consisted of those who supported or of those who resisted the general authority. It would rarely happen that the delinquency to be redressed would be confined to a single member, and if there were more than one who had neglected their duty, similarity of situation would induce them to unite for common defense. Independent of this motive of sympathy, if a large and influential State should happen to be the aggressing member, it would commonly have weight enough with its neighbors to win over some of them as associates to its cause. Specious arguments of danger to the common liberty could easily be contrived; plausible excuses for the deficiencies of the party could, without difficulty, be invented to alarm the apprehensions, inflame the passions, and conciliate the good-will, even of those States which were not chargeable with any violation or omission of duty. This would be the more likely to take place, as the delinquencies of the larger members might be expected sometimes to proceed from an ambitious premeditation in their rulers, with a view to getting rid of all external control upon their designs of personal aggrandizement; the better to effect which it is presumable they would tamper beforehand with leading individuals in the adjacent States. If associates could not be found at home, recourse would be had to the aid of foreign powers, who would seldom be disinclined to encouraging the dissensions of a Confederacy, from the firm union of which they had so much to fear. When the sword is once drawn, the passions of men observe no bounds of moderation. The suggestions of wounded pride, the instigations of irritated resentment, would be apt to carry the States against which the arms of the Union were exerted, to any extremes necessary to avenge the affront or to avoid the disgrace of submission. The first war of this kind would probably terminate in a dissolution of the Union.

This may be considered as the violent death of the Confederacy. Its more natural death is what we now seem to be on the point of experiencing, if the federal system be not speedily renovated in a more substantial form. It is not probable, considering the genius of this country, that the complying States would often be inclined to support the authority of the Union by engaging in a war against the non-complying States. They would always be more ready to pursue the milder course of putting themselves upon an equal footing with the delinquent members by an imitation of their example. And the guilt of all would thus become the security of all. Our past experience has exhibited the operation of this spirit in its full light. There would, in fact, be an insuperable difficulty in ascertaining when force could with propriety be employed. In the article of pecuniary contribution, which would be the most usual source of delinquency, it would often be impossible to decide whether it had proceeded from disinclination or inability. The pretense of the latter would always be at hand. And the case must be very flagrant in which its fallacy could be detected with sufficient certainty to justify the harsh expedient of compulsion. It is easy to see that this problem alone, as often as it should occur, would open a wide field for the exercise of factious views, of partiality, and of oppression, in the majority that happened to prevail in the national council.

It seems to require no pains to prove that the States ought not to prefer a national Constitution which could only be kept in motion by the instrumentality of a large army continually on foot to execute the ordinary requisitions or decrees of the government. And yet this is the plain alternative involved by those who wish to deny it the power of extending its operations to individuals. Such a scheme, if practicable at all, would instantly degenerate into a military despotism; but it will be found in every light impracticable. The resources of the Union would not be equal to the maintenance of an army considerable enough to confine the larger States within the limits of their duty; nor would the means ever be furnished of forming such an army in the first instance. Whoever considers the populousness and strength of several of these States singly at the present juncture, and looks forward to what they will become, even at the distance of half a century, will at once dismiss as idle and visionary any scheme which aims at regulating their movements by laws to operate upon them in their collective capacities, and to be executed by a coercion applicable to them in the same capacities. A project of this kind is little less romantic than the monster-taming spirit which is attributed to the fabulous heroes and demi-gods of antiquity.

Even in those confederacies which have been composed of members smaller than many of our counties, the principle of legislation for sovereign States, supported by military coercion, has never been found effectual. It has rarely been attempted to be employed, but against the weaker members; and in most instances attempts to coerce the refractory and disobedient have been the signals of bloody wars, in which one half of the confederacy has displayed its banners against the other half.

The result of these observations to an intelligent mind must be clearly this, that if it be possible at any rate to construct a federal government capable of regulating the common concerns and preserving the general tranquillity, it must be founded, as to the objects committed to its care, upon the reverse of the principle contended for by the opponents of the proposed Constitution. It must carry its agency to the persons of the citizens. It must stand in need of no intermediate legislations; but must itself be empowered to employ the arm of the ordinary magistrate to execute its own resolutions. The majesty of the national authority must be manifested through the medium of the courts of justice. The government of the Union, like that of each State, must be able to address itself immediately to the hopes and fears of individuals; and to attract to its support those passions which have the strongest influence upon the human heart. It must, in short, possess all the means, and have aright to resort to all the methods, of executing the powers with which it is intrusted, that are possessed and exercised by the government of the particular States.

To this reasoning it may perhaps be objected, that if any State should be disaffected to the authority of the Union, it could at any time obstruct the execution of its laws, and bring the matter to the same issue of force, with the necessity of which the opposite scheme is reproached.

The plausibility of this objection will vanish the moment we advert to the essential difference between a mere NON-COMPLIANCE and a DIRECT and ACTIVE RESISTANCE. If the interposition of the State legislatures be necessary to give effect to a measure of the Union, they have only NOT TO ACT, or TO ACT EVASIVELY, and the measure is defeated. This neglect of duty may be disguised under affected but unsubstantial provisions, so as not to appear, and of course not to excite any alarm in the people for the safety of the Constitution. The State leaders may even make a merit of their surreptitious invasions of it on the ground of some temporary convenience, exemption, or advantage.

But if the execution of the laws of the national government should not require the intervention of the State legislatures, if they were to pass into immediate operation upon the citizens themselves, the particular governments could not interrupt their progress without an open and violent exertion of an unconstitutional power. No omissions nor evasions would answer the end. They would be obliged to act, and in such a manner as would leave no doubt that they had encroached on the national rights. An experiment of this nature would always be hazardous in the face of a constitution in any degree competent to its own defense, and of a people enlightened enough to distinguish between a legal exercise and an illegal usurpation of authority. The success of it would require not merely a factious majority in the legislature, but the concurrence of the courts of justice and of the body of the people. If the judges were not embarked in a conspiracy with the legislature, they would pronounce the resolutions of such a majority to be contrary to the supreme law of the land, unconstitutional, and void. If the people were not tainted with the spirit of their State representatives, they, as the natural guardians of the Constitution, would throw their weight into the national scale and give it a decided preponderancy in the contest. Attempts of this kind would not often be made with levity or rashness, because they could seldom be made without danger to the authors, unless in cases of a tyrannical exercise of the federal authority.

If opposition to the national government should arise from the disorderly conduct of refractory or seditious individuals, it could be overcome by the same means which are daily employed against the same evil under the State governments. The magistracy, being equally the ministers of the law of the land, from whatever source it might emanate, would doubtless be as ready to guard the national as the local regulations from the inroads of private licentiousness. As to those partial commotions and insurrections, which sometimes disquiet society, from the intrigues of an inconsiderable faction, or from sudden or occasional illhumors that do not infect the great body of the community the general government could command more extensive resources for the suppression of disturbances of that kind than would be in the power of any single member. And as to those mortal feuds which, in certain conjunctures, spread a conflagration through a whole nation, or through a very large proportion of it, proceeding either from weighty causes of discontent given by the government or from the contagion of some violent popular paroxysm, they do not fall within any ordinary rules of calculation. When they happen, they commonly amount to revolutions and dismemberments of empire. No form of government can always either avoid or control them. It is in vain to hope to guard against events too mighty for human foresight or precaution, and it would be idle to object to a government because it could not perform impossibilities.

PUBLIUS</pre>
</div>
<div created="20150327183248707" modified="20150327183327355" tags="Hamilton [[Independent Journal]]" title="No. 17. The Same Subject Continued (The Insufficiency of the Present Confederation to Preserve the Union)">
<pre>''For the Independent Journal. Wednesday, December 5, 1787''

HAMILTON

To the People of the State of New York:

AN OBJECTION, of a nature different from that which has been stated and answered, in my last address, may perhaps be likewise urged against the principle of legislation for the individual citizens of America. It may be said that it would tend to render the government of the Union too powerful, and to enable it to absorb those residuary authorities, which it might be judged proper to leave with the States for local purposes. Allowing the utmost latitude to the love of power which any reasonable man can require, I confess I am at a loss to discover what temptation the persons intrusted with the administration of the general government could ever feel to divest the States of the authorities of that description. The regulation of the mere domestic police of a State appears to me to hold out slender allurements to ambition. Commerce, finance, negotiation, and war seem to comprehend all the objects which have charms for minds governed by that passion; and all the powers necessary to those objects ought, in the first instance, to be lodged in the national depository. The administration of private justice between the citizens of the same State, the supervision of agriculture and of other concerns of a similar nature, all those things, in short, which are proper to be provided for by local legislation, can never be desirable cares of a general jurisdiction. It is therefore improbable that there should exist a disposition in the federal councils to usurp the powers with which they are connected; because the attempt to exercise those powers would be as troublesome as it would be nugatory; and the possession of them, for that reason, would contribute nothing to the dignity, to the importance, or to the splendor of the national government.

But let it be admitted, for argument's sake, that mere wantonness and lust of domination would be sufficient to beget that disposition; still it may be safely affirmed, that the sense of the constituent body of the national representatives, or, in other words, the people of the several States, would control the indulgence of so extravagant an appetite. It will always be far more easy for the State governments to encroach upon the national authorities than for the national government to encroach upon the State authorities. The proof of this proposition turns upon the greater degree of influence which the State governments if they administer their affairs with uprightness and prudence, will generally possess over the people; a circumstance which at the same time teaches us that there is an inherent and intrinsic weakness in all federal constitutions; and that too much pains cannot be taken in their organization, to give them all the force which is compatible with the principles of liberty.

The superiority of influence in favor of the particular governments would result partly from the diffusive construction of the national government, but chiefly from the nature of the objects to which the attention of the State administrations would be directed.

It is a known fact in human nature, that its affections are commonly weak in proportion to the distance or diffusiveness of the object. Upon the same principle that a man is more attached to his family than to his neighborhood, to his neighborhood than to the community at large, the people of each State would be apt to feel a stronger bias towards their local governments than towards the government of the Union; unless the force of that principle should be destroyed by a much better administration of the latter.

This strong propensity of the human heart would find powerful auxiliaries in the objects of State regulation.

The variety of more minute interests, which will necessarily fall under the superintendence of the local administrations, and which will form so many rivulets of influence, running through every part of the society, cannot be particularized, without involving a detail too tedious and uninteresting to compensate for the instruction it might afford.

There is one transcendant advantage belonging to the province of the State governments, which alone suffices to place the matter in a clear and satisfactory light,—I mean the ordinary administration of criminal and civil justice. This, of all others, is the most powerful, most universal, and most attractive source of popular obedience and attachment. It is that which, being the immediate and visible guardian of life and property, having its benefits and its terrors in constant activity before the public eye, regulating all those personal interests and familiar concerns to which the sensibility of individuals is more immediately awake, contributes, more than any other circumstance, to impressing upon the minds of the people, affection, esteem, and reverence towards the government. This great cement of society, which will diffuse itself almost wholly through the channels of the particular governments, independent of all other causes of influence, would insure them so decided an empire over their respective citizens as to render them at all times a complete counterpoise, and, not unfrequently, dangerous rivals to the power of the Union.

The operations of the national government, on the other hand, falling less immediately under the observation of the mass of the citizens, the benefits derived from it will chiefly be perceived and attended to by speculative men. Relating to more general interests, they will be less apt to come home to the feelings of the people; and, in proportion, less likely to inspire an habitual sense of obligation, and an active sentiment of attachment.

The reasoning on this head has been abundantly exemplified by the experience of all federal constitutions with which we are acquainted, and of all others which have borne the least analogy to them.

Though the ancient feudal systems were not, strictly speaking, confederacies, yet they partook of the nature of that species of association. There was a common head, chieftain, or sovereign, whose authority extended over the whole nation; and a number of subordinate vassals, or feudatories, who had large portions of land allotted to them, and numerous trains of INFERIOR vassals or retainers, who occupied and cultivated that land upon the tenure of fealty or obedience, to the persons of whom they held it. Each principal vassal was a kind of sovereign, within his particular demesnes. The consequences of this situation were a continual opposition to authority of the sovereign, and frequent wars between the great barons or chief feudatories themselves. The power of the head of the nation was commonly too weak, either to preserve the public peace, or to protect the people against the oppressions of their immediate lords. This period of European affairs is emphatically styled by historians, the times of feudal anarchy.

When the sovereign happened to be a man of vigorous and warlike temper and of superior abilities, he would acquire a personal weight and influence, which answered, for the time, the purpose of a more regular authority. But in general, the power of the barons triumphed over that of the prince; and in many instances his dominion was entirely thrown off, and the great fiefs were erected into independent principalities or States. In those instances in which the monarch finally prevailed over his vassals, his success was chiefly owing to the tyranny of those vassals over their dependents. The barons, or nobles, equally the enemies of the sovereign and the oppressors of the common people, were dreaded and detested by both; till mutual danger and mutual interest effected a union between them fatal to the power of the aristocracy. Had the nobles, by a conduct of clemency and justice, preserved the fidelity and devotion of their retainers and followers, the contests between them and the prince must almost always have ended in their favor, and in the abridgment or subversion of the royal authority.

This is not an assertion founded merely in speculation or conjecture. Among other illustrations of its truth which might be cited, Scotland will furnish a cogent example. The spirit of clanship which was, at an early day, introduced into that kingdom, uniting the nobles and their dependants by ties equivalent to those of kindred, rendered the aristocracy a constant overmatch for the power of the monarch, till the incorporation with England subdued its fierce and ungovernable spirit, and reduced it within those rules of subordination which a more rational and more energetic system of civil polity had previously established in the latter kingdom.

The separate governments in a confederacy may aptly be compared with the feudal baronies; with this advantage in their favor, that from the reasons already explained, they will generally possess the confidence and good-will of the people, and with so important a support, will be able effectually to oppose all encroachments of the national government. It will be well if they are not able to counteract its legitimate and necessary authority. The points of similitude consist in the rivalship of power, applicable to both, and in the CONCENTRATION of large portions of the strength of the community into particular DEPOSITORIES, in one case at the disposal of individuals, in the other case at the disposal of political bodies.

A concise review of the events that have attended confederate governments will further illustrate this important doctrine; an inattention to which has been the great source of our political mistakes, and has given our jealousy a direction to the wrong side. This review shall form the subject of some ensuing papers.

PUBLIUS</pre>
</div>
<div created="20150327183407595" modified="20150327183520659" tags="Madison Hamilton [[New York Packet]]" title="No. 18. The Same Subject Continued (The Insufficiency of the Present Confederation to Preserve the Union)">
<pre>''For the New York Packet. Friday, December 7, 1787''

MADISON, with HAMILTON

To the People of the State of New York:

AMONG the confederacies of antiquity, the most considerable was that of the Grecian republics, associated under the Amphictyonic council. From the best accounts transmitted of this celebrated institution, it bore a very instructive analogy to the present Confederation of the American States.

The members retained the character of independent and sovereign states, and had equal votes in the federal council. This council had a general authority to propose and resolve whatever it judged necessary for the common welfare of Greece; to declare and carry on war; to decide, in the last resort, all controversies between the members; to fine the aggressing party; to employ the whole force of the confederacy against the disobedient; to admit new members. The Amphictyons were the guardians of religion, and of the immense riches belonging to the temple of Delphos, where they had the right of jurisdiction in controversies between the inhabitants and those who came to consult the oracle. As a further provision for the efficacy of the federal powers, they took an oath mutually to defend and protect the united cities, to punish the violators of this oath, and to inflict vengeance on sacrilegious despoilers of the temple.

In theory, and upon paper, this apparatus of powers seems amply sufficient for all general purposes. In several material instances, they exceed the powers enumerated in the articles of confederation. The Amphictyons had in their hands the superstition of the times, one of the principal engines by which government was then maintained; they had a declared authority to use coercion against refractory cities, and were bound by oath to exert this authority on the necessary occasions.

Very different, nevertheless, was the experiment from the theory. The powers, like those of the present Congress, were administered by deputies appointed wholly by the cities in their political capacities; and exercised over them in the same capacities. Hence the weakness, the disorders, and finally the destruction of the confederacy. The more powerful members, instead of being kept in awe and subordination, tyrannized successively over all the rest. Athens, as we learn from Demosthenes, was the arbiter of Greece seventy-three years. The Lacedaemonians next governed it twenty-nine years; at a subsequent period, after the battle of Leuctra, the Thebans had their turn of domination.

It happened but too often, according to Plutarch, that the deputies of the strongest cities awed and corrupted those of the weaker; and that judgment went in favor of the most powerful party.

Even in the midst of defensive and dangerous wars with Persia and Macedon, the members never acted in concert, and were, more or fewer of them, eternally the dupes or the hirelings of the common enemy. The intervals of foreign war were filled up by domestic vicissitudes convulsions, and carnage.

After the conclusion of the war with Xerxes, it appears that the Lacedaemonians required that a number of the cities should be turned out of the confederacy for the unfaithful part they had acted. The Athenians, finding that the Lacedaemonians would lose fewer partisans by such a measure than themselves, and would become masters of the public deliberations, vigorously opposed and defeated the attempt. This piece of history proves at once the inefficiency of the union, the ambition and jealousy of its most powerful members, and the dependent and degraded condition of the rest. The smaller members, though entitled by the theory of their system to revolve in equal pride and majesty around the common center, had become, in fact, satellites of the orbs of primary magnitude.

Had the Greeks, says the Abbe Milot, been as wise as they were courageous, they would have been admonished by experience of the necessity of a closer union, and would have availed themselves of the peace which followed their success against the Persian arms, to establish such a reformation. Instead of this obvious policy, Athens and Sparta, inflated with the victories and the glory they had acquired, became first rivals and then enemies; and did each other infinitely more mischief than they had suffered from Xerxes. Their mutual jealousies, fears, hatreds, and injuries ended in the celebrated Peloponnesian war; which itself ended in the ruin and slavery of the Athenians who had begun it.

As a weak government, when not at war, is ever agitated by internal dissentions, so these never fail to bring on fresh calamities from abroad. The Phocians having ploughed up some consecrated ground belonging to the temple of Apollo, the Amphictyonic council, according to the superstition of the age, imposed a fine on the sacrilegious offenders. The Phocians, being abetted by Athens and Sparta, refused to submit to the decree. The Thebans, with others of the cities, undertook to maintain the authority of the Amphictyons, and to avenge the violated god. The latter, being the weaker party, invited the assistance of Philip of Macedon, who had secretly fostered the contest. Philip gladly seized the opportunity of executing the designs he had long planned against the liberties of Greece. By his intrigues and bribes he won over to his interests the popular leaders of several cities; by their influence and votes, gained admission into the Amphictyonic council; and by his arts and his arms, made himself master of the confederacy.

Such were the consequences of the fallacious principle on which this interesting establishment was founded. Had Greece, says a judicious observer on her fate, been united by a stricter confederation, and persevered in her union, she would never have worn the chains of Macedon; and might have proved a barrier to the vast projects of Rome.

The Achaean league, as it is called, was another society of Grecian republics, which supplies us with valuable instruction.

The Union here was far more intimate, and its organization much wiser, than in the preceding instance. It will accordingly appear, that though not exempt from a similar catastrophe, it by no means equally deserved it.

The cities composing this league retained their municipal jurisdiction, appointed their own officers, and enjoyed a perfect equality. The senate, in which they were represented, had the sole and exclusive right of peace and war; of sending and receiving ambassadors; of entering into treaties and alliances; of appointing a chief magistrate or praetor, as he was called, who commanded their armies, and who, with the advice and consent of ten of the senators, not only administered the government in the recess of the senate, but had a great share in its deliberations, when assembled. According to the primitive constitution, there were two praetors associated in the administration; but on trial a single one was preferred.

It appears that the cities had all the same laws and customs, the same weights and measures, and the same money. But how far this effect proceeded from the authority of the federal council is left in uncertainty. It is said only that the cities were in a manner compelled to receive the same laws and usages. When Lacedaemon was brought into the league by Philopoemen, it was attended with an abolition of the institutions and laws of Lycurgus, and an adoption of those of the Achaeans. The Amphictyonic confederacy, of which she had been a member, left her in the full exercise of her government and her legislation. This circumstance alone proves a very material difference in the genius of the two systems.

It is much to be regretted that such imperfect monuments remain of this curious political fabric. Could its interior structure and regular operation be ascertained, it is probable that more light would be thrown by it on the science of federal government, than by any of the like experiments with which we are acquainted.

One important fact seems to be witnessed by all the historians who take notice of Achaean affairs. It is, that as well after the renovation of the league by Aratus, as before its dissolution by the arts of Macedon, there was infinitely more of moderation and justice in the administration of its government, and less of violence and sedition in the people, than were to be found in any of the cities exercising SINGLY all the prerogatives of sovereignty. The Abbe Mably, in his observations on Greece, says that the popular government, which was so tempestuous elsewhere, caused no disorders in the members of the Achaean republic, BECAUSE IT WAS THERE TEMPERED BY THE GENERAL AUTHORITY AND LAWS OF THE CONFEDERACY.

We are not to conclude too hastily, however, that faction did not, in a certain degree, agitate the particular cities; much less that a due subordination and harmony reigned in the general system. The contrary is sufficiently displayed in the vicissitudes and fate of the republic.

Whilst the Amphictyonic confederacy remained, that of the Achaeans, which comprehended the less important cities only, made little figure on the theatre of Greece. When the former became a victim to Macedon, the latter was spared by the policy of Philip and Alexander. Under the successors of these princes, however, a different policy prevailed. The arts of division were practiced among the Achaeans. Each city was seduced into a separate interest; the union was dissolved. Some of the cities fell under the tyranny of Macedonian garrisons; others under that of usurpers springing out of their own confusions. Shame and oppression erelong awaken their love of liberty. A few cities reunited. Their example was followed by others, as opportunities were found of cutting off their tyrants. The league soon embraced almost the whole Peloponnesus. Macedon saw its progress; but was hindered by internal dissensions from stopping it. All Greece caught the enthusiasm and seemed ready to unite in one confederacy, when the jealousy and envy in Sparta and Athens, of the rising glory of the Achaeans, threw a fatal damp on the enterprise. The dread of the Macedonian power induced the league to court the alliance of the Kings of Egypt and Syria, who, as successors of Alexander, were rivals of the king of Macedon. This policy was defeated by Cleomenes, king of Sparta, who was led by his ambition to make an unprovoked attack on his neighbors, the Achaeans, and who, as an enemy to Macedon, had interest enough with the Egyptian and Syrian princes to effect a breach of their engagements with the league.

The Achaeans were now reduced to the dilemma of submitting to Cleomenes, or of supplicating the aid of Macedon, its former oppressor. The latter expedient was adopted. The contests of the Greeks always afforded a pleasing opportunity to that powerful neighbor of intermeddling in their affairs. A Macedonian army quickly appeared. Cleomenes was vanquished. The Achaeans soon experienced, as often happens, that a victorious and powerful ally is but another name for a master. All that their most abject compliances could obtain from him was a toleration of the exercise of their laws. Philip, who was now on the throne of Macedon, soon provoked by his tyrannies, fresh combinations among the Greeks. The Achaeans, though weakened by internal dissensions and by the revolt of Messene, one of its members, being joined by the AEtolians and Athenians, erected the standard of opposition. Finding themselves, though thus supported, unequal to the undertaking, they once more had recourse to the dangerous expedient of introducing the succor of foreign arms. The Romans, to whom the invitation was made, eagerly embraced it. Philip was conquered; Macedon subdued. A new crisis ensued to the league. Dissensions broke out among it members. These the Romans fostered. Callicrates and other popular leaders became mercenary instruments for inveigling their countrymen. The more effectually to nourish discord and disorder the Romans had, to the astonishment of those who confided in their sincerity, already proclaimed universal liberty &lt;span class=&quot;footnote&quot; title=&quot;This was but another name more specious for the independence of the members on the federal head.&quot;&gt;(1)&lt;/span&gt; throughout Greece. With the same insidious views, they now seduced the members from the league, by representing to their pride the violation it committed on their sovereignty. By these arts this union, the last hope of Greece, the last hope of ancient liberty, was torn into pieces; and such imbecility and distraction introduced, that the arms of Rome found little difficulty in completing the ruin which their arts had commenced. The Achaeans were cut to pieces, and Achaia loaded with chains, under which it is groaning at this hour.

I have thought it not superfluous to give the outlines of this important portion of history; both because it teaches more than one lesson, and because, as a supplement to the outlines of the Achaean constitution, it emphatically illustrates the tendency of federal bodies rather to anarchy among the members, than to tyranny in the head.

PUBLIUS

1. This was but another name more specious for the independence of the members on the federal head.</pre>
</div>
<div created="20150327183555131" modified="20150327183815411" tags="Hamilton Madison [[Independent Journal]]" title="No. 19. The Same Subject Continued (The Insufficiency of the Present Confederation to Preserve the Union)">
<pre>''For the Independent Journal. Saturday, December 8, 1787''

MADISON, with HAMILTON

To the People of the State of New York:

THE examples of ancient confederacies, cited in my last paper, have not exhausted the source of experimental instruction on this subject. There are existing institutions, founded on a similar principle, which merit particular consideration. The first which presents itself is the Germanic body.

In the early ages of Christianity, Germany was occupied by seven distinct nations, who had no common chief. The Franks, one of the number, having conquered the Gauls, established the kingdom which has taken its name from them. In the ninth century Charlemagne, its warlike monarch, carried his victorious arms in every direction; and Germany became a part of his vast dominions. On the dismemberment, which took place under his sons, this part was erected into a separate and independent empire. Charlemagne and his immediate descendants possessed the reality, as well as the ensigns and dignity of imperial power. But the principal vassals, whose fiefs had become hereditary, and who composed the national diets which Charlemagne had not abolished, gradually threw off the yoke and advanced to sovereign jurisdiction and independence. The force of imperial sovereignty was insufficient to restrain such powerful dependants; or to preserve the unity and tranquillity of the empire. The most furious private wars, accompanied with every species of calamity, were carried on between the different princes and states. The imperial authority, unable to maintain the public order, declined by degrees till it was almost extinct in the anarchy, which agitated the long interval between the death of the last emperor of the Suabian, and the accession of the first emperor of the Austrian lines. In the eleventh century the emperors enjoyed full sovereignty: In the fifteenth they had little more than the symbols and decorations of power.

Out of this feudal system, which has itself many of the important features of a confederacy, has grown the federal system which constitutes the Germanic empire. Its powers are vested in a diet representing the component members of the confederacy; in the emperor, who is the executive magistrate, with a negative on the decrees of the diet; and in the imperial chamber and the aulic council, two judiciary tribunals having supreme jurisdiction in controversies which concern the empire, or which happen among its members.

The diet possesses the general power of legislating for the empire; of making war and peace; contracting alliances; assessing quotas of troops and money; constructing fortresses; regulating coin; admitting new members; and subjecting disobedient members to the ban of the empire, by which the party is degraded from his sovereign rights and his possessions forfeited. The members of the confederacy are expressly restricted from entering into compacts prejudicial to the empire; from imposing tolls and duties on their mutual intercourse, without the consent of the emperor and diet; from altering the value of money; from doing injustice to one another; or from affording assistance or retreat to disturbers of the public peace. And the ban is denounced against such as shall violate any of these restrictions. The members of the diet, as such, are subject in all cases to be judged by the emperor and diet, and in their private capacities by the aulic council and imperial chamber.

The prerogatives of the emperor are numerous. The most important of them are: his exclusive right to make propositions to the diet; to negative its resolutions; to name ambassadors; to confer dignities and titles; to fill vacant electorates; to found universities; to grant privileges not injurious to the states of the empire; to receive and apply the public revenues; and generally to watch over the public safety. In certain cases, the electors form a council to him. In quality of emperor, he possesses no territory within the empire, nor receives any revenue for his support. But his revenue and dominions, in other qualities, constitute him one of the most powerful princes in Europe.

From such a parade of constitutional powers, in the representatives and head of this confederacy, the natural supposition would be, that it must form an exception to the general character which belongs to its kindred systems. Nothing would be further from the reality. The fundamental principle on which it rests, that the empire is a community of sovereigns, that the diet is a representation of sovereigns and that the laws are addressed to sovereigns, renders the empire a nerveless body, incapable of regulating its own members, insecure against external dangers, and agitated with unceasing fermentations in its own bowels.

The history of Germany is a history of wars between the emperor and the princes and states; of wars among the princes and states themselves; of the licentiousness of the strong, and the oppression of the weak; of foreign intrusions, and foreign intrigues; of requisitions of men and money disregarded, or partially complied with; of attempts to enforce them, altogether abortive, or attended with slaughter and desolation, involving the innocent with the guilty; of general imbecility, confusion, and misery.

In the sixteenth century, the emperor, with one part of the empire on his side, was seen engaged against the other princes and states. In one of the conflicts, the emperor himself was put to flight, and very near being made prisoner by the elector of Saxony. The late king of Prussia was more than once pitted against his imperial sovereign; and commonly proved an overmatch for him. Controversies and wars among the members themselves have been so common, that the German annals are crowded with the bloody pages which describe them. Previous to the peace of Westphalia, Germany was desolated by a war of thirty years, in which the emperor, with one half of the empire, was on one side, and Sweden, with the other half, on the opposite side. Peace was at length negotiated, and dictated by foreign powers; and the articles of it, to which foreign powers are parties, made a fundamental part of the Germanic constitution.

If the nation happens, on any emergency, to be more united by the necessity of self-defense, its situation is still deplorable. Military preparations must be preceded by so many tedious discussions, arising from the jealousies, pride, separate views, and clashing pretensions of sovereign bodies, that before the diet can settle the arrangements, the enemy are in the field; and before the federal troops are ready to take it, are retiring into winter quarters.

The small body of national troops, which has been judged necessary in time of peace, is defectively kept up, badly paid, infected with local prejudices, and supported by irregular and disproportionate contributions to the treasury.

The impossibility of maintaining order and dispensing justice among these sovereign subjects, produced the experiment of dividing the empire into nine or ten circles or districts; of giving them an interior organization, and of charging them with the military execution of the laws against delinquent and contumacious members. This experiment has only served to demonstrate more fully the radical vice of the constitution. Each circle is the miniature picture of the deformities of this political monster. They either fail to execute their commissions, or they do it with all the devastation and carnage of civil war. Sometimes whole circles are defaulters; and then they increase the mischief which they were instituted to remedy.

We may form some judgment of this scheme of military coercion from a sample given by Thuanus. In Donawerth, a free and imperial city of the circle of Suabia, the Abbe de St. Croix enjoyed certain immunities which had been reserved to him. In the exercise of these, on some public occasions, outrages were committed on him by the people of the city. The consequence was that the city was put under the ban of the empire, and the Duke of Bavaria, though director of another circle, obtained an appointment to enforce it. He soon appeared before the city with a corps of ten thousand troops, and finding it a fit occasion, as he had secretly intended from the beginning, to revive an antiquated claim, on the pretext that his ancestors had suffered the place to be dismembered from his territory, &lt;span class=&quot;footnote&quot; title=&quot;Pfeffel, “Nouvel Abrég. Chronol. de l'Hist., etc., d'Allemagne,“ says the pretext was to indemnify himself for the expense of the expedition.&quot;&gt;(1)&lt;/span&gt; he took possession of it in his own name, disarmed, and punished the inhabitants, and reannexed the city to his domains.

It may be asked, perhaps, what has so long kept this disjointed machine from falling entirely to pieces? The answer is obvious: The weakness of most of the members, who are unwilling to expose themselves to the mercy of foreign powers; the weakness of most of the principal members, compared with the formidable powers all around them; the vast weight and influence which the emperor derives from his separate and hereditary dominions; and the interest he feels in preserving a system with which his family pride is connected, and which constitutes him the first prince in Europe;—these causes support a feeble and precarious Union; whilst the repellant quality, incident to the nature of sovereignty, and which time continually strengthens, prevents any reform whatever, founded on a proper consolidation. Nor is it to be imagined, if this obstacle could be surmounted, that the neighboring powers would suffer a revolution to take place which would give to the empire the force and preeminence to which it is entitled. Foreign nations have long considered themselves as interested in the changes made by events in this constitution; and have, on various occasions, betrayed their policy of perpetuating its anarchy and weakness.

If more direct examples were wanting, Poland, as a government over local sovereigns, might not improperly be taken notice of. Nor could any proof more striking be given of the calamities flowing from such institutions. Equally unfit for self-government and self-defense, it has long been at the mercy of its powerful neighbors; who have lately had the mercy to disburden it of one third of its people and territories.

The connection among the Swiss cantons scarcely amounts to a confederacy; though it is sometimes cited as an instance of the stability of such institutions.

They have no common treasury; no common troops even in war; no common coin; no common judicatory; nor any other common mark of sovereignty.

They are kept together by the peculiarity of their topographical position; by their individual weakness and insignificancy; by the fear of powerful neighbors, to one of which they were formerly subject; by the few sources of contention among a people of such simple and homogeneous manners; by their joint interest in their dependent possessions; by the mutual aid they stand in need of, for suppressing insurrections and rebellions, an aid expressly stipulated and often required and afforded; and by the necessity of some regular and permanent provision for accommodating disputes among the cantons. The provision is, that the parties at variance shall each choose four judges out of the neutral cantons, who, in case of disagreement, choose an umpire. This tribunal, under an oath of impartiality, pronounces definitive sentence, which all the cantons are bound to enforce. The competency of this regulation may be estimated by a clause in their treaty of 1683, with Victor Amadeus of Savoy; in which he obliges himself to interpose as mediator in disputes between the cantons, and to employ force, if necessary, against the contumacious party.

So far as the peculiarity of their case will admit of comparison with that of the United States, it serves to confirm the principle intended to be established. Whatever efficacy the union may have had in ordinary cases, it appears that the moment a cause of difference sprang up, capable of trying its strength, it failed. The controversies on the subject of religion, which in three instances have kindled violent and bloody contests, may be said, in fact, to have severed the league. The Protestant and Catholic cantons have since had their separate diets, where all the most important concerns are adjusted, and which have left the general diet little other business than to take care of the common bailages.

That separation had another consequence, which merits attention. It produced opposite alliances with foreign powers: of Berne, at the head of the Protestant association, with the United Provinces; and of Luzerne, at the head of the Catholic association, with France.

PUBLIUS

1. Pfeffel, &quot;Nouvel Abrég. Chronol. de l'Hist., etc., d'Allemagne,&quot; says the pretext was to indemnify himself for the expense of the expedition.</pre>
</div>
<div created="20150327161839069" modified="20150327174150576" tags="Jay [[Independent Journal]]" title="No. 2. Concerning Dangers from Foreign Force and Influence">
<pre>''For the Independent Journal. Wednesday, October 31, 1787''

JAY

To the People of the State of New York:

WHEN the people of America reflect that they are now called upon to decide a question, which, in its consequences, must prove one of the most important that ever engaged their attention, the propriety of their taking a very comprehensive, as well as a very serious, view of it, will be evident.

Nothing is more certain than the indispensable necessity of government, and it is equally undeniable, that whenever and however it is instituted, the people must cede to it some of their natural rights in order to vest it with requisite powers. It is well worthy of consideration therefore, whether it would conduce more to the interest of the people of America that they should, to all general purposes, be one nation, under one federal government, or that they should divide themselves into separate confederacies, and give to the head of each the same kind of powers which they are advised to place in one national government.

It has until lately been a received and uncontradicted opinion that the prosperity of the people of America depended on their continuing firmly united, and the wishes, prayers, and efforts of our best and wisest citizens have been constantly directed to that object. But politicians now appear, who insist that this opinion is erroneous, and that instead of looking for safety and happiness in union, we ought to seek it in a division of the States into distinct confederacies or sovereignties. However extraordinary this new doctrine may appear, it nevertheless has its advocates; and certain characters who were much opposed to it formerly, are at present of the number. Whatever may be the arguments or inducements which have wrought this change in the sentiments and declarations of these gentlemen, it certainly would not be wise in the people at large to adopt these new political tenets without being fully convinced that they are founded in truth and sound policy.

It has often given me pleasure to observe that independent America was not composed of detached and distant territories, but that one connected, fertile, wide-spreading country was the portion of our western sons of liberty. Providence has in a particular manner blessed it with a variety of soils and productions, and watered it with innumerable streams, for the delight and accommodation of its inhabitants. A succession of navigable waters forms a kind of chain round its borders, as if to bind it together; while the most noble rivers in the world, running at convenient distances, present them with highways for the easy communication of friendly aids, and the mutual transportation and exchange of their various commodities.

With equal pleasure I have as often taken notice that Providence has been pleased to give this one connected country to one united people—a people descended from the same ancestors, speaking the same language, professing the same religion, attached to the same principles of government, very similar in their manners and customs, and who, by their joint counsels, arms, and efforts, fighting side by side throughout a long and bloody war, have nobly established general liberty and independence.

This country and this people seem to have been made for each other, and it appears as if it was the design of Providence, that an inheritance so proper and convenient for a band of brethren, united to each other by the strongest ties, should never be split into a number of unsocial, jealous, and alien sovereignties.

Similar sentiments have hitherto prevailed among all orders and denominations of men among us. To all general purposes we have uniformly been one people each individual citizen everywhere enjoying the same national rights, privileges, and protection. As a nation we have made peace and war; as a nation we have vanquished our common enemies; as a nation we have formed alliances, and made treaties, and entered into various compacts and conventions with foreign states.

A strong sense of the value and blessings of union induced the people, at a very early period, to institute a federal government to preserve and perpetuate it. They formed it almost as soon as they had a political existence; nay, at a time when their habitations were in flames, when many of their citizens were bleeding, and when the progress of hostility and desolation left little room for those calm and mature inquiries and reflections which must ever precede the formation of a wise and well-balanced government for a free people. It is not to be wondered at, that a government instituted in times so inauspicious, should on experiment be found greatly deficient and inadequate to the purpose it was intended to answer.

This intelligent people perceived and regretted these defects. Still continuing no less attached to union than enamored of liberty, they observed the danger which immediately threatened the former and more remotely the latter; and being persuaded that ample security for both could only be found in a national government more wisely framed, they as with one voice, convened the late convention at Philadelphia, to take that important subject under consideration.

This convention composed of men who possessed the confidence of the people, and many of whom had become highly distinguished by their patriotism, virtue and wisdom, in times which tried the minds and hearts of men, undertook the arduous task. In the mild season of peace, with minds unoccupied by other subjects, they passed many months in cool, uninterrupted, and daily consultation; and finally, without having been awed by power, or influenced by any passions except love for their country, they presented and recommended to the people the plan produced by their joint and very unanimous councils.

Admit, for so is the fact, that this plan is only RECOMMENDED, not imposed, yet let it be remembered that it is neither recommended to BLIND approbation, nor to BLIND reprobation; but to that sedate and candid consideration which the magnitude and importance of the subject demand, and which it certainly ought to receive. But this (as was remarked in the foregoing number of this paper) is more to be wished than expected, that it may be so considered and examined. Experience on a former occasion teaches us not to be too sanguine in such hopes. It is not yet forgotten that well-grounded apprehensions of imminent danger induced the people of America to form the memorable Congress of 1774. That body recommended certain measures to their constituents, and the event proved their wisdom; yet it is fresh in our memories how soon the press began to teem with pamphlets and weekly papers against those very measures. Not only many of the officers of government, who obeyed the dictates of personal interest, but others, from a mistaken estimate of consequences, or the undue influence of former attachments, or whose ambition aimed at objects which did not correspond with the public good, were indefatigable in their efforts to persuade the people to reject the advice of that patriotic Congress. Many, indeed, were deceived and deluded, but the great majority of the people reasoned and decided judiciously; and happy they are in reflecting that they did so.

They considered that the Congress was composed of many wise and experienced men. That, being convened from different parts of the country, they brought with them and communicated to each other a variety of useful information. That, in the course of the time they passed together in inquiring into and discussing the true interests of their country, they must have acquired very accurate knowledge on that head. That they were individually interested in the public liberty and prosperity, and therefore that it was not less their inclination than their duty to recommend only such measures as, after the most mature deliberation, they really thought prudent and advisable.

These and similar considerations then induced the people to rely greatly on the judgment and integrity of the Congress; and they took their advice, notwithstanding the various arts and endeavors used to deter them from it. But if the people at large had reason to confide in the men of that Congress, few of whom had been fully tried or generally known, still greater reason have they now to respect the judgment and advice of the convention, for it is well known that some of the most distinguished members of that Congress, who have been since tried and justly approved for patriotism and abilities, and who have grown old in acquiring political information, were also members of this convention, and carried into it their accumulated knowledge and experience.

It is worthy of remark that not only the first, but every succeeding Congress, as well as the late convention, have invariably joined with the people in thinking that the prosperity of America depended on its Union. To preserve and perpetuate it was the great object of the people in forming that convention, and it is also the great object of the plan which the convention has advised them to adopt. With what propriety, therefore, or for what good purposes, are attempts at this particular period made by some men to depreciate the importance of the Union? Or why is it suggested that three or four confederacies would be better than one? I am persuaded in my own mind that the people have always thought right on this subject, and that their universal and uniform attachment to the cause of the Union rests on great and weighty reasons, which I shall endeavor to develop and explain in some ensuing papers. They who promote the idea of substituting a number of distinct confederacies in the room of the plan of the convention, seem clearly to foresee that the rejection of it would put the continuance of the Union in the utmost jeopardy. That certainly would be the case, and I sincerely wish that it may be as clearly foreseen by every good citizen, that whenever the dissolution of the Union arrives, America will have reason to exclaim, in the words of the poet: &quot;FAREWELL! A LONG FAREWELL TO ALL MY GREATNESS.&quot;

PUBLIUS</pre>
</div>
<div created="20150327183947541" modified="20150327184031003" tags="Hamilton Madison [[New York Packet]]" title="No. 20. The Same Subject Continued (The Insufficiency of the Present Confederation to Preserve the Union)">
<pre>''From the New York Packet. Tuesday, December 11, 1787.''

MADISON, with HAMILTON

To the People of the State of New York:

THE United Netherlands are a confederacy of republics, or rather of aristocracies of a very remarkable texture, yet confirming all the lessons derived from those which we have already reviewed.

The union is composed of seven coequal and sovereign states, and each state or province is a composition of equal and independent cities. In all important cases, not only the provinces but the cities must be unanimous.

The sovereignty of the Union is represented by the States-General, consisting usually of about fifty deputies appointed by the provinces. They hold their seats, some for life, some for six, three, and one years; from two provinces they continue in appointment during pleasure.

The States-General have authority to enter into treaties and alliances; to make war and peace; to raise armies and equip fleets; to ascertain quotas and demand contributions. In all these cases, however, unanimity and the sanction of their constituents are requisite. They have authority to appoint and receive ambassadors; to execute treaties and alliances already formed; to provide for the collection of duties on imports and exports; to regulate the mint, with a saving to the provincial rights; to govern as sovereigns the dependent territories. The provinces are restrained, unless with the general consent, from entering into foreign treaties; from establishing imposts injurious to others, or charging their neighbors with higher duties than their own subjects. A council of state, a chamber of accounts, with five colleges of admiralty, aid and fortify the federal administration.

The executive magistrate of the union is the stadtholder, who is now an hereditary prince. His principal weight and influence in the republic are derived from this independent title; from his great patrimonial estates; from his family connections with some of the chief potentates of Europe; and, more than all, perhaps, from his being stadtholder in the several provinces, as well as for the union; in which provincial quality he has the appointment of town magistrates under certain regulations, executes provincial decrees, presides when he pleases in the provincial tribunals, and has throughout the power of pardon.

As stadtholder of the union, he has, however, considerable prerogatives.

In his political capacity he has authority to settle disputes between the provinces, when other methods fail; to assist at the deliberations of the States-General, and at their particular conferences; to give audiences to foreign ambassadors, and to keep agents for his particular affairs at foreign courts.

In his military capacity he commands the federal troops, provides for garrisons, and in general regulates military affairs; disposes of all appointments, from colonels to ensigns, and of the governments and posts of fortified towns.

In his marine capacity he is admiral-general, and superintends and directs every thing relative to naval forces and other naval affairs; presides in the admiralties in person or by proxy; appoints lieutenant-admirals and other officers; and establishes councils of war, whose sentences are not executed till he approves them.

His revenue, exclusive of his private income, amounts to three hundred thousand florins. The standing army which he commands consists of about forty thousand men.

Such is the nature of the celebrated Belgic confederacy, as delineated on parchment. What are the characters which practice has stamped upon it? Imbecility in the government; discord among the provinces; foreign influence and indignities; a precarious existence in peace, and peculiar calamities from war.

It was long ago remarked by Grotius, that nothing but the hatred of his countrymen to the house of Austria kept them from being ruined by the vices of their constitution.

The union of Utrecht, says another respectable writer, reposes an authority in the States-General, seemingly sufficient to secure harmony, but the jealousy in each province renders the practice very different from the theory.

The same instrument, says another, obliges each province to levy certain contributions; but this article never could, and probably never will, be executed; because the inland provinces, who have little commerce, cannot pay an equal quota.

In matters of contribution, it is the practice to waive the articles of the constitution. The danger of delay obliges the consenting provinces to furnish their quotas, without waiting for the others; and then to obtain reimbursement from the others, by deputations, which are frequent, or otherwise, as they can. The great wealth and influence of the province of Holland enable her to effect both these purposes.

It has more than once happened, that the deficiencies had to be ultimately collected at the point of the bayonet; a thing practicable, though dreadful, in a confederacy where one of the members exceeds in force all the rest, and where several of them are too small to meditate resistance; but utterly impracticable in one composed of members, several of which are equal to each other in strength and resources, and equal singly to a vigorous and persevering defense.

Foreign ministers, says Sir William Temple, who was himself a foreign minister, elude matters taken ad referendum, by tampering with the provinces and cities. In 1726, the treaty of Hanover was delayed by these means a whole year. Instances of a like nature are numerous and notorious.

In critical emergencies, the States-General are often compelled to overleap their constitutional bounds. In 1688, they concluded a treaty of themselves at the risk of their heads. The treaty of Westphalia, in 1648, by which their independence was formerly and finally recognized, was concluded without the consent of Zealand. Even as recently as the last treaty of peace with Great Britain, the constitutional principle of unanimity was departed from. A weak constitution must necessarily terminate in dissolution, for want of proper powers, or the usurpation of powers requisite for the public safety. Whether the usurpation, when once begun, will stop at the salutary point, or go forward to the dangerous extreme, must depend on the contingencies of the moment. Tyranny has perhaps oftener grown out of the assumptions of power, called for, on pressing exigencies, by a defective constitution, than out of the full exercise of the largest constitutional authorities.

Notwithstanding the calamities produced by the stadtholdership, it has been supposed that without his influence in the individual provinces, the causes of anarchy manifest in the confederacy would long ago have dissolved it. &quot;Under such a government,&quot; says the Abbe Mably, &quot;the Union could never have subsisted, if the provinces had not a spring within themselves, capable of quickening their tardiness, and compelling them to the same way of thinking. This spring is the stadtholder.&quot; It is remarked by Sir William Temple, &quot;that in the intermissions of the stadtholdership, Holland, by her riches and her authority, which drew the others into a sort of dependence, supplied the place.&quot;

These are not the only circumstances which have controlled the tendency to anarchy and dissolution. The surrounding powers impose an absolute necessity of union to a certain degree, at the same time that they nourish by their intrigues the constitutional vices which keep the republic in some degree always at their mercy.

The true patriots have long bewailed the fatal tendency of these vices, and have made no less than four regular experiments by EXTRAORDINARY ASSEMBLIES, convened for the special purpose, to apply a remedy. As many times has their laudable zeal found it impossible to UNITE THE PUBLIC COUNCILS in reforming the known, the acknowledged, the fatal evils of the existing constitution. Let us pause, my fellow-citizens, for one moment, over this melancholy and monitory lesson of history; and with the tear that drops for the calamities brought on mankind by their adverse opinions and selfish passions, let our gratitude mingle an ejaculation to Heaven, for the propitious concord which has distinguished the consultations for our political happiness.

A design was also conceived of establishing a general tax to be administered by the federal authority. This also had its adversaries and failed.

This unhappy people seem to be now suffering from popular convulsions, from dissensions among the states, and from the actual invasion of foreign arms, the crisis of their destiny. All nations have their eyes fixed on the awful spectacle. The first wish prompted by humanity is, that this severe trial may issue in such a revolution of their government as will establish their union, and render it the parent of tranquillity, freedom and happiness: The next, that the asylum under which, we trust, the enjoyment of these blessings will speedily be secured in this country, may receive and console them for the catastrophe of their own.

I make no apology for having dwelt so long on the contemplation of these federal precedents. Experience is the oracle of truth; and where its responses are unequivocal, they ought to be conclusive and sacred. The important truth, which it unequivocally pronounces in the present case, is that a sovereignty over sovereigns, a government over governments, a legislation for communities, as contradistinguished from individuals, as it is a solecism in theory, so in practice it is subversive of the order and ends of civil polity, by substituting VIOLENCE in place of LAW, or the destructive COERCION of the SWORD in place of the mild and salutary COERCION of the MAGISTRACY.

PUBLIUS</pre>
</div>
<div created="20150327184109588" modified="20150327184151675" tags="Hamilton [[Independent Journal]]" title="No. 21. Other Defects of the Present Confederation">
<pre>''For the Independent Journal. Wednesday, December 12, 1787''

HAMILTON

To the People of the State of New York:

HAVING in the three last numbers taken a summary review of the principal circumstances and events which have depicted the genius and fate of other confederate governments, I shall now proceed in the enumeration of the most important of those defects which have hitherto disappointed our hopes from the system established among ourselves. To form a safe and satisfactory judgment of the proper remedy, it is absolutely necessary that we should be well acquainted with the extent and malignity of the disease.

The next most palpable defect of the subsisting Confederation, is the total want of a SANCTION to its laws. The United States, as now composed, have no powers to exact obedience, or punish disobedience to their resolutions, either by pecuniary mulcts, by a suspension or divestiture of privileges, or by any other constitutional mode. There is no express delegation of authority to them to use force against delinquent members; and if such a right should be ascribed to the federal head, as resulting from the nature of the social compact between the States, it must be by inference and construction, in the face of that part of the second article, by which it is declared, &quot;that each State shall retain every power, jurisdiction, and right, not EXPRESSLY delegated to the United States in Congress assembled.&quot; There is, doubtless, a striking absurdity in supposing that a right of this kind does not exist, but we are reduced to the dilemma either of embracing that supposition, preposterous as it may seem, or of contravening or explaining away a provision, which has been of late a repeated theme of the eulogies of those who oppose the new Constitution; and the want of which, in that plan, has been the subject of much plausible animadversion, and severe criticism. If we are unwilling to impair the force of this applauded provision, we shall be obliged to conclude, that the United States afford the extraordinary spectacle of a government destitute even of the shadow of constitutional power to enforce the execution of its own laws. It will appear, from the specimens which have been cited, that the American Confederacy, in this particular, stands discriminated from every other institution of a similar kind, and exhibits a new and unexampled phenomenon in the political world.

The want of a mutual guaranty of the State governments is another capital imperfection in the federal plan. There is nothing of this kind declared in the articles that compose it; and to imply a tacit guaranty from considerations of utility, would be a still more flagrant departure from the clause which has been mentioned, than to imply a tacit power of coercion from the like considerations. The want of a guaranty, though it might in its consequences endanger the Union, does not so immediately attack its existence as the want of a constitutional sanction to its laws.

Without a guaranty the assistance to be derived from the Union in repelling those domestic dangers which may sometimes threaten the existence of the State constitutions, must be renounced. Usurpation may rear its crest in each State, and trample upon the liberties of the people, while the national government could legally do nothing more than behold its encroachments with indignation and regret. A successful faction may erect a tyranny on the ruins of order and law, while no succor could constitutionally be afforded by the Union to the friends and supporters of the government. The tempestuous situation from which Massachusetts has scarcely emerged, evinces that dangers of this kind are not merely speculative. Who can determine what might have been the issue of her late convulsions, if the malcontents had been headed by a Caesar or by a Cromwell? Who can predict what effect a despotism, established in Massachusetts, would have upon the liberties of New Hampshire or Rhode Island, of Connecticut or New York?

The inordinate pride of State importance has suggested to some minds an objection to the principle of a guaranty in the federal government, as involving an officious interference in the domestic concerns of the members. A scruple of this kind would deprive us of one of the principal advantages to be expected from union, and can only flow from a misapprehension of the nature of the provision itself. It could be no impediment to reforms of the State constitution by a majority of the people in a legal and peaceable mode. This right would remain undiminished. The guaranty could only operate against changes to be effected by violence. Towards the preventions of calamities of this kind, too many checks cannot be provided. The peace of society and the stability of government depend absolutely on the efficacy of the precautions adopted on this head. Where the whole power of the government is in the hands of the people, there is the less pretense for the use of violent remedies in partial or occasional distempers of the State. The natural cure for an ill-administration, in a popular or representative constitution, is a change of men. A guaranty by the national authority would be as much levelled against the usurpations of rulers as against the ferments and outrages of faction and sedition in the community.

The principle of regulating the contributions of the States to the common treasury by QUOTAS is another fundamental error in the Confederation. Its repugnancy to an adequate supply of the national exigencies has been already pointed out, and has sufficiently appeared from the trial which has been made of it. I speak of it now solely with a view to equality among the States. Those who have been accustomed to contemplate the circumstances which produce and constitute national wealth, must be satisfied that there is no common standard or barometer by which the degrees of it can be ascertained. Neither the value of lands, nor the numbers of the people, which have been successively proposed as the rule of State contributions, has any pretension to being a just representative. If we compare the wealth of the United Netherlands with that of Russia or Germany, or even of France, and if we at the same time compare the total value of the lands and the aggregate population of that contracted district with the total value of the lands and the aggregate population of the immense regions of either of the three last-mentioned countries, we shall at once discover that there is no comparison between the proportion of either of these two objects and that of the relative wealth of those nations. If the like parallel were to be run between several of the American States, it would furnish a like result. Let Virginia be contrasted with North Carolina, Pennsylvania with Connecticut, or Maryland with New Jersey, and we shall be convinced that the respective abilities of those States, in relation to revenue, bear little or no analogy to their comparative stock in lands or to their comparative population. The position may be equally illustrated by a similar process between the counties of the same State. No man who is acquainted with the State of New York will doubt that the active wealth of King's County bears a much greater proportion to that of Montgomery than it would appear to be if we should take either the total value of the lands or the total number of the people as a criterion!

The wealth of nations depends upon an infinite variety of causes. Situation, soil, climate, the nature of the productions, the nature of the government, the genius of the citizens, the degree of information they possess, the state of commerce, of arts, of industry, these circumstances and many more, too complex, minute, or adventitious to admit of a particular specification, occasion differences hardly conceivable in the relative opulence and riches of different countries. The consequence clearly is that there can be no common measure of national wealth, and, of course, no general or stationary rule by which the ability of a state to pay taxes can be determined. The attempt, therefore, to regulate the contributions of the members of a confederacy by any such rule, cannot fail to be productive of glaring inequality and extreme oppression.

This inequality would of itself be sufficient in America to work the eventual destruction of the Union, if any mode of enforcing a compliance with its requisitions could be devised. The suffering States would not long consent to remain associated upon a principle which distributes the public burdens with so unequal a hand, and which was calculated to impoverish and oppress the citizens of some States, while those of others would scarcely be conscious of the small proportion of the weight they were required to sustain. This, however, is an evil inseparable from the principle of quotas and requisitions.

There is no method of steering clear of this inconvenience, but by authorizing the national government to raise its own revenues in its own way. Imposts, excises, and, in general, all duties upon articles of consumption, may be compared to a fluid, which will, in time, find its level with the means of paying them. The amount to be contributed by each citizen will in a degree be at his own option, and can be regulated by an attention to his resources. The rich may be extravagant, the poor can be frugal; and private oppression may always be avoided by a judicious selection of objects proper for such impositions. If inequalities should arise in some States from duties on particular objects, these will, in all probability, be counterbalanced by proportional inequalities in other States, from the duties on other objects. In the course of time and things, an equilibrium, as far as it is attainable in so complicated a subject, will be established everywhere. Or, if inequalities should still exist, they would neither be so great in their degree, so uniform in their operation, nor so odious in their appearance, as those which would necessarily spring from quotas, upon any scale that can possibly be devised.

It is a signal advantage of taxes on articles of consumption, that they contain in their own nature a security against excess. They prescribe their own limit; which cannot be exceeded without defeating the end proposed, that is, an extension of the revenue. When applied to this object, the saying is as just as it is witty, that, &quot;in political arithmetic, two and two do not always make four.&quot; If duties are too high, they lessen the consumption; the collection is eluded; and the product to the treasury is not so great as when they are confined within proper and moderate bounds. This forms a complete barrier against any material oppression of the citizens by taxes of this class, and is itself a natural limitation of the power of imposing them.

Impositions of this kind usually fall under the denomination of indirect taxes, and must for a long time constitute the chief part of the revenue raised in this country. Those of the direct kind, which principally relate to land and buildings, may admit of a rule of apportionment. Either the value of land, or the number of the people, may serve as a standard. The state of agriculture and the populousness of a country have been considered as nearly connected with each other. And, as a rule, for the purpose intended, numbers, in the view of simplicity and certainty, are entitled to a preference. In every country it is a herculean task to obtain a valuation of the land; in a country imperfectly settled and progressive in improvement, the difficulties are increased almost to impracticability. The expense of an accurate valuation is, in all situations, a formidable objection. In a branch of taxation where no limits to the discretion of the government are to be found in the nature of things, the establishment of a fixed rule, not incompatible with the end, may be attended with fewer inconveniences than to leave that discretion altogether at large.

PUBLIUS</pre>
</div>
<div created="20150327184357557" modified="20150327184816659" tags="Hamilton [[New York Packet]]" title="No. 22. The Same Subject Continued (Other Defects of the Present Confederation)">
<pre>''From the New York Packet. Friday, December 14, 1787.''

HAMILTON

To the People of the State of New York:

IN ADDITION to the defects already enumerated in the existing federal system, there are others of not less importance, which concur in rendering it altogether unfit for the administration of the affairs of the Union.

The want of a power to regulate commerce is by all parties allowed to be of the number. The utility of such a power has been anticipated under the first head of our inquiries; and for this reason, as well as from the universal conviction entertained upon the subject, little need be added in this place. It is indeed evident, on the most superficial view, that there is no object, either as it respects the interests of trade or finance, that more strongly demands a federal superintendence. The want of it has already operated as a bar to the formation of beneficial treaties with foreign powers, and has given occasions of dissatisfaction between the States. No nation acquainted with the nature of our political association would be unwise enough to enter into stipulations with the United States, by which they conceded privileges of any importance to them, while they were apprised that the engagements on the part of the Union might at any moment be violated by its members, and while they found from experience that they might enjoy every advantage they desired in our markets, without granting us any return but such as their momentary convenience might suggest. It is not, therefore, to be wondered at that Mr. Jenkinson, in ushering into the House of Commons a bill for regulating the temporary intercourse between the two countries, should preface its introduction by a declaration that similar provisions in former bills had been found to answer every purpose to the commerce of Great Britain, and that it would be prudent to persist in the plan until it should appear whether the American government was likely or not to acquire greater consistency. &lt;span class=&quot;footnote&quot; title=&quot;This, as nearly as I can recollect, was the sense of his speech on introducing the last bill.&quot;&gt;(1)&lt;/span&gt;

Several States have endeavored, by separate prohibitions, restrictions, and exclusions, to influence the conduct of that kingdom in this particular, but the want of concert, arising from the want of a general authority and from clashing and dissimilar views in the State, has hitherto frustrated every experiment of the kind, and will continue to do so as long as the same obstacles to a uniformity of measures continue to exist.

The interfering and unneighborly regulations of some States, contrary to the true spirit of the Union, have, in different instances, given just cause of umbrage and complaint to others, and it is to be feared that examples of this nature, if not restrained by a national control, would be multiplied and extended till they became not less serious sources of animosity and discord than injurious impediments to the intercourse between the different parts of the Confederacy. &quot;The commerce of the German empire &lt;span class=&quot;footnote&quot; title=&quot;Encyclopedia, article “Empire.“&quot;&gt;(2)&lt;/span&gt; is in continual trammels from the multiplicity of the duties which the several princes and states exact upon the merchandises passing through their territories, by means of which the fine streams and navigable rivers with which Germany is so happily watered are rendered almost useless.&quot; Though the genius of the people of this country might never permit this description to be strictly applicable to us, yet we may reasonably expect, from the gradual conflicts of State regulations, that the citizens of each would at length come to be considered and treated by the others in no better light than that of foreigners and aliens.

The power of raising armies, by the most obvious construction of the articles of the Confederation, is merely a power of making requisitions upon the States for quotas of men. This practice in the course of the late war, was found replete with obstructions to a vigorous and to an economical system of defense. It gave birth to a competition between the States which created a kind of auction for men. In order to furnish the quotas required of them, they outbid each other till bounties grew to an enormous and insupportable size. The hope of a still further increase afforded an inducement to those who were disposed to serve to procrastinate their enlistment, and disinclined them from engaging for any considerable periods. Hence, slow and scanty levies of men, in the most critical emergencies of our affairs; short enlistments at an unparalleled expense; continual fluctuations in the troops, ruinous to their discipline and subjecting the public safety frequently to the perilous crisis of a disbanded army. Hence, also, those oppressive expedients for raising men which were upon several occasions practiced, and which nothing but the enthusiasm of liberty would have induced the people to endure.

This method of raising troops is not more unfriendly to economy and vigor than it is to an equal distribution of the burden. The States near the seat of war, influenced by motives of self-preservation, made efforts to furnish their quotas, which even exceeded their abilities; while those at a distance from danger were, for the most part, as remiss as the others were diligent, in their exertions. The immediate pressure of this inequality was not in this case, as in that of the contributions of money, alleviated by the hope of a final liquidation. The States which did not pay their proportions of money might at least be charged with their deficiencies; but no account could be formed of the deficiencies in the supplies of men. We shall not, however, see much reason to regret the want of this hope, when we consider how little prospect there is, that the most delinquent States will ever be able to make compensation for their pecuniary failures. The system of quotas and requisitions, whether it be applied to men or money, is, in every view, a system of imbecility in the Union, and of inequality and injustice among the members.

The right of equal suffrage among the States is another exceptionable part of the Confederation. Every idea of proportion and every rule of fair representation conspire to condemn a principle, which gives to Rhode Island an equal weight in the scale of power with Massachusetts, or Connecticut, or New York; and to Delaware an equal voice in the national deliberations with Pennsylvania, or Virginia, or North Carolina. Its operation contradicts the fundamental maxim of republican government, which requires that the sense of the majority should prevail. Sophistry may reply, that sovereigns are equal, and that a majority of the votes of the States will be a majority of confederated America. But this kind of logical legerdemain will never counteract the plain suggestions of justice and common-sense. It may happen that this majority of States is a small minority of the people of America; &lt;span class=&quot;footnote&quot; title=&quot;New Hampshire, Rhode Island, New Jersey, Delaware, Georgia, South Carolina, and Maryland are a majority of the whole number of the States, but they do not contain one third of the people.&quot;&gt;(3)&lt;/span&gt; and two thirds of the people of America could not long be persuaded, upon the credit of artificial distinctions and syllogistic subtleties, to submit their interests to the management and disposal of one third. The larger States would after a while revolt from the idea of receiving the law from the smaller. To acquiesce in such a privation of their due importance in the political scale, would be not merely to be insensible to the love of power, but even to sacrifice the desire of equality. It is neither rational to expect the first, nor just to require the last. The smaller States, considering how peculiarly their safety and welfare depend on union, ought readily to renounce a pretension which, if not relinquished, would prove fatal to its duration.

It may be objected to this, that not seven but nine States, or two thirds of the whole number, must consent to the most important resolutions; and it may be thence inferred that nine States would always comprehend a majority of the Union. But this does not obviate the impropriety of an equal vote between States of the most unequal dimensions and populousness; nor is the inference accurate in point of fact; for we can enumerate nine States which contain less than a majority of the people; &lt;span class=&quot;footnote&quot; title=&quot;Add New York and Connecticut to the foregoing seven, and they will be less than a majority.&quot;&gt;(4)&lt;/span&gt; and it is constitutionally possible that these nine may give the vote. Besides, there are matters of considerable moment determinable by a bare majority; and there are others, concerning which doubts have been entertained, which, if interpreted in favor of the sufficiency of a vote of seven States, would extend its operation to interests of the first magnitude. In addition to this, it is to be observed that there is a probability of an increase in the number of States, and no provision for a proportional augmentation of the ratio of votes.

But this is not all: what at first sight may seem a remedy, is, in reality, a poison. To give a minority a negative upon the majority (which is always the case where more than a majority is requisite to a decision), is, in its tendency, to subject the sense of the greater number to that of the lesser. Congress, from the nonattendance of a few States, have been frequently in the situation of a Polish diet, where a single VOTE has been sufficient to put a stop to all their movements. A sixtieth part of the Union, which is about the proportion of Delaware and Rhode Island, has several times been able to oppose an entire bar to its operations. This is one of those refinements which, in practice, has an effect the reverse of what is expected from it in theory. The necessity of unanimity in public bodies, or of something approaching towards it, has been founded upon a supposition that it would contribute to security. But its real operation is to embarrass the administration, to destroy the energy of the government, and to substitute the pleasure, caprice, or artifices of an insignificant, turbulent, or corrupt junto, to the regular deliberations and decisions of a respectable majority. In those emergencies of a nation, in which the goodness or badness, the weakness or strength of its government, is of the greatest importance, there is commonly a necessity for action. The public business must, in some way or other, go forward. If a pertinacious minority can control the opinion of a majority, respecting the best mode of conducting it, the majority, in order that something may be done, must conform to the views of the minority; and thus the sense of the smaller number will overrule that of the greater, and give a tone to the national proceedings. Hence, tedious delays; continual negotiation and intrigue; contemptible compromises of the public good. And yet, in such a system, it is even happy when such compromises can take place: for upon some occasions things will not admit of accommodation; and then the measures of government must be injuriously suspended, or fatally defeated. It is often, by the impracticability of obtaining the concurrence of the necessary number of votes, kept in a state of inaction. Its situation must always savor of weakness, sometimes border upon anarchy.

It is not difficult to discover, that a principle of this kind gives greater scope to foreign corruption, as well as to domestic faction, than that which permits the sense of the majority to decide; though the contrary of this has been presumed. The mistake has proceeded from not attending with due care to the mischiefs that may be occasioned by obstructing the progress of government at certain critical seasons. When the concurrence of a large number is required by the Constitution to the doing of any national act, we are apt to rest satisfied that all is safe, because nothing improper will be likely TO BE DONE, but we forget how much good may be prevented, and how much ill may be produced, by the power of hindering the doing what may be necessary, and of keeping affairs in the same unfavorable posture in which they may happen to stand at particular periods.

Suppose, for instance, we were engaged in a war, in conjunction with one foreign nation, against another. Suppose the necessity of our situation demanded peace, and the interest or ambition of our ally led him to seek the prosecution of the war, with views that might justify us in making separate terms. In such a state of things, this ally of ours would evidently find it much easier, by his bribes and intrigues, to tie up the hands of government from making peace, where two thirds of all the votes were requisite to that object, than where a simple majority would suffice. In the first case, he would have to corrupt a smaller number; in the last, a greater number. Upon the same principle, it would be much easier for a foreign power with which we were at war to perplex our councils and embarrass our exertions. And, in a commercial view, we may be subjected to similar inconveniences. A nation, with which we might have a treaty of commerce, could with much greater facility prevent our forming a connection with her competitor in trade, though such a connection should be ever so beneficial to ourselves.

Evils of this description ought not to be regarded as imaginary. One of the weak sides of republics, among their numerous advantages, is that they afford too easy an inlet to foreign corruption. An hereditary monarch, though often disposed to sacrifice his subjects to his ambition, has so great a personal interest in the government and in the external glory of the nation, that it is not easy for a foreign power to give him an equivalent for what he would sacrifice by treachery to the state. The world has accordingly been witness to few examples of this species of royal prostitution, though there have been abundant specimens of every other kind.

In republics, persons elevated from the mass of the community, by the suffrages of their fellow-citizens, to stations of great pre-eminence and power, may find compensations for betraying their trust, which, to any but minds animated and guided by superior virtue, may appear to exceed the proportion of interest they have in the common stock, and to overbalance the obligations of duty. Hence it is that history furnishes us with so many mortifying examples of the prevalency of foreign corruption in republican governments. How much this contributed to the ruin of the ancient commonwealths has been already delineated. It is well known that the deputies of the United Provinces have, in various instances, been purchased by the emissaries of the neighboring kingdoms. The Earl of Chesterfield (if my memory serves me right), in a letter to his court, intimates that his success in an important negotiation must depend on his obtaining a major's commission for one of those deputies. And in Sweden the parties were alternately bought by France and England in so barefaced and notorious a manner that it excited universal disgust in the nation, and was a principal cause that the most limited monarch in Europe, in a single day, without tumult, violence, or opposition, became one of the most absolute and uncontrolled.

A circumstance which crowns the defects of the Confederation remains yet to be mentioned, the want of a judiciary power. Laws are a dead letter without courts to expound and define their true meaning and operation. The treaties of the United States, to have any force at all, must be considered as part of the law of the land. Their true import, as far as respects individuals, must, like all other laws, be ascertained by judicial determinations. To produce uniformity in these determinations, they ought to be submitted, in the last resort, to one SUPREME TRIBUNAL. And this tribunal ought to be instituted under the same authority which forms the treaties themselves. These ingredients are both indispensable. If there is in each State a court of final jurisdiction, there may be as many different final determinations on the same point as there are courts. There are endless diversities in the opinions of men. We often see not only different courts but the judges of the came court differing from each other. To avoid the confusion which would unavoidably result from the contradictory decisions of a number of independent judicatories, all nations have found it necessary to establish one court paramount to the rest, possessing a general superintendence, and authorized to settle and declare in the last resort a uniform rule of civil justice.

This is the more necessary where the frame of the government is so compounded that the laws of the whole are in danger of being contravened by the laws of the parts. In this case, if the particular tribunals are invested with a right of ultimate jurisdiction, besides the contradictions to be expected from difference of opinion, there will be much to fear from the bias of local views and prejudices, and from the interference of local regulations. As often as such an interference was to happen, there would be reason to apprehend that the provisions of the particular laws might be preferred to those of the general laws; for nothing is more natural to men in office than to look with peculiar deference towards that authority to which they owe their official existence.

The treaties of the United States, under the present Constitution, are liable to the infractions of thirteen different legislatures, and as many different courts of final jurisdiction, acting under the authority of those legislatures. The faith, the reputation, the peace of the whole Union, are thus continually at the mercy of the prejudices, the passions, and the interests of every member of which it is composed. Is it possible that foreign nations can either respect or confide in such a government? Is it possible that the people of America will longer consent to trust their honor, their happiness, their safety, on so precarious a foundation?

In this review of the Confederation, I have confined myself to the exhibition of its most material defects; passing over those imperfections in its details by which even a great part of the power intended to be conferred upon it has been in a great measure rendered abortive. It must be by this time evident to all men of reflection, who can divest themselves of the prepossessions of preconceived opinions, that it is a system so radically vicious and unsound, as to admit not of amendment but by an entire change in its leading features and characters.

The organization of Congress is itself utterly improper for the exercise of those powers which are necessary to be deposited in the Union. A single assembly may be a proper receptacle of those slender, or rather fettered, authorities, which have been heretofore delegated to the federal head; but it would be inconsistent with all the principles of good government, to intrust it with those additional powers which, even the moderate and more rational adversaries of the proposed Constitution admit, ought to reside in the United States. If that plan should not be adopted, and if the necessity of the Union should be able to withstand the ambitious aims of those men who may indulge magnificent schemes of personal aggrandizement from its dissolution, the probability would be, that we should run into the project of conferring supplementary powers upon Congress, as they are now constituted; and either the machine, from the intrinsic feebleness of its structure, will moulder into pieces, in spite of our ill-judged efforts to prop it; or, by successive augmentations of its force an energy, as necessity might prompt, we shall finally accumulate, in a single body, all the most important prerogatives of sovereignty, and thus entail upon our posterity one of the most execrable forms of government that human infatuation ever contrived. Thus, we should create in reality that very tyranny which the adversaries of the new Constitution either are, or affect to be, solicitous to avert.

It has not a little contributed to the infirmities of the existing federal system, that it never had a ratification by the PEOPLE. Resting on no better foundation than the consent of the several legislatures, it has been exposed to frequent and intricate questions concerning the validity of its powers, and has, in some instances, given birth to the enormous doctrine of a right of legislative repeal. Owing its ratification to the law of a State, it has been contended that the same authority might repeal the law by which it was ratified. However gross a heresy it may be to maintain that a PARTY to a COMPACT has a right to revoke that COMPACT, the doctrine itself has had respectable advocates. The possibility of a question of this nature proves the necessity of laying the foundations of our national government deeper than in the mere sanction of delegated authority. The fabric of American empire ought to rest on the solid basis of THE CONSENT OF THE PEOPLE. The streams of national power ought to flow immediately from that pure, original fountain of all legitimate authority.

PUBLIUS

''Footnotes''

1. This, as nearly as I can recollect, was the sense of his speech on introducing the last bill.

2. Encyclopedia, article &quot;Empire.&quot;

3. New Hampshire, Rhode Island, New Jersey, Delaware, Georgia, South Carolina, and Maryland are a majority of the whole number of the States, but they do not contain one third of the people.

4. Add New York and Connecticut to the foregoing seven, and they will be less than a majority.
</pre>
</div>
<div created="20150327184903748" modified="20150327184949275" tags="Hamilton [[New York Packet]]" title="No. 23. The Necessity of a Government as Energetic as the One Proposed to the Preservation of the Union">
<pre>''From the New York Packet. Tuesday, December 18, 1787.''

HAMILTON

To the People of the State of New York:

THE necessity of a Constitution, at least equally energetic with the one proposed, to the preservation of the Union, is the point at the examination of which we are now arrived.

This inquiry will naturally divide itself into three branches—the objects to be provided for by the federal government, the quantity of power necessary to the accomplishment of those objects, the persons upon whom that power ought to operate. Its distribution and organization will more properly claim our attention under the succeeding head.

The principal purposes to be answered by union are these—the common defense of the members; the preservation of the public peace as well against internal convulsions as external attacks; the regulation of commerce with other nations and between the States; the superintendence of our intercourse, political and commercial, with foreign countries.

The authorities essential to the common defense are these: to raise armies; to build and equip fleets; to prescribe rules for the government of both; to direct their operations; to provide for their support. These powers ought to exist without limitation, BECAUSE IT IS IMPOSSIBLE TO FORESEE OR DEFINE THE EXTENT AND VARIETY OF NATIONAL EXIGENCIES, OR THE CORRESPONDENT EXTENT AND VARIETY OF THE MEANS WHICH MAY BE NECESSARY TO SATISFY THEM. The circumstances that endanger the safety of nations are infinite, and for this reason no constitutional shackles can wisely be imposed on the power to which the care of it is committed. This power ought to be coextensive with all the possible combinations of such circumstances; and ought to be under the direction of the same councils which are appointed to preside over the common defense.

This is one of those truths which, to a correct and unprejudiced mind, carries its own evidence along with it; and may be obscured, but cannot be made plainer by argument or reasoning. It rests upon axioms as simple as they are universal; the MEANS ought to be proportioned to the END; the persons, from whose agency the attainment of any END is expected, ought to possess the MEANS by which it is to be attained.

Whether there ought to be a federal government intrusted with the care of the common defense, is a question in the first instance, open for discussion; but the moment it is decided in the affirmative, it will follow, that that government ought to be clothed with all the powers requisite to complete execution of its trust. And unless it can be shown that the circumstances which may affect the public safety are reducible within certain determinate limits; unless the contrary of this position can be fairly and rationally disputed, it must be admitted, as a necessary consequence, that there can be no limitation of that authority which is to provide for the defense and protection of the community, in any matter essential to its efficacy that is, in any matter essential to the FORMATION, DIRECTION, or SUPPORT of the NATIONAL FORCES.

Defective as the present Confederation has been proved to be, this principle appears to have been fully recognized by the framers of it; though they have not made proper or adequate provision for its exercise. Congress have an unlimited discretion to make requisitions of men and money; to govern the army and navy; to direct their operations. As their requisitions are made constitutionally binding upon the States, who are in fact under the most solemn obligations to furnish the supplies required of them, the intention evidently was that the United States should command whatever resources were by them judged requisite to the &quot;common defense and general welfare.&quot; It was presumed that a sense of their true interests, and a regard to the dictates of good faith, would be found sufficient pledges for the punctual performance of the duty of the members to the federal head.

The experiment has, however, demonstrated that this expectation was ill-founded and illusory; and the observations, made under the last head, will, I imagine, have sufficed to convince the impartial and discerning, that there is an absolute necessity for an entire change in the first principles of the system; that if we are in earnest about giving the Union energy and duration, we must abandon the vain project of legislating upon the States in their collective capacities; we must extend the laws of the federal government to the individual citizens of America; we must discard the fallacious scheme of quotas and requisitions, as equally impracticable and unjust. The result from all this is that the Union ought to be invested with full power to levy troops; to build and equip fleets; and to raise the revenues which will be required for the formation and support of an army and navy, in the customary and ordinary modes practiced in other governments.

If the circumstances of our country are such as to demand a compound instead of a simple, a confederate instead of a sole, government, the essential point which will remain to be adjusted will be to discriminate the OBJECTS, as far as it can be done, which shall appertain to the different provinces or departments of power; allowing to each the most ample authority for fulfilling the objects committed to its charge. Shall the Union be constituted the guardian of the common safety? Are fleets and armies and revenues necessary to this purpose? The government of the Union must be empowered to pass all laws, and to make all regulations which have relation to them. The same must be the case in respect to commerce, and to every other matter to which its jurisdiction is permitted to extend. Is the administration of justice between the citizens of the same State the proper department of the local governments? These must possess all the authorities which are connected with this object, and with every other that may be allotted to their particular cognizance and direction. Not to confer in each case a degree of power commensurate to the end, would be to violate the most obvious rules of prudence and propriety, and improvidently to trust the great interests of the nation to hands which are disabled from managing them with vigor and success.

Who is likely to make suitable provisions for the public defense, as that body to which the guardianship of the public safety is confided; which, as the centre of information, will best understand the extent and urgency of the dangers that threaten; as the representative of the WHOLE, will feel itself most deeply interested in the preservation of every part; which, from the responsibility implied in the duty assigned to it, will be most sensibly impressed with the necessity of proper exertions; and which, by the extension of its authority throughout the States, can alone establish uniformity and concert in the plans and measures by which the common safety is to be secured? Is there not a manifest inconsistency in devolving upon the federal government the care of the general defense, and leaving in the State governments the EFFECTIVE powers by which it is to be provided for? Is not a want of co-operation the infallible consequence of such a system? And will not weakness, disorder, an undue distribution of the burdens and calamities of war, an unnecessary and intolerable increase of expense, be its natural and inevitable concomitants? Have we not had unequivocal experience of its effects in the course of the revolution which we have just accomplished?

Every view we may take of the subject, as candid inquirers after truth, will serve to convince us, that it is both unwise and dangerous to deny the federal government an unconfined authority, as to all those objects which are intrusted to its management. It will indeed deserve the most vigilant and careful attention of the people, to see that it be modeled in such a manner as to admit of its being safely vested with the requisite powers. If any plan which has been, or may be, offered to our consideration, should not, upon a dispassionate inspection, be found to answer this description, it ought to be rejected. A government, the constitution of which renders it unfit to be trusted with all the powers which a free people ought to delegate to any government, would be an unsafe and improper depositary of the NATIONAL INTERESTS. Wherever THESE can with propriety be confided, the coincident powers may safely accompany them. This is the true result of all just reasoning upon the subject. And the adversaries of the plan promulgated by the convention ought to have confined themselves to showing, that the internal structure of the proposed government was such as to render it unworthy of the confidence of the people. They ought not to have wandered into inflammatory declamations and unmeaning cavils about the extent of the powers. The POWERS are not too extensive for the OBJECTS of federal administration, or, in other words, for the management of our NATIONAL INTERESTS; nor can any satisfactory argument be framed to show that they are chargeable with such an excess. If it be true, as has been insinuated by some of the writers on the other side, that the difficulty arises from the nature of the thing, and that the extent of the country will not permit us to form a government in which such ample powers can safely be reposed, it would prove that we ought to contract our views, and resort to the expedient of separate confederacies, which will move within more practicable spheres. For the absurdity must continually stare us in the face of confiding to a government the direction of the most essential national interests, without daring to trust it to the authorities which are indispensable to their proper and efficient management. Let us not attempt to reconcile contradictions, but firmly embrace a rational alternative.

I trust, however, that the impracticability of one general system cannot be shown. I am greatly mistaken, if any thing of weight has yet been advanced of this tendency; and I flatter myself, that the observations which have been made in the course of these papers have served to place the reverse of that position in as clear a light as any matter still in the womb of time and experience can be susceptible of. This, at all events, must be evident, that the very difficulty itself, drawn from the extent of the country, is the strongest argument in favor of an energetic government; for any other can certainly never preserve the Union of so large an empire. If we embrace the tenets of those who oppose the adoption of the proposed Constitution, as the standard of our political creed, we cannot fail to verify the gloomy doctrines which predict the impracticability of a national system pervading entire limits of the present Confederacy.

PUBLIUS</pre>
</div>
<div created="20150327185017140" modified="20150327185234563" tags="Hamilton [[Independent Journal]]" title="No. 24. The Powers Necessary to the Common Defense Further Considered">
<pre>''For the Independent Journal. Wednesday, December 19, 1787''

HAMILTON

To the People of the State of New York:

TO THE powers proposed to be conferred upon the federal government, in respect to the creation and direction of the national forces, I have met with but one specific objection, which, if I understand it right, is this, that proper provision has not been made against the existence of standing armies in time of peace; an objection which, I shall now endeavor to show, rests on weak and unsubstantial foundations.

It has indeed been brought forward in the most vague and general form, supported only by bold assertions, without the appearance of argument; without even the sanction of theoretical opinions; in contradiction to the practice of other free nations, and to the general sense of America, as expressed in most of the existing constitutions. The proprietary of this remark will appear, the moment it is recollected that the objection under consideration turns upon a supposed necessity of restraining the LEGISLATIVE authority of the nation, in the article of military establishments; a principle unheard of, except in one or two of our State constitutions, and rejected in all the rest.

A stranger to our politics, who was to read our newspapers at the present juncture, without having previously inspected the plan reported by the convention, would be naturally led to one of two conclusions: either that it contained a positive injunction, that standing armies should be kept up in time of peace; or that it vested in the EXECUTIVE the whole power of levying troops, without subjecting his discretion, in any shape, to the control of the legislature.

If he came afterwards to peruse the plan itself, he would be surprised to discover, that neither the one nor the other was the case; that the whole power of raising armies was lodged in the LEGISLATURE, not in the EXECUTIVE; that this legislature was to be a popular body, consisting of the representatives of the people periodically elected; and that instead of the provision he had supposed in favor of standing armies, there was to be found, in respect to this object, an important qualification even of the legislative discretion, in that clause which forbids the appropriation of money for the support of an army for any longer period than two years a precaution which, upon a nearer view of it, will appear to be a great and real security against the keeping up of troops without evident necessity.

Disappointed in his first surmise, the person I have supposed would be apt to pursue his conjectures a little further. He would naturally say to himself, it is impossible that all this vehement and pathetic declamation can be without some colorable pretext. It must needs be that this people, so jealous of their liberties, have, in all the preceding models of the constitutions which they have established, inserted the most precise and rigid precautions on this point, the omission of which, in the new plan, has given birth to all this apprehension and clamor.

If, under this impression, he proceeded to pass in review the several State constitutions, how great would be his disappointment to find that TWO ONLY of them &lt;span class=&quot;footnote&quot; title=&quot;This statement of the matter is taken from the printed collection of State constitutions. Pennsylvania and North Carolina are the two which contain the interdiction in these words: “As standing armies in time of peace are dangerous to liberty, THEY OUGHT NOT to be kept up.“ This is, in truth, rather a CAUTION than a PROHIBITION. New Hampshire, Massachusetts, Delaware, and Maryland have, in each of their bils of rights, a clause to this effect: “Standing armies are dangerous to liberty, and ought not to be raised or kept up WITHOUT THE CONSENT OF THE LEGISLATURE“; which is a formal admission of the authority of the Legislature. New York has no bills of rights, and her constitution says not a word about the matter. No bills of rights appear annexed to the constitutions of the other States, except the foregoing, and their constitutions are equally silent. I am told, however that one or two States have bills of rights which do not appear in this collection; but that those also recognize the right of the legislative authority in this respect.&quot;&gt;(1)&lt;/span&gt; contained an interdiction of standing armies in time of peace; that the other eleven had either observed a profound silence on the subject, or had in express terms admitted the right of the Legislature to authorize their existence.

Still, however he would be persuaded that there must be some plausible foundation for the cry raised on this head. He would never be able to imagine, while any source of information remained unexplored, that it was nothing more than an experiment upon the public credulity, dictated either by a deliberate intention to deceive, or by the overflowings of a zeal too intemperate to be ingenuous. It would probably occur to him, that he would be likely to find the precautions he was in search of in the primitive compact between the States. Here, at length, he would expect to meet with a solution of the enigma. No doubt, he would observe to himself, the existing Confederation must contain the most explicit provisions against military establishments in time of peace; and a departure from this model, in a favorite point, has occasioned the discontent which appears to influence these political champions.

If he should now apply himself to a careful and critical survey of the articles of Confederation, his astonishment would not only be increased, but would acquire a mixture of indignation, at the unexpected discovery, that these articles, instead of containing the prohibition he looked for, and though they had, with jealous circumspection, restricted the authority of the State legislatures in this particular, had not imposed a single restraint on that of the United States. If he happened to be a man of quick sensibility, or ardent temper, he could now no longer refrain from regarding these clamors as the dishonest artifices of a sinister and unprincipled opposition to a plan which ought at least to receive a fair and candid examination from all sincere lovers of their country! How else, he would say, could the authors of them have been tempted to vent such loud censures upon that plan, about a point in which it seems to have conformed itself to the general sense of America as declared in its different forms of government, and in which it has even superadded a new and powerful guard unknown to any of them? If, on the contrary, he happened to be a man of calm and dispassionate feelings, he would indulge a sigh for the frailty of human nature, and would lament, that in a matter so interesting to the happiness of millions, the true merits of the question should be perplexed and entangled by expedients so unfriendly to an impartial and right determination. Even such a man could hardly forbear remarking, that a conduct of this kind has too much the appearance of an intention to mislead the people by alarming their passions, rather than to convince them by arguments addressed to their understandings.

But however little this objection may be countenanced, even by precedents among ourselves, it may be satisfactory to take a nearer view of its intrinsic merits. From a close examination it will appear that restraints upon the discretion of the legislature in respect to military establishments in time of peace, would be improper to be imposed, and if imposed, from the necessities of society, would be unlikely to be observed.

Though a wide ocean separates the United States from Europe, yet there are various considerations that warn us against an excess of confidence or security. On one side of us, and stretching far into our rear, are growing settlements subject to the dominion of Britain. On the other side, and extending to meet the British settlements, are colonies and establishments subject to the dominion of Spain. This situation and the vicinity of the West India Islands, belonging to these two powers create between them, in respect to their American possessions and in relation to us, a common interest. The savage tribes on our Western frontier ought to be regarded as our natural enemies, their natural allies, because they have most to fear from us, and most to hope from them. The improvements in the art of navigation have, as to the facility of communication, rendered distant nations, in a great measure, neighbors. Britain and Spain are among the principal maritime powers of Europe. A future concert of views between these nations ought not to be regarded as improbable. The increasing remoteness of consanguinity is every day diminishing the force of the family compact between France and Spain. And politicians have ever with great reason considered the ties of blood as feeble and precarious links of political connection. These circumstances combined, admonish us not to be too sanguine in considering ourselves as entirely out of the reach of danger.

Previous to the Revolution, and ever since the peace, there has been a constant necessity for keeping small garrisons on our Western frontier. No person can doubt that these will continue to be indispensable, if it should only be against the ravages and depredations of the Indians. These garrisons must either be furnished by occasional detachments from the militia, or by permanent corps in the pay of the government. The first is impracticable; and if practicable, would be pernicious. The militia would not long, if at all, submit to be dragged from their occupations and families to perform that most disagreeable duty in times of profound peace. And if they could be prevailed upon or compelled to do it, the increased expense of a frequent rotation of service, and the loss of labor and disconcertion of the industrious pursuits of individuals, would form conclusive objections to the scheme. It would be as burdensome and injurious to the public as ruinous to private citizens. The latter resource of permanent corps in the pay of the government amounts to a standing army in time of peace; a small one, indeed, but not the less real for being small. Here is a simple view of the subject, that shows us at once the impropriety of a constitutional interdiction of such establishments, and the necessity of leaving the matter to the discretion and prudence of the legislature.

In proportion to our increase in strength, it is probable, nay, it may be said certain, that Britain and Spain would augment their military establishments in our neighborhood. If we should not be willing to be exposed, in a naked and defenseless condition, to their insults and encroachments, we should find it expedient to increase our frontier garrisons in some ratio to the force by which our Western settlements might be annoyed. There are, and will be, particular posts, the possession of which will include the command of large districts of territory, and facilitate future invasions of the remainder. It may be added that some of those posts will be keys to the trade with the Indian nations. Can any man think it would be wise to leave such posts in a situation to be at any instant seized by one or the other of two neighboring and formidable powers? To act this part would be to desert all the usual maxims of prudence and policy.

If we mean to be a commercial people, or even to be secure on our Atlantic side, we must endeavor, as soon as possible, to have a navy. To this purpose there must be dock-yards and arsenals; and for the defense of these, fortifications, and probably garrisons. When a nation has become so powerful by sea that it can protect its dock-yards by its fleets, this supersedes the necessity of garrisons for that purpose; but where naval establishments are in their infancy, moderate garrisons will, in all likelihood, be found an indispensable security against descents for the destruction of the arsenals and dock-yards, and sometimes of the fleet itself.

PUBLIUS

''Footnote''

1. This statement of the matter is taken from the printed collection of State constitutions. Pennsylvania and North Carolina are the two which contain the interdiction in these words: &quot;As standing armies in time of peace are dangerous to liberty, THEY OUGHT NOT to be kept up.&quot; This is, in truth, rather a CAUTION than a PROHIBITION. New Hampshire, Massachusetts, Delaware, and Maryland have, in each of their bils of rights, a clause to this effect: &quot;Standing armies are dangerous to liberty, and ought not to be raised or kept up WITHOUT THE CONSENT OF THE LEGISLATURE&quot;; which is a formal admission of the authority of the Legislature. New York has no bills of rights, and her constitution says not a word about the matter. No bills of rights appear annexed to the constitutions of the other States, except the foregoing, and their constitutions are equally silent. I am told, however that one or two States have bills of rights which do not appear in this collection; but that those also recognize the right of the legislative authority in this respect.
</pre>
</div>
<div created="20150327185903358" modified="20150327185938036" tags="Hamilton [[New York Packet]]" title="No. 25. The Same Subject Continued (The Powers Necessary to the Common Defense Further Considered)">
<pre>''From the New York Packet. Friday, December 21, 1787.''

HAMILTON

To the People of the State of New York:

IT MAY perhaps be urged that the objects enumerated in the preceding number ought to be provided for by the State governments, under the direction of the Union. But this would be, in reality, an inversion of the primary principle of our political association, as it would in practice transfer the care of the common defense from the federal head to the individual members: a project oppressive to some States, dangerous to all, and baneful to the Confederacy.

The territories of Britain, Spain, and of the Indian nations in our neighborhood do not border on particular States, but encircle the Union from Maine to Georgia. The danger, though in different degrees, is therefore common. And the means of guarding against it ought, in like manner, to be the objects of common councils and of a common treasury. It happens that some States, from local situation, are more directly exposed. New York is of this class. Upon the plan of separate provisions, New York would have to sustain the whole weight of the establishments requisite to her immediate safety, and to the mediate or ultimate protection of her neighbors. This would neither be equitable as it respected New York nor safe as it respected the other States. Various inconveniences would attend such a system. The States, to whose lot it might fall to support the necessary establishments, would be as little able as willing, for a considerable time to come, to bear the burden of competent provisions. The security of all would thus be subjected to the parsimony, improvidence, or inability of a part. If the resources of such part becoming more abundant and extensive, its provisions should be proportionally enlarged, the other States would quickly take the alarm at seeing the whole military force of the Union in the hands of two or three of its members, and those probably amongst the most powerful. They would each choose to have some counterpoise, and pretenses could easily be contrived. In this situation, military establishments, nourished by mutual jealousy, would be apt to swell beyond their natural or proper size; and being at the separate disposal of the members, they would be engines for the abridgment or demolition of the national authority.

Reasons have been already given to induce a supposition that the State governments will too naturally be prone to a rivalship with that of the Union, the foundation of which will be the love of power; and that in any contest between the federal head and one of its members the people will be most apt to unite with their local government. If, in addition to this immense advantage, the ambition of the members should be stimulated by the separate and independent possession of military forces, it would afford too strong a temptation and too great a facility to them to make enterprises upon, and finally to subvert, the constitutional authority of the Union. On the other hand, the liberty of the people would be less safe in this state of things than in that which left the national forces in the hands of the national government. As far as an army may be considered as a dangerous weapon of power, it had better be in those hands of which the people are most likely to be jealous than in those of which they are least likely to be jealous. For it is a truth, which the experience of ages has attested, that the people are always most in danger when the means of injuring their rights are in the possession of those of whom they entertain the least suspicion.

The framers of the existing Confederation, fully aware of the danger to the Union from the separate possession of military forces by the States, have, in express terms, prohibited them from having either ships or troops, unless with the consent of Congress. The truth is, that the existence of a federal government and military establishments under State authority are not less at variance with each other than a due supply of the federal treasury and the system of quotas and requisitions.

There are other lights besides those already taken notice of, in which the impropriety of restraints on the discretion of the national legislature will be equally manifest. The design of the objection, which has been mentioned, is to preclude standing armies in time of peace, though we have never been informed how far it is designed the prohibition should extend; whether to raising armies as well as to KEEPING THEM UP in a season of tranquillity or not. If it be confined to the latter it will have no precise signification, and it will be ineffectual for the purpose intended. When armies are once raised what shall be denominated &quot;keeping them up,&quot; contrary to the sense of the Constitution? What time shall be requisite to ascertain the violation? Shall it be a week, a month, a year? Or shall we say they may be continued as long as the danger which occasioned their being raised continues? This would be to admit that they might be kept up IN TIME OF PEACE, against threatening or impending danger, which would be at once to deviate from the literal meaning of the prohibition, and to introduce an extensive latitude of construction. Who shall judge of the continuance of the danger? This must undoubtedly be submitted to the national government, and the matter would then be brought to this issue, that the national government, to provide against apprehended danger, might in the first instance raise troops, and might afterwards keep them on foot as long as they supposed the peace or safety of the community was in any degree of jeopardy. It is easy to perceive that a discretion so latitudinary as this would afford ample room for eluding the force of the provision.

The supposed utility of a provision of this kind can only be founded on the supposed probability, or at least possibility, of a combination between the executive and the legislative, in some scheme of usurpation. Should this at any time happen, how easy would it be to fabricate pretenses of approaching danger! Indian hostilities, instigated by Spain or Britain, would always be at hand. Provocations to produce the desired appearances might even be given to some foreign power, and appeased again by timely concessions. If we can reasonably presume such a combination to have been formed, and that the enterprise is warranted by a sufficient prospect of success, the army, when once raised, from whatever cause, or on whatever pretext, may be applied to the execution of the project.

If, to obviate this consequence, it should be resolved to extend the prohibition to the RAISING of armies in time of peace, the United States would then exhibit the most extraordinary spectacle which the world has yet seen, that of a nation incapacitated by its Constitution to prepare for defense, before it was actually invaded. As the ceremony of a formal denunciation of war has of late fallen into disuse, the presence of an enemy within our territories must be waited for, as the legal warrant to the government to begin its levies of men for the protection of the State. We must receive the blow, before we could even prepare to return it. All that kind of policy by which nations anticipate distant danger, and meet the gathering storm, must be abstained from, as contrary to the genuine maxims of a free government. We must expose our property and liberty to the mercy of foreign invaders, and invite them by our weakness to seize the naked and defenseless prey, because we are afraid that rulers, created by our choice, dependent on our will, might endanger that liberty, by an abuse of the means necessary to its preservation.

Here I expect we shall be told that the militia of the country is its natural bulwark, and would be at all times equal to the national defense. This doctrine, in substance, had like to have lost us our independence. It cost millions to the United States that might have been saved. The facts which, from our own experience, forbid a reliance of this kind, are too recent to permit us to be the dupes of such a suggestion. The steady operations of war against a regular and disciplined army can only be successfully conducted by a force of the same kind. Considerations of economy, not less than of stability and vigor, confirm this position. The American militia, in the course of the late war, have, by their valor on numerous occasions, erected eternal monuments to their fame; but the bravest of them feel and know that the liberty of their country could not have been established by their efforts alone, however great and valuable they were. War, like most other things, is a science to be acquired and perfected by diligence, by perseverance, by time, and by practice.

All violent policy, as it is contrary to the natural and experienced course of human affairs, defeats itself. Pennsylvania, at this instant, affords an example of the truth of this remark. The Bill of Rights of that State declares that standing armies are dangerous to liberty, and ought not to be kept up in time of peace. Pennsylvania, nevertheless, in a time of profound peace, from the existence of partial disorders in one or two of her counties, has resolved to raise a body of troops; and in all probability will keep them up as long as there is any appearance of danger to the public peace. The conduct of Massachusetts affords a lesson on the same subject, though on different ground. That State (without waiting for the sanction of Congress, as the articles of the Confederation require) was compelled to raise troops to quell a domestic insurrection, and still keeps a corps in pay to prevent a revival of the spirit of revolt. The particular constitution of Massachusetts opposed no obstacle to the measure; but the instance is still of use to instruct us that cases are likely to occur under our government, as well as under those of other nations, which will sometimes render a military force in time of peace essential to the security of the society, and that it is therefore improper in this respect to control the legislative discretion. It also teaches us, in its application to the United States, how little the rights of a feeble government are likely to be respected, even by its own constituents. And it teaches us, in addition to the rest, how unequal parchment provisions are to a struggle with public necessity.

It was a fundamental maxim of the Lacedaemonian commonwealth, that the post of admiral should not be conferred twice on the same person. The Peloponnesian confederates, having suffered a severe defeat at sea from the Athenians, demanded Lysander, who had before served with success in that capacity, to command the combined fleets. The Lacedaemonians, to gratify their allies, and yet preserve the semblance of an adherence to their ancient institutions, had recourse to the flimsy subterfuge of investing Lysander with the real power of admiral, under the nominal title of vice-admiral. This instance is selected from among a multitude that might be cited to confirm the truth already advanced and illustrated by domestic examples; which is, that nations pay little regard to rules and maxims calculated in their very nature to run counter to the necessities of society. Wise politicians will be cautious about fettering the government with restrictions that cannot be observed, because they know that every breach of the fundamental laws, though dictated by necessity, impairs that sacred reverence which ought to be maintained in the breast of rulers towards the constitution of a country, and forms a precedent for other breaches where the same plea of necessity does not exist at all, or is less urgent and palpable.

PUBLIUS</pre>
</div>
<div created="20150327190009213" modified="20150327190046220" tags="Hamilton [[Independent Journal]]" title="No. 26. The Idea of Restraining the Legislative Authority in Regard to the Common Defense Considered.">
<pre>''For the Independent Journal. Saturday, December 22, 1788''

HAMILTON

To the People of the State of New York:

IT WAS a thing hardly to be expected that in a popular revolution the minds of men should stop at that happy mean which marks the salutary boundary between POWER and PRIVILEGE, and combines the energy of government with the security of private rights. A failure in this delicate and important point is the great source of the inconveniences we experience, and if we are not cautious to avoid a repetition of the error, in our future attempts to rectify and ameliorate our system, we may travel from one chimerical project to another; we may try change after change; but we shall never be likely to make any material change for the better.

The idea of restraining the legislative authority, in the means of providing for the national defense, is one of those refinements which owe their origin to a zeal for liberty more ardent than enlightened. We have seen, however, that it has not had thus far an extensive prevalency; that even in this country, where it made its first appearance, Pennsylvania and North Carolina are the only two States by which it has been in any degree patronized; and that all the others have refused to give it the least countenance; wisely judging that confidence must be placed somewhere; that the necessity of doing it, is implied in the very act of delegating power; and that it is better to hazard the abuse of that confidence than to embarrass the government and endanger the public safety by impolitic restrictions on the legislative authority. The opponents of the proposed Constitution combat, in this respect, the general decision of America; and instead of being taught by experience the propriety of correcting any extremes into which we may have heretofore run, they appear disposed to conduct us into others still more dangerous, and more extravagant. As if the tone of government had been found too high, or too rigid, the doctrines they teach are calculated to induce us to depress or to relax it, by expedients which, upon other occasions, have been condemned or forborne. It may be affirmed without the imputation of invective, that if the principles they inculcate, on various points, could so far obtain as to become the popular creed, they would utterly unfit the people of this country for any species of government whatever. But a danger of this kind is not to be apprehended. The citizens of America have too much discernment to be argued into anarchy. And I am much mistaken, if experience has not wrought a deep and solemn conviction in the public mind, that greater energy of government is essential to the welfare and prosperity of the community.

It may not be amiss in this place concisely to remark the origin and progress of the idea, which aims at the exclusion of military establishments in time of peace. Though in speculative minds it may arise from a contemplation of the nature and tendency of such institutions, fortified by the events that have happened in other ages and countries, yet as a national sentiment, it must be traced to those habits of thinking which we derive from the nation from whom the inhabitants of these States have in general sprung.

In England, for a long time after the Norman Conquest, the authority of the monarch was almost unlimited. Inroads were gradually made upon the prerogative, in favor of liberty, first by the barons, and afterwards by the people, till the greatest part of its most formidable pretensions became extinct. But it was not till the revolution in 1688, which elevated the Prince of Orange to the throne of Great Britain, that English liberty was completely triumphant. As incident to the undefined power of making war, an acknowledged prerogative of the crown, Charles II. had, by his own authority, kept on foot in time of peace a body of 5,000 regular troops. And this number James II. increased to 30,000; who were paid out of his civil list. At the revolution, to abolish the exercise of so dangerous an authority, it became an article of the Bill of Rights then framed, that &quot;the raising or keeping a standing army within the kingdom in time of peace, UNLESS WITH THE CONSENT OF PARLIAMENT, was against law.&quot;

In that kingdom, when the pulse of liberty was at its highest pitch, no security against the danger of standing armies was thought requisite, beyond a prohibition of their being raised or kept up by the mere authority of the executive magistrate. The patriots, who effected that memorable revolution, were too temperate, too wellinformed, to think of any restraint on the legislative discretion. They were aware that a certain number of troops for guards and garrisons were indispensable; that no precise bounds could be set to the national exigencies; that a power equal to every possible contingency must exist somewhere in the government: and that when they referred the exercise of that power to the judgment of the legislature, they had arrived at the ultimate point of precaution which was reconcilable with the safety of the community.

From the same source, the people of America may be said to have derived an hereditary impression of danger to liberty, from standing armies in time of peace. The circumstances of a revolution quickened the public sensibility on every point connected with the security of popular rights, and in some instances raise the warmth of our zeal beyond the degree which consisted with the due temperature of the body politic. The attempts of two of the States to restrict the authority of the legislature in the article of military establishments, are of the number of these instances. The principles which had taught us to be jealous of the power of an hereditary monarch were by an injudicious excess extended to the representatives of the people in their popular assemblies. Even in some of the States, where this error was not adopted, we find unnecessary declarations that standing armies ought not to be kept up, in time of peace, WITHOUT THE CONSENT OF THE LEGISLATURE. I call them unnecessary, because the reason which had introduced a similar provision into the English Bill of Rights is not applicable to any of the State constitutions. The power of raising armies at all, under those constitutions, can by no construction be deemed to reside anywhere else, than in the legislatures themselves; and it was superfluous, if not absurd, to declare that a matter should not be done without the consent of a body, which alone had the power of doing it. Accordingly, in some of these constitutions, and among others, in that of this State of New York, which has been justly celebrated, both in Europe and America, as one of the best of the forms of government established in this country, there is a total silence upon the subject.

It is remarkable, that even in the two States which seem to have meditated an interdiction of military establishments in time of peace, the mode of expression made use of is rather cautionary than prohibitory. It is not said, that standing armies SHALL NOT BE kept up, but that they OUGHT NOT to be kept up, in time of peace. This ambiguity of terms appears to have been the result of a conflict between jealousy and conviction; between the desire of excluding such establishments at all events, and the persuasion that an absolute exclusion would be unwise and unsafe.

Can it be doubted that such a provision, whenever the situation of public affairs was understood to require a departure from it, would be interpreted by the legislature into a mere admonition, and would be made to yield to the necessities or supposed necessities of the State? Let the fact already mentioned, with respect to Pennsylvania, decide. What then (it may be asked) is the use of such a provision, if it cease to operate the moment there is an inclination to disregard it?

Let us examine whether there be any comparison, in point of efficacy, between the provision alluded to and that which is contained in the new Constitution, for restraining the appropriations of money for military purposes to the period of two years. The former, by aiming at too much, is calculated to effect nothing; the latter, by steering clear of an imprudent extreme, and by being perfectly compatible with a proper provision for the exigencies of the nation, will have a salutary and powerful operation.

The legislature of the United States will be OBLIGED, by this provision, once at least in every two years, to deliberate upon the propriety of keeping a military force on foot; to come to a new resolution on the point; and to declare their sense of the matter, by a formal vote in the face of their constituents. They are not AT LIBERTY to vest in the executive department permanent funds for the support of an army, if they were even incautious enough to be willing to repose in it so improper a confidence. As the spirit of party, in different degrees, must be expected to infect all political bodies, there will be, no doubt, persons in the national legislature willing enough to arraign the measures and criminate the views of the majority. The provision for the support of a military force will always be a favorable topic for declamation. As often as the question comes forward, the public attention will be roused and attracted to the subject, by the party in opposition; and if the majority should be really disposed to exceed the proper limits, the community will be warned of the danger, and will have an opportunity of taking measures to guard against it. Independent of parties in the national legislature itself, as often as the period of discussion arrived, the State legislatures, who will always be not only vigilant but suspicious and jealous guardians of the rights of the citizens against encroachments from the federal government, will constantly have their attention awake to the conduct of the national rulers, and will be ready enough, if any thing improper appears, to sound the alarm to the people, and not only to be the VOICE, but, if necessary, the ARM of their discontent.

Schemes to subvert the liberties of a great community REQUIRE TIME to mature them for execution. An army, so large as seriously to menace those liberties, could only be formed by progressive augmentations; which would suppose, not merely a temporary combination between the legislature and executive, but a continued conspiracy for a series of time. Is it probable that such a combination would exist at all? Is it probable that it would be persevered in, and transmitted along through all the successive variations in a representative body, which biennial elections would naturally produce in both houses? Is it presumable, that every man, the instant he took his seat in the national Senate or House of Representatives, would commence a traitor to his constituents and to his country? Can it be supposed that there would not be found one man, discerning enough to detect so atrocious a conspiracy, or bold or honest enough to apprise his constituents of their danger? If such presumptions can fairly be made, there ought at once to be an end of all delegated authority. The people should resolve to recall all the powers they have heretofore parted with out of their own hands, and to divide themselves into as many States as there are counties, in order that they may be able to manage their own concerns in person.

If such suppositions could even be reasonably made, still the concealment of the design, for any duration, would be impracticable. It would be announced, by the very circumstance of augmenting the army to so great an extent in time of profound peace. What colorable reason could be assigned, in a country so situated, for such vast augmentations of the military force? It is impossible that the people could be long deceived; and the destruction of the project, and of the projectors, would quickly follow the discovery.

It has been said that the provision which limits the appropriation of money for the support of an army to the period of two years would be unavailing, because the Executive, when once possessed of a force large enough to awe the people into submission, would find resources in that very force sufficient to enable him to dispense with supplies from the acts of the legislature. But the question again recurs, upon what pretense could he be put in possession of a force of that magnitude in time of peace? If we suppose it to have been created in consequence of some domestic insurrection or foreign war, then it becomes a case not within the principles of the objection; for this is levelled against the power of keeping up troops in time of peace. Few persons will be so visionary as seriously to contend that military forces ought not to be raised to quell a rebellion or resist an invasion; and if the defense of the community under such circumstances should make it necessary to have an army so numerous as to hazard its liberty, this is one of those calamities for which there is neither preventative nor cure. It cannot be provided against by any possible form of government; it might even result from a simple league offensive and defensive, if it should ever be necessary for the confederates or allies to form an army for common defense.

But it is an evil infinitely less likely to attend us in a united than in a disunited state; nay, it may be safely asserted that it is an evil altogether unlikely to attend us in the latter situation. It is not easy to conceive a possibility that dangers so formidable can assail the whole Union, as to demand a force considerable enough to place our liberties in the least jeopardy, especially if we take into our view the aid to be derived from the militia, which ought always to be counted upon as a valuable and powerful auxiliary. But in a state of disunion (as has been fully shown in another place), the contrary of this supposition would become not only probable, but almost unavoidable.

PUBLIUS</pre>
</div>
<div created="20150327190102493" modified="20150327190233996" tags="Hamilton [[New York Packet]]" title="No. 27. The Same Subject Continued (The Idea of Restraining the Legislative Authority in Regard to the Common Defense Considered)">
<pre>''From the New York Packet. Tuesday, December 25, 1787.''

HAMILTON

To the People of the State of New York:

IT HAS been urged, in different shapes, that a Constitution of the kind proposed by the convention cannot operate without the aid of a military force to execute its laws. This, however, like most other things that have been alleged on that side, rests on mere general assertion, unsupported by any precise or intelligible designation of the reasons upon which it is founded. As far as I have been able to divine the latent meaning of the objectors, it seems to originate in a presupposition that the people will be disinclined to the exercise of federal authority in any matter of an internal nature. Waiving any exception that might be taken to the inaccuracy or inexplicitness of the distinction between internal and external, let us inquire what ground there is to presuppose that disinclination in the people. Unless we presume at the same time that the powers of the general government will be worse administered than those of the State government, there seems to be no room for the presumption of ill-will, disaffection, or opposition in the people. I believe it may be laid down as a general rule that their confidence in and obedience to a government will commonly be proportioned to the goodness or badness of its administration. It must be admitted that there are exceptions to this rule; but these exceptions depend so entirely on accidental causes, that they cannot be considered as having any relation to the intrinsic merits or demerits of a constitution. These can only be judged of by general principles and maxims.

Various reasons have been suggested, in the course of these papers, to induce a probability that the general government will be better administered than the particular governments; the principal of which reasons are that the extension of the spheres of election will present a greater option, or latitude of choice, to the people; that through the medium of the State legislatures which are select bodies of men, and which are to appoint the members of the national Senate there is reason to expect that this branch will generally be composed with peculiar care and judgment; that these circumstances promise greater knowledge and more extensive information in the national councils, and that they will be less apt to be tainted by the spirit of faction, and more out of the reach of those occasional ill-humors, or temporary prejudices and propensities, which, in smaller societies, frequently contaminate the public councils, beget injustice and oppression of a part of the community, and engender schemes which, though they gratify a momentary inclination or desire, terminate in general distress, dissatisfaction, and disgust. Several additional reasons of considerable force, to fortify that probability, will occur when we come to survey, with a more critical eye, the interior structure of the edifice which we are invited to erect. It will be sufficient here to remark, that until satisfactory reasons can be assigned to justify an opinion, that the federal government is likely to be administered in such a manner as to render it odious or contemptible to the people, there can be no reasonable foundation for the supposition that the laws of the Union will meet with any greater obstruction from them, or will stand in need of any other methods to enforce their execution, than the laws of the particular members.

The hope of impunity is a strong incitement to sedition; the dread of punishment, a proportionably strong discouragement to it. Will not the government of the Union, which, if possessed of a due degree of power, can call to its aid the collective resources of the whole Confederacy, be more likely to repress the FORMER sentiment and to inspire the LATTER, than that of a single State, which can only command the resources within itself? A turbulent faction in a State may easily suppose itself able to contend with the friends to the government in that State; but it can hardly be so infatuated as to imagine itself a match for the combined efforts of the Union. If this reflection be just, there is less danger of resistance from irregular combinations of individuals to the authority of the Confederacy than to that of a single member.

I will, in this place, hazard an observation, which will not be the less just because to some it may appear new; which is, that the more the operations of the national authority are intermingled in the ordinary exercise of government, the more the citizens are accustomed to meet with it in the common occurrences of their political life, the more it is familiarized to their sight and to their feelings, the further it enters into those objects which touch the most sensible chords and put in motion the most active springs of the human heart, the greater will be the probability that it will conciliate the respect and attachment of the community. Man is very much a creature of habit. A thing that rarely strikes his senses will generally have but little influence upon his mind. A government continually at a distance and out of sight can hardly be expected to interest the sensations of the people. The inference is, that the authority of the Union, and the affections of the citizens towards it, will be strengthened, rather than weakened, by its extension to what are called matters of internal concern; and will have less occasion to recur to force, in proportion to the familiarity and comprehensiveness of its agency. The more it circulates through those channels and currents in which the passions of mankind naturally flow, the less will it require the aid of the violent and perilous expedients of compulsion.

One thing, at all events, must be evident, that a government like the one proposed would bid much fairer to avoid the necessity of using force, than that species of league contend for by most of its opponents; the authority of which should only operate upon the States in their political or collective capacities. It has been shown that in such a Confederacy there can be no sanction for the laws but force; that frequent delinquencies in the members are the natural offspring of the very frame of the government; and that as often as these happen, they can only be redressed, if at all, by war and violence.

The plan reported by the convention, by extending the authority of the federal head to the individual citizens of the several States, will enable the government to employ the ordinary magistracy of each, in the execution of its laws. It is easy to perceive that this will tend to destroy, in the common apprehension, all distinction between the sources from which they might proceed; and will give the federal government the same advantage for securing a due obedience to its authority which is enjoyed by the government of each State, in addition to the influence on public opinion which will result from the important consideration of its having power to call to its assistance and support the resources of the whole Union. It merits particular attention in this place, that the laws of the Confederacy, as to the ENUMERATED and LEGITIMATE objects of its jurisdiction, will become the SUPREME LAW of the land; to the observance of which all officers, legislative, executive, and judicial, in each State, will be bound by the sanctity of an oath. Thus the legislatures, courts, and magistrates, of the respective members, will be incorporated into the operations of the national government AS FAR AS ITS JUST AND CONSTITUTIONAL AUTHORITY EXTENDS; and will be rendered auxiliary to the enforcement of its laws. &lt;span class=&quot;footnote&quot; title=&quot;The sophistry which has been employed to show that this will tend to the destruction of the State governments, will, in its will, in its proper place, be fully detected.&quot;&gt;(1)&lt;/span&gt; Any man who will pursue, by his own reflections, the consequences of this situation, will perceive that there is good ground to calculate upon a regular and peaceable execution of the laws of the Union, if its powers are administered with a common share of prudence. If we will arbitrarily suppose the contrary, we may deduce any inferences we please from the supposition; for it is certainly possible, by an injudicious exercise of the authorities of the best government that ever was, or ever can be instituted, to provoke and precipitate the people into the wildest excesses. But though the adversaries of the proposed Constitution should presume that the national rulers would be insensible to the motives of public good, or to the obligations of duty, I would still ask them how the interests of ambition, or the views of encroachment, can be promoted by such a conduct?

PUBLIUS

''Footnote''

1. The sophistry which has been employed to show that this will tend to the destruction of the State governments, will, in its will, in its proper place, be fully detected.
</pre>
</div>
<div created="20150327190407069" modified="20150327190518100" tags="Hamilton [[Independent Journal]]" title="No. 28. The Same Subject Continued (The Idea of Restraining the Legislative Authority in Regard to the Common Defense Considered)">
<pre>''For the Independent Journal. Wednesday, December 26, 1787''

HAMILTON

To the People of the State of New York:

THAT there may happen cases in which the national government may be necessitated to resort to force, cannot be denied. Our own experience has corroborated the lessons taught by the examples of other nations; that emergencies of this sort will sometimes arise in all societies, however constituted; that seditions and insurrections are, unhappily, maladies as inseparable from the body politic as tumors and eruptions from the natural body; that the idea of governing at all times by the simple force of law (which we have been told is the only admissible principle of republican government), has no place but in the reveries of those political doctors whose sagacity disdains the admonitions of experimental instruction.

Should such emergencies at any time happen under the national government, there could be no remedy but force. The means to be employed must be proportioned to the extent of the mischief. If it should be a slight commotion in a small part of a State, the militia of the residue would be adequate to its suppression; and the national presumption is that they would be ready to do their duty. An insurrection, whatever may be its immediate cause, eventually endangers all government. Regard to the public peace, if not to the rights of the Union, would engage the citizens to whom the contagion had not communicated itself to oppose the insurgents; and if the general government should be found in practice conducive to the prosperity and felicity of the people, it were irrational to believe that they would be disinclined to its support.

If, on the contrary, the insurrection should pervade a whole State, or a principal part of it, the employment of a different kind of force might become unavoidable. It appears that Massachusetts found it necessary to raise troops for repressing the disorders within that State; that Pennsylvania, from the mere apprehension of commotions among a part of her citizens, has thought proper to have recourse to the same measure. Suppose the State of New York had been inclined to re-establish her lost jurisdiction over the inhabitants of Vermont, could she have hoped for success in such an enterprise from the efforts of the militia alone? Would she not have been compelled to raise and to maintain a more regular force for the execution of her design? If it must then be admitted that the necessity of recurring to a force different from the militia, in cases of this extraordinary nature, is applicable to the State governments themselves, why should the possibility, that the national government might be under a like necessity, in similar extremities, be made an objection to its existence? Is it not surprising that men who declare an attachment to the Union in the abstract, should urge as an objection to the proposed Constitution what applies with tenfold weight to the plan for which they contend; and what, as far as it has any foundation in truth, is an inevitable consequence of civil society upon an enlarged scale? Who would not prefer that possibility to the unceasing agitations and frequent revolutions which are the continual scourges of petty republics?

Let us pursue this examination in another light. Suppose, in lieu of one general system, two, or three, or even four Confederacies were to be formed, would not the same difficulty oppose itself to the operations of either of these Confederacies? Would not each of them be exposed to the same casualties; and when these happened, be obliged to have recourse to the same expedients for upholding its authority which are objected to in a government for all the States? Would the militia, in this supposition, be more ready or more able to support the federal authority than in the case of a general union? All candid and intelligent men must, upon due consideration, acknowledge that the principle of the objection is equally applicable to either of the two cases; and that whether we have one government for all the States, or different governments for different parcels of them, or even if there should be an entire separation of the States, there might sometimes be a necessity to make use of a force constituted differently from the militia, to preserve the peace of the community and to maintain the just authority of the laws against those violent invasions of them which amount to insurrections and rebellions.

Independent of all other reasonings upon the subject, it is a full answer to those who require a more peremptory provision against military establishments in time of peace, to say that the whole power of the proposed government is to be in the hands of the representatives of the people. This is the essential, and, after all, only efficacious security for the rights and privileges of the people, which is attainable in civil society. &lt;span class=&quot;footnote&quot; title=&quot;Its full efficacy will be examined hereafter.&quot;&gt;(1)&lt;/span&gt;

If the representatives of the people betray their constituents, there is then no resource left but in the exertion of that original right of self-defense which is paramount to all positive forms of government, and which against the usurpations of the national rulers, may be exerted with infinitely better prospect of success than against those of the rulers of an individual state. In a single state, if the persons intrusted with supreme power become usurpers, the different parcels, subdivisions, or districts of which it consists, having no distinct government in each, can take no regular measures for defense. The citizens must rush tumultuously to arms, without concert, without system, without resource; except in their courage and despair. The usurpers, clothed with the forms of legal authority, can too often crush the opposition in embryo. The smaller the extent of the territory, the more difficult will it be for the people to form a regular or systematic plan of opposition, and the more easy will it be to defeat their early efforts. Intelligence can be more speedily obtained of their preparations and movements, and the military force in the possession of the usurpers can be more rapidly directed against the part where the opposition has begun. In this situation there must be a peculiar coincidence of circumstances to insure success to the popular resistance.

The obstacles to usurpation and the facilities of resistance increase with the increased extent of the state, provided the citizens understand their rights and are disposed to defend them. The natural strength of the people in a large community, in proportion to the artificial strength of the government, is greater than in a small, and of course more competent to a struggle with the attempts of the government to establish a tyranny. But in a confederacy the people, without exaggeration, may be said to be entirely the masters of their own fate. Power being almost always the rival of power, the general government will at all times stand ready to check the usurpations of the state governments, and these will have the same disposition towards the general government. The people, by throwing themselves into either scale, will infallibly make it preponderate. If their rights are invaded by either, they can make use of the other as the instrument of redress. How wise will it be in them by cherishing the union to preserve to themselves an advantage which can never be too highly prized!

It may safely be received as an axiom in our political system, that the State governments will, in all possible contingencies, afford complete security against invasions of the public liberty by the national authority. Projects of usurpation cannot be masked under pretenses so likely to escape the penetration of select bodies of men, as of the people at large. The legislatures will have better means of information. They can discover the danger at a distance; and possessing all the organs of civil power, and the confidence of the people, they can at once adopt a regular plan of opposition, in which they can combine all the resources of the community. They can readily communicate with each other in the different States, and unite their common forces for the protection of their common liberty.

The great extent of the country is a further security. We have already experienced its utility against the attacks of a foreign power. And it would have precisely the same effect against the enterprises of ambitious rulers in the national councils. If the federal army should be able to quell the resistance of one State, the distant States would have it in their power to make head with fresh forces. The advantages obtained in one place must be abandoned to subdue the opposition in others; and the moment the part which had been reduced to submission was left to itself, its efforts would be renewed, and its resistance revive.

We should recollect that the extent of the military force must, at all events, be regulated by the resources of the country. For a long time to come, it will not be possible to maintain a large army; and as the means of doing this increase, the population and natural strength of the community will proportionably increase. When will the time arrive that the federal government can raise and maintain an army capable of erecting a despotism over the great body of the people of an immense empire, who are in a situation, through the medium of their State governments, to take measures for their own defense, with all the celerity, regularity, and system of independent nations? The apprehension may be considered as a disease, for which there can be found no cure in the resources of argument and reasoning.

PUBLIUS

''Footnote''

1. Its full efficacy will be examined hereafter.</pre>
</div>
<div created="20150327190634845" modified="20150327191013781" tags="Hamilton [[New York Packet]]" title="No. 29. Concerning the Militia">
<pre>''From the New York Packet. Wednesday, January 9, 1788''

HAMILTON

To the People of the State of New York:

THE power of regulating the militia, and of commanding its services in times of insurrection and invasion are natural incidents to the duties of superintending the common defense, and of watching over the internal peace of the Confederacy.

It requires no skill in the science of war to discern that uniformity in the organization and discipline of the militia would be attended with the most beneficial effects, whenever they were called into service for the public defense. It would enable them to discharge the duties of the camp and of the field with mutual intelligence and concert an advantage of peculiar moment in the operations of an army; and it would fit them much sooner to acquire the degree of proficiency in military functions which would be essential to their usefulness. This desirable uniformity can only be accomplished by confiding the regulation of the militia to the direction of the national authority. It is, therefore, with the most evident propriety, that the plan of the convention proposes to empower the Union &quot;to provide for organizing, arming, and disciplining the militia, and for governing such part of them as may be employed in the service of the United States, RESERVING TO THE STATES RESPECTIVELY THE APPOINTMENT OF THE OFFICERS, AND THE AUTHORITY OF TRAINING THE MILITIA ACCORDING TO THE DISCIPLINE PRESCRIBED BY CONGRESS.&quot;

Of the different grounds which have been taken in opposition to the plan of the convention, there is none that was so little to have been expected, or is so untenable in itself, as the one from which this particular provision has been attacked. If a well-regulated militia be the most natural defense of a free country, it ought certainly to be under the regulation and at the disposal of that body which is constituted the guardian of the national security. If standing armies are dangerous to liberty, an efficacious power over the militia, in the body to whose care the protection of the State is committed, ought, as far as possible, to take away the inducement and the pretext to such unfriendly institutions. If the federal government can command the aid of the militia in those emergencies which call for the military arm in support of the civil magistrate, it can the better dispense with the employment of a different kind of force. If it cannot avail itself of the former, it will be obliged to recur to the latter. To render an army unnecessary, will be a more certain method of preventing its existence than a thousand prohibitions upon paper.

In order to cast an odium upon the power of calling forth the militia to execute the laws of the Union, it has been remarked that there is nowhere any provision in the proposed Constitution for calling out the POSSE COMITATUS, to assist the magistrate in the execution of his duty, whence it has been inferred, that military force was intended to be his only auxiliary. There is a striking incoherence in the objections which have appeared, and sometimes even from the same quarter, not much calculated to inspire a very favorable opinion of the sincerity or fair dealing of their authors. The same persons who tell us in one breath, that the powers of the federal government will be despotic and unlimited, inform us in the next, that it has not authority sufficient even to call out the POSSE COMITATUS. The latter, fortunately, is as much short of the truth as the former exceeds it. It would be as absurd to doubt, that a right to pass all laws NECESSARY AND PROPER to execute its declared powers, would include that of requiring the assistance of the citizens to the officers who may be intrusted with the execution of those laws, as it would be to believe, that a right to enact laws necessary and proper for the imposition and collection of taxes would involve that of varying the rules of descent and of the alienation of landed property, or of abolishing the trial by jury in cases relating to it. It being therefore evident that the supposition of a want of power to require the aid of the POSSE COMITATUS is entirely destitute of color, it will follow, that the conclusion which has been drawn from it, in its application to the authority of the federal government over the militia, is as uncandid as it is illogical. What reason could there be to infer, that force was intended to be the sole instrument of authority, merely because there is a power to make use of it when necessary? What shall we think of the motives which could induce men of sense to reason in this manner? How shall we prevent a conflict between charity and conviction?

By a curious refinement upon the spirit of republican jealousy, we are even taught to apprehend danger from the militia itself, in the hands of the federal government. It is observed that select corps may be formed, composed of the young and ardent, who may be rendered subservient to the views of arbitrary power. What plan for the regulation of the militia may be pursued by the national government, is impossible to be foreseen. But so far from viewing the matter in the same light with those who object to select corps as dangerous, were the Constitution ratified, and were I to deliver my sentiments to a member of the federal legislature from this State on the subject of a militia establishment, I should hold to him, in substance, the following discourse:

&quot;The project of disciplining all the militia of the United States is as futile as it would be injurious, if it were capable of being carried into execution. A tolerable expertness in military movements is a business that requires time and practice. It is not a day, or even a week, that will suffice for the attainment of it. To oblige the great body of the yeomanry, and of the other classes of the citizens, to be under arms for the purpose of going through military exercises and evolutions, as often as might be necessary to acquire the degree of perfection which would entitle them to the character of a well-regulated militia, would be a real grievance to the people, and a serious public inconvenience and loss. It would form an annual deduction from the productive labor of the country, to an amount which, calculating upon the present numbers of the people, would not fall far short of the whole expense of the civil establishments of all the States. To attempt a thing which would abridge the mass of labor and industry to so considerable an extent, would be unwise: and the experiment, if made, could not succeed, because it would not long be endured. Little more can reasonably be aimed at, with respect to the people at large, than to have them properly armed and equipped; and in order to see that this be not neglected, it will be necessary to assemble them once or twice in the course of a year.

&quot;But though the scheme of disciplining the whole nation must be abandoned as mischievous or impracticable; yet it is a matter of the utmost importance that a well-digested plan should, as soon as possible, be adopted for the proper establishment of the militia. The attention of the government ought particularly to be directed to the formation of a select corps of moderate extent, upon such principles as will really fit them for service in case of need. By thus circumscribing the plan, it will be possible to have an excellent body of well-trained militia, ready to take the field whenever the defense of the State shall require it. This will not only lessen the call for military establishments, but if circumstances should at any time oblige the government to form an army of any magnitude that army can never be formidable to the liberties of the people while there is a large body of citizens, little, if at all, inferior to them in discipline and the use of arms, who stand ready to defend their own rights and those of their fellow-citizens. This appears to me the only substitute that can be devised for a standing army, and the best possible security against it, if it should exist.&quot;

Thus differently from the adversaries of the proposed Constitution should I reason on the same subject, deducing arguments of safety from the very sources which they represent as fraught with danger and perdition. But how the national legislature may reason on the point, is a thing which neither they nor I can foresee.

There is something so far-fetched and so extravagant in the idea of danger to liberty from the militia, that one is at a loss whether to treat it with gravity or with raillery; whether to consider it as a mere trial of skill, like the paradoxes of rhetoricians; as a disingenuous artifice to instil prejudices at any price; or as the serious offspring of political fanaticism. Where in the name of common-sense, are our fears to end if we may not trust our sons, our brothers, our neighbors, our fellow-citizens? What shadow of danger can there be from men who are daily mingling with the rest of their countrymen and who participate with them in the same feelings, sentiments, habits and interests? What reasonable cause of apprehension can be inferred from a power in the Union to prescribe regulations for the militia, and to command its services when necessary, while the particular States are to have the SOLE AND EXCLUSIVE APPOINTMENT OF THE OFFICERS? If it were possible seriously to indulge a jealousy of the militia upon any conceivable establishment under the federal government, the circumstance of the officers being in the appointment of the States ought at once to extinguish it. There can be no doubt that this circumstance will always secure to them a preponderating influence over the militia.

In reading many of the publications against the Constitution, a man is apt to imagine that he is perusing some ill-written tale or romance, which instead of natural and agreeable images, exhibits to the mind nothing but frightful and distorted shapes—

&gt; //&quot;Gorgons, hydras, and chimeras dire&quot;;//

discoloring and disfiguring whatever it represents, and transforming everything it touches into a monster.

A sample of this is to be observed in the exaggerated and improbable suggestions which have taken place respecting the power of calling for the services of the militia. That of New Hampshire is to be marched to Georgia, of Georgia to New Hampshire, of New York to Kentucky, and of Kentucky to Lake Champlain. Nay, the debts due to the French and Dutch are to be paid in militiamen instead of louis d'ors and ducats. At one moment there is to be a large army to lay prostrate the liberties of the people; at another moment the militia of Virginia are to be dragged from their homes five or six hundred miles, to tame the republican contumacy of Massachusetts; and that of Massachusetts is to be transported an equal distance to subdue the refractory haughtiness of the aristocratic Virginians. Do the persons who rave at this rate imagine that their art or their eloquence can impose any conceits or absurdities upon the people of America for infallible truths?

If there should be an army to be made use of as the engine of despotism, what need of the militia? If there should be no army, whither would the militia, irritated by being called upon to undertake a distant and hopeless expedition, for the purpose of riveting the chains of slavery upon a part of their countrymen, direct their course, but to the seat of the tyrants, who had meditated so foolish as well as so wicked a project, to crush them in their imagined intrenchments of power, and to make them an example of the just vengeance of an abused and incensed people? Is this the way in which usurpers stride to dominion over a numerous and enlightened nation? Do they begin by exciting the detestation of the very instruments of their intended usurpations? Do they usually commence their career by wanton and disgustful acts of power, calculated to answer no end, but to draw upon themselves universal hatred and execration? Are suppositions of this sort the sober admonitions of discerning patriots to a discerning people? Or are they the inflammatory ravings of incendiaries or distempered enthusiasts? If we were even to suppose the national rulers actuated by the most ungovernable ambition, it is impossible to believe that they would employ such preposterous means to accomplish their designs.

In times of insurrection, or invasion, it would be natural and proper that the militia of a neighboring State should be marched into another, to resist a common enemy, or to guard the republic against the violence of faction or sedition. This was frequently the case, in respect to the first object, in the course of the late war; and this mutual succor is, indeed, a principal end of our political association. If the power of affording it be placed under the direction of the Union, there will be no danger of a supine and listless inattention to the dangers of a neighbor, till its near approach had superadded the incitements of self-preservation to the too feeble impulses of duty and sympathy.

PUBLIUS</pre>
</div>
<div created="20150327162540214" modified="20150327174335232" tags="Jay [[Independent Journal]]" title="No. 3. The Same Subject Continued (Concerning Dangers From Foreign Force and Influence)">
<pre>''For the Independent Journal. Saturday, November 3, 1787''

JAY

To the People of the State of New York:

IT IS not a new observation that the people of any country (if, like the Americans, intelligent and wellinformed) seldom adopt and steadily persevere for many years in an erroneous opinion respecting their interests. That consideration naturally tends to create great respect for the high opinion which the people of America have so long and uniformly entertained of the importance of their continuing firmly united under one federal government, vested with sufficient powers for all general and national purposes.

The more attentively I consider and investigate the reasons which appear to have given birth to this opinion, the more I become convinced that they are cogent and conclusive.

Among the many objects to which a wise and free people find it necessary to direct their attention, that of providing for their SAFETY seems to be the first. The SAFETY of the people doubtless has relation to a great variety of circumstances and considerations, and consequently affords great latitude to those who wish to define it precisely and comprehensively.

At present I mean only to consider it as it respects security for the preservation of peace and tranquillity, as well as against dangers from FOREIGN ARMS AND INFLUENCE, as from dangers of the LIKE KIND arising from domestic causes. As the former of these comes first in order, it is proper it should be the first discussed. Let us therefore proceed to examine whether the people are not right in their opinion that a cordial Union, under an efficient national government, affords them the best security that can be devised against HOSTILITIES from abroad.

The number of wars which have happened or will happen in the world will always be found to be in proportion to the number and weight of the causes, whether REAL or PRETENDED, which PROVOKE or INVITE them. If this remark be just, it becomes useful to inquire whether so many JUST causes of war are likely to be given by UNITED AMERICA as by DISUNITED America; for if it should turn out that United America will probably give the fewest, then it will follow that in this respect the Union tends most to preserve the people in a state of peace with other nations.

The JUST causes of war, for the most part, arise either from violation of treaties or from direct violence. America has already formed treaties with no less than six foreign nations, and all of them, except Prussia, are maritime, and therefore able to annoy and injure us. She has also extensive commerce with Portugal, Spain, and Britain, and, with respect to the two latter, has, in addition, the circumstance of neighborhood to attend to.

It is of high importance to the peace of America that she observe the laws of nations towards all these powers, and to me it appears evident that this will be more perfectly and punctually done by one national government than it could be either by thirteen separate States or by three or four distinct confederacies.

Because when once an efficient national government is established, the best men in the country will not only consent to serve, but also will generally be appointed to manage it; for, although town or country, or other contracted influence, may place men in State assemblies, or senates, or courts of justice, or executive departments, yet more general and extensive reputation for talents and other qualifications will be necessary to recommend men to offices under the national government,—especially as it will have the widest field for choice, and never experience that want of proper persons which is not uncommon in some of the States. Hence, it will result that the administration, the political counsels, and the judicial decisions of the national government will be more wise, systematical, and judicious than those of individual States, and consequently more satisfactory with respect to other nations, as well as more SAFE with respect to us.

Because, under the national government, treaties and articles of treaties, as well as the laws of nations, will always be expounded in one sense and executed in the same manner,—whereas, adjudications on the same points and questions, in thirteen States, or in three or four confederacies, will not always accord or be consistent; and that, as well from the variety of independent courts and judges appointed by different and independent governments, as from the different local laws and interests which may affect and influence them. The wisdom of the convention, in committing such questions to the jurisdiction and judgment of courts appointed by and responsible only to one national government, cannot be too much commended.

Because the prospect of present loss or advantage may often tempt the governing party in one or two States to swerve from good faith and justice; but those temptations, not reaching the other States, and consequently having little or no influence on the national government, the temptation will be fruitless, and good faith and justice be preserved. The case of the treaty of peace with Britain adds great weight to this reasoning.

Because, even if the governing party in a State should be disposed to resist such temptations, yet as such temptations may, and commonly do, result from circumstances peculiar to the State, and may affect a great number of the inhabitants, the governing party may not always be able, if willing, to prevent the injustice meditated, or to punish the aggressors. But the national government, not being affected by those local circumstances, will neither be induced to commit the wrong themselves, nor want power or inclination to prevent or punish its commission by others.

So far, therefore, as either designed or accidental violations of treaties and the laws of nations afford JUST causes of war, they are less to be apprehended under one general government than under several lesser ones, and in that respect the former most favors the SAFETY of the people.

As to those just causes of war which proceed from direct and unlawful violence, it appears equally clear to me that one good national government affords vastly more security against dangers of that sort than can be derived from any other quarter.

Because such violences are more frequently caused by the passions and interests of a part than of the whole; of one or two States than of the Union. Not a single Indian war has yet been occasioned by aggressions of the present federal government, feeble as it is; but there are several instances of Indian hostilities having been provoked by the improper conduct of individual States, who, either unable or unwilling to restrain or punish offenses, have given occasion to the slaughter of many innocent inhabitants.

The neighborhood of Spanish and British territories, bordering on some States and not on others, naturally confines the causes of quarrel more immediately to the borderers. The bordering States, if any, will be those who, under the impulse of sudden irritation, and a quick sense of apparent interest or injury, will be most likely, by direct violence, to excite war with these nations; and nothing can so effectually obviate that danger as a national government, whose wisdom and prudence will not be diminished by the passions which actuate the parties immediately interested.

But not only fewer just causes of war will be given by the national government, but it will also be more in their power to accommodate and settle them amicably. They will be more temperate and cool, and in that respect, as well as in others, will be more in capacity to act advisedly than the offending State. The pride of states, as well as of men, naturally disposes them to justify all their actions, and opposes their acknowledging, correcting, or repairing their errors and offenses. The national government, in such cases, will not be affected by this pride, but will proceed with moderation and candor to consider and decide on the means most proper to extricate them from the difficulties which threaten them.

Besides, it is well known that acknowledgments, explanations, and compensations are often accepted as satisfactory from a strong united nation, which would be rejected as unsatisfactory if offered by a State or confederacy of little consideration or power.

In the year 1685, the state of Genoa having offended Louis XIV., endeavored to appease him. He demanded that they should send their Doge, or chief magistrate, accompanied by four of their senators, to FRANCE, to ask his pardon and receive his terms. They were obliged to submit to it for the sake of peace. Would he on any occasion either have demanded or have received the like humiliation from Spain, or Britain, or any other POWERFUL nation?

PUBLIUS</pre>
</div>
<div created="20150327191228663" modified="20150327191306845" tags="Hamilton [[New York Packet]]" title="No. 30. Concerning the General Power of Taxation">
<pre>''From the New York Packet. Friday, December 28, 1787.''

HAMILTON

To the People of the State of New York:

IT HAS been already observed that the federal government ought to possess the power of providing for the support of the national forces; in which proposition was intended to be included the expense of raising troops, of building and equipping fleets, and all other expenses in any wise connected with military arrangements and operations. But these are not the only objects to which the jurisdiction of the Union, in respect to revenue, must necessarily be empowered to extend. It must embrace a provision for the support of the national civil list; for the payment of the national debts contracted, or that may be contracted; and, in general, for all those matters which will call for disbursements out of the national treasury. The conclusion is, that there must be interwoven, in the frame of the government, a general power of taxation, in one shape or another.

Money is, with propriety, considered as the vital principle of the body politic; as that which sustains its life and motion, and enables it to perform its most essential functions. A complete power, therefore, to procure a regular and adequate supply of it, as far as the resources of the community will permit, may be regarded as an indispensable ingredient in every constitution. From a deficiency in this particular, one of two evils must ensue; either the people must be subjected to continual plunder, as a substitute for a more eligible mode of supplying the public wants, or the government must sink into a fatal atrophy, and, in a short course of time, perish.

In the Ottoman or Turkish empire, the sovereign, though in other respects absolute master of the lives and fortunes of his subjects, has no right to impose a new tax. The consequence is that he permits the bashaws or governors of provinces to pillage the people without mercy; and, in turn, squeezes out of them the sums of which he stands in need, to satisfy his own exigencies and those of the state. In America, from a like cause, the government of the Union has gradually dwindled into a state of decay, approaching nearly to annihilation. Who can doubt, that the happiness of the people in both countries would be promoted by competent authorities in the proper hands, to provide the revenues which the necessities of the public might require?

The present Confederation, feeble as it is intended to repose in the United States, an unlimited power of providing for the pecuniary wants of the Union. But proceeding upon an erroneous principle, it has been done in such a manner as entirely to have frustrated the intention. Congress, by the articles which compose that compact (as has already been stated), are authorized to ascertain and call for any sums of money necessary, in their judgment, to the service of the United States; and their requisitions, if conformable to the rule of apportionment, are in every constitutional sense obligatory upon the States. These have no right to question the propriety of the demand; no discretion beyond that of devising the ways and means of furnishing the sums demanded. But though this be strictly and truly the case; though the assumption of such a right would be an infringement of the articles of Union; though it may seldom or never have been avowedly claimed, yet in practice it has been constantly exercised, and would continue to be so, as long as the revenues of the Confederacy should remain dependent on the intermediate agency of its members. What the consequences of this system have been, is within the knowledge of every man the least conversant in our public affairs, and has been amply unfolded in different parts of these inquiries. It is this which has chiefly contributed to reduce us to a situation, which affords ample cause both of mortification to ourselves, and of triumph to our enemies.

What remedy can there be for this situation, but in a change of the system which has produced it in a change of the fallacious and delusive system of quotas and requisitions? What substitute can there be imagined for this ignis fatuus in finance, but that of permitting the national government to raise its own revenues by the ordinary methods of taxation authorized in every well-ordered constitution of civil government? Ingenious men may declaim with plausibility on any subject; but no human ingenuity can point out any other expedient to rescue us from the inconveniences and embarrassments naturally resulting from defective supplies of the public treasury.

The more intelligent adversaries of the new Constitution admit the force of this reasoning; but they qualify their admission by a distinction between what they call INTERNAL and EXTERNAL taxation. The former they would reserve to the State governments; the latter, which they explain into commercial imposts, or rather duties on imported articles, they declare themselves willing to concede to the federal head. This distinction, however, would violate the maxim of good sense and sound policy, which dictates that every POWER ought to be in proportion to its OBJECT; and would still leave the general government in a kind of tutelage to the State governments, inconsistent with every idea of vigor or efficiency. Who can pretend that commercial imposts are, or would be, alone equal to the present and future exigencies of the Union? Taking into the account the existing debt, foreign and domestic, upon any plan of extinguishment which a man moderately impressed with the importance of public justice and public credit could approve, in addition to the establishments which all parties will acknowledge to be necessary, we could not reasonably flatter ourselves, that this resource alone, upon the most improved scale, would even suffice for its present necessities. Its future necessities admit not of calculation or limitation; and upon the principle, more than once adverted to, the power of making provision for them as they arise ought to be equally unconfined. I believe it may be regarded as a position warranted by the history of mankind, that, IN THE USUAL PROGRESS OF THINGS, THE NECESSITIES OF A NATION, IN EVERY STAGE OF ITS EXISTENCE, WILL BE FOUND AT LEAST EQUAL TO ITS RESOURCES.

To say that deficiencies may be provided for by requisitions upon the States, is on the one hand to acknowledge that this system cannot be depended upon, and on the other hand to depend upon it for every thing beyond a certain limit. Those who have carefully attended to its vices and deformities as they have been exhibited by experience or delineated in the course of these papers, must feel invincible repugnancy to trusting the national interests in any degree to its operation. Its inevitable tendency, whenever it is brought into activity, must be to enfeeble the Union, and sow the seeds of discord and contention between the federal head and its members, and between the members themselves. Can it be expected that the deficiencies would be better supplied in this mode than the total wants of the Union have heretofore been supplied in the same mode? It ought to be recollected that if less will be required from the States, they will have proportionably less means to answer the demand. If the opinions of those who contend for the distinction which has been mentioned were to be received as evidence of truth, one would be led to conclude that there was some known point in the economy of national affairs at which it would be safe to stop and to say: Thus far the ends of public happiness will be promoted by supplying the wants of government, and all beyond this is unworthy of our care or anxiety. How is it possible that a government half supplied and always necessitous, can fulfill the purposes of its institution, can provide for the security, advance the prosperity, or support the reputation of the commonwealth? How can it ever possess either energy or stability, dignity or credit, confidence at home or respectability abroad? How can its administration be any thing else than a succession of expedients temporizing, impotent, disgraceful? How will it be able to avoid a frequent sacrifice of its engagements to immediate necessity? How can it undertake or execute any liberal or enlarged plans of public good?

Let us attend to what would be the effects of this situation in the very first war in which we should happen to be engaged. We will presume, for argument's sake, that the revenue arising from the impost duties answers the purposes of a provision for the public debt and of a peace establishment for the Union. Thus circumstanced, a war breaks out. What would be the probable conduct of the government in such an emergency? Taught by experience that proper dependence could not be placed on the success of requisitions, unable by its own authority to lay hold of fresh resources, and urged by considerations of national danger, would it not be driven to the expedient of diverting the funds already appropriated from their proper objects to the defense of the State? It is not easy to see how a step of this kind could be avoided; and if it should be taken, it is evident that it would prove the destruction of public credit at the very moment that it was becoming essential to the public safety. To imagine that at such a crisis credit might be dispensed with, would be the extreme of infatuation. In the modern system of war, nations the most wealthy are obliged to have recourse to large loans. A country so little opulent as ours must feel this necessity in a much stronger degree. But who would lend to a government that prefaced its overtures for borrowing by an act which demonstrated that no reliance could be placed on the steadiness of its measures for paying? The loans it might be able to procure would be as limited in their extent as burdensome in their conditions. They would be made upon the same principles that usurers commonly lend to bankrupt and fraudulent debtors, with a sparing hand and at enormous premiums.

It may perhaps be imagined that, from the scantiness of the resources of the country, the necessity of diverting the established funds in the case supposed would exist, though the national government should possess an unrestrained power of taxation. But two considerations will serve to quiet all apprehension on this head: one is, that we are sure the resources of the community, in their full extent, will be brought into activity for the benefit of the Union; the other is, that whatever deficiences there may be, can without difficulty be supplied by loans.

The power of creating new funds upon new objects of taxation, by its own authority, would enable the national government to borrow as far as its necessities might require. Foreigners, as well as the citizens of America, could then reasonably repose confidence in its engagements; but to depend upon a government that must itself depend upon thirteen other governments for the means of fulfilling its contracts, when once its situation is clearly understood, would require a degree of credulity not often to be met with in the pecuniary transactions of mankind, and little reconcilable with the usual sharp-sightedness of avarice.

Reflections of this kind may have trifling weight with men who hope to see realized in America the halcyon scenes of the poetic or fabulous age; but to those who believe we are likely to experience a common portion of the vicissitudes and calamities which have fallen to the lot of other nations, they must appear entitled to serious attention. Such men must behold the actual situation of their country with painful solicitude, and deprecate the evils which ambition or revenge might, with too much facility, inflict upon it.

PUBLIUS</pre>
</div>
<div created="20150327191432101" modified="20150327191505581" tags="Hamilton [[New York Packet]]" title="No. 31. The Same Subject Continued (Concerning the General Power of Taxation)">
<pre>''From the New York Packet. Tuesday, January 1, 1788.''

HAMILTON

To the People of the State of New York:

IN DISQUISITIONS of every kind, there are certain primary truths, or first principles, upon which all subsequent reasonings must depend. These contain an internal evidence which, antecedent to all reflection or combination, commands the assent of the mind. Where it produces not this effect, it must proceed either from some defect or disorder in the organs of perception, or from the influence of some strong interest, or passion, or prejudice. Of this nature are the maxims in geometry, that &quot;the whole is greater than its part; things equal to the same are equal to one another; two straight lines cannot enclose a space; and all right angles are equal to each other.&quot; Of the same nature are these other maxims in ethics and politics, that there cannot be an effect without a cause; that the means ought to be proportioned to the end; that every power ought to be commensurate with its object; that there ought to be no limitation of a power destined to effect a purpose which is itself incapable of limitation. And there are other truths in the two latter sciences which, if they cannot pretend to rank in the class of axioms, are yet such direct inferences from them, and so obvious in themselves, and so agreeable to the natural and unsophisticated dictates of common-sense, that they challenge the assent of a sound and unbiased mind, with a degree of force and conviction almost equally irresistible.

The objects of geometrical inquiry are so entirely abstracted from those pursuits which stir up and put in motion the unruly passions of the human heart, that mankind, without difficulty, adopt not only the more simple theorems of the science, but even those abstruse paradoxes which, however they may appear susceptible of demonstration, are at variance with the natural conceptions which the mind, without the aid of philosophy, would be led to entertain upon the subject. The INFINITE DIVISIBILITY of matter, or, in other words, the INFINITE divisibility of a FINITE thing, extending even to the minutest atom, is a point agreed among geometricians, though not less incomprehensible to common-sense than any of those mysteries in religion, against which the batteries of infidelity have been so industriously leveled.

But in the sciences of morals and politics, men are found far less tractable. To a certain degree, it is right and useful that this should be the case. Caution and investigation are a necessary armor against error and imposition. But this untractableness may be carried too far, and may degenerate into obstinacy, perverseness, or disingenuity. Though it cannot be pretended that the principles of moral and political knowledge have, in general, the same degree of certainty with those of the mathematics, yet they have much better claims in this respect than, to judge from the conduct of men in particular situations, we should be disposed to allow them. The obscurity is much oftener in the passions and prejudices of the reasoner than in the subject. Men, upon too many occasions, do not give their own understandings fair play; but, yielding to some untoward bias, they entangle themselves in words and confound themselves in subtleties.

How else could it happen (if we admit the objectors to be sincere in their opposition), that positions so clear as those which manifest the necessity of a general power of taxation in the government of the Union, should have to encounter any adversaries among men of discernment? Though these positions have been elsewhere fully stated, they will perhaps not be improperly recapitulated in this place, as introductory to an examination of what may have been offered by way of objection to them. They are in substance as follows:

A government ought to contain in itself every power requisite to the full accomplishment of the objects committed to its care, and to the complete execution of the trusts for which it is responsible, free from every other control but a regard to the public good and to the sense of the people.

As the duties of superintending the national defense and of securing the public peace against foreign or domestic violence involve a provision for casualties and dangers to which no possible limits can be assigned, the power of making that provision ought to know no other bounds than the exigencies of the nation and the resources of the community.

As revenue is the essential engine by which the means of answering the national exigencies must be procured, the power of procuring that article in its full extent must necessarily be comprehended in that of providing for those exigencies.

As theory and practice conspire to prove that the power of procuring revenue is unavailing when exercised over the States in their collective capacities, the federal government must of necessity be invested with an unqualified power of taxation in the ordinary modes.

Did not experience evince the contrary, it would be natural to conclude that the propriety of a general power of taxation in the national government might safely be permitted to rest on the evidence of these propositions, unassisted by any additional arguments or illustrations. But we find, in fact, that the antagonists of the proposed Constitution, so far from acquiescing in their justness or truth, seem to make their principal and most zealous effort against this part of the plan. It may therefore be satisfactory to analyze the arguments with which they combat it.

Those of them which have been most labored with that view, seem in substance to amount to this: &quot;It is not true, because the exigencies of the Union may not be susceptible of limitation, that its power of laying taxes ought to be unconfined. Revenue is as requisite to the purposes of the local administrations as to those of the Union; and the former are at least of equal importance with the latter to the happiness of the people. It is, therefore, as necessary that the State governments should be able to command the means of supplying their wants, as that the national government should possess the like faculty in respect to the wants of the Union. But an indefinite power of taxation in the LATTER might, and probably would in time, deprive the FORMER of the means of providing for their own necessities; and would subject them entirely to the mercy of the national legislature. As the laws of the Union are to become the supreme law of the land, as it is to have power to pass all laws that may be NECESSARY for carrying into execution the authorities with which it is proposed to vest it, the national government might at any time abolish the taxes imposed for State objects upon the pretense of an interference with its own. It might allege a necessity of doing this in order to give efficacy to the national revenues. And thus all the resources of taxation might by degrees become the subjects of federal monopoly, to the entire exclusion and destruction of the State governments.&quot;

This mode of reasoning appears sometimes to turn upon the supposition of usurpation in the national government; at other times it seems to be designed only as a deduction from the constitutional operation of its intended powers. It is only in the latter light that it can be admitted to have any pretensions to fairness. The moment we launch into conjectures about the usurpations of the federal government, we get into an unfathomable abyss, and fairly put ourselves out of the reach of all reasoning. Imagination may range at pleasure till it gets bewildered amidst the labyrinths of an enchanted castle, and knows not on which side to turn to extricate itself from the perplexities into which it has so rashly adventured. Whatever may be the limits or modifications of the powers of the Union, it is easy to imagine an endless train of possible dangers; and by indulging an excess of jealousy and timidity, we may bring ourselves to a state of absolute scepticism and irresolution. I repeat here what I have observed in substance in another place, that all observations founded upon the danger of usurpation ought to be referred to the composition and structure of the government, not to the nature or extent of its powers. The State governments, by their original constitutions, are invested with complete sovereignty. In what does our security consist against usurpation from that quarter? Doubtless in the manner of their formation, and in a due dependence of those who are to administer them upon the people. If the proposed construction of the federal government be found, upon an impartial examination of it, to be such as to afford, to a proper extent, the same species of security, all apprehensions on the score of usurpation ought to be discarded.

It should not be forgotten that a disposition in the State governments to encroach upon the rights of the Union is quite as probable as a disposition in the Union to encroach upon the rights of the State governments. What side would be likely to prevail in such a conflict, must depend on the means which the contending parties could employ toward insuring success. As in republics strength is always on the side of the people, and as there are weighty reasons to induce a belief that the State governments will commonly possess most influence over them, the natural conclusion is that such contests will be most apt to end to the disadvantage of the Union; and that there is greater probability of encroachments by the members upon the federal head, than by the federal head upon the members. But it is evident that all conjectures of this kind must be extremely vague and fallible: and that it is by far the safest course to lay them altogether aside, and to confine our attention wholly to the nature and extent of the powers as they are delineated in the Constitution. Every thing beyond this must be left to the prudence and firmness of the people; who, as they will hold the scales in their own hands, it is to be hoped, will always take care to preserve the constitutional equilibrium between the general and the State governments. Upon this ground, which is evidently the true one, it will not be difficult to obviate the objections which have been made to an indefinite power of taxation in the United States.

PUBLIUS</pre>
</div>
<div created="20150327191628207" modified="20150327191656933" tags="Hamilton [[Independent Journal]]" title="No. 32. The Same Subject Continued (Concerning the General Power of Taxation)">
<pre>''From The Independent Journal. Wednesday, January 2, 1788.''

HAMILTON

To the People of the State of New York:

ALTHOUGH I am of opinion that there would be no real danger of the consequences which seem to be apprehended to the State governments from a power in the Union to control them in the levies of money, because I am persuaded that the sense of the people, the extreme hazard of provoking the resentments of the State governments, and a conviction of the utility and necessity of local administrations for local purposes, would be a complete barrier against the oppressive use of such a power; yet I am willing here to allow, in its full extent, the justness of the reasoning which requires that the individual States should possess an independent and uncontrollable authority to raise their own revenues for the supply of their own wants. And making this concession, I affirm that (with the sole exception of duties on imports and exports) they would, under the plan of the convention, retain that authority in the most absolute and unqualified sense; and that an attempt on the part of the national government to abridge them in the exercise of it, would be a violent assumption of power, unwarranted by any article or clause of its Constitution.

An entire consolidation of the States into one complete national sovereignty would imply an entire subordination of the parts; and whatever powers might remain in them, would be altogether dependent on the general will. But as the plan of the convention aims only at a partial union or consolidation, the State governments would clearly retain all the rights of sovereignty which they before had, and which were not, by that act, EXCLUSIVELY delegated to the United States. This exclusive delegation, or rather this alienation, of State sovereignty, would only exist in three cases: where the Constitution in express terms granted an exclusive authority to the Union; where it granted in one instance an authority to the Union, and in another prohibited the States from exercising the like authority; and where it granted an authority to the Union, to which a similar authority in the States would be absolutely and totally CONTRADICTORY and REPUGNANT. I use these terms to distinguish this last case from another which might appear to resemble it, but which would, in fact, be essentially different; I mean where the exercise of a concurrent jurisdiction might be productive of occasional interferences in the POLICY of any branch of administration, but would not imply any direct contradiction or repugnancy in point of constitutional authority. These three cases of exclusive jurisdiction in the federal government may be exemplified by the following instances: The last clause but one in the eighth section of the first article provides expressly that Congress shall exercise &quot;EXCLUSIVE LEGISLATION&quot; over the district to be appropriated as the seat of government. This answers to the first case. The first clause of the same section empowers Congress &quot;to lay and collect taxes, duties, imposts and excises&quot;; and the second clause of the tenth section of the same article declares that, &quot;NO STATE SHALL, without the consent of Congress, lay any imposts or duties on imports or exports, except for the purpose of executing its inspection laws.&quot; Hence would result an exclusive power in the Union to lay duties on imports and exports, with the particular exception mentioned; but this power is abridged by another clause, which declares that no tax or duty shall be laid on articles exported from any State; in consequence of which qualification, it now only extends to the DUTIES ON IMPORTS. This answers to the second case. The third will be found in that clause which declares that Congress shall have power &quot;to establish an UNIFORM RULE of naturalization throughout the United States.&quot; This must necessarily be exclusive; because if each State had power to prescribe a DISTINCT RULE, there could not be a UNIFORM RULE.

A case which may perhaps be thought to resemble the latter, but which is in fact widely different, affects the question immediately under consideration. I mean the power of imposing taxes on all articles other than exports and imports. This, I contend, is manifestly a concurrent and coequal authority in the United States and in the individual States. There is plainly no expression in the granting clause which makes that power EXCLUSIVE in the Union. There is no independent clause or sentence which prohibits the States from exercising it. So far is this from being the case, that a plain and conclusive argument to the contrary is to be deduced from the restraint laid upon the States in relation to duties on imports and exports. This restriction implies an admission that, if it were not inserted, the States would possess the power it excludes; and it implies a further admission, that as to all other taxes, the authority of the States remains undiminished. In any other view it would be both unnecessary and dangerous; it would be unnecessary, because if the grant to the Union of the power of laying such duties implied the exclusion of the States, or even their subordination in this particular, there could be no need of such a restriction; it would be dangerous, because the introduction of it leads directly to the conclusion which has been mentioned, and which, if the reasoning of the objectors be just, could not have been intended; I mean that the States, in all cases to which the restriction did not apply, would have a concurrent power of taxation with the Union. The restriction in question amounts to what lawyers call a NEGATIVE PREGNANT that is, a NEGATION of one thing, and an AFFIRMANCE of another; a negation of the authority of the States to impose taxes on imports and exports, and an affirmance of their authority to impose them on all other articles. It would be mere sophistry to argue that it was meant to exclude them ABSOLUTELY from the imposition of taxes of the former kind, and to leave them at liberty to lay others SUBJECT TO THE CONTROL of the national legislature. The restraining or prohibitory clause only says, that they shall not, WITHOUT THE CONSENT OF CONGRESS, lay such duties; and if we are to understand this in the sense last mentioned, the Constitution would then be made to introduce a formal provision for the sake of a very absurd conclusion; which is, that the States, WITH THE CONSENT of the national legislature, might tax imports and exports; and that they might tax every other article, UNLESS CONTROLLED by the same body. If this was the intention, why not leave it, in the first instance, to what is alleged to be the natural operation of the original clause, conferring a general power of taxation upon the Union? It is evident that this could not have been the intention, and that it will not bear a construction of the kind.

As to a supposition of repugnancy between the power of taxation in the States and in the Union, it cannot be supported in that sense which would be requisite to work an exclusion of the States. It is, indeed, possible that a tax might be laid on a particular article by a State which might render it INEXPEDIENT that thus a further tax should be laid on the same article by the Union; but it would not imply a constitutional inability to impose a further tax. The quantity of the imposition, the expediency or inexpediency of an increase on either side, would be mutually questions of prudence; but there would be involved no direct contradiction of power. The particular policy of the national and of the State systems of finance might now and then not exactly coincide, and might require reciprocal forbearances. It is not, however a mere possibility of inconvenience in the exercise of powers, but an immediate constitutional repugnancy that can by implication alienate and extinguish a pre-existing right of sovereignty.

The necessity of a concurrent jurisdiction in certain cases results from the division of the sovereign power; and the rule that all authorities, of which the States are not explicitly divested in favor of the Union, remain with them in full vigor, is not a theoretical consequence of that division, but is clearly admitted by the whole tenor of the instrument which contains the articles of the proposed Constitution. We there find that, notwithstanding the affirmative grants of general authorities, there has been the most pointed care in those cases where it was deemed improper that the like authorities should reside in the States, to insert negative clauses prohibiting the exercise of them by the States. The tenth section of the first article consists altogether of such provisions. This circumstance is a clear indication of the sense of the convention, and furnishes a rule of interpretation out of the body of the act, which justifies the position I have advanced and refutes every hypothesis to the contrary.

PUBLIUS</pre>
</div>
<div created="20150327191720278" modified="20150327191751765" tags="Hamilton [[Independent Journal]]" title="No. 33. The Same Subject Continued (Concerning the General Power of Taxation)">
<pre>''From The Independent Journal. Wednesday, January 2, 1788.''

HAMILTON

To the People of the State of New York:

THE residue of the argument against the provisions of the Constitution in respect to taxation is ingrafted upon the following clause. The last clause of the eighth section of the first article of the plan under consideration authorizes the national legislature &quot;to make all laws which shall be NECESSARY and PROPER for carrying into execution THE POWERS by that Constitution vested in the government of the United States, or in any department or officer thereof&quot;; and the second clause of the sixth article declares, &quot;that the Constitution and the laws of the United States made IN PURSUANCE THEREOF, and the treaties made by their authority shall be the SUPREME LAW of the land, any thing in the constitution or laws of any State to the contrary notwithstanding.&quot;

These two clauses have been the source of much virulent invective and petulant declamation against the proposed Constitution. They have been held up to the people in all the exaggerated colors of misrepresentation as the pernicious engines by which their local governments were to be destroyed and their liberties exterminated; as the hideous monster whose devouring jaws would spare neither sex nor age, nor high nor low, nor sacred nor profane; and yet, strange as it may appear, after all this clamor, to those who may not have happened to contemplate them in the same light, it may be affirmed with perfect confidence that the constitutional operation of the intended government would be precisely the same, if these clauses were entirely obliterated, as if they were repeated in every article. They are only declaratory of a truth which would have resulted by necessary and unavoidable implication from the very act of constituting a federal government, and vesting it with certain specified powers. This is so clear a proposition, that moderation itself can scarcely listen to the railings which have been so copiously vented against this part of the plan, without emotions that disturb its equanimity.

What is a power, but the ability or faculty of doing a thing? What is the ability to do a thing, but the power of employing the MEANS necessary to its execution? What is a LEGISLATIVE power, but a power of making LAWS? What are the MEANS to execute a LEGISLATIVE power but LAWS? What is the power of laying and collecting taxes, but a LEGISLATIVE POWER, or a power of MAKING LAWS, to lay and collect taxes? What are the proper means of executing such a power, but NECESSARY and PROPER laws?

This simple train of inquiry furnishes us at once with a test by which to judge of the true nature of the clause complained of. It conducts us to this palpable truth, that a power to lay and collect taxes must be a power to pass all laws NECESSARY and PROPER for the execution of that power; and what does the unfortunate and calumniated provision in question do more than declare the same truth, to wit, that the national legislature, to whom the power of laying and collecting taxes had been previously given, might, in the execution of that power, pass all laws NECESSARY and PROPER to carry it into effect? I have applied these observations thus particularly to the power of taxation, because it is the immediate subject under consideration, and because it is the most important of the authorities proposed to be conferred upon the Union. But the same process will lead to the same result, in relation to all other powers declared in the Constitution. And it is EXPRESSLY to execute these powers that the sweeping clause, as it has been affectedly called, authorizes the national legislature to pass all NECESSARY and PROPER laws. If there is any thing exceptionable, it must be sought for in the specific powers upon which this general declaration is predicated. The declaration itself, though it may be chargeable with tautology or redundancy, is at least perfectly harmless.

But SUSPICION may ask, Why then was it introduced? The answer is, that it could only have been done for greater caution, and to guard against all cavilling refinements in those who might hereafter feel a disposition to curtail and evade the legitimate authorities of the Union. The Convention probably foresaw, what it has been a principal aim of these papers to inculcate, that the danger which most threatens our political welfare is that the State governments will finally sap the foundations of the Union; and might therefore think it necessary, in so cardinal a point, to leave nothing to construction. Whatever may have been the inducement to it, the wisdom of the precaution is evident from the cry which has been raised against it; as that very cry betrays a disposition to question the great and essential truth which it is manifestly the object of that provision to declare.

But it may be again asked, Who is to judge of the NECESSITY and PROPRIETY of the laws to be passed for executing the powers of the Union? I answer, first, that this question arises as well and as fully upon the simple grant of those powers as upon the declaratory clause; and I answer, in the second place, that the national government, like every other, must judge, in the first instance, of the proper exercise of its powers, and its constituents in the last. If the federal government should overpass the just bounds of its authority and make a tyrannical use of its powers, the people, whose creature it is, must appeal to the standard they have formed, and take such measures to redress the injury done to the Constitution as the exigency may suggest and prudence justify. The propriety of a law, in a constitutional light, must always be determined by the nature of the powers upon which it is founded. Suppose, by some forced constructions of its authority (which, indeed, cannot easily be imagined), the Federal legislature should attempt to vary the law of descent in any State, would it not be evident that, in making such an attempt, it had exceeded its jurisdiction, and infringed upon that of the State? Suppose, again, that upon the pretense of an interference with its revenues, it should undertake to abrogate a landtax imposed by the authority of a State; would it not be equally evident that this was an invasion of that concurrent jurisdiction in respect to this species of tax, which its Constitution plainly supposes to exist in the State governments? If there ever should be a doubt on this head, the credit of it will be entirely due to those reasoners who, in the imprudent zeal of their animosity to the plan of the convention, have labored to envelop it in a cloud calculated to obscure the plainest and simplest truths.

But it is said that the laws of the Union are to be the SUPREME LAW of the land. But what inference can be drawn from this, or what would they amount to, if they were not to be supreme? It is evident they would amount to nothing. A LAW, by the very meaning of the term, includes supremacy. It is a rule which those to whom it is prescribed are bound to observe. This results from every political association. If individuals enter into a state of society, the laws of that society must be the supreme regulator of their conduct. If a number of political societies enter into a larger political society, the laws which the latter may enact, pursuant to the powers intrusted to it by its constitution, must necessarily be supreme over those societies, and the individuals of whom they are composed. It would otherwise be a mere treaty, dependent on the good faith of the parties, and not a government, which is only another word for POLITICAL POWER AND SUPREMACY. But it will not follow from this doctrine that acts of the large society which are NOT PURSUANT to its constitutional powers, but which are invasions of the residuary authorities of the smaller societies, will become the supreme law of the land. These will be merely acts of usurpation, and will deserve to be treated as such. Hence we perceive that the clause which declares the supremacy of the laws of the Union, like the one we have just before considered, only declares a truth, which flows immediately and necessarily from the institution of a federal government. It will not, I presume, have escaped observation, that it EXPRESSLY confines this supremacy to laws made PURSUANT TO THE CONSTITUTION; which I mention merely as an instance of caution in the convention; since that limitation would have been to be understood, though it had not been expressed.

Though a law, therefore, laying a tax for the use of the United States would be supreme in its nature, and could not legally be opposed or controlled, yet a law for abrogating or preventing the collection of a tax laid by the authority of the State, (unless upon imports and exports), would not be the supreme law of the land, but a usurpation of power not granted by the Constitution. As far as an improper accumulation of taxes on the same object might tend to render the collection difficult or precarious, this would be a mutual inconvenience, not arising from a superiority or defect of power on either side, but from an injudicious exercise of power by one or the other, in a manner equally disadvantageous to both. It is to be hoped and presumed, however, that mutual interest would dictate a concert in this respect which would avoid any material inconvenience. The inference from the whole is, that the individual States would, under the proposed Constitution, retain an independent and uncontrollable authority to raise revenue to any extent of which they may stand in need, by every kind of taxation, except duties on imports and exports. It will be shown in the next paper that this CONCURRENT JURISDICTION in the article of taxation was the only admissible substitute for an entire subordination, in respect to this branch of power, of the State authority to that of the Union.

PUBLIUS</pre>
</div>
<div created="20150327191820742" modified="20150327191858093" tags="Hamilton [[Independent Journal]]" title="No. 34. The Same Subject Continued (Concerning the General Power of Taxation)">
<pre>''From The Independent Journal. Saturday, January 5, 1788.''

HAMILTON

To the People of the State of New York:

I FLATTER myself it has been clearly shown in my last number that the particular States, under the proposed Constitution, would have COEQUAL authority with the Union in the article of revenue, except as to duties on imports. As this leaves open to the States far the greatest part of the resources of the community, there can be no color for the assertion that they would not possess means as abundant as could be desired for the supply of their own wants, independent of all external control. That the field is sufficiently wide will more fully appear when we come to advert to the inconsiderable share of the public expenses for which it will fall to the lot of the State governments to provide.

To argue upon abstract principles that this co-ordinate authority cannot exist, is to set up supposition and theory against fact and reality. However proper such reasonings might be to show that a thing OUGHT NOT TO EXIST, they are wholly to be rejected when they are made use of to prove that it does not exist contrary to the evidence of the fact itself. It is well known that in the Roman republic the legislative authority, in the last resort, resided for ages in two different political bodies not as branches of the same legislature, but as distinct and independent legislatures, in each of which an opposite interest prevailed: in one the patrician; in the other, the plebian. Many arguments might have been adduced to prove the unfitness of two such seemingly contradictory authorities, each having power to ANNUL or REPEAL the acts of the other. But a man would have been regarded as frantic who should have attempted at Rome to disprove their existence. It will be readily understood that I allude to the COMITIA CENTURIATA and the COMITIA TRIBUTA. The former, in which the people voted by centuries, was so arranged as to give a superiority to the patrician interest; in the latter, in which numbers prevailed, the plebian interest had an entire predominancy. And yet these two legislatures coexisted for ages, and the Roman republic attained to the utmost height of human greatness.

In the case particularly under consideration, there is no such contradiction as appears in the example cited; there is no power on either side to annul the acts of the other. And in practice there is little reason to apprehend any inconvenience; because, in a short course of time, the wants of the States will naturally reduce themselves within A VERY NARROW COMPASS; and in the interim, the United States will, in all probability, find it convenient to abstain wholly from those objects to which the particular States would be inclined to resort.

To form a more precise judgment of the true merits of this question, it will be well to advert to the proportion between the objects that will require a federal provision in respect to revenue, and those which will require a State provision. We shall discover that the former are altogether unlimited, and that the latter are circumscribed within very moderate bounds. In pursuing this inquiry, we must bear in mind that we are not to confine our view to the present period, but to look forward to remote futurity. Constitutions of civil government are not to be framed upon a calculation of existing exigencies, but upon a combination of these with the probable exigencies of ages, according to the natural and tried course of human affairs. Nothing, therefore, can be more fallacious than to infer the extent of any power, proper to be lodged in the national government, from an estimate of its immediate necessities. There ought to be a CAPACITY to provide for future contingencies as they may happen; and as these are illimitable in their nature, it is impossible safely to limit that capacity. It is true, perhaps, that a computation might be made with sufficient accuracy to answer the purpose of the quantity of revenue requisite to discharge the subsisting engagements of the Union, and to maintain those establishments which, for some time to come, would suffice in time of peace. But would it be wise, or would it not rather be the extreme of folly, to stop at this point, and to leave the government intrusted with the care of the national defense in a state of absolute incapacity to provide for the protection of the community against future invasions of the public peace, by foreign war or domestic convulsions? If, on the contrary, we ought to exceed this point, where can we stop, short of an indefinite power of providing for emergencies as they may arise? Though it is easy to assert, in general terms, the possibility of forming a rational judgment of a due provision against probable dangers, yet we may safely challenge those who make the assertion to bring forward their data, and may affirm that they would be found as vague and uncertain as any that could be produced to establish the probable duration of the world. Observations confined to the mere prospects of internal attacks can deserve no weight; though even these will admit of no satisfactory calculation: but if we mean to be a commercial people, it must form a part of our policy to be able one day to defend that commerce. The support of a navy and of naval wars would involve contingencies that must baffle all the efforts of political arithmetic.

Admitting that we ought to try the novel and absurd experiment in politics of tying up the hands of government from offensive war founded upon reasons of state, yet certainly we ought not to disable it from guarding the community against the ambition or enmity of other nations. A cloud has been for some time hanging over the European world. If it should break forth into a storm, who can insure us that in its progress a part of its fury would not be spent upon us? No reasonable man would hastily pronounce that we are entirely out of its reach. Or if the combustible materials that now seem to be collecting should be dissipated without coming to maturity, or if a flame should be kindled without extending to us, what security can we have that our tranquillity will long remain undisturbed from some other cause or from some other quarter? Let us recollect that peace or war will not always be left to our option; that however moderate or unambitious we may be, we cannot count upon the moderation, or hope to extinguish the ambition of others. Who could have imagined at the conclusion of the last war that France and Britain, wearied and exhausted as they both were, would so soon have looked with so hostile an aspect upon each other? To judge from the history of mankind, we shall be compelled to conclude that the fiery and destructive passions of war reign in the human breast with much more powerful sway than the mild and beneficent sentiments of peace; and that to model our political systems upon speculations of lasting tranquillity, is to calculate on the weaker springs of the human character.

What are the chief sources of expense in every government? What has occasioned that enormous accumulation of debts with which several of the European nations are oppressed? The answers plainly is, wars and rebellions; the support of those institutions which are necessary to guard the body politic against these two most mortal diseases of society. The expenses arising from those institutions which are relative to the mere domestic police of a state, to the support of its legislative, executive, and judicial departments, with their different appendages, and to the encouragement of agriculture and manufactures (which will comprehend almost all the objects of state expenditure), are insignificant in comparison with those which relate to the national defense.

In the kingdom of Great Britain, where all the ostentatious apparatus of monarchy is to be provided for, not above a fifteenth part of the annual income of the nation is appropriated to the class of expenses last mentioned; the other fourteen fifteenths are absorbed in the payment of the interest of debts contracted for carrying on the wars in which that country has been engaged, and in the maintenance of fleets and armies. If, on the one hand, it should be observed that the expenses incurred in the prosecution of the ambitious enterprises and vainglorious pursuits of a monarchy are not a proper standard by which to judge of those which might be necessary in a republic, it ought, on the other hand, to be remarked that there should be as great a disproportion between the profusion and extravagance of a wealthy kingdom in its domestic administration, and the frugality and economy which in that particular become the modest simplicity of republican government. If we balance a proper deduction from one side against that which it is supposed ought to be made from the other, the proportion may still be considered as holding good.

But let us advert to the large debt which we have ourselves contracted in a single war, and let us only calculate on a common share of the events which disturb the peace of nations, and we shall instantly perceive, without the aid of any elaborate illustration, that there must always be an immense disproportion between the objects of federal and state expenditures. It is true that several of the States, separately, are encumbered with considerable debts, which are an excrescence of the late war. But this cannot happen again, if the proposed system be adopted; and when these debts are discharged, the only call for revenue of any consequence, which the State governments will continue to experience, will be for the mere support of their respective civil list; to which, if we add all contingencies, the total amount in every State ought to fall considerably short of two hundred thousand pounds.

In framing a government for posterity as well as ourselves, we ought, in those provisions which are designed to be permanent, to calculate, not on temporary, but on permanent causes of expense. If this principle be a just one our attention would be directed to a provision in favor of the State governments for an annual sum of about two hundred thousand pounds; while the exigencies of the Union could be susceptible of no limits, even in imagination. In this view of the subject, by what logic can it be maintained that the local governments ought to command, in perpetuity, an EXCLUSIVE source of revenue for any sum beyond the extent of two hundred thousand pounds? To extend its power further, in EXCLUSION of the authority of the Union, would be to take the resources of the community out of those hands which stood in need of them for the public welfare, in order to put them into other hands which could have no just or proper occasion for them.

Suppose, then, the convention had been inclined to proceed upon the principle of a repartition of the objects of revenue, between the Union and its members, in PROPORTION to their comparative necessities; what particular fund could have been selected for the use of the States, that would not either have been too much or too little too little for their present, too much for their future wants? As to the line of separation between external and internal taxes, this would leave to the States, at a rough computation, the command of two thirds of the resources of the community to defray from a tenth to a twentieth part of its expenses; and to the Union, one third of the resources of the community, to defray from nine tenths to nineteen twentieths of its expenses. If we desert this boundary and content ourselves with leaving to the States an exclusive power of taxing houses and lands, there would still be a great disproportion between the MEANS and the END; the possession of one third of the resources of the community to supply, at most, one tenth of its wants. If any fund could have been selected and appropriated, equal to and not greater than the object, it would have been inadequate to the discharge of the existing debts of the particular States, and would have left them dependent on the Union for a provision for this purpose.

The preceding train of observation will justify the position which has been elsewhere laid down, that &quot;A CONCURRENT JURISDICTION in the article of taxation was the only admissible substitute for an entire subordination, in respect to this branch of power, of State authority to that of the Union.&quot; Any separation of the objects of revenue that could have been fallen upon, would have amounted to a sacrifice of the great INTERESTS of the Union to the POWER of the individual States. The convention thought the concurrent jurisdiction preferable to that subordination; and it is evident that it has at least the merit of reconciling an indefinite constitutional power of taxation in the Federal government with an adequate and independent power in the States to provide for their own necessities. There remain a few other lights, in which this important subject of taxation will claim a further consideration.

PUBLIUS</pre>
</div>
<div created="20150327191915958" modified="20150327192351149" tags="Hamilton [[Independent Journal]]" title="No. 35. The Same Subject Continued (Concerning the General Power of Taxation)">
<pre>''For the Independent Journal. Saturday, January 5, 1788''

HAMILTON

To the People of the State of New York:

BEFORE we proceed to examine any other objections to an indefinite power of taxation in the Union, I shall make one general remark; which is, that if the jurisdiction of the national government, in the article of revenue, should be restricted to particular objects, it would naturally occasion an undue proportion of the public burdens to fall upon those objects. Two evils would spring from this source: the oppression of particular branches of industry; and an unequal distribution of the taxes, as well among the several States as among the citizens of the same State.

Suppose, as has been contended for, the federal power of taxation were to be confined to duties on imports, it is evident that the government, for want of being able to command other resources, would frequently be tempted to extend these duties to an injurious excess. There are persons who imagine that they can never be carried to too great a length; since the higher they are, the more it is alleged they will tend to discourage an extravagant consumption, to produce a favorable balance of trade, and to promote domestic manufactures. But all extremes are pernicious in various ways. Exorbitant duties on imported articles would beget a general spirit of smuggling; which is always prejudicial to the fair trader, and eventually to the revenue itself: they tend to render other classes of the community tributary, in an improper degree, to the manufacturing classes, to whom they give a premature monopoly of the markets; they sometimes force industry out of its more natural channels into others in which it flows with less advantage; and in the last place, they oppress the merchant, who is often obliged to pay them himself without any retribution from the consumer. When the demand is equal to the quantity of goods at market, the consumer generally pays the duty; but when the markets happen to be overstocked, a great proportion falls upon the merchant, and sometimes not only exhausts his profits, but breaks in upon his capital. I am apt to think that a division of the duty, between the seller and the buyer, more often happens than is commonly imagined. It is not always possible to raise the price of a commodity in exact proportion to every additional imposition laid upon it. The merchant, especially in a country of small commercial capital, is often under a necessity of keeping prices down in order to a more expeditious sale.

The maxim that the consumer is the payer, is so much oftener true than the reverse of the proposition, that it is far more equitable that the duties on imports should go into a common stock, than that they should redound to the exclusive benefit of the importing States. But it is not so generally true as to render it equitable, that those duties should form the only national fund. When they are paid by the merchant they operate as an additional tax upon the importing State, whose citizens pay their proportion of them in the character of consumers. In this view they are productive of inequality among the States; which inequality would be increased with the increased extent of the duties. The confinement of the national revenues to this species of imposts would be attended with inequality, from a different cause, between the manufacturing and the non-manufacturing States. The States which can go farthest towards the supply of their own wants, by their own manufactures, will not, according to their numbers or wealth, consume so great a proportion of imported articles as those States which are not in the same favorable situation. They would not, therefore, in this mode alone contribute to the public treasury in a ratio to their abilities. To make them do this it is necessary that recourse be had to excises, the proper objects of which are particular kinds of manufactures. New York is more deeply interested in these considerations than such of her citizens as contend for limiting the power of the Union to external taxation may be aware of. New York is an importing State, and is not likely speedily to be, to any great extent, a manufacturing State. She would, of course, suffer in a double light from restraining the jurisdiction of the Union to commercial imposts.

So far as these observations tend to inculcate a danger of the import duties being extended to an injurious extreme it may be observed, conformably to a remark made in another part of these papers, that the interest of the revenue itself would be a sufficient guard against such an extreme. I readily admit that this would be the case, as long as other resources were open; but if the avenues to them were closed, HOPE, stimulated by necessity, would beget experiments, fortified by rigorous precautions and additional penalties, which, for a time, would have the intended effect, till there had been leisure to contrive expedients to elude these new precautions. The first success would be apt to inspire false opinions, which it might require a long course of subsequent experience to correct. Necessity, especially in politics, often occasions false hopes, false reasonings, and a system of measures correspondingly erroneous. But even if this supposed excess should not be a consequence of the limitation of the federal power of taxation, the inequalities spoken of would still ensue, though not in the same degree, from the other causes that have been noticed. Let us now return to the examination of objections.

One which, if we may judge from the frequency of its repetition, seems most to be relied on, is, that the House of Representatives is not sufficiently numerous for the reception of all the different classes of citizens, in order to combine the interests and feelings of every part of the community, and to produce a due sympathy between the representative body and its constituents. This argument presents itself under a very specious and seducing form; and is well calculated to lay hold of the prejudices of those to whom it is addressed. But when we come to dissect it with attention, it will appear to be made up of nothing but fair-sounding words. The object it seems to aim at is, in the first place, impracticable, and in the sense in which it is contended for, is unnecessary. I reserve for another place the discussion of the question which relates to the sufficiency of the representative body in respect to numbers, and shall content myself with examining here the particular use which has been made of a contrary supposition, in reference to the immediate subject of our inquiries.

The idea of an actual representation of all classes of the people, by persons of each class, is altogether visionary. Unless it were expressly provided in the Constitution, that each different occupation should send one or more members, the thing would never take place in practice. Mechanics and manufacturers will always be inclined, with few exceptions, to give their votes to merchants, in preference to persons of their own professions or trades. Those discerning citizens are well aware that the mechanic and manufacturing arts furnish the materials of mercantile enterprise and industry. Many of them, indeed, are immediately connected with the operations of commerce. They know that the merchant is their natural patron and friend; and they are aware, that however great the confidence they may justly feel in their own good sense, their interests can be more effectually promoted by the merchant than by themselves. They are sensible that their habits in life have not been such as to give them those acquired endowments, without which, in a deliberative assembly, the greatest natural abilities are for the most part useless; and that the influence and weight, and superior acquirements of the merchants render them more equal to a contest with any spirit which might happen to infuse itself into the public councils, unfriendly to the manufacturing and trading interests. These considerations, and many others that might be mentioned prove, and experience confirms it, that artisans and manufacturers will commonly be disposed to bestow their votes upon merchants and those whom they recommend. We must therefore consider merchants as the natural representatives of all these classes of the community.

With regard to the learned professions, little need be observed; they truly form no distinct interest in society, and according to their situation and talents, will be indiscriminately the objects of the confidence and choice of each other, and of other parts of the community.

Nothing remains but the landed interest; and this, in a political view, and particularly in relation to taxes, I take to be perfectly united, from the wealthiest landlord down to the poorest tenant. No tax can be laid on land which will not affect the proprietor of millions of acres as well as the proprietor of a single acre. Every landholder will therefore have a common interest to keep the taxes on land as low as possible; and common interest may always be reckoned upon as the surest bond of sympathy. But if we even could suppose a distinction of interest between the opulent landholder and the middling farmer, what reason is there to conclude, that the first would stand a better chance of being deputed to the national legislature than the last? If we take fact as our guide, and look into our own senate and assembly, we shall find that moderate proprietors of land prevail in both; nor is this less the case in the senate, which consists of a smaller number, than in the assembly, which is composed of a greater number. Where the qualifications of the electors are the same, whether they have to choose a small or a large number, their votes will fall upon those in whom they have most confidence; whether these happen to be men of large fortunes, or of moderate property, or of no property at all.

It is said to be necessary, that all classes of citizens should have some of their own number in the representative body, in order that their feelings and interests may be the better understood and attended to. But we have seen that this will never happen under any arrangement that leaves the votes of the people free. Where this is the case, the representative body, with too few exceptions to have any influence on the spirit of the government, will be composed of landholders, merchants, and men of the learned professions. But where is the danger that the interests and feelings of the different classes of citizens will not be understood or attended to by these three descriptions of men? Will not the landholder know and feel whatever will promote or insure the interest of landed property? And will he not, from his own interest in that species of property, be sufficiently prone to resist every attempt to prejudice or encumber it? Will not the merchant understand and be disposed to cultivate, as far as may be proper, the interests of the mechanic and manufacturing arts, to which his commerce is so nearly allied? Will not the man of the learned profession, who will feel a neutrality to the rivalships between the different branches of industry, be likely to prove an impartial arbiter between them, ready to promote either, so far as it shall appear to him conducive to the general interests of the society?

If we take into the account the momentary humors or dispositions which may happen to prevail in particular parts of the society, and to which a wise administration will never be inattentive, is the man whose situation leads to extensive inquiry and information less likely to be a competent judge of their nature, extent, and foundation than one whose observation does not travel beyond the circle of his neighbors and acquaintances? Is it not natural that a man who is a candidate for the favor of the people, and who is dependent on the suffrages of his fellow-citizens for the continuance of his public honors, should take care to inform himself of their dispositions and inclinations, and should be willing to allow them their proper degree of influence upon his conduct? This dependence, and the necessity of being bound himself, and his posterity, by the laws to which he gives his assent, are the true, and they are the strong chords of sympathy between the representative and the constituent.

There is no part of the administration of government that requires extensive information and a thorough knowledge of the principles of political economy, so much as the business of taxation. The man who understands those principles best will be least likely to resort to oppressive expedients, or sacrifice any particular class of citizens to the procurement of revenue. It might be demonstrated that the most productive system of finance will always be the least burdensome. There can be no doubt that in order to a judicious exercise of the power of taxation, it is necessary that the person in whose hands it should be acquainted with the general genius, habits, and modes of thinking of the people at large, and with the resources of the country. And this is all that can be reasonably meant by a knowledge of the interests and feelings of the people. In any other sense the proposition has either no meaning, or an absurd one. And in that sense let every considerate citizen judge for himself where the requisite qualification is most likely to be found.

PUBLIUS</pre>
</div>
<div created="20150327192107070" modified="20150327192529637" tags="Hamilton [[New York Packet]]" title="No. 36. The Same Subject Continued (Concerning the General Power of Taxation)">
<pre>''From the New York Packet. Tuesday, January 8, 1788.''

HAMILTON

To the People of the State of New York:

WE HAVE seen that the result of the observations, to which the foregoing number has been principally devoted, is, that from the natural operation of the different interests and views of the various classes of the community, whether the representation of the people be more or less numerous, it will consist almost entirely of proprietors of land, of merchants, and of members of the learned professions, who will truly represent all those different interests and views. If it should be objected that we have seen other descriptions of men in the local legislatures, I answer that it is admitted there are exceptions to the rule, but not in sufficient number to influence the general complexion or character of the government. There are strong minds in every walk of life that will rise superior to the disadvantages of situation, and will command the tribute due to their merit, not only from the classes to which they particularly belong, but from the society in general. The door ought to be equally open to all; and I trust, for the credit of human nature, that we shall see examples of such vigorous plants flourishing in the soil of federal as well as of State legislation; but occasional instances of this sort will not render the reasoning founded upon the general course of things, less conclusive.

The subject might be placed in several other lights that would all lead to the same result; and in particular it might be asked, What greater affinity or relation of interest can be conceived between the carpenter and blacksmith, and the linen manufacturer or stocking weaver, than between the merchant and either of them? It is notorious that there are often as great rivalships between different branches of the mechanic or manufacturing arts as there are between any of the departments of labor and industry; so that, unless the representative body were to be far more numerous than would be consistent with any idea of regularity or wisdom in its deliberations, it is impossible that what seems to be the spirit of the objection we have been considering should ever be realized in practice. But I forbear to dwell any longer on a matter which has hitherto worn too loose a garb to admit even of an accurate inspection of its real shape or tendency.

There is another objection of a somewhat more precise nature that claims our attention. It has been asserted that a power of internal taxation in the national legislature could never be exercised with advantage, as well from the want of a sufficient knowledge of local circumstances, as from an interference between the revenue laws of the Union and of the particular States. The supposition of a want of proper knowledge seems to be entirely destitute of foundation. If any question is depending in a State legislature respecting one of the counties, which demands a knowledge of local details, how is it acquired? No doubt from the information of the members of the county. Cannot the like knowledge be obtained in the national legislature from the representatives of each State? And is it not to be presumed that the men who will generally be sent there will be possessed of the necessary degree of intelligence to be able to communicate that information? Is the knowledge of local circumstances, as applied to taxation, a minute topographical acquaintance with all the mountains, rivers, streams, highways, and bypaths in each State; or is it a general acquaintance with its situation and resources, with the state of its agriculture, commerce, manufactures, with the nature of its products and consumptions, with the different degrees and kinds of its wealth, property, and industry?

Nations in general, even under governments of the more popular kind, usually commit the administration of their finances to single men or to boards composed of a few individuals, who digest and prepare, in the first instance, the plans of taxation, which are afterwards passed into laws by the authority of the sovereign or legislature.

Inquisitive and enlightened statesmen are deemed everywhere best qualified to make a judicious selection of the objects proper for revenue; which is a clear indication, as far as the sense of mankind can have weight in the question, of the species of knowledge of local circumstances requisite to the purposes of taxation.

The taxes intended to be comprised under the general denomination of internal taxes may be subdivided into those of the DIRECT and those of the INDIRECT kind. Though the objection be made to both, yet the reasoning upon it seems to be confined to the former branch. And indeed, as to the latter, by which must be understood duties and excises on articles of consumption, one is at a loss to conceive what can be the nature of the difficulties apprehended. The knowledge relating to them must evidently be of a kind that will either be suggested by the nature of the article itself, or can easily be procured from any well-informed man, especially of the mercantile class. The circumstances that may distinguish its situation in one State from its situation in another must be few, simple, and easy to be comprehended. The principal thing to be attended to, would be to avoid those articles which had been previously appropriated to the use of a particular State; and there could be no difficulty in ascertaining the revenue system of each. This could always be known from the respective codes of laws, as well as from the information of the members from the several States.

The objection, when applied to real property or to houses and lands, appears to have, at first sight, more foundation, but even in this view it will not bear a close examination. Land taxes are commonly laid in one of two modes, either by ACTUAL valuations, permanent or periodical, or by OCCASIONAL assessments, at the discretion, or according to the best judgment, of certain officers whose duty it is to make them. In either case, the EXECUTION of the business, which alone requires the knowledge of local details, must be devolved upon discreet persons in the character of commissioners or assessors, elected by the people or appointed by the government for the purpose. All that the law can do must be to name the persons or to prescribe the manner of their election or appointment, to fix their numbers and qualifications and to draw the general outlines of their powers and duties. And what is there in all this that cannot as well be performed by the national legislature as by a State legislature? The attention of either can only reach to general principles; local details, as already observed, must be referred to those who are to execute the plan.

But there is a simple point of view in which this matter may be placed that must be altogether satisfactory. The national legislature can make use of the SYSTEM OF EACH STATE WITHIN THAT STATE. The method of laying and collecting this species of taxes in each State can, in all its parts, be adopted and employed by the federal government.

Let it be recollected that the proportion of these taxes is not to be left to the discretion of the national legislature, but is to be determined by the numbers of each State, as described in the second section of the first article. An actual census or enumeration of the people must furnish the rule, a circumstance which effectually shuts the door to partiality or oppression. The abuse of this power of taxation seems to have been provided against with guarded circumspection. In addition to the precaution just mentioned, there is a provision that &quot;all duties, imposts, and excises shall be UNIFORM throughout the United States.&quot;

It has been very properly observed by different speakers and writers on the side of the Constitution, that if the exercise of the power of internal taxation by the Union should be discovered on experiment to be really inconvenient, the federal government may then forbear the use of it, and have recourse to requisitions in its stead. By way of answer to this, it has been triumphantly asked, Why not in the first instance omit that ambiguous power, and rely upon the latter resource? Two solid answers may be given. The first is, that the exercise of that power, if convenient, will be preferable, because it will be more effectual; and it is impossible to prove in theory, or otherwise than by the experiment, that it cannot be advantageously exercised. The contrary, indeed, appears most probable. The second answer is, that the existence of such a power in the Constitution will have a strong influence in giving efficacy to requisitions. When the States know that the Union can apply itself without their agency, it will be a powerful motive for exertion on their part.

As to the interference of the revenue laws of the Union, and of its members, we have already seen that there can be no clashing or repugnancy of authority. The laws cannot, therefore, in a legal sense, interfere with each other; and it is far from impossible to avoid an interference even in the policy of their different systems. An effectual expedient for this purpose will be, mutually, to abstain from those objects which either side may have first had recourse to. As neither can CONTROL the other, each will have an obvious and sensible interest in this reciprocal forbearance. And where there is an IMMEDIATE common interest, we may safely count upon its operation. When the particular debts of the States are done away, and their expenses come to be limited within their natural compass, the possibility almost of interference will vanish. A small land tax will answer the purpose of the States, and will be their most simple and most fit resource.

Many spectres have been raised out of this power of internal taxation, to excite the apprehensions of the people: double sets of revenue officers, a duplication of their burdens by double taxations, and the frightful forms of odious and oppressive poll-taxes, have been played off with all the ingenious dexterity of political legerdemain.

As to the first point, there are two cases in which there can be no room for double sets of officers: one, where the right of imposing the tax is exclusively vested in the Union, which applies to the duties on imports; the other, where the object has not fallen under any State regulation or provision, which may be applicable to a variety of objects. In other cases, the probability is that the United States will either wholly abstain from the objects preoccupied for local purposes, or will make use of the State officers and State regulations for collecting the additional imposition. This will best answer the views of revenue, because it will save expense in the collection, and will best avoid any occasion of disgust to the State governments and to the people. At all events, here is a practicable expedient for avoiding such an inconvenience; and nothing more can be required than to show that evils predicted to not necessarily result from the plan.

As to any argument derived from a supposed system of influence, it is a sufficient answer to say that it ought not to be presumed; but the supposition is susceptible of a more precise answer. If such a spirit should infest the councils of the Union, the most certain road to the accomplishment of its aim would be to employ the State officers as much as possible, and to attach them to the Union by an accumulation of their emoluments. This would serve to turn the tide of State influence into the channels of the national government, instead of making federal influence flow in an opposite and adverse current. But all suppositions of this kind are invidious, and ought to be banished from the consideration of the great question before the people. They can answer no other end than to cast a mist over the truth.

As to the suggestion of double taxation, the answer is plain. The wants of the Union are to be supplied in one way or another; if to be done by the authority of the federal government, it will not be to be done by that of the State government. The quantity of taxes to be paid by the community must be the same in either case; with this advantage, if the provision is to be made by the Union that the capital resource of commercial imposts, which is the most convenient branch of revenue, can be prudently improved to a much greater extent under federal than under State regulation, and of course will render it less necessary to recur to more inconvenient methods; and with this further advantage, that as far as there may be any real difficulty in the exercise of the power of internal taxation, it will impose a disposition to greater care in the choice and arrangement of the means; and must naturally tend to make it a fixed point of policy in the national administration to go as far as may be practicable in making the luxury of the rich tributary to the public treasury, in order to diminish the necessity of those impositions which might create dissatisfaction in the poorer and most numerous classes of the society. Happy it is when the interest which the government has in the preservation of its own power, coincides with a proper distribution of the public burdens, and tends to guard the least wealthy part of the community from oppression!

As to poll taxes, I, without scruple, confess my disapprobation of them; and though they have prevailed from an early period in those States &lt;span class=&quot;footnote&quot; title=&quot;The New England States.&quot;&gt;(1)&lt;/span&gt; which have uniformly been the most tenacious of their rights, I should lament to see them introduced into practice under the national government. But does it follow because there is a power to lay them that they will actually be laid? Every State in the Union has power to impose taxes of this kind; and yet in several of them they are unknown in practice. Are the State governments to be stigmatized as tyrannies, because they possess this power? If they are not, with what propriety can the like power justify such a charge against the national government, or even be urged as an obstacle to its adoption? As little friendly as I am to the species of imposition, I still feel a thorough conviction that the power of having recourse to it ought to exist in the federal government. There are certain emergencies of nations, in which expedients, that in the ordinary state of things ought to be forborne, become essential to the public weal. And the government, from the possibility of such emergencies, ought ever to have the option of making use of them. The real scarcity of objects in this country, which may be considered as productive sources of revenue, is a reason peculiar to itself, for not abridging the discretion of the national councils in this respect. There may exist certain critical and tempestuous conjunctures of the State, in which a poll tax may become an inestimable resource. And as I know nothing to exempt this portion of the globe from the common calamities that have befallen other parts of it, I acknowledge my aversion to every project that is calculated to disarm the government of a single weapon, which in any possible contingency might be usefully employed for the general defense and security.

(I have now gone through the examination of such of the powers proposed to be vested in the United States, which may be considered as having an immediate relation to the energy of the government; and have endeavored to answer the principal objections which have been made to them. I have passed over in silence those minor authorities, which are either too inconsiderable to have been thought worthy of the hostilities of the opponents of the Constitution, or of too manifest propriety to admit of controversy. The mass of judiciary power, however, might have claimed an investigation under this head, had it not been for the consideration that its organization and its extent may be more advantageously considered in connection. This has determined me to refer it to the branch of our inquiries upon which we shall next enter.) &lt;span class=&quot;footnote&quot; title=&quot;Two versions of this paragraph appear in different editions.&quot;&gt;(E1)&lt;/span&gt;

(I have now gone through the examination of those powers proposed to be conferred upon the federal government which relate more peculiarly to its energy, and to its efficiency for answering the great and primary objects of union. There are others which, though omitted here, will, in order to render the view of the subject more complete, be taken notice of under the next head of our inquiries. I flatter myself the progress already made will have sufficed to satisfy the candid and judicious part of the community that some of the objections which have been most strenuously urged against the Constitution, and which were most formidable in their first appearance, are not only destitute of substance, but if they had operated in the formation of the plan, would have rendered it incompetent to the great ends of public happiness and national prosperity. I equally flatter myself that a further and more critical investigation of the system will serve to recommend it still more to every sincere and disinterested advocate for good government and will leave no doubt with men of this character of the propriety and expediency of adopting it. Happy will it be for ourselves, and more honorable for human nature, if we have wisdom and virtue enough to set so glorious an example to mankind!) &lt;span class=&quot;footnote&quot; title=&quot;Two versions of this paragraph appear in different editions.&quot;&gt;(E1)&lt;/span&gt;

PUBLIUS

''Footnotes''

1. The New England States.

E1. Two versions of this paragraph appear in different editions.
</pre>
</div>
<div created="20150327192702366" modified="20150327192754310" tags="[[Daily Advertiser]] Madison" title="No. 37. Concerning the Difficulties of the Convention in Devising a Proper Form of Government.">
<pre>''From the Daily Advertiser. Friday, January 11, 1788.''

MADISON

To the People of the State of New York:

IN REVIEWING the defects of the existing Confederation, and showing that they cannot be supplied by a government of less energy than that before the public, several of the most important principles of the latter fell of course under consideration. But as the ultimate object of these papers is to determine clearly and fully the merits of this Constitution, and the expediency of adopting it, our plan cannot be complete without taking a more critical and thorough survey of the work of the convention, without examining it on all its sides, comparing it in all its parts, and calculating its probable effects. That this remaining task may be executed under impressions conducive to a just and fair result, some reflections must in this place be indulged, which candor previously suggests.

It is a misfortune, inseparable from human affairs, that public measures are rarely investigated with that spirit of moderation which is essential to a just estimate of their real tendency to advance or obstruct the public good; and that this spirit is more apt to be diminished than promoted, by those occasions which require an unusual exercise of it. To those who have been led by experience to attend to this consideration, it could not appear surprising, that the act of the convention, which recommends so many important changes and innovations, which may be viewed in so many lights and relations, and which touches the springs of so many passions and interests, should find or excite dispositions unfriendly, both on one side and on the other, to a fair discussion and accurate judgment of its merits. In some, it has been too evident from their own publications, that they have scanned the proposed Constitution, not only with a predisposition to censure, but with a predetermination to condemn; as the language held by others betrays an opposite predetermination or bias, which must render their opinions also of little moment in the question. In placing, however, these different characters on a level, with respect to the weight of their opinions, I wish not to insinuate that there may not be a material difference in the purity of their intentions. It is but just to remark in favor of the latter description, that as our situation is universally admitted to be peculiarly critical, and to require indispensably that something should be done for our relief, the predetermined patron of what has been actually done may have taken his bias from the weight of these considerations, as well as from considerations of a sinister nature. The predetermined adversary, on the other hand, can have been governed by no venial motive whatever. The intentions of the first may be upright, as they may on the contrary be culpable. The views of the last cannot be upright, and must be culpable. But the truth is, that these papers are not addressed to persons falling under either of these characters. They solicit the attention of those only, who add to a sincere zeal for the happiness of their country, a temper favorable to a just estimate of the means of promoting it.

Persons of this character will proceed to an examination of the plan submitted by the convention, not only without a disposition to find or to magnify faults; but will see the propriety of reflecting, that a faultless plan was not to be expected. Nor will they barely make allowances for the errors which may be chargeable on the fallibility to which the convention, as a body of men, were liable; but will keep in mind, that they themselves also are but men, and ought not to assume an infallibility in rejudging the fallible opinions of others.

With equal readiness will it be perceived, that besides these inducements to candor, many allowances ought to be made for the difficulties inherent in the very nature of the undertaking referred to the convention.

The novelty of the undertaking immediately strikes us. It has been shown in the course of these papers, that the existing Confederation is founded on principles which are fallacious; that we must consequently change this first foundation, and with it the superstructure resting upon it. It has been shown, that the other confederacies which could be consulted as precedents have been vitiated by the same erroneous principles, and can therefore furnish no other light than that of beacons, which give warning of the course to be shunned, without pointing out that which ought to be pursued. The most that the convention could do in such a situation, was to avoid the errors suggested by the past experience of other countries, as well as of our own; and to provide a convenient mode of rectifying their own errors, as future experiences may unfold them.

Among the difficulties encountered by the convention, a very important one must have lain in combining the requisite stability and energy in government, with the inviolable attention due to liberty and to the republican form. Without substantially accomplishing this part of their undertaking, they would have very imperfectly fulfilled the object of their appointment, or the expectation of the public; yet that it could not be easily accomplished, will be denied by no one who is unwilling to betray his ignorance of the subject. Energy in government is essential to that security against external and internal danger, and to that prompt and salutary execution of the laws which enter into the very definition of good government. Stability in government is essential to national character and to the advantages annexed to it, as well as to that repose and confidence in the minds of the people, which are among the chief blessings of civil society. An irregular and mutable legislation is not more an evil in itself than it is odious to the people; and it may be pronounced with assurance that the people of this country, enlightened as they are with regard to the nature, and interested, as the great body of them are, in the effects of good government, will never be satisfied till some remedy be applied to the vicissitudes and uncertainties which characterize the State administrations. On comparing, however, these valuable ingredients with the vital principles of liberty, we must perceive at once the difficulty of mingling them together in their due proportions. The genius of republican liberty seems to demand on one side, not only that all power should be derived from the people, but that those intrusted with it should be kept in independence on the people, by a short duration of their appointments; and that even during this short period the trust should be placed not in a few, but a number of hands. Stability, on the contrary, requires that the hands in which power is lodged should continue for a length of time the same. A frequent change of men will result from a frequent return of elections; and a frequent change of measures from a frequent change of men: whilst energy in government requires not only a certain duration of power, but the execution of it by a single hand.

How far the convention may have succeeded in this part of their work, will better appear on a more accurate view of it. From the cursory view here taken, it must clearly appear to have been an arduous part.

Not less arduous must have been the task of marking the proper line of partition between the authority of the general and that of the State governments. Every man will be sensible of this difficulty, in proportion as he has been accustomed to contemplate and discriminate objects extensive and complicated in their nature. The faculties of the mind itself have never yet been distinguished and defined, with satisfactory precision, by all the efforts of the most acute and metaphysical philosophers. Sense, perception, judgment, desire, volition, memory, imagination, are found to be separated by such delicate shades and minute gradations that their boundaries have eluded the most subtle investigations, and remain a pregnant source of ingenious disquisition and controversy. The boundaries between the great kingdom of nature, and, still more, between the various provinces, and lesser portions, into which they are subdivided, afford another illustration of the same important truth. The most sagacious and laborious naturalists have never yet succeeded in tracing with certainty the line which separates the district of vegetable life from the neighboring region of unorganized matter, or which marks the termination of the former and the commencement of the animal empire. A still greater obscurity lies in the distinctive characters by which the objects in each of these great departments of nature have been arranged and assorted.

When we pass from the works of nature, in which all the delineations are perfectly accurate, and appear to be otherwise only from the imperfection of the eye which surveys them, to the institutions of man, in which the obscurity arises as well from the object itself as from the organ by which it is contemplated, we must perceive the necessity of moderating still further our expectations and hopes from the efforts of human sagacity. Experience has instructed us that no skill in the science of government has yet been able to discriminate and define, with sufficient certainty, its three great provinces the legislative, executive, and judiciary; or even the privileges and powers of the different legislative branches. Questions daily occur in the course of practice, which prove the obscurity which reins in these subjects, and which puzzle the greatest adepts in political science.

The experience of ages, with the continued and combined labors of the most enlightened legislatures and jurists, has been equally unsuccessful in delineating the several objects and limits of different codes of laws and different tribunals of justice. The precise extent of the common law, and the statute law, the maritime law, the ecclesiastical law, the law of corporations, and other local laws and customs, remains still to be clearly and finally established in Great Britain, where accuracy in such subjects has been more industriously pursued than in any other part of the world. The jurisdiction of her several courts, general and local, of law, of equity, of admiralty, etc., is not less a source of frequent and intricate discussions, sufficiently denoting the indeterminate limits by which they are respectively circumscribed. All new laws, though penned with the greatest technical skill, and passed on the fullest and most mature deliberation, are considered as more or less obscure and equivocal, until their meaning be liquidated and ascertained by a series of particular discussions and adjudications. Besides the obscurity arising from the complexity of objects, and the imperfection of the human faculties, the medium through which the conceptions of men are conveyed to each other adds a fresh embarrassment. The use of words is to express ideas. Perspicuity, therefore, requires not only that the ideas should be distinctly formed, but that they should be expressed by words distinctly and exclusively appropriate to them. But no language is so copious as to supply words and phrases for every complex idea, or so correct as not to include many equivocally denoting different ideas. Hence it must happen that however accurately objects may be discriminated in themselves, and however accurately the discrimination may be considered, the definition of them may be rendered inaccurate by the inaccuracy of the terms in which it is delivered. And this unavoidable inaccuracy must be greater or less, according to the complexity and novelty of the objects defined. When the Almighty himself condescends to address mankind in their own language, his meaning, luminous as it must be, is rendered dim and doubtful by the cloudy medium through which it is communicated.

Here, then, are three sources of vague and incorrect definitions: indistinctness of the object, imperfection of the organ of conception, inadequateness of the vehicle of ideas. Any one of these must produce a certain degree of obscurity. The convention, in delineating the boundary between the federal and State jurisdictions, must have experienced the full effect of them all.

To the difficulties already mentioned may be added the interfering pretensions of the larger and smaller States. We cannot err in supposing that the former would contend for a participation in the government, fully proportioned to their superior wealth and importance; and that the latter would not be less tenacious of the equality at present enjoyed by them. We may well suppose that neither side would entirely yield to the other, and consequently that the struggle could be terminated only by compromise. It is extremely probable, also, that after the ratio of representation had been adjusted, this very compromise must have produced a fresh struggle between the same parties, to give such a turn to the organization of the government, and to the distribution of its powers, as would increase the importance of the branches, in forming which they had respectively obtained the greatest share of influence. There are features in the Constitution which warrant each of these suppositions; and as far as either of them is well founded, it shows that the convention must have been compelled to sacrifice theoretical propriety to the force of extraneous considerations.

Nor could it have been the large and small States only, which would marshal themselves in opposition to each other on various points. Other combinations, resulting from a difference of local position and policy, must have created additional difficulties. As every State may be divided into different districts, and its citizens into different classes, which give birth to contending interests and local jealousies, so the different parts of the United States are distinguished from each other by a variety of circumstances, which produce a like effect on a larger scale. And although this variety of interests, for reasons sufficiently explained in a former paper, may have a salutary influence on the administration of the government when formed, yet every one must be sensible of the contrary influence, which must have been experienced in the task of forming it.

Would it be wonderful if, under the pressure of all these difficulties, the convention should have been forced into some deviations from that artificial structure and regular symmetry which an abstract view of the subject might lead an ingenious theorist to bestow on a Constitution planned in his closet or in his imagination? The real wonder is that so many difficulties should have been surmounted, and surmounted with a unanimity almost as unprecedented as it must have been unexpected. It is impossible for any man of candor to reflect on this circumstance without partaking of the astonishment. It is impossible for the man of pious reflection not to perceive in it a finger of that Almighty hand which has been so frequently and signally extended to our relief in the critical stages of the revolution.

We had occasion, in a former paper, to take notice of the repeated trials which have been unsuccessfully made in the United Netherlands for reforming the baneful and notorious vices of their constitution. The history of almost all the great councils and consultations held among mankind for reconciling their discordant opinions, assuaging their mutual jealousies, and adjusting their respective interests, is a history of factions, contentions, and disappointments, and may be classed among the most dark and degraded pictures which display the infirmities and depravities of the human character. If, in a few scattered instances, a brighter aspect is presented, they serve only as exceptions to admonish us of the general truth; and by their lustre to darken the gloom of the adverse prospect to which they are contrasted. In revolving the causes from which these exceptions result, and applying them to the particular instances before us, we are necessarily led to two important conclusions. The first is, that the convention must have enjoyed, in a very singular degree, an exemption from the pestilential influence of party animosities the disease most incident to deliberative bodies, and most apt to contaminate their proceedings. The second conclusion is that all the deputations composing the convention were satisfactorily accommodated by the final act, or were induced to accede to it by a deep conviction of the necessity of sacrificing private opinions and partial interests to the public good, and by a despair of seeing this necessity diminished by delays or by new experiments.</pre>
</div>
<div created="20150327192906345" modified="20150327192938198" tags="Madison [[Independent Journal]]" title="No. 38. The Same Subject Continued, and the Incoherence of the Objections to the New Plan Exposed.">
<pre>''From The Independent Journal. Saturday, January 12, 1788.''

MADISON

To the People of the State of New York:

IT IS not a little remarkable that in every case reported by ancient history, in which government has been established with deliberation and consent, the task of framing it has not been committed to an assembly of men, but has been performed by some individual citizen of preeminent wisdom and approved integrity.

Minos, we learn, was the primitive founder of the government of Crete, as Zaleucus was of that of the Locrians. Theseus first, and after him Draco and Solon, instituted the government of Athens. Lycurgus was the lawgiver of Sparta. The foundation of the original government of Rome was laid by Romulus, and the work completed by two of his elective successors, Numa and Tullius Hostilius. On the abolition of royalty the consular administration was substituted by Brutus, who stepped forward with a project for such a reform, which, he alleged, had been prepared by Tullius Hostilius, and to which his address obtained the assent and ratification of the senate and people. This remark is applicable to confederate governments also. Amphictyon, we are told, was the author of that which bore his name. The Achaean league received its first birth from Achaeus, and its second from Aratus.

What degree of agency these reputed lawgivers might have in their respective establishments, or how far they might be clothed with the legitimate authority of the people, cannot in every instance be ascertained. In some, however, the proceeding was strictly regular. Draco appears to have been intrusted by the people of Athens with indefinite powers to reform its government and laws. And Solon, according to Plutarch, was in a manner compelled, by the universal suffrage of his fellow-citizens, to take upon him the sole and absolute power of new-modeling the constitution. The proceedings under Lycurgus were less regular; but as far as the advocates for a regular reform could prevail, they all turned their eyes towards the single efforts of that celebrated patriot and sage, instead of seeking to bring about a revolution by the intervention of a deliberative body of citizens.

Whence could it have proceeded, that a people, jealous as the Greeks were of their liberty, should so far abandon the rules of caution as to place their destiny in the hands of a single citizen? Whence could it have proceeded, that the Athenians, a people who would not suffer an army to be commanded by fewer than ten generals, and who required no other proof of danger to their liberties than the illustrious merit of a fellow-citizen, should consider one illustrious citizen as a more eligible depositary of the fortunes of themselves and their posterity, than a select body of citizens, from whose common deliberations more wisdom, as well as more safety, might have been expected? These questions cannot be fully answered, without supposing that the fears of discord and disunion among a number of counsellors exceeded the apprehension of treachery or incapacity in a single individual. History informs us, likewise, of the difficulties with which these celebrated reformers had to contend, as well as the expedients which they were obliged to employ in order to carry their reforms into effect. Solon, who seems to have indulged a more temporizing policy, confessed that he had not given to his countrymen the government best suited to their happiness, but most tolerable to their prejudices. And Lycurgus, more true to his object, was under the necessity of mixing a portion of violence with the authority of superstition, and of securing his final success by a voluntary renunciation, first of his country, and then of his life. If these lessons teach us, on one hand, to admire the improvement made by America on the ancient mode of preparing and establishing regular plans of government, they serve not less, on the other, to admonish us of the hazards and difficulties incident to such experiments, and of the great imprudence of unnecessarily multiplying them.

Is it an unreasonable conjecture, that the errors which may be contained in the plan of the convention are such as have resulted rather from the defect of antecedent experience on this complicated and difficult subject, than from a want of accuracy or care in the investigation of it; and, consequently such as will not be ascertained until an actual trial shall have pointed them out? This conjecture is rendered probable, not only by many considerations of a general nature, but by the particular case of the Articles of Confederation. It is observable that among the numerous objections and amendments suggested by the several States, when these articles were submitted for their ratification, not one is found which alludes to the great and radical error which on actual trial has discovered itself. And if we except the observations which New Jersey was led to make, rather by her local situation, than by her peculiar foresight, it may be questioned whether a single suggestion was of sufficient moment to justify a revision of the system. There is abundant reason, nevertheless, to suppose that immaterial as these objections were, they would have been adhered to with a very dangerous inflexibility, in some States, had not a zeal for their opinions and supposed interests been stifled by the more powerful sentiment of self-preservation. One State, we may remember, persisted for several years in refusing her concurrence, although the enemy remained the whole period at our gates, or rather in the very bowels of our country. Nor was her pliancy in the end effected by a less motive, than the fear of being chargeable with protracting the public calamities, and endangering the event of the contest. Every candid reader will make the proper reflections on these important facts.

A patient who finds his disorder daily growing worse, and that an efficacious remedy can no longer be delayed without extreme danger, after coolly revolving his situation, and the characters of different physicians, selects and calls in such of them as he judges most capable of administering relief, and best entitled to his confidence. The physicians attend; the case of the patient is carefully examined; a consultation is held; they are unanimously agreed that the symptoms are critical, but that the case, with proper and timely relief, is so far from being desperate, that it may be made to issue in an improvement of his constitution. They are equally unanimous in prescribing the remedy, by which this happy effect is to be produced. The prescription is no sooner made known, however, than a number of persons interpose, and, without denying the reality or danger of the disorder, assure the patient that the prescription will be poison to his constitution, and forbid him, under pain of certain death, to make use of it. Might not the patient reasonably demand, before he ventured to follow this advice, that the authors of it should at least agree among themselves on some other remedy to be substituted? And if he found them differing as much from one another as from his first counsellors, would he not act prudently in trying the experiment unanimously recommended by the latter, rather than be hearkening to those who could neither deny the necessity of a speedy remedy, nor agree in proposing one?

Such a patient and in such a situation is America at this moment. She has been sensible of her malady. She has obtained a regular and unanimous advice from men of her own deliberate choice. And she is warned by others against following this advice under pain of the most fatal consequences. Do the monitors deny the reality of her danger? No. Do they deny the necessity of some speedy and powerful remedy? No. Are they agreed, are any two of them agreed, in their objections to the remedy proposed, or in the proper one to be substituted? Let them speak for themselves. This one tells us that the proposed Constitution ought to be rejected, because it is not a confederation of the States, but a government over individuals. Another admits that it ought to be a government over individuals to a certain extent, but by no means to the extent proposed. A third does not object to the government over individuals, or to the extent proposed, but to the want of a bill of rights. A fourth concurs in the absolute necessity of a bill of rights, but contends that it ought to be declaratory, not of the personal rights of individuals, but of the rights reserved to the States in their political capacity. A fifth is of opinion that a bill of rights of any sort would be superfluous and misplaced, and that the plan would be unexceptionable but for the fatal power of regulating the times and places of election. An objector in a large State exclaims loudly against the unreasonable equality of representation in the Senate. An objector in a small State is equally loud against the dangerous inequality in the House of Representatives. From this quarter, we are alarmed with the amazing expense, from the number of persons who are to administer the new government. From another quarter, and sometimes from the same quarter, on another occasion, the cry is that the Congress will be but a shadow of a representation, and that the government would be far less objectionable if the number and the expense were doubled. A patriot in a State that does not import or export, discerns insuperable objections against the power of direct taxation. The patriotic adversary in a State of great exports and imports, is not less dissatisfied that the whole burden of taxes may be thrown on consumption. This politician discovers in the Constitution a direct and irresistible tendency to monarchy; that is equally sure it will end in aristocracy. Another is puzzled to say which of these shapes it will ultimately assume, but sees clearly it must be one or other of them; whilst a fourth is not wanting, who with no less confidence affirms that the Constitution is so far from having a bias towards either of these dangers, that the weight on that side will not be sufficient to keep it upright and firm against its opposite propensities. With another class of adversaries to the Constitution the language is that the legislative, executive, and judiciary departments are intermixed in such a manner as to contradict all the ideas of regular government and all the requisite precautions in favor of liberty. Whilst this objection circulates in vague and general expressions, there are but a few who lend their sanction to it. Let each one come forward with his particular explanation, and scarce any two are exactly agreed upon the subject. In the eyes of one the junction of the Senate with the President in the responsible function of appointing to offices, instead of vesting this executive power in the Executive alone, is the vicious part of the organization. To another, the exclusion of the House of Representatives, whose numbers alone could be a due security against corruption and partiality in the exercise of such a power, is equally obnoxious. With another, the admission of the President into any share of a power which ever must be a dangerous engine in the hands of the executive magistrate, is an unpardonable violation of the maxims of republican jealousy. No part of the arrangement, according to some, is more inadmissible than the trial of impeachments by the Senate, which is alternately a member both of the legislative and executive departments, when this power so evidently belonged to the judiciary department. &quot;We concur fully,&quot; reply others, &quot;in the objection to this part of the plan, but we can never agree that a reference of impeachments to the judiciary authority would be an amendment of the error. Our principal dislike to the organization arises from the extensive powers already lodged in that department.&quot; Even among the zealous patrons of a council of state the most irreconcilable variance is discovered concerning the mode in which it ought to be constituted. The demand of one gentleman is, that the council should consist of a small number to be appointed by the most numerous branch of the legislature. Another would prefer a larger number, and considers it as a fundamental condition that the appointment should be made by the President himself.

As it can give no umbrage to the writers against the plan of the federal Constitution, let us suppose, that as they are the most zealous, so they are also the most sagacious, of those who think the late convention were unequal to the task assigned them, and that a wiser and better plan might and ought to be substituted. Let us further suppose that their country should concur, both in this favorable opinion of their merits, and in their unfavorable opinion of the convention; and should accordingly proceed to form them into a second convention, with full powers, and for the express purpose of revising and remoulding the work of the first. Were the experiment to be seriously made, though it required some effort to view it seriously even in fiction, I leave it to be decided by the sample of opinions just exhibited, whether, with all their enmity to their predecessors, they would, in any one point, depart so widely from their example, as in the discord and ferment that would mark their own deliberations; and whether the Constitution, now before the public, would not stand as fair a chance for immortality, as Lycurgus gave to that of Sparta, by making its change to depend on his own return from exile and death, if it were to be immediately adopted, and were to continue in force, not until a BETTER, but until ANOTHER should be agreed upon by this new assembly of lawgivers.

It is a matter both of wonder and regret, that those who raise so many objections against the new Constitution should never call to mind the defects of that which is to be exchanged for it. It is not necessary that the former should be perfect; it is sufficient that the latter is more imperfect. No man would refuse to give brass for silver or gold, because the latter had some alloy in it. No man would refuse to quit a shattered and tottering habitation for a firm and commodious building, because the latter had not a porch to it, or because some of the rooms might be a little larger or smaller, or the ceilings a little higher or lower than his fancy would have planned them. But waiving illustrations of this sort, is it not manifest that most of the capital objections urged against the new system lie with tenfold weight against the existing Confederation? Is an indefinite power to raise money dangerous in the hands of the federal government? The present Congress can make requisitions to any amount they please, and the States are constitutionally bound to furnish them; they can emit bills of credit as long as they will pay for the paper; they can borrow, both abroad and at home, as long as a shilling will be lent. Is an indefinite power to raise troops dangerous? The Confederation gives to Congress that power also; and they have already begun to make use of it. Is it improper and unsafe to intermix the different powers of government in the same body of men? Congress, a single body of men, are the sole depositary of all the federal powers. Is it particularly dangerous to give the keys of the treasury, and the command of the army, into the same hands? The Confederation places them both in the hands of Congress. Is a bill of rights essential to liberty? The Confederation has no bill of rights. Is it an objection against the new Constitution, that it empowers the Senate, with the concurrence of the Executive, to make treaties which are to be the laws of the land? The existing Congress, without any such control, can make treaties which they themselves have declared, and most of the States have recognized, to be the supreme law of the land. Is the importation of slaves permitted by the new Constitution for twenty years? By the old it is permitted forever.

I shall be told, that however dangerous this mixture of powers may be in theory, it is rendered harmless by the dependence of Congress on the State for the means of carrying them into practice; that however large the mass of powers may be, it is in fact a lifeless mass. Then, say I, in the first place, that the Confederation is chargeable with the still greater folly of declaring certain powers in the federal government to be absolutely necessary, and at the same time rendering them absolutely nugatory; and, in the next place, that if the Union is to continue, and no better government be substituted, effective powers must either be granted to, or assumed by, the existing Congress; in either of which events, the contrast just stated will hold good. But this is not all. Out of this lifeless mass has already grown an excrescent power, which tends to realize all the dangers that can be apprehended from a defective construction of the supreme government of the Union. It is now no longer a point of speculation and hope, that the Western territory is a mine of vast wealth to the United States; and although it is not of such a nature as to extricate them from their present distresses, or for some time to come, to yield any regular supplies for the public expenses, yet must it hereafter be able, under proper management, both to effect a gradual discharge of the domestic debt, and to furnish, for a certain period, liberal tributes to the federal treasury. A very large proportion of this fund has been already surrendered by individual States; and it may with reason be expected that the remaining States will not persist in withholding similar proofs of their equity and generosity. We may calculate, therefore, that a rich and fertile country, of an area equal to the inhabited extent of the United States, will soon become a national stock. Congress have assumed the administration of this stock. They have begun to render it productive. Congress have undertaken to do more: they have proceeded to form new States, to erect temporary governments, to appoint officers for them, and to prescribe the conditions on which such States shall be admitted into the Confederacy. All this has been done; and done without the least color of constitutional authority. Yet no blame has been whispered; no alarm has been sounded. A GREAT and INDEPENDENT fund of revenue is passing into the hands of a SINGLE BODY of men, who can RAISE TROOPS to an INDEFINITE NUMBER, and appropriate money to their support for an INDEFINITE PERIOD OF TIME. And yet there are men, who have not only been silent spectators of this prospect, but who are advocates for the system which exhibits it; and, at the same time, urge against the new system the objections which we have heard. Would they not act with more consistency, in urging the establishment of the latter, as no less necessary to guard the Union against the future powers and resources of a body constructed like the existing Congress, than to save it from the dangers threatened by the present impotency of that Assembly?

I mean not, by any thing here said, to throw censure on the measures which have been pursued by Congress. I am sensible they could not have done otherwise. The public interest, the necessity of the case, imposed upon them the task of overleaping their constitutional limits. But is not the fact an alarming proof of the danger resulting from a government which does not possess regular powers commensurate to its objects? A dissolution or usurpation is the dreadful dilemma to which it is continually exposed.

PUBLIUS</pre>
</div>
<div created="20150327193011606" modified="20150327193048638" tags="Madison [[Independent Journal]]" title="No. 39. The Conformity of the Plan to Republican Principles">
<pre>''For the Independent Journal. Wednesday, January 16, 1788''

MADISON

To the People of the State of New York:

THE last paper having concluded the observations which were meant to introduce a candid survey of the plan of government reported by the convention, we now proceed to the execution of that part of our undertaking.

The first question that offers itself is, whether the general form and aspect of the government be strictly republican. It is evident that no other form would be reconcilable with the genius of the people of America; with the fundamental principles of the Revolution; or with that honorable determination which animates every votary of freedom, to rest all our political experiments on the capacity of mankind for self-government. If the plan of the convention, therefore, be found to depart from the republican character, its advocates must abandon it as no longer defensible.

What, then, are the distinctive characters of the republican form? Were an answer to this question to be sought, not by recurring to principles, but in the application of the term by political writers, to the constitution of different States, no satisfactory one would ever be found. Holland, in which no particle of the supreme authority is derived from the people, has passed almost universally under the denomination of a republic. The same title has been bestowed on Venice, where absolute power over the great body of the people is exercised, in the most absolute manner, by a small body of hereditary nobles. Poland, which is a mixture of aristocracy and of monarchy in their worst forms, has been dignified with the same appellation. The government of England, which has one republican branch only, combined with an hereditary aristocracy and monarchy, has, with equal impropriety, been frequently placed on the list of republics. These examples, which are nearly as dissimilar to each other as to a genuine republic, show the extreme inaccuracy with which the term has been used in political disquisitions.

If we resort for a criterion to the different principles on which different forms of government are established, we may define a republic to be, or at least may bestow that name on, a government which derives all its powers directly or indirectly from the great body of the people, and is administered by persons holding their offices during pleasure, for a limited period, or during good behavior. It is ESSENTIAL to such a government that it be derived from the great body of the society, not from an inconsiderable proportion, or a favored class of it; otherwise a handful of tyrannical nobles, exercising their oppressions by a delegation of their powers, might aspire to the rank of republicans, and claim for their government the honorable title of republic. It is SUFFICIENT for such a government that the persons administering it be appointed, either directly or indirectly, by the people; and that they hold their appointments by either of the tenures just specified; otherwise every government in the United States, as well as every other popular government that has been or can be well organized or well executed, would be degraded from the republican character. According to the constitution of every State in the Union, some or other of the officers of government are appointed indirectly only by the people. According to most of them, the chief magistrate himself is so appointed. And according to one, this mode of appointment is extended to one of the co-ordinate branches of the legislature. According to all the constitutions, also, the tenure of the highest offices is extended to a definite period, and in many instances, both within the legislative and executive departments, to a period of years. According to the provisions of most of the constitutions, again, as well as according to the most respectable and received opinions on the subject, the members of the judiciary department are to retain their offices by the firm tenure of good behavior.

On comparing the Constitution planned by the convention with the standard here fixed, we perceive at once that it is, in the most rigid sense, conformable to it. The House of Representatives, like that of one branch at least of all the State legislatures, is elected immediately by the great body of the people. The Senate, like the present Congress, and the Senate of Maryland, derives its appointment indirectly from the people. The President is indirectly derived from the choice of the people, according to the example in most of the States. Even the judges, with all other officers of the Union, will, as in the several States, be the choice, though a remote choice, of the people themselves, the duration of the appointments is equally conformable to the republican standard, and to the model of State constitutions The House of Representatives is periodically elective, as in all the States; and for the period of two years, as in the State of South Carolina. The Senate is elective, for the period of six years; which is but one year more than the period of the Senate of Maryland, and but two more than that of the Senates of New York and Virginia. The President is to continue in office for the period of four years; as in New York and Delaware, the chief magistrate is elected for three years, and in South Carolina for two years. In the other States the election is annual. In several of the States, however, no constitutional provision is made for the impeachment of the chief magistrate. And in Delaware and Virginia he is not impeachable till out of office. The President of the United States is impeachable at any time during his continuance in office. The tenure by which the judges are to hold their places, is, as it unquestionably ought to be, that of good behavior. The tenure of the ministerial offices generally, will be a subject of legal regulation, conformably to the reason of the case and the example of the State constitutions.

Could any further proof be required of the republican complexion of this system, the most decisive one might be found in its absolute prohibition of titles of nobility, both under the federal and the State governments; and in its express guaranty of the republican form to each of the latter.

&quot;But it was not sufficient,&quot; say the adversaries of the proposed Constitution, &quot;for the convention to adhere to the republican form. They ought, with equal care, to have preserved the FEDERAL form, which regards the Union as a CONFEDERACY of sovereign states; instead of which, they have framed a NATIONAL government, which regards the Union as a CONSOLIDATION of the States.&quot; And it is asked by what authority this bold and radical innovation was undertaken? The handle which has been made of this objection requires that it should be examined with some precision.

Without inquiring into the accuracy of the distinction on which the objection is founded, it will be necessary to a just estimate of its force, first, to ascertain the real character of the government in question; secondly, to inquire how far the convention were authorized to propose such a government; and thirdly, how far the duty they owed to their country could supply any defect of regular authority.

First. In order to ascertain the real character of the government, it may be considered in relation to the foundation on which it is to be established; to the sources from which its ordinary powers are to be drawn; to the operation of those powers; to the extent of them; and to the authority by which future changes in the government are to be introduced.

On examining the first relation, it appears, on one hand, that the Constitution is to be founded on the assent and ratification of the people of America, given by deputies elected for the special purpose; but, on the other, that this assent and ratification is to be given by the people, not as individuals composing one entire nation, but as composing the distinct and independent States to which they respectively belong. It is to be the assent and ratification of the several States, derived from the supreme authority in each State, the authority of the people themselves. The act, therefore, establishing the Constitution, will not be a NATIONAL, but a FEDERAL act.

That it will be a federal and not a national act, as these terms are understood by the objectors; the act of the people, as forming so many independent States, not as forming one aggregate nation, is obvious from this single consideration, that it is to result neither from the decision of a MAJORITY of the people of the Union, nor from that of a MAJORITY of the States. It must result from the UNANIMOUS assent of the several States that are parties to it, differing no otherwise from their ordinary assent than in its being expressed, not by the legislative authority, but by that of the people themselves. Were the people regarded in this transaction as forming one nation, the will of the majority of the whole people of the United States would bind the minority, in the same manner as the majority in each State must bind the minority; and the will of the majority must be determined either by a comparison of the individual votes, or by considering the will of the majority of the States as evidence of the will of a majority of the people of the United States. Neither of these rules have been adopted. Each State, in ratifying the Constitution, is considered as a sovereign body, independent of all others, and only to be bound by its own voluntary act. In this relation, then, the new Constitution will, if established, be a FEDERAL, and not a NATIONAL constitution.

The next relation is, to the sources from which the ordinary powers of government are to be derived. The House of Representatives will derive its powers from the people of America; and the people will be represented in the same proportion, and on the same principle, as they are in the legislature of a particular State. So far the government is NATIONAL, not FEDERAL. The Senate, on the other hand, will derive its powers from the States, as political and coequal societies; and these will be represented on the principle of equality in the Senate, as they now are in the existing Congress. So far the government is FEDERAL, not NATIONAL. The executive power will be derived from a very compound source. The immediate election of the President is to be made by the States in their political characters. The votes allotted to them are in a compound ratio, which considers them partly as distinct and coequal societies, partly as unequal members of the same society. The eventual election, again, is to be made by that branch of the legislature which consists of the national representatives; but in this particular act they are to be thrown into the form of individual delegations, from so many distinct and coequal bodies politic. From this aspect of the government it appears to be of a mixed character, presenting at least as many FEDERAL as NATIONAL features.

The difference between a federal and national government, as it relates to the OPERATION OF THE GOVERNMENT, is supposed to consist in this, that in the former the powers operate on the political bodies composing the Confederacy, in their political capacities; in the latter, on the individual citizens composing the nation, in their individual capacities. On trying the Constitution by this criterion, it falls under the NATIONAL, not the FEDERAL character; though perhaps not so completely as has been understood. In several cases, and particularly in the trial of controversies to which States may be parties, they must be viewed and proceeded against in their collective and political capacities only. So far the national countenance of the government on this side seems to be disfigured by a few federal features. But this blemish is perhaps unavoidable in any plan; and the operation of the government on the people, in their individual capacities, in its ordinary and most essential proceedings, may, on the whole, designate it, in this relation, a NATIONAL government.

But if the government be national with regard to the OPERATION of its powers, it changes its aspect again when we contemplate it in relation to the EXTENT of its powers. The idea of a national government involves in it, not only an authority over the individual citizens, but an indefinite supremacy over all persons and things, so far as they are objects of lawful government. Among a people consolidated into one nation, this supremacy is completely vested in the national legislature. Among communities united for particular purposes, it is vested partly in the general and partly in the municipal legislatures. In the former case, all local authorities are subordinate to the supreme; and may be controlled, directed, or abolished by it at pleasure. In the latter, the local or municipal authorities form distinct and independent portions of the supremacy, no more subject, within their respective spheres, to the general authority, than the general authority is subject to them, within its own sphere. In this relation, then, the proposed government cannot be deemed a NATIONAL one; since its jurisdiction extends to certain enumerated objects only, and leaves to the several States a residuary and inviolable sovereignty over all other objects. It is true that in controversies relating to the boundary between the two jurisdictions, the tribunal which is ultimately to decide, is to be established under the general government. But this does not change the principle of the case. The decision is to be impartially made, according to the rules of the Constitution; and all the usual and most effectual precautions are taken to secure this impartiality. Some such tribunal is clearly essential to prevent an appeal to the sword and a dissolution of the compact; and that it ought to be established under the general rather than under the local governments, or, to speak more properly, that it could be safely established under the first alone, is a position not likely to be combated.

If we try the Constitution by its last relation to the authority by which amendments are to be made, we find it neither wholly NATIONAL nor wholly FEDERAL. Were it wholly national, the supreme and ultimate authority would reside in the MAJORITY of the people of the Union; and this authority would be competent at all times, like that of a majority of every national society, to alter or abolish its established government. Were it wholly federal, on the other hand, the concurrence of each State in the Union would be essential to every alteration that would be binding on all. The mode provided by the plan of the convention is not founded on either of these principles. In requiring more than a majority, and principles. In requiring more than a majority, and particularly in computing the proportion by STATES, not by CITIZENS, it departs from the NATIONAL and advances towards the FEDERAL character; in rendering the concurrence of less than the whole number of States sufficient, it loses again the FEDERAL and partakes of the NATIONAL character.

The proposed Constitution, therefore, is, in strictness, neither a national nor a federal Constitution, but a composition of both. In its foundation it is federal, not national; in the sources from which the ordinary powers of the government are drawn, it is partly federal and partly national; in the operation of these powers, it is national, not federal; in the extent of them, again, it is federal, not national; and, finally, in the authoritative mode of introducing amendments, it is neither wholly federal nor wholly national.

PUBLIUS</pre>
</div>
<div created="20150327163629191" modified="20150327174417504" tags="Jay [[Independent Journal]]" title="No. 4. The Same Subject Continued (Concerning Dangers From Foreign Force and Influence)">
<pre>''For the Independent Journal. Wednesday, November 7, 1787''

JAY

To the People of the State of New York:

MY LAST paper assigned several reasons why the safety of the people would be best secured by union against the danger it may be exposed to by JUST causes of war given to other nations; and those reasons show that such causes would not only be more rarely given, but would also be more easily accommodated, by a national government than either by the State governments or the proposed little confederacies.

But the safety of the people of America against dangers from FOREIGN force depends not only on their forbearing to give JUST causes of war to other nations, but also on their placing and continuing themselves in such a situation as not to INVITE hostility or insult; for it need not be observed that there are PRETENDED as well as just causes of war.

It is too true, however disgraceful it may be to human nature, that nations in general will make war whenever they have a prospect of getting anything by it; nay, absolute monarchs will often make war when their nations are to get nothing by it, but for the purposes and objects merely personal, such as thirst for military glory, revenge for personal affronts, ambition, or private compacts to aggrandize or support their particular families or partisans. These and a variety of other motives, which affect only the mind of the sovereign, often lead him to engage in wars not sanctified by justice or the voice and interests of his people. But, independent of these inducements to war, which are more prevalent in absolute monarchies, but which well deserve our attention, there are others which affect nations as often as kings; and some of them will on examination be found to grow out of our relative situation and circumstances.

With France and with Britain we are rivals in the fisheries, and can supply their markets cheaper than they can themselves, notwithstanding any efforts to prevent it by bounties on their own or duties on foreign fish.

With them and with most other European nations we are rivals in navigation and the carrying trade; and we shall deceive ourselves if we suppose that any of them will rejoice to see it flourish; for, as our carrying trade cannot increase without in some degree diminishing theirs, it is more their interest, and will be more their policy, to restrain than to promote it.

In the trade to China and India, we interfere with more than one nation, inasmuch as it enables us to partake in advantages which they had in a manner monopolized, and as we thereby supply ourselves with commodities which we used to purchase from them.

The extension of our own commerce in our own vessels cannot give pleasure to any nations who possess territories on or near this continent, because the cheapness and excellence of our productions, added to the circumstance of vicinity, and the enterprise and address of our merchants and navigators, will give us a greater share in the advantages which those territories afford, than consists with the wishes or policy of their respective sovereigns.

Spain thinks it convenient to shut the Mississippi against us on the one side, and Britain excludes us from the Saint Lawrence on the other; nor will either of them permit the other waters which are between them and us to become the means of mutual intercourse and traffic.

From these and such like considerations, which might, if consistent with prudence, be more amplified and detailed, it is easy to see that jealousies and uneasinesses may gradually slide into the minds and cabinets of other nations, and that we are not to expect that they should regard our advancement in union, in power and consequence by land and by sea, with an eye of indifference and composure.

The people of America are aware that inducements to war may arise out of these circumstances, as well as from others not so obvious at present, and that whenever such inducements may find fit time and opportunity for operation, pretenses to color and justify them will not be wanting. Wisely, therefore, do they consider union and a good national government as necessary to put and keep them in SUCH A SITUATION as, instead of INVITING war, will tend to repress and discourage it. That situation consists in the best possible state of defense, and necessarily depends on the government, the arms, and the resources of the country.

As the safety of the whole is the interest of the whole, and cannot be provided for without government, either one or more or many, let us inquire whether one good government is not, relative to the object in question, more competent than any other given number whatever.

One government can collect and avail itself of the talents and experience of the ablest men, in whatever part of the Union they may be found. It can move on uniform principles of policy. It can harmonize, assimilate, and protect the several parts and members, and extend the benefit of its foresight and precautions to each. In the formation of treaties, it will regard the interest of the whole, and the particular interests of the parts as connected with that of the whole. It can apply the resources and power of the whole to the defense of any particular part, and that more easily and expeditiously than State governments or separate confederacies can possibly do, for want of concert and unity of system. It can place the militia under one plan of discipline, and, by putting their officers in a proper line of subordination to the Chief Magistrate, will, as it were, consolidate them into one corps, and thereby render them more efficient than if divided into thirteen or into three or four distinct independent companies.

What would the militia of Britain be if the English militia obeyed the government of England, if the Scotch militia obeyed the government of Scotland, and if the Welsh militia obeyed the government of Wales? Suppose an invasion; would those three governments (if they agreed at all) be able, with all their respective forces, to operate against the enemy so effectually as the single government of Great Britain would?

We have heard much of the fleets of Britain, and the time may come, if we are wise, when the fleets of America may engage attention. But if one national government, had not so regulated the navigation of Britain as to make it a nursery for seamen—if one national government had not called forth all the national means and materials for forming fleets, their prowess and their thunder would never have been celebrated. Let England have its navigation and fleet—let Scotland have its navigation and fleet—let Wales have its navigation and fleet—let Ireland have its navigation and fleet—let those four of the constituent parts of the British empire be be under four independent governments, and it is easy to perceive how soon they would each dwindle into comparative insignificance.

Apply these facts to our own case. Leave America divided into thirteen or, if you please, into three or four independent governments—what armies could they raise and pay—what fleets could they ever hope to have? If one was attacked, would the others fly to its succor, and spend their blood and money in its defense? Would there be no danger of their being flattered into neutrality by its specious promises, or seduced by a too great fondness for peace to decline hazarding their tranquillity and present safety for the sake of neighbors, of whom perhaps they have been jealous, and whose importance they are content to see diminished? Although such conduct would not be wise, it would, nevertheless, be natural. The history of the states of Greece, and of other countries, abounds with such instances, and it is not improbable that what has so often happened would, under similar circumstances, happen again.

But admit that they might be willing to help the invaded State or confederacy. How, and when, and in what proportion shall aids of men and money be afforded? Who shall command the allied armies, and from which of them shall he receive his orders? Who shall settle the terms of peace, and in case of disputes what umpire shall decide between them and compel acquiescence? Various difficulties and inconveniences would be inseparable from such a situation; whereas one government, watching over the general and common interests, and combining and directing the powers and resources of the whole, would be free from all these embarrassments, and conduce far more to the safety of the people.

But whatever may be our situation, whether firmly united under one national government, or split into a number of confederacies, certain it is, that foreign nations will know and view it exactly as it is; and they will act toward us accordingly. If they see that our national government is efficient and well administered, our trade prudently regulated, our militia properly organized and disciplined, our resources and finances discreetly managed, our credit re-established, our people free, contented, and united, they will be much more disposed to cultivate our friendship than provoke our resentment. If, on the other hand, they find us either destitute of an effectual government (each State doing right or wrong, as to its rulers may seem convenient), or split into three or four independent and probably discordant republics or confederacies, one inclining to Britain, another to France, and a third to Spain, and perhaps played off against each other by the three, what a poor, pitiful figure will America make in their eyes! How liable would she become not only to their contempt but to their outrage, and how soon would dear-bought experience proclaim that when a people or family so divide, it never fails to be against themselves.

PUBLIUS</pre>
</div>
<div created="20150327193340271" modified="20150327193551414" tags="Madison [[New York Packet]]" title="No. 40. On the Powers of the Convention to Form a Mixed Government Examined and Sustained.">
<pre>''For the New York Packet. Friday, January 18, 1788.''

MADISON

To the People of the State of New York:

THE SECOND point to be examined is, whether the convention were authorized to frame and propose this mixed Constitution.

The powers of the convention ought, in strictness, to be determined by an inspection of the commissions given to the members by their respective constituents. As all of these, however, had reference, either to the recommendation from the meeting at Annapolis, in September, 1786, or to that from Congress, in February, 1787, it will be sufficient to recur to these particular acts.

The act from Annapolis recommends the &quot;appointment of commissioners to take into consideration the situation of the United States; to devise SUCH FURTHER PROVISIONS as shall appear to them necessary to render the Constitution of the federal government ADEQUATE TO THE EXIGENCIES OF THE UNION; and to report such an act for that purpose, to the United States in Congress assembled, as when agreed to by them, and afterwards confirmed by the legislature of every State, will effectually provide for the same.&quot;

The recommendatory act of Congress is in the words following: &quot;WHEREAS, There is provision in the articles of Confederation and perpetual Union, for making alterations therein, by the assent of a Congress of the United States, and of the legislatures of the several States; and whereas experience hath evinced, that there are defects in the present Confederation; as a mean to remedy which, several of the States, and PARTICULARLY THE STATE OF NEW YORK, by express instructions to their delegates in Congress, have suggested a convention for the purposes expressed in the following resolution; and such convention appearing to be the most probable mean of establishing in these States A FIRM NATIONAL GOVERNMENT:

&quot;Resolved, That in the opinion of Congress it is expedient, that on the second Monday of May next a convention of delegates, who shall have been appointed by the several States, be held at Philadelphia, for the sole and express purpose OF REVISING THE ARTICLES OF CONFEDERATION, and reporting to Congress and the several legislatures such ALTERATIONS AND PROVISIONS THEREIN, as shall, when agreed to in Congress, and confirmed by the States, render the federal Constitution ADEQUATE TO THE EXIGENCIES OF GOVERNMENT AND THE PRESERVATION OF THE UNION.&quot;

From these two acts, it appears, 1st, that the object of the convention was to establish, in these States, A FIRM NATIONAL GOVERNMENT; 2d, that this government was to be such as would be ADEQUATE TO THE EXIGENCIES OF GOVERNMENT and THE PRESERVATION OF THE UNION; 3d, that these purposes were to be effected by ALTERATIONS AND PROVISIONS IN THE ARTICLES OF CONFEDERATION, as it is expressed in the act of Congress, or by SUCH FURTHER PROVISIONS AS SHOULD APPEAR NECESSARY, as it stands in the recommendatory act from Annapolis; 4th, that the alterations and provisions were to be reported to Congress, and to the States, in order to be agreed to by the former and confirmed by the latter.

From a comparison and fair construction of these several modes of expression, is to be deduced the authority under which the convention acted. They were to frame a NATIONAL GOVERNMENT, adequate to the EXIGENCIES OF GOVERNMENT, and OF THE UNION; and to reduce the articles of Confederation into such form as to accomplish these purposes.

There are two rules of construction, dictated by plain reason, as well as founded on legal axioms. The one is, that every part of the expression ought, if possible, to be allowed some meaning, and be made to conspire to some common end. The other is, that where the several parts cannot be made to coincide, the less important should give way to the more important part; the means should be sacrificed to the end, rather than the end to the means.

Suppose, then, that the expressions defining the authority of the convention were irreconcilably at variance with each other; that a NATIONAL and ADEQUATE GOVERNMENT could not possibly, in the judgment of the convention, be affected by ALTERATIONS and PROVISIONS in the ARTICLES OF CONFEDERATION; which part of the definition ought to have been embraced, and which rejected? Which was the more important, which the less important part? Which the end; which the means? Let the most scrupulous expositors of delegated powers; let the most inveterate objectors against those exercised by the convention, answer these questions. Let them declare, whether it was of most importance to the happiness of the people of America, that the articles of Confederation should be disregarded, and an adequate government be provided, and the Union preserved; or that an adequate government should be omitted, and the articles of Confederation preserved. Let them declare, whether the preservation of these articles was the end, for securing which a reform of the government was to be introduced as the means; or whether the establishment of a government, adequate to the national happiness, was the end at which these articles themselves originally aimed, and to which they ought, as insufficient means, to have been sacrificed.

But is it necessary to suppose that these expressions are absolutely irreconcilable to each other; that no ALTERATIONS or PROVISIONS in the articles of the confederation could possibly mould them into a national and adequate government; into such a government as has been proposed by the convention?

No stress, it is presumed, will, in this case, be laid on the TITLE; a change of that could never be deemed an exercise of ungranted power. ALTERATIONS in the body of the instrument are expressly authorized. NEW PROVISIONS therein are also expressly authorized. Here then is a power to change the title; to insert new articles; to alter old ones. Must it of necessity be admitted that this power is infringed, so long as a part of the old articles remain? Those who maintain the affirmative ought at least to mark the boundary between authorized and usurped innovations; between that degree of change which lies within the compass of ALTERATIONS AND FURTHER PROVISIONS, and that which amounts to a TRANSMUTATION of the government. Will it be said that the alterations ought not to have touched the substance of the Confederation? The States would never have appointed a convention with so much solemnity, nor described its objects with so much latitude, if some SUBSTANTIAL reform had not been in contemplation. Will it be said that the FUNDAMENTAL PRINCIPLES of the Confederation were not within the purview of the convention, and ought not to have been varied? I ask, What are these principles? Do they require that, in the establishment of the Constitution, the States should be regarded as distinct and independent sovereigns? They are so regarded by the Constitution proposed. Do they require that the members of the government should derive their appointment from the legislatures, not from the people of the States? One branch of the new government is to be appointed by these legislatures; and under the Confederation, the delegates to Congress MAY ALL be appointed immediately by the people, and in two States &lt;span class=&quot;footnote&quot; title=&quot;Connecticut and Rhode Island.&quot;&gt;(1)&lt;/span&gt; are actually so appointed. Do they require that the powers of the government should act on the States, and not immediately on individuals? In some instances, as has been shown, the powers of the new government will act on the States in their collective characters. In some instances, also, those of the existing government act immediately on individuals. In cases of capture; of piracy; of the post office; of coins, weights, and measures; of trade with the Indians; of claims under grants of land by different States; and, above all, in the case of trials by courts-marshal in the army and navy, by which death may be inflicted without the intervention of a jury, or even of a civil magistrate; in all these cases the powers of the Confederation operate immediately on the persons and interests of individual citizens. Do these fundamental principles require, particularly, that no tax should be levied without the intermediate agency of the States? The Confederation itself authorizes a direct tax, to a certain extent, on the post office. The power of coinage has been so construed by Congress as to levy a tribute immediately from that source also. But pretermitting these instances, was it not an acknowledged object of the convention and the universal expectation of the people, that the regulation of trade should be submitted to the general government in such a form as would render it an immediate source of general revenue? Had not Congress repeatedly recommended this measure as not inconsistent with the fundamental principles of the Confederation? Had not every State but one; had not New York herself, so far complied with the plan of Congress as to recognize the PRINCIPLE of the innovation? Do these principles, in fine, require that the powers of the general government should be limited, and that, beyond this limit, the States should be left in possession of their sovereignty and independence? We have seen that in the new government, as in the old, the general powers are limited; and that the States, in all unenumerated cases, are left in the enjoyment of their sovereign and independent jurisdiction.

The truth is, that the great principles of the Constitution proposed by the convention may be considered less as absolutely new, than as the expansion of principles which are found in the articles of Confederation. The misfortune under the latter system has been, that these principles are so feeble and confined as to justify all the charges of inefficiency which have been urged against it, and to require a degree of enlargement which gives to the new system the aspect of an entire transformation of the old.

In one particular it is admitted that the convention have departed from the tenor of their commission. Instead of reporting a plan requiring the confirmation OF THE LEGISLATURES OF ALL THE STATES, they have reported a plan which is to be confirmed by the PEOPLE, and may be carried into effect by NINE STATES ONLY. It is worthy of remark that this objection, though the most plausible, has been the least urged in the publications which have swarmed against the convention. The forbearance can only have proceeded from an irresistible conviction of the absurdity of subjecting the fate of twelve States to the perverseness or corruption of a thirteenth; from the example of inflexible opposition given by a MAJORITY of one sixtieth of the people of America to a measure approved and called for by the voice of twelve States, comprising fifty-nine sixtieths of the people an example still fresh in the memory and indignation of every citizen who has felt for the wounded honor and prosperity of his country. As this objection, therefore, has been in a manner waived by those who have criticised the powers of the convention, I dismiss it without further observation.

The THIRD point to be inquired into is, how far considerations of duty arising out of the case itself could have supplied any defect of regular authority.

In the preceding inquiries the powers of the convention have been analyzed and tried with the same rigor, and by the same rules, as if they had been real and final powers for the establishment of a Constitution for the United States. We have seen in what manner they have borne the trial even on that supposition. It is time now to recollect that the powers were merely advisory and recommendatory; that they were so meant by the States, and so understood by the convention; and that the latter have accordingly planned and proposed a Constitution which is to be of no more consequence than the paper on which it is written, unless it be stamped with the approbation of those to whom it is addressed. This reflection places the subject in a point of view altogether different, and will enable us to judge with propriety of the course taken by the convention.

Let us view the ground on which the convention stood. It may be collected from their proceedings, that they were deeply and unanimously impressed with the crisis, which had led their country almost with one voice to make so singular and solemn an experiment for correcting the errors of a system by which this crisis had been produced; that they were no less deeply and unanimously convinced that such a reform as they have proposed was absolutely necessary to effect the purposes of their appointment. It could not be unknown to them that the hopes and expectations of the great body of citizens, throughout this great empire, were turned with the keenest anxiety to the event of their deliberations. They had every reason to believe that the contrary sentiments agitated the minds and bosoms of every external and internal foe to the liberty and prosperity of the United States. They had seen in the origin and progress of the experiment, the alacrity with which the PROPOSITION, made by a single State (Virginia), towards a partial amendment of the Confederation, had been attended to and promoted. They had seen the LIBERTY ASSUMED by a VERY FEW deputies from a VERY FEW States, convened at Annapolis, of recommending a great and critical object, wholly foreign to their commission, not only justified by the public opinion, but actually carried into effect by twelve out of the thirteen States. They had seen, in a variety of instances, assumptions by Congress, not only of recommendatory, but of operative, powers, warranted, in the public estimation, by occasions and objects infinitely less urgent than those by which their conduct was to be governed. They must have reflected, that in all great changes of established governments, forms ought to give way to substance; that a rigid adherence in such cases to the former, would render nominal and nugatory the transcendent and precious right of the people to &quot;abolish or alter their governments as to them shall seem most likely to effect their safety and happiness,&quot; &lt;span class=&quot;footnote&quot; title=&quot;Declaration of Independence.&quot;&gt;(2)&lt;/span&gt; since it is impossible for the people spontaneously and universally to move in concert towards their object; and it is therefore essential that such changes be instituted by some INFORMAL AND UNAUTHORIZED PROPOSITIONS, made by some patriotic and respectable citizen or number of citizens. They must have recollected that it was by this irregular and assumed privilege of proposing to the people plans for their safety and happiness, that the States were first united against the danger with which they were threatened by their ancient government; that committees and congresses were formed for concentrating their efforts and defending their rights; and that CONVENTIONS were ELECTED in THE SEVERAL STATES for establishing the constitutions under which they are now governed; nor could it have been forgotten that no little ill-timed scruples, no zeal for adhering to ordinary forms, were anywhere seen, except in those who wished to indulge, under these masks, their secret enmity to the substance contended for. They must have borne in mind, that as the plan to be framed and proposed was to be submitted TO THE PEOPLE THEMSELVES, the disapprobation of this supreme authority would destroy it forever; its approbation blot out antecedent errors and irregularities. It might even have occurred to them, that where a disposition to cavil prevailed, their neglect to execute the degree of power vested in them, and still more their recommendation of any measure whatever, not warranted by their commission, would not less excite animadversion, than a recommendation at once of a measure fully commensurate to the national exigencies.

Had the convention, under all these impressions, and in the midst of all these considerations, instead of exercising a manly confidence in their country, by whose confidence they had been so peculiarly distinguished, and of pointing out a system capable, in their judgment, of securing its happiness, taken the cold and sullen resolution of disappointing its ardent hopes, of sacrificing substance to forms, of committing the dearest interests of their country to the uncertainties of delay and the hazard of events, let me ask the man who can raise his mind to one elevated conception, who can awaken in his bosom one patriotic emotion, what judgment ought to have been pronounced by the impartial world, by the friends of mankind, by every virtuous citizen, on the conduct and character of this assembly? Or if there be a man whose propensity to condemn is susceptible of no control, let me then ask what sentence he has in reserve for the twelve States who USURPED THE POWER of sending deputies to the convention, a body utterly unknown to their constitutions; for Congress, who recommended the appointment of this body, equally unknown to the Confederation; and for the State of New York, in particular, which first urged and then complied with this unauthorized interposition?

But that the objectors may be disarmed of every pretext, it shall be granted for a moment that the convention were neither authorized by their commission, nor justified by circumstances in proposing a Constitution for their country: does it follow that the Constitution ought, for that reason alone, to be rejected? If, according to the noble precept, it be lawful to accept good advice even from an enemy, shall we set the ignoble example of refusing such advice even when it is offered by our friends? The prudent inquiry, in all cases, ought surely to be, not so much FROM WHOM the advice comes, as whether the advice be GOOD.

The sum of what has been here advanced and proved is, that the charge against the convention of exceeding their powers, except in one instance little urged by the objectors, has no foundation to support it; that if they had exceeded their powers, they were not only warranted, but required, as the confidential servants of their country, by the circumstances in which they were placed, to exercise the liberty which they assume; and that finally, if they had violated both their powers and their obligations, in proposing a Constitution, this ought nevertheless to be embraced, if it be calculated to accomplish the views and happiness of the people of America. How far this character is due to the Constitution, is the subject under investigation.

PUBLIUS

''Footnotes''

1. Connecticut and Rhode Island.

2. Declaration of Independence.
</pre>
</div>
<div created="20150327193641319" modified="20150327193721246" tags="Madison [[Independent Journal]]" title="No. 41. General View of the Powers Conferred by The Constitution">
<pre>''For the Independent Journal. Saturday, January 19, 1788''

MADISON

To the People of the State of New York:

THE Constitution proposed by the convention may be considered under two general points of view. The FIRST relates to the sum or quantity of power which it vests in the government, including the restraints imposed on the States. The SECOND, to the particular structure of the government, and the distribution of this power among its several branches.

Under the FIRST view of the subject, two important questions arise: 1. Whether any part of the powers transferred to the general government be unnecessary or improper? 2. Whether the entire mass of them be dangerous to the portion of jurisdiction left in the several States?

Is the aggregate power of the general government greater than ought to have been vested in it? This is the FIRST question.

It cannot have escaped those who have attended with candor to the arguments employed against the extensive powers of the government, that the authors of them have very little considered how far these powers were necessary means of attaining a necessary end. They have chosen rather to dwell on the inconveniences which must be unavoidably blended with all political advantages; and on the possible abuses which must be incident to every power or trust, of which a beneficial use can be made. This method of handling the subject cannot impose on the good sense of the people of America. It may display the subtlety of the writer; it may open a boundless field for rhetoric and declamation; it may inflame the passions of the unthinking, and may confirm the prejudices of the misthinking: but cool and candid people will at once reflect, that the purest of human blessings must have a portion of alloy in them; that the choice must always be made, if not of the lesser evil, at least of the GREATER, not the PERFECT, good; and that in every political institution, a power to advance the public happiness involves a discretion which may be misapplied and abused. They will see, therefore, that in all cases where power is to be conferred, the point first to be decided is, whether such a power be necessary to the public good; as the next will be, in case of an affirmative decision, to guard as effectually as possible against a perversion of the power to the public detriment.

That we may form a correct judgment on this subject, it will be proper to review the several powers conferred on the government of the Union; and that this may be the more conveniently done they may be reduced into different classes as they relate to the following different objects: 1. Security against foreign danger; 2. Regulation of the intercourse with foreign nations; 3. Maintenance of harmony and proper intercourse among the States; 4. Certain miscellaneous objects of general utility; 5. Restraint of the States from certain injurious acts; 6. Provisions for giving due efficacy to all these powers.

The powers falling within the FIRST class are those of declaring war and granting letters of marque; of providing armies and fleets; of regulating and calling forth the militia; of levying and borrowing money.

Security against foreign danger is one of the primitive objects of civil society. It is an avowed and essential object of the American Union. The powers requisite for attaining it must be effectually confided to the federal councils.

Is the power of declaring war necessary? No man will answer this question in the negative. It would be superfluous, therefore, to enter into a proof of the affirmative. The existing Confederation establishes this power in the most ample form.

Is the power of raising armies and equipping fleets necessary? This is involved in the foregoing power. It is involved in the power of self-defense.

But was it necessary to give an INDEFINITE POWER of raising TROOPS, as well as providing fleets; and of maintaining both in PEACE, as well as in WAR?

The answer to these questions has been too far anticipated in another place to admit an extensive discussion of them in this place. The answer indeed seems to be so obvious and conclusive as scarcely to justify such a discussion in any place. With what color of propriety could the force necessary for defense be limited by those who cannot limit the force of offense? If a federal Constitution could chain the ambition or set bounds to the exertions of all other nations, then indeed might it prudently chain the discretion of its own government, and set bounds to the exertions for its own safety.

How could a readiness for war in time of peace be safely prohibited, unless we could prohibit, in like manner, the preparations and establishments of every hostile nation? The means of security can only be regulated by the means and the danger of attack. They will, in fact, be ever determined by these rules, and by no others. It is in vain to oppose constitutional barriers to the impulse of self-preservation. It is worse than in vain; because it plants in the Constitution itself necessary usurpations of power, every precedent of which is a germ of unnecessary and multiplied repetitions. If one nation maintains constantly a disciplined army, ready for the service of ambition or revenge, it obliges the most pacific nations who may be within the reach of its enterprises to take corresponding precautions. The fifteenth century was the unhappy epoch of military establishments in the time of peace. They were introduced by Charles VII. of France. All Europe has followed, or been forced into, the example. Had the example not been followed by other nations, all Europe must long ago have worn the chains of a universal monarch. Were every nation except France now to disband its peace establishments, the same event might follow. The veteran legions of Rome were an overmatch for the undisciplined valor of all other nations and rendered her the mistress of the world.

Not the less true is it, that the liberties of Rome proved the final victim to her military triumphs; and that the liberties of Europe, as far as they ever existed, have, with few exceptions, been the price of her military establishments. A standing force, therefore, is a dangerous, at the same time that it may be a necessary, provision. On the smallest scale it has its inconveniences. On an extensive scale its consequences may be fatal. On any scale it is an object of laudable circumspection and precaution. A wise nation will combine all these considerations; and, whilst it does not rashly preclude itself from any resource which may become essential to its safety, will exert all its prudence in diminishing both the necessity and the danger of resorting to one which may be inauspicious to its liberties.

The clearest marks of this prudence are stamped on the proposed Constitution. The Union itself, which it cements and secures, destroys every pretext for a military establishment which could be dangerous. America united, with a handful of troops, or without a single soldier, exhibits a more forbidding posture to foreign ambition than America disunited, with a hundred thousand veterans ready for combat. It was remarked, on a former occasion, that the want of this pretext had saved the liberties of one nation in Europe. Being rendered by her insular situation and her maritime resources impregnable to the armies of her neighbors, the rulers of Great Britain have never been able, by real or artificial dangers, to cheat the public into an extensive peace establishment. The distance of the United States from the powerful nations of the world gives them the same happy security. A dangerous establishment can never be necessary or plausible, so long as they continue a united people. But let it never, for a moment, be forgotten that they are indebted for this advantage to the Union alone. The moment of its dissolution will be the date of a new order of things. The fears of the weaker, or the ambition of the stronger States, or Confederacies, will set the same example in the New, as Charles VII. did in the Old World. The example will be followed here from the same motives which produced universal imitation there. Instead of deriving from our situation the precious advantage which Great Britain has derived from hers, the face of America will be but a copy of that of the continent of Europe. It will present liberty everywhere crushed between standing armies and perpetual taxes. The fortunes of disunited America will be even more disastrous than those of Europe. The sources of evil in the latter are confined to her own limits. No superior powers of another quarter of the globe intrigue among her rival nations, inflame their mutual animosities, and render them the instruments of foreign ambition, jealousy, and revenge. In America the miseries springing from her internal jealousies, contentions, and wars, would form a part only of her lot. A plentiful addition of evils would have their source in that relation in which Europe stands to this quarter of the earth, and which no other quarter of the earth bears to Europe.

This picture of the consequences of disunion cannot be too highly colored, or too often exhibited. Every man who loves peace, every man who loves his country, every man who loves liberty, ought to have it ever before his eyes, that he may cherish in his heart a due attachment to the Union of America, and be able to set a due value on the means of preserving it.

Next to the effectual establishment of the Union, the best possible precaution against danger from standing armies is a limitation of the term for which revenue may be appropriated to their support. This precaution the Constitution has prudently added. I will not repeat here the observations which I flatter myself have placed this subject in a just and satisfactory light. But it may not be improper to take notice of an argument against this part of the Constitution, which has been drawn from the policy and practice of Great Britain. It is said that the continuance of an army in that kingdom requires an annual vote of the legislature; whereas the American Constitution has lengthened this critical period to two years. This is the form in which the comparison is usually stated to the public: but is it a just form? Is it a fair comparison? Does the British Constitution restrain the parliamentary discretion to one year? Does the American impose on the Congress appropriations for two years? On the contrary, it cannot be unknown to the authors of the fallacy themselves, that the British Constitution fixes no limit whatever to the discretion of the legislature, and that the American ties down the legislature to two years, as the longest admissible term.

Had the argument from the British example been truly stated, it would have stood thus: The term for which supplies may be appropriated to the army establishment, though unlimited by the British Constitution, has nevertheless, in practice, been limited by parliamentary discretion to a single year. Now, if in Great Britain, where the House of Commons is elected for seven years; where so great a proportion of the members are elected by so small a proportion of the people; where the electors are so corrupted by the representatives, and the representatives so corrupted by the Crown, the representative body can possess a power to make appropriations to the army for an indefinite term, without desiring, or without daring, to extend the term beyond a single year, ought not suspicion herself to blush, in pretending that the representatives of the United States, elected FREELY by the WHOLE BODY of the people, every SECOND YEAR, cannot be safely intrusted with the discretion over such appropriations, expressly limited to the short period of TWO YEARS?

A bad cause seldom fails to betray itself. Of this truth, the management of the opposition to the federal government is an unvaried exemplification. But among all the blunders which have been committed, none is more striking than the attempt to enlist on that side the prudent jealousy entertained by the people, of standing armies. The attempt has awakened fully the public attention to that important subject; and has led to investigations which must terminate in a thorough and universal conviction, not only that the constitution has provided the most effectual guards against danger from that quarter, but that nothing short of a Constitution fully adequate to the national defense and the preservation of the Union, can save America from as many standing armies as it may be split into States or Confederacies, and from such a progressive augmentation, of these establishments in each, as will render them as burdensome to the properties and ominous to the liberties of the people, as any establishment that can become necessary, under a united and efficient government, must be tolerable to the former and safe to the latter.

The palpable necessity of the power to provide and maintain a navy has protected that part of the Constitution against a spirit of censure, which has spared few other parts. It must, indeed, be numbered among the greatest blessings of America, that as her Union will be the only source of her maritime strength, so this will be a principal source of her security against danger from abroad. In this respect our situation bears another likeness to the insular advantage of Great Britain. The batteries most capable of repelling foreign enterprises on our safety, are happily such as can never be turned by a perfidious government against our liberties.

The inhabitants of the Atlantic frontier are all of them deeply interested in this provision for naval protection, and if they have hitherto been suffered to sleep quietly in their beds; if their property has remained safe against the predatory spirit of licentious adventurers; if their maritime towns have not yet been compelled to ransom themselves from the terrors of a conflagration, by yielding to the exactions of daring and sudden invaders, these instances of good fortune are not to be ascribed to the capacity of the existing government for the protection of those from whom it claims allegiance, but to causes that are fugitive and fallacious. If we except perhaps Virginia and Maryland, which are peculiarly vulnerable on their eastern frontiers, no part of the Union ought to feel more anxiety on this subject than New York. Her seacoast is extensive. A very important district of the State is an island. The State itself is penetrated by a large navigable river for more than fifty leagues. The great emporium of its commerce, the great reservoir of its wealth, lies every moment at the mercy of events, and may almost be regarded as a hostage for ignominious compliances with the dictates of a foreign enemy, or even with the rapacious demands of pirates and barbarians. Should a war be the result of the precarious situation of European affairs, and all the unruly passions attending it be let loose on the ocean, our escape from insults and depredations, not only on that element, but every part of the other bordering on it, will be truly miraculous. In the present condition of America, the States more immediately exposed to these calamities have nothing to hope from the phantom of a general government which now exists; and if their single resources were equal to the task of fortifying themselves against the danger, the object to be protected would be almost consumed by the means of protecting them.

The power of regulating and calling forth the militia has been already sufficiently vindicated and explained.

The power of levying and borrowing money, being the sinew of that which is to be exerted in the national defense, is properly thrown into the same class with it. This power, also, has been examined already with much attention, and has, I trust, been clearly shown to be necessary, both in the extent and form given to it by the Constitution. I will address one additional reflection only to those who contend that the power ought to have been restrained to external—taxation by which they mean, taxes on articles imported from other countries. It cannot be doubted that this will always be a valuable source of revenue; that for a considerable time it must be a principal source; that at this moment it is an essential one. But we may form very mistaken ideas on this subject, if we do not call to mind in our calculations, that the extent of revenue drawn from foreign commerce must vary with the variations, both in the extent and the kind of imports; and that these variations do not correspond with the progress of population, which must be the general measure of the public wants. As long as agriculture continues the sole field of labor, the importation of manufactures must increase as the consumers multiply. As soon as domestic manufactures are begun by the hands not called for by agriculture, the imported manufactures will decrease as the numbers of people increase. In a more remote stage, the imports may consist in a considerable part of raw materials, which will be wrought into articles for exportation, and will, therefore, require rather the encouragement of bounties, than to be loaded with discouraging duties. A system of government, meant for duration, ought to contemplate these revolutions, and be able to accommodate itself to them.

Some, who have not denied the necessity of the power of taxation, have grounded a very fierce attack against the Constitution, on the language in which it is defined. It has been urged and echoed, that the power &quot;to lay and collect taxes, duties, imposts, and excises, to pay the debts, and provide for the common defense and general welfare of the United States,&quot; amounts to an unlimited commission to exercise every power which may be alleged to be necessary for the common defense or general welfare. No stronger proof could be given of the distress under which these writers labor for objections, than their stooping to such a misconstruction.

Had no other enumeration or definition of the powers of the Congress been found in the Constitution, than the general expressions just cited, the authors of the objection might have had some color for it; though it would have been difficult to find a reason for so awkward a form of describing an authority to legislate in all possible cases. A power to destroy the freedom of the press, the trial by jury, or even to regulate the course of descents, or the forms of conveyances, must be very singularly expressed by the terms &quot;to raise money for the general welfare.&quot;

But what color can the objection have, when a specification of the objects alluded to by these general terms immediately follows, and is not even separated by a longer pause than a semicolon? If the different parts of the same instrument ought to be so expounded, as to give meaning to every part which will bear it, shall one part of the same sentence be excluded altogether from a share in the meaning; and shall the more doubtful and indefinite terms be retained in their full extent, and the clear and precise expressions be denied any signification whatsoever? For what purpose could the enumeration of particular powers be inserted, if these and all others were meant to be included in the preceding general power? Nothing is more natural nor common than first to use a general phrase, and then to explain and qualify it by a recital of particulars. But the idea of an enumeration of particulars which neither explain nor qualify the general meaning, and can have no other effect than to confound and mislead, is an absurdity, which, as we are reduced to the dilemma of charging either on the authors of the objection or on the authors of the Constitution, we must take the liberty of supposing, had not its origin with the latter.

The objection here is the more extraordinary, as it appears that the language used by the convention is a copy from the articles of Confederation. The objects of the Union among the States, as described in article third, are &quot;their common defense, security of their liberties, and mutual and general welfare.&quot; The terms of article eighth are still more identical: &quot;All charges of war and all other expenses that shall be incurred for the common defense or general welfare, and allowed by the United States in Congress, shall be defrayed out of a common treasury,&quot; etc. A similar language again occurs in article ninth. Construe either of these articles by the rules which would justify the construction put on the new Constitution, and they vest in the existing Congress a power to legislate in all cases whatsoever. But what would have been thought of that assembly, if, attaching themselves to these general expressions, and disregarding the specifications which ascertain and limit their import, they had exercised an unlimited power of providing for the common defense and general welfare? I appeal to the objectors themselves, whether they would in that case have employed the same reasoning in justification of Congress as they now make use of against the convention. How difficult it is for error to escape its own condemnation!

PUBLIUS</pre>
</div>
<div created="20150327193801496" modified="20150327193825398" tags="Madison [[New York Packet]]" title="No. 42. The Powers Conferred by the Constitution Further Considered">
<pre>''From the New York Packet. Tuesday, January 22, 1788.''

MADISON

To the People of the State of New York:

THE SECOND class of powers, lodged in the general government, consists of those which regulate the intercourse with foreign nations, to wit: to make treaties; to send and receive ambassadors, other public ministers, and consuls; to define and punish piracies and felonies committed on the high seas, and offenses against the law of nations; to regulate foreign commerce, including a power to prohibit, after the year 1808, the importation of slaves, and to lay an intermediate duty of ten dollars per head, as a discouragement to such importations.

This class of powers forms an obvious and essential branch of the federal administration. If we are to be one nation in any respect, it clearly ought to be in respect to other nations.

The powers to make treaties and to send and receive ambassadors, speak their own propriety. Both of them are comprised in the articles of Confederation, with this difference only, that the former is disembarrassed, by the plan of the convention, of an exception, under which treaties might be substantially frustrated by regulations of the States; and that a power of appointing and receiving &quot;other public ministers and consuls,&quot; is expressly and very properly added to the former provision concerning ambassadors. The term ambassador, if taken strictly, as seems to be required by the second of the articles of Confederation, comprehends the highest grade only of public ministers, and excludes the grades which the United States will be most likely to prefer, where foreign embassies may be necessary. And under no latitude of construction will the term comprehend consuls. Yet it has been found expedient, and has been the practice of Congress, to employ the inferior grades of public ministers, and to send and receive consuls.

It is true, that where treaties of commerce stipulate for the mutual appointment of consuls, whose functions are connected with commerce, the admission of foreign consuls may fall within the power of making commercial treaties; and that where no such treaties exist, the mission of American consuls into foreign countries may PERHAPS be covered under the authority, given by the ninth article of the Confederation, to appoint all such civil officers as may be necessary for managing the general affairs of the United States. But the admission of consuls into the United States, where no previous treaty has stipulated it, seems to have been nowhere provided for. A supply of the omission is one of the lesser instances in which the convention have improved on the model before them. But the most minute provisions become important when they tend to obviate the necessity or the pretext for gradual and unobserved usurpations of power. A list of the cases in which Congress have been betrayed, or forced by the defects of the Confederation, into violations of their chartered authorities, would not a little surprise those who have paid no attention to the subject; and would be no inconsiderable argument in favor of the new Constitution, which seems to have provided no less studiously for the lesser, than the more obvious and striking defects of the old.

The power to define and punish piracies and felonies committed on the high seas, and offenses against the law of nations, belongs with equal propriety to the general government, and is a still greater improvement on the articles of Confederation. These articles contain no provision for the case of offenses against the law of nations; and consequently leave it in the power of any indiscreet member to embroil the Confederacy with foreign nations. The provision of the federal articles on the subject of piracies and felonies extends no further than to the establishment of courts for the trial of these offenses. The definition of piracies might, perhaps, without inconveniency, be left to the law of nations; though a legislative definition of them is found in most municipal codes. A definition of felonies on the high seas is evidently requisite. Felony is a term of loose signification, even in the common law of England; and of various import in the statute law of that kingdom. But neither the common nor the statute law of that, or of any other nation, ought to be a standard for the proceedings of this, unless previously made its own by legislative adoption. The meaning of the term, as defined in the codes of the several States, would be as impracticable as the former would be a dishonorable and illegitimate guide. It is not precisely the same in any two of the States; and varies in each with every revision of its criminal laws. For the sake of certainty and uniformity, therefore, the power of defining felonies in this case was in every respect necessary and proper.

The regulation of foreign commerce, having fallen within several views which have been taken of this subject, has been too fully discussed to need additional proofs here of its being properly submitted to the federal administration.

It were doubtless to be wished, that the power of prohibiting the importation of slaves had not been postponed until the year 1808, or rather that it had been suffered to have immediate operation. But it is not difficult to account, either for this restriction on the general government, or for the manner in which the whole clause is expressed. It ought to be considered as a great point gained in favor of humanity, that a period of twenty years may terminate forever, within these States, a traffic which has so long and so loudly upbraided the barbarism of modern policy; that within that period, it will receive a considerable discouragement from the federal government, and may be totally abolished, by a concurrence of the few States which continue the unnatural traffic, in the prohibitory example which has been given by so great a majority of the Union. Happy would it be for the unfortunate Africans, if an equal prospect lay before them of being redeemed from the oppressions of their European brethren!

Attempts have been made to pervert this clause into an objection against the Constitution, by representing it on one side as a criminal toleration of an illicit practice, and on another as calculated to prevent voluntary and beneficial emigrations from Europe to America. I mention these misconstructions, not with a view to give them an answer, for they deserve none, but as specimens of the manner and spirit in which some have thought fit to conduct their opposition to the proposed government.

The powers included in the THIRD class are those which provide for the harmony and proper intercourse among the States.

Under this head might be included the particular restraints imposed on the authority of the States, and certain powers of the judicial department; but the former are reserved for a distinct class, and the latter will be particularly examined when we arrive at the structure and organization of the government. I shall confine myself to a cursory review of the remaining powers comprehended under this third description, to wit: to regulate commerce among the several States and the Indian tribes; to coin money, regulate the value thereof, and of foreign coin; to provide for the punishment of counterfeiting the current coin and securities of the United States; to fix the standard of weights and measures; to establish a uniform rule of naturalization, and uniform laws of bankruptcy, to prescribe the manner in which the public acts, records, and judicial proceedings of each State shall be proved, and the effect they shall have in other States; and to establish post offices and post roads.

The defect of power in the existing Confederacy to regulate the commerce between its several members, is in the number of those which have been clearly pointed out by experience. To the proofs and remarks which former papers have brought into view on this subject, it may be added that without this supplemental provision, the great and essential power of regulating foreign commerce would have been incomplete and ineffectual. A very material object of this power was the relief of the States which import and export through other States, from the improper contributions levied on them by the latter. Were these at liberty to regulate the trade between State and State, it must be foreseen that ways would be found out to load the articles of import and export, during the passage through their jurisdiction, with duties which would fall on the makers of the latter and the consumers of the former. We may be assured by past experience, that such a practice would be introduced by future contrivances; and both by that and a common knowledge of human affairs, that it would nourish unceasing animosities, and not improbably terminate in serious interruptions of the public tranquillity. To those who do not view the question through the medium of passion or of interest, the desire of the commercial States to collect, in any form, an indirect revenue from their uncommercial neighbors, must appear not less impolitic than it is unfair; since it would stimulate the injured party, by resentment as well as interest, to resort to less convenient channels for their foreign trade. But the mild voice of reason, pleading the cause of an enlarged and permanent interest, is but too often drowned, before public bodies as well as individuals, by the clamors of an impatient avidity for immediate and immoderate gain.

The necessity of a superintending authority over the reciprocal trade of confederated States, has been illustrated by other examples as well as our own. In Switzerland, where the Union is so very slight, each canton is obliged to allow to merchandises a passage through its jurisdiction into other cantons, without an augmentation of the tolls. In Germany it is a law of the empire, that the princes and states shall not lay tolls or customs on bridges, rivers, or passages, without the consent of the emperor and the diet; though it appears from a quotation in an antecedent paper, that the practice in this, as in many other instances in that confederacy, has not followed the law, and has produced there the mischiefs which have been foreseen here. Among the restraints imposed by the Union of the Netherlands on its members, one is, that they shall not establish imposts disadvantageous to their neighbors, without the general permission.

The regulation of commerce with the Indian tribes is very properly unfettered from two limitations in the articles of Confederation, which render the provision obscure and contradictory. The power is there restrained to Indians, not members of any of the States, and is not to violate or infringe the legislative right of any State within its own limits. What description of Indians are to be deemed members of a State, is not yet settled, and has been a question of frequent perplexity and contention in the federal councils. And how the trade with Indians, though not members of a State, yet residing within its legislative jurisdiction, can be regulated by an external authority, without so far intruding on the internal rights of legislation, is absolutely incomprehensible. This is not the only case in which the articles of Confederation have inconsiderately endeavored to accomplish impossibilities; to reconcile a partial sovereignty in the Union, with complete sovereignty in the States; to subvert a mathematical axiom, by taking away a part, and letting the whole remain.

All that need be remarked on the power to coin money, regulate the value thereof, and of foreign coin, is, that by providing for this last case, the Constitution has supplied a material omission in the articles of Confederation. The authority of the existing Congress is restrained to the regulation of coin STRUCK by their own authority, or that of the respective States. It must be seen at once that the proposed uniformity in the VALUE of the current coin might be destroyed by subjecting that of foreign coin to the different regulations of the different States.

The punishment of counterfeiting the public securities, as well as the current coin, is submitted of course to that authority which is to secure the value of both.

The regulation of weights and measures is transferred from the articles of Confederation, and is founded on like considerations with the preceding power of regulating coin.

The dissimilarity in the rules of naturalization has long been remarked as a fault in our system, and as laying a foundation for intricate and delicate questions. In the fourth article of the Confederation, it is declared &quot;that the FREE INHABITANTS of each of these States, paupers, vagabonds, and fugitives from justice, excepted, shall be entitled to all privileges and immunities of FREE CITIZENS in the several States; and THE PEOPLE of each State shall, in every other, enjoy all the privileges of trade and commerce,&quot; etc. There is a confusion of language here, which is remarkable. Why the terms FREE INHABITANTS are used in one part of the article, FREE CITIZENS in another, and PEOPLE in another; or what was meant by superadding to &quot;all privileges and immunities of free citizens,&quot; &quot;all the privileges of trade and commerce,&quot; cannot easily be determined. It seems to be a construction scarcely avoidable, however, that those who come under the denomination of FREE INHABITANTS of a State, although not citizens of such State, are entitled, in every other State, to all the privileges of FREE CITIZENS of the latter; that is, to greater privileges than they may be entitled to in their own State: so that it may be in the power of a particular State, or rather every State is laid under a necessity, not only to confer the rights of citizenship in other States upon any whom it may admit to such rights within itself, but upon any whom it may allow to become inhabitants within its jurisdiction. But were an exposition of the term &quot;inhabitants&quot; to be admitted which would confine the stipulated privileges to citizens alone, the difficulty is diminished only, not removed. The very improper power would still be retained by each State, of naturalizing aliens in every other State. In one State, residence for a short term confirms all the rights of citizenship: in another, qualifications of greater importance are required. An alien, therefore, legally incapacitated for certain rights in the latter, may, by previous residence only in the former, elude his incapacity; and thus the law of one State be preposterously rendered paramount to the law of another, within the jurisdiction of the other. We owe it to mere casualty, that very serious embarrassments on this subject have been hitherto escaped. By the laws of several States, certain descriptions of aliens, who had rendered themselves obnoxious, were laid under interdicts inconsistent not only with the rights of citizenship but with the privilege of residence. What would have been the consequence, if such persons, by residence or otherwise, had acquired the character of citizens under the laws of another State, and then asserted their rights as such, both to residence and citizenship, within the State proscribing them? Whatever the legal consequences might have been, other consequences would probably have resulted, of too serious a nature not to be provided against. The new Constitution has accordingly, with great propriety, made provision against them, and all others proceeding from the defect of the Confederation on this head, by authorizing the general government to establish a uniform rule of naturalization throughout the United States.

The power of establishing uniform laws of bankruptcy is so intimately connected with the regulation of commerce, and will prevent so many frauds where the parties or their property may lie or be removed into different States, that the expediency of it seems not likely to be drawn into question.

The power of prescribing by general laws, the manner in which the public acts, records and judicial proceedings of each State shall be proved, and the effect they shall have in other States, is an evident and valuable improvement on the clause relating to this subject in the articles of Confederation. The meaning of the latter is extremely indeterminate, and can be of little importance under any interpretation which it will bear. The power here established may be rendered a very convenient instrument of justice, and be particularly beneficial on the borders of contiguous States, where the effects liable to justice may be suddenly and secretly translated, in any stage of the process, within a foreign jurisdiction.

The power of establishing post roads must, in every view, be a harmless power, and may, perhaps, by judicious management, become productive of great public conveniency. Nothing which tends to facilitate the intercourse between the States can be deemed unworthy of the public care.

PUBLIUS</pre>
</div>
<div created="20150327193902247" modified="20150327194012246" tags="Madison [[Independent Journal]]" title="No. 43. The Same Subject Continued (The Powers Conferred by the Constitution Further Considered)">
<pre>''For the Independent Journal. Wednesday, January 23, 1788''

MADISON

To the People of the State of New York:

THE FOURTH class comprises the following miscellaneous powers:

1. A power &quot;to promote the progress of science and useful arts, by securing, for a limited time, to authors and inventors, the exclusive right to their respective writings and discoveries.&quot;

The utility of this power will scarcely be questioned. The copyright of authors has been solemnly adjudged, in Great Britain, to be a right of common law. The right to useful inventions seems with equal reason to belong to the inventors. The public good fully coincides in both cases with the claims of individuals. The States cannot separately make effectual provisions for either of the cases, and most of them have anticipated the decision of this point, by laws passed at the instance of Congress.

2. &quot;To exercise exclusive legislation, in all cases whatsoever, over such district (not exceeding ten miles square) as may, by cession of particular States and the acceptance of Congress, become the seat of the government of the United States; and to exercise like authority over all places purchased by the consent of the legislatures of the States in which the same shall be, for the erection of forts, magazines, arsenals, dockyards, and other needful buildings.&quot;

The indispensable necessity of complete authority at the seat of government, carries its own evidence with it. It is a power exercised by every legislature of the Union, I might say of the world, by virtue of its general supremacy. Without it, not only the public authority might be insulted and its proceedings interrupted with impunity; but a dependence of the members of the general government on the State comprehending the seat of the government, for protection in the exercise of their duty, might bring on the national councils an imputation of awe or influence, equally dishonorable to the government and dissatisfactory to the other members of the Confederacy. This consideration has the more weight, as the gradual accumulation of public improvements at the stationary residence of the government would be both too great a public pledge to be left in the hands of a single State, and would create so many obstacles to a removal of the government, as still further to abridge its necessary independence. The extent of this federal district is sufficiently circumscribed to satisfy every jealousy of an opposite nature. And as it is to be appropriated to this use with the consent of the State ceding it; as the State will no doubt provide in the compact for the rights and the consent of the citizens inhabiting it; as the inhabitants will find sufficient inducements of interest to become willing parties to the cession; as they will have had their voice in the election of the government which is to exercise authority over them; as a municipal legislature for local purposes, derived from their own suffrages, will of course be allowed them; and as the authority of the legislature of the State, and of the inhabitants of the ceded part of it, to concur in the cession, will be derived from the whole people of the State in their adoption of the Constitution, every imaginable objection seems to be obviated.

The necessity of a like authority over forts, magazines, etc., established by the general government, is not less evident. The public money expended on such places, and the public property deposited in them, requires that they should be exempt from the authority of the particular State. Nor would it be proper for the places on which the security of the entire Union may depend, to be in any degree dependent on a particular member of it. All objections and scruples are here also obviated, by requiring the concurrence of the States concerned, in every such establishment.

3. &quot;To declare the punishment of treason, but no attainder of treason shall work corruption of blood, or forfeiture, except during the life of the person attained.&quot;

As treason may be committed against the United States, the authority of the United States ought to be enabled to punish it. But as new-fangled and artificial treasons have been the great engines by which violent factions, the natural offspring of free government, have usually wreaked their alternate malignity on each other, the convention have, with great judgment, opposed a barrier to this peculiar danger, by inserting a constitutional definition of the crime, fixing the proof necessary for conviction of it, and restraining the Congress, even in punishing it, from extending the consequences of guilt beyond the person of its author.

4. &quot;To admit new States into the Union; but no new State shall be formed or erected within the jurisdiction of any other State; nor any State be formed by the junction of two or more States, or parts of States, without the consent of the legislatures of the States concerned, as well as of the Congress.&quot;

In the articles of Confederation, no provision is found on this important subject. Canada was to be admitted of right, on her joining in the measures of the United States; and the other COLONIES, by which were evidently meant the other British colonies, at the discretion of nine States. The eventual establishment of NEW STATES seems to have been overlooked by the compilers of that instrument. We have seen the inconvenience of this omission, and the assumption of power into which Congress have been led by it. With great propriety, therefore, has the new system supplied the defect. The general precaution, that no new States shall be formed, without the concurrence of the federal authority, and that of the States concerned, is consonant to the principles which ought to govern such transactions. The particular precaution against the erection of new States, by the partition of a State without its consent, quiets the jealousy of the larger States; as that of the smaller is quieted by a like precaution, against a junction of States without their consent.

5. &quot;To dispose of and make all needful rules and regulations respecting the territory or other property belonging to the United States,&quot; with a proviso, that &quot;nothing in the Constitution shall be so construed as to prejudice any claims of the United States, or of any particular State.&quot;

This is a power of very great importance, and required by considerations similar to those which show the propriety of the former. The proviso annexed is proper in itself, and was probably rendered absolutely necessary by jealousies and questions concerning the Western territory sufficiently known to the public.

6. &quot;To guarantee to every State in the Union a republican form of government; to protect each of them against invasion; and on application of the legislature, or of the executive (when the legislature cannot be convened), against domestic violence.&quot;

In a confederacy founded on republican principles, and composed of republican members, the superintending government ought clearly to possess authority to defend the system against aristocratic or monarchial innovations. The more intimate the nature of such a union may be, the greater interest have the members in the political institutions of each other; and the greater right to insist that the forms of government under which the compact was entered into should be SUBSTANTIALLY maintained. But a right implies a remedy; and where else could the remedy be deposited, than where it is deposited by the Constitution? Governments of dissimilar principles and forms have been found less adapted to a federal coalition of any sort, than those of a kindred nature. &quot;As the confederate republic of Germany,&quot; says Montesquieu, &quot;consists of free cities and petty states, subject to different princes, experience shows us that it is more imperfect than that of Holland and Switzerland.&quot; &quot;Greece was undone,&quot; he adds, &quot;as soon as the king of Macedon obtained a seat among the Amphictyons.&quot; In the latter case, no doubt, the disproportionate force, as well as the monarchical form, of the new confederate, had its share of influence on the events. It may possibly be asked, what need there could be of such a precaution, and whether it may not become a pretext for alterations in the State governments, without the concurrence of the States themselves. These questions admit of ready answers. If the interposition of the general government should not be needed, the provision for such an event will be a harmless superfluity only in the Constitution. But who can say what experiments may be produced by the caprice of particular States, by the ambition of enterprising leaders, or by the intrigues and influence of foreign powers? To the second question it may be answered, that if the general government should interpose by virtue of this constitutional authority, it will be, of course, bound to pursue the authority. But the authority extends no further than to a GUARANTY of a republican form of government, which supposes a pre-existing government of the form which is to be guaranteed. As long, therefore, as the existing republican forms are continued by the States, they are guaranteed by the federal Constitution. Whenever the States may choose to substitute other republican forms, they have a right to do so, and to claim the federal guaranty for the latter. The only restriction imposed on them is, that they shall not exchange republican for antirepublican Constitutions; a restriction which, it is presumed, will hardly be considered as a grievance.

A protection against invasion is due from every society to the parts composing it. The latitude of the expression here used seems to secure each State, not only against foreign hostility, but against ambitious or vindictive enterprises of its more powerful neighbors. The history, both of ancient and modern confederacies, proves that the weaker members of the union ought not to be insensible to the policy of this article.

Protection against domestic violence is added with equal propriety. It has been remarked, that even among the Swiss cantons, which, properly speaking, are not under one government, provision is made for this object; and the history of that league informs us that mutual aid is frequently claimed and afforded; and as well by the most democratic, as the other cantons. A recent and well-known event among ourselves has warned us to be prepared for emergencies of a like nature.

At first view, it might seem not to square with the republican theory, to suppose, either that a majority have not the right, or that a minority will have the force, to subvert a government; and consequently, that the federal interposition can never be required, but when it would be improper. But theoretic reasoning, in this as in most other cases, must be qualified by the lessons of practice. Why may not illicit combinations, for purposes of violence, be formed as well by a majority of a State, especially a small State as by a majority of a county, or a district of the same State; and if the authority of the State ought, in the latter case, to protect the local magistracy, ought not the federal authority, in the former, to support the State authority? Besides, there are certain parts of the State constitutions which are so interwoven with the federal Constitution, that a violent blow cannot be given to the one without communicating the wound to the other. Insurrections in a State will rarely induce a federal interposition, unless the number concerned in them bear some proportion to the friends of government. It will be much better that the violence in such cases should be repressed by the superintending power, than that the majority should be left to maintain their cause by a bloody and obstinate contest. The existence of a right to interpose, will generally prevent the necessity of exerting it.

Is it true that force and right are necessarily on the same side in republican governments? May not the minor party possess such a superiority of pecuniary resources, of military talents and experience, or of secret succors from foreign powers, as will render it superior also in an appeal to the sword? May not a more compact and advantageous position turn the scale on the same side, against a superior number so situated as to be less capable of a prompt and collected exertion of its strength? Nothing can be more chimerical than to imagine that in a trial of actual force, victory may be calculated by the rules which prevail in a census of the inhabitants, or which determine the event of an election! May it not happen, in fine, that the minority of CITIZENS may become a majority of PERSONS, by the accession of alien residents, of a casual concourse of adventurers, or of those whom the constitution of the State has not admitted to the rights of suffrage? I take no notice of an unhappy species of population abounding in some of the States, who, during the calm of regular government, are sunk below the level of men; but who, in the tempestuous scenes of civil violence, may emerge into the human character, and give a superiority of strength to any party with which they may associate themselves.

In cases where it may be doubtful on which side justice lies, what better umpires could be desired by two violent factions, flying to arms, and tearing a State to pieces, than the representatives of confederate States, not heated by the local flame? To the impartiality of judges, they would unite the affection of friends. Happy would it be if such a remedy for its infirmities could be enjoyed by all free governments; if a project equally effectual could be established for the universal peace of mankind!

Should it be asked, what is to be the redress for an insurrection pervading all the States, and comprising a superiority of the entire force, though not a constitutional right? the answer must be, that such a case, as it would be without the compass of human remedies, so it is fortunately not within the compass of human probability; and that it is a sufficient recommendation of the federal Constitution, that it diminishes the risk of a calamity for which no possible constitution can provide a cure.

Among the advantages of a confederate republic enumerated by Montesquieu, an important one is, &quot;that should a popular insurrection happen in one of the States, the others are able to quell it. Should abuses creep into one part, they are reformed by those that remain sound.&quot;

7. &quot;To consider all debts contracted, and engagements entered into, before the adoption of this Constitution, as being no less valid against the United States, under this Constitution, than under the Confederation.&quot;

This can only be considered as a declaratory proposition; and may have been inserted, among other reasons, for the satisfaction of the foreign creditors of the United States, who cannot be strangers to the pretended doctrine, that a change in the political form of civil society has the magical effect of dissolving its moral obligations.

Among the lesser criticisms which have been exercised on the Constitution, it has been remarked that the validity of engagements ought to have been asserted in favor of the United States, as well as against them; and in the spirit which usually characterizes little critics, the omission has been transformed and magnified into a plot against the national rights. The authors of this discovery may be told, what few others need to be informed of, that as engagements are in their nature reciprocal, an assertion of their validity on one side, necessarily involves a validity on the other side; and that as the article is merely declaratory, the establishment of the principle in one case is sufficient for every case. They may be further told, that every constitution must limit its precautions to dangers that are not altogether imaginary; and that no real danger can exist that the government would DARE, with, or even without, this constitutional declaration before it, to remit the debts justly due to the public, on the pretext here condemned.

8. &quot;To provide for amendments to be ratified by three fourths of the States under two exceptions only.&quot;

That useful alterations will be suggested by experience, could not but be foreseen. It was requisite, therefore, that a mode for introducing them should be provided. The mode preferred by the convention seems to be stamped with every mark of propriety. It guards equally against that extreme facility, which would render the Constitution too mutable; and that extreme difficulty, which might perpetuate its discovered faults. It, moreover, equally enables the general and the State governments to originate the amendment of errors, as they may be pointed out by the experience on one side, or on the other. The exception in favor of the equality of suffrage in the Senate, was probably meant as a palladium to the residuary sovereignty of the States, implied and secured by that principle of representation in one branch of the legislature; and was probably insisted on by the States particularly attached to that equality. The other exception must have been admitted on the same considerations which produced the privilege defended by it.

9. &quot;The ratification of the conventions of nine States shall be sufficient for the establishment of this Constitution between the States, ratifying the same.&quot;

This article speaks for itself. The express authority of the people alone could give due validity to the Constitution. To have required the unanimous ratification of the thirteen States, would have subjected the essential interests of the whole to the caprice or corruption of a single member. It would have marked a want of foresight in the convention, which our own experience would have rendered inexcusable.

Two questions of a very delicate nature present themselves on this occasion: 1. On what principle the Confederation, which stands in the solemn form of a compact among the States, can be superseded without the unanimous consent of the parties to it? 2. What relation is to subsist between the nine or more States ratifying the Constitution, and the remaining few who do not become parties to it?

The first question is answered at once by recurring to the absolute necessity of the case; to the great principle of self-preservation; to the transcendent law of nature and of nature's God, which declares that the safety and happiness of society are the objects at which all political institutions aim, and to which all such institutions must be sacrificed. PERHAPS, also, an answer may be found without searching beyond the principles of the compact itself. It has been heretofore noted among the defects of the Confederation, that in many of the States it had received no higher sanction than a mere legislative ratification. The principle of reciprocality seems to require that its obligation on the other States should be reduced to the same standard. A compact between independent sovereigns, founded on ordinary acts of legislative authority, can pretend to no higher validity than a league or treaty between the parties. It is an established doctrine on the subject of treaties, that all the articles are mutually conditions of each other; that a breach of any one article is a breach of the whole treaty; and that a breach, committed by either of the parties, absolves the others, and authorizes them, if they please, to pronounce the compact violated and void. Should it unhappily be necessary to appeal to these delicate truths for a justification for dispensing with the consent of particular States to a dissolution of the federal pact, will not the complaining parties find it a difficult task to answer the MULTIPLIED and IMPORTANT infractions with which they may be confronted? The time has been when it was incumbent on us all to veil the ideas which this paragraph exhibits. The scene is now changed, and with it the part which the same motives dictate.

The second question is not less delicate; and the flattering prospect of its being merely hypothetical forbids an overcurious discussion of it. It is one of those cases which must be left to provide for itself. In general, it may be observed, that although no political relation can subsist between the assenting and dissenting States, yet the moral relations will remain uncancelled. The claims of justice, both on one side and on the other, will be in force, and must be fulfilled; the rights of humanity must in all cases be duly and mutually respected; whilst considerations of a common interest, and, above all, the remembrance of the endearing scenes which are past, and the anticipation of a speedy triumph over the obstacles to reunion, will, it is hoped, not urge in vain MODERATION on one side, and PRUDENCE on the other.

PUBLIUS</pre>
</div>
<div created="20150327194059160" modified="20150327194206750" tags="Madison [[New York Packet]]" title="No. 44. Restrictions on the Authority of the Several States">
<pre>''From the New York Packet. Friday, January 25, 1788.''

MADISON

To the People of the State of New York:

A FIFTH class of provisions in favor of the federal authority consists of the following restrictions on the authority of the several States:

1. &quot;No State shall enter into any treaty, alliance, or confederation; grant letters of marque and reprisal; coin money; emit bills of credit; make any thing but gold and silver a legal tender in payment of debts; pass any bill of attainder, ex post facto law, or law impairing the obligation of contracts; or grant any title of nobility.&quot;

The prohibition against treaties, alliances, and confederations makes a part of the existing articles of Union; and for reasons which need no explanation, is copied into the new Constitution. The prohibition of letters of marque is another part of the old system, but is somewhat extended in the new. According to the former, letters of marque could be granted by the States after a declaration of war; according to the latter, these licenses must be obtained, as well during war as previous to its declaration, from the government of the United States. This alteration is fully justified by the advantage of uniformity in all points which relate to foreign powers; and of immediate responsibility to the nation in all those for whose conduct the nation itself is to be responsible.

The right of coining money, which is here taken from the States, was left in their hands by the Confederation, as a concurrent right with that of Congress, under an exception in favor of the exclusive right of Congress to regulate the alloy and value. In this instance, also, the new provision is an improvement on the old. Whilst the alloy and value depended on the general authority, a right of coinage in the particular States could have no other effect than to multiply expensive mints and diversify the forms and weights of the circulating pieces. The latter inconveniency defeats one purpose for which the power was originally submitted to the federal head; and as far as the former might prevent an inconvenient remittance of gold and silver to the central mint for recoinage, the end can be as well attained by local mints established under the general authority.

The extension of the prohibition to bills of credit must give pleasure to every citizen, in proportion to his love of justice and his knowledge of the true springs of public prosperity. The loss which America has sustained since the peace, from the pestilent effects of paper money on the necessary confidence between man and man, on the necessary confidence in the public councils, on the industry and morals of the people, and on the character of republican government, constitutes an enormous debt against the States chargeable with this unadvised measure, which must long remain unsatisfied; or rather an accumulation of guilt, which can be expiated no otherwise than by a voluntary sacrifice on the altar of justice, of the power which has been the instrument of it. In addition to these persuasive considerations, it may be observed, that the same reasons which show the necessity of denying to the States the power of regulating coin, prove with equal force that they ought not to be at liberty to substitute a paper medium in the place of coin. Had every State a right to regulate the value of its coin, there might be as many different currencies as States, and thus the intercourse among them would be impeded; retrospective alterations in its value might be made, and thus the citizens of other States be injured, and animosities be kindled among the States themselves. The subjects of foreign powers might suffer from the same cause, and hence the Union be discredited and embroiled by the indiscretion of a single member. No one of these mischiefs is less incident to a power in the States to emit paper money, than to coin gold or silver. The power to make any thing but gold and silver a tender in payment of debts, is withdrawn from the States, on the same principle with that of issuing a paper currency.

Bills of attainder, ex post facto laws, and laws impairing the obligation of contracts, are contrary to the first principles of the social compact, and to every principle of sound legislation. The two former are expressly prohibited by the declarations prefixed to some of the State constitutions, and all of them are prohibited by the spirit and scope of these fundamental charters. Our own experience has taught us, nevertheless, that additional fences against these dangers ought not to be omitted. Very properly, therefore, have the convention added this constitutional bulwark in favor of personal security and private rights; and I am much deceived if they have not, in so doing, as faithfully consulted the genuine sentiments as the undoubted interests of their constituents. The sober people of America are weary of the fluctuating policy which has directed the public councils. They have seen with regret and indignation that sudden changes and legislative interferences, in cases affecting personal rights, become jobs in the hands of enterprising and influential speculators, and snares to the more-industrious and less-informed part of the community. They have seen, too, that one legislative interference is but the first link of a long chain of repetitions, every subsequent interference being naturally produced by the effects of the preceding. They very rightly infer, therefore, that some thorough reform is wanting, which will banish speculations on public measures, inspire a general prudence and industry, and give a regular course to the business of society. The prohibition with respect to titles of nobility is copied from the articles of Confederation and needs no comment.

2. &quot;No State shall, without the consent of the Congress, lay any imposts or duties on imports or exports, except what may be absolutely necessary for executing its inspection laws, and the net produce of all duties and imposts laid by any State on imports or exports, shall be for the use of the treasury of the United States; and all such laws shall be subject to the revision and control of the Congress. No State shall, without the consent of Congress, lay any duty on tonnage, keep troops or ships of war in time of peace, enter into any agreement or compact with another State, or with a foreign power, or engage in war unless actually invaded, or in such imminent danger as will not admit of delay.&quot;

The restraint on the power of the States over imports and exports is enforced by all the arguments which prove the necessity of submitting the regulation of trade to the federal councils. It is needless, therefore, to remark further on this head, than that the manner in which the restraint is qualified seems well calculated at once to secure to the States a reasonable discretion in providing for the conveniency of their imports and exports, and to the United States a reasonable check against the abuse of this discretion. The remaining particulars of this clause fall within reasonings which are either so obvious, or have been so fully developed, that they may be passed over without remark.

The SIXTH and last class consists of the several powers and provisions by which efficacy is given to all the rest.

1. Of these the first is, the &quot;power to make all laws which shall be necessary and proper for carrying into execution the foregoing powers, and all other powers vested by this Constitution in the government of the United States, or in any department or officer thereof.&quot;

Few parts of the Constitution have been assailed with more intemperance than this; yet on a fair investigation of it, no part can appear more completely invulnerable. Without the SUBSTANCE of this power, the whole Constitution would be a dead letter. Those who object to the article, therefore, as a part of the Constitution, can only mean that the FORM of the provision is improper. But have they considered whether a better form could have been substituted?

There are four other possible methods which the Constitution might have taken on this subject. They might have copied the second article of the existing Confederation, which would have prohibited the exercise of any power not EXPRESSLY delegated; they might have attempted a positive enumeration of the powers comprehended under the general terms &quot;necessary and proper&quot;; they might have attempted a negative enumeration of them, by specifying the powers excepted from the general definition; they might have been altogether silent on the subject, leaving these necessary and proper powers to construction and inference.

Had the convention taken the first method of adopting the second article of Confederation, it is evident that the new Congress would be continually exposed, as their predecessors have been, to the alternative of construing the term &quot;EXPRESSLY&quot; with so much rigor, as to disarm the government of all real authority whatever, or with so much latitude as to destroy altogether the force of the restriction. It would be easy to show, if it were necessary, that no important power, delegated by the articles of Confederation, has been or can be executed by Congress, without recurring more or less to the doctrine of CONSTRUCTION or IMPLICATION. As the powers delegated under the new system are more extensive, the government which is to administer it would find itself still more distressed with the alternative of betraying the public interests by doing nothing, or of violating the Constitution by exercising powers indispensably necessary and proper, but, at the same time, not EXPRESSLY granted.

Had the convention attempted a positive enumeration of the powers necessary and proper for carrying their other powers into effect, the attempt would have involved a complete digest of laws on every subject to which the Constitution relates; accommodated too, not only to the existing state of things, but to all the possible changes which futurity may produce; for in every new application of a general power, the PARTICULAR POWERS, which are the means of attaining the OBJECT of the general power, must always necessarily vary with that object, and be often properly varied whilst the object remains the same.

Had they attempted to enumerate the particular powers or means not necessary or proper for carrying the general powers into execution, the task would have been no less chimerical; and would have been liable to this further objection, that every defect in the enumeration would have been equivalent to a positive grant of authority. If, to avoid this consequence, they had attempted a partial enumeration of the exceptions, and described the residue by the general terms, NOT NECESSARY OR PROPER, it must have happened that the enumeration would comprehend a few of the excepted powers only; that these would be such as would be least likely to be assumed or tolerated, because the enumeration would of course select such as would be least necessary or proper; and that the unnecessary and improper powers included in the residuum, would be less forcibly excepted, than if no partial enumeration had been made.

Had the Constitution been silent on this head, there can be no doubt that all the particular powers requisite as means of executing the general powers would have resulted to the government, by unavoidable implication. No axiom is more clearly established in law, or in reason, than that wherever the end is required, the means are authorized; wherever a general power to do a thing is given, every particular power necessary for doing it is included. Had this last method, therefore, been pursued by the convention, every objection now urged against their plan would remain in all its plausibility; and the real inconveniency would be incurred of not removing a pretext which may be seized on critical occasions for drawing into question the essential powers of the Union.

If it be asked what is to be the consequence, in case the Congress shall misconstrue this part of the Constitution, and exercise powers not warranted by its true meaning, I answer, the same as if they should misconstrue or enlarge any other power vested in them; as if the general power had been reduced to particulars, and any one of these were to be violated; the same, in short, as if the State legislatures should violate the irrespective constitutional authorities. In the first instance, the success of the usurpation will depend on the executive and judiciary departments, which are to expound and give effect to the legislative acts; and in the last resort a remedy must be obtained from the people who can, by the election of more faithful representatives, annul the acts of the usurpers. The truth is, that this ultimate redress may be more confided in against unconstitutional acts of the federal than of the State legislatures, for this plain reason, that as every such act of the former will be an invasion of the rights of the latter, these will be ever ready to mark the innovation, to sound the alarm to the people, and to exert their local influence in effecting a change of federal representatives. There being no such intermediate body between the State legislatures and the people interested in watching the conduct of the former, violations of the State constitutions are more likely to remain unnoticed and unredressed.

2. &quot;This Constitution and the laws of the United States which shall be made in pursuance thereof, and all treaties made, or which shall be made, under the authority of the United States, shall be the supreme law of the land, and the judges in every State shall be bound thereby, any thing in the constitution or laws of any State to the contrary notwithstanding.&quot;

The indiscreet zeal of the adversaries to the Constitution has betrayed them into an attack on this part of it also, without which it would have been evidently and radically defective. To be fully sensible of this, we need only suppose for a moment that the supremacy of the State constitutions had been left complete by a saving clause in their favor.

In the first place, as these constitutions invest the State legislatures with absolute sovereignty, in all cases not excepted by the existing articles of Confederation, all the authorities contained in the proposed Constitution, so far as they exceed those enumerated in the Confederation, would have been annulled, and the new Congress would have been reduced to the same impotent condition with their predecessors.

In the next place, as the constitutions of some of the States do not even expressly and fully recognize the existing powers of the Confederacy, an express saving of the supremacy of the former would, in such States, have brought into question every power contained in the proposed Constitution.

In the third place, as the constitutions of the States differ much from each other, it might happen that a treaty or national law, of great and equal importance to the States, would interfere with some and not with other constitutions, and would consequently be valid in some of the States, at the same time that it would have no effect in others.

In fine, the world would have seen, for the first time, a system of government founded on an inversion of the fundamental principles of all government; it would have seen the authority of the whole society every where subordinate to the authority of the parts; it would have seen a monster, in which the head was under the direction of the members.

3. &quot;The Senators and Representatives, and the members of the several State legislatures, and all executive and judicial officers, both of the United States and the several States, shall be bound by oath or affirmation to support this Constitution.&quot;

It has been asked why it was thought necessary, that the State magistracy should be bound to support the federal Constitution, and unnecessary that a like oath should be imposed on the officers of the United States, in favor of the State constitutions.

Several reasons might be assigned for the distinction. I content myself with one, which is obvious and conclusive. The members of the federal government will have no agency in carrying the State constitutions into effect. The members and officers of the State governments, on the contrary, will have an essential agency in giving effect to the federal Constitution. The election of the President and Senate will depend, in all cases, on the legislatures of the several States. And the election of the House of Representatives will equally depend on the same authority in the first instance; and will, probably, forever be conducted by the officers, and according to the laws, of the States.

4. Among the provisions for giving efficacy to the federal powers might be added those which belong to the executive and judiciary departments: but as these are reserved for particular examination in another place, I pass them over in this.

We have now reviewed, in detail, all the articles composing the sum or quantity of power delegated by the proposed Constitution to the federal government, and are brought to this undeniable conclusion, that no part of the power is unnecessary or improper for accomplishing the necessary objects of the Union. The question, therefore, whether this amount of power shall be granted or not, resolves itself into another question, whether or not a government commensurate to the exigencies of the Union shall be established; or, in other words, whether the Union itself shall be preserved.

PUBLIUS</pre>
</div>
<div created="20150327194303911" modified="20150327194343374" tags="Madison [[Independent Journal]]" title="No. 45. The Alleged Danger From the Powers of the Union to the State Governments.">
<pre>''Considered For the Independent Journal. Saturday, January 26, 1788''

MADISON

To the People of the State of New York:

HAVING shown that no one of the powers transferred to the federal government is unnecessary or improper, the next question to be considered is, whether the whole mass of them will be dangerous to the portion of authority left in the several States.

The adversaries to the plan of the convention, instead of considering in the first place what degree of power was absolutely necessary for the purposes of the federal government, have exhausted themselves in a secondary inquiry into the possible consequences of the proposed degree of power to the governments of the particular States. But if the Union, as has been shown, be essential to the security of the people of America against foreign danger; if it be essential to their security against contentions and wars among the different States; if it be essential to guard them against those violent and oppressive factions which embitter the blessings of liberty, and against those military establishments which must gradually poison its very fountain; if, in a word, the Union be essential to the happiness of the people of America, is it not preposterous, to urge as an objection to a government, without which the objects of the Union cannot be attained, that such a government may derogate from the importance of the governments of the individual States? Was, then, the American Revolution effected, was the American Confederacy formed, was the precious blood of thousands spilt, and the hard-earned substance of millions lavished, not that the people of America should enjoy peace, liberty, and safety, but that the government of the individual States, that particular municipal establishments, might enjoy a certain extent of power, and be arrayed with certain dignities and attributes of sovereignty? We have heard of the impious doctrine in the Old World, that the people were made for kings, not kings for the people. Is the same doctrine to be revived in the New, in another shape that the solid happiness of the people is to be sacrificed to the views of political institutions of a different form? It is too early for politicians to presume on our forgetting that the public good, the real welfare of the great body of the people, is the supreme object to be pursued; and that no form of government whatever has any other value than as it may be fitted for the attainment of this object. Were the plan of the convention adverse to the public happiness, my voice would be, Reject the plan. Were the Union itself inconsistent with the public happiness, it would be, Abolish the Union. In like manner, as far as the sovereignty of the States cannot be reconciled to the happiness of the people, the voice of every good citizen must be, Let the former be sacrificed to the latter. How far the sacrifice is necessary, has been shown. How far the unsacrificed residue will be endangered, is the question before us.

Several important considerations have been touched in the course of these papers, which discountenance the supposition that the operation of the federal government will by degrees prove fatal to the State governments. The more I revolve the subject, the more fully I am persuaded that the balance is much more likely to be disturbed by the preponderancy of the last than of the first scale.

We have seen, in all the examples of ancient and modern confederacies, the strongest tendency continually betraying itself in the members, to despoil the general government of its authorities, with a very ineffectual capacity in the latter to defend itself against the encroachments. Although, in most of these examples, the system has been so dissimilar from that under consideration as greatly to weaken any inference concerning the latter from the fate of the former, yet, as the States will retain, under the proposed Constitution, a very extensive portion of active sovereignty, the inference ought not to be wholly disregarded. In the Achaean league it is probable that the federal head had a degree and species of power, which gave it a considerable likeness to the government framed by the convention. The Lycian Confederacy, as far as its principles and form are transmitted, must have borne a still greater analogy to it. Yet history does not inform us that either of them ever degenerated, or tended to degenerate, into one consolidated government. On the contrary, we know that the ruin of one of them proceeded from the incapacity of the federal authority to prevent the dissensions, and finally the disunion, of the subordinate authorities. These cases are the more worthy of our attention, as the external causes by which the component parts were pressed together were much more numerous and powerful than in our case; and consequently less powerful ligaments within would be sufficient to bind the members to the head, and to each other.

In the feudal system, we have seen a similar propensity exemplified. Notwithstanding the want of proper sympathy in every instance between the local sovereigns and the people, and the sympathy in some instances between the general sovereign and the latter, it usually happened that the local sovereigns prevailed in the rivalship for encroachments. Had no external dangers enforced internal harmony and subordination, and particularly, had the local sovereigns possessed the affections of the people, the great kingdoms in Europe would at this time consist of as many independent princes as there were formerly feudatory barons.

The State governments will have the advantage of the Federal government, whether we compare them in respect to the immediate dependence of the one on the other; to the weight of personal influence which each side will possess; to the powers respectively vested in them; to the predilection and probable support of the people; to the disposition and faculty of resisting and frustrating the measures of each other.

The State governments may be regarded as constituent and essential parts of the federal government; whilst the latter is nowise essential to the operation or organization of the former. Without the intervention of the State legislatures, the President of the United States cannot be elected at all. They must in all cases have a great share in his appointment, and will, perhaps, in most cases, of themselves determine it. The Senate will be elected absolutely and exclusively by the State legislatures. Even the House of Representatives, though drawn immediately from the people, will be chosen very much under the influence of that class of men, whose influence over the people obtains for themselves an election into the State legislatures. Thus, each of the principal branches of the federal government will owe its existence more or less to the favor of the State governments, and must consequently feel a dependence, which is much more likely to beget a disposition too obsequious than too overbearing towards them. On the other side, the component parts of the State governments will in no instance be indebted for their appointment to the direct agency of the federal government, and very little, if at all, to the local influence of its members.

The number of individuals employed under the Constitution of the United States will be much smaller than the number employed under the particular States. There will consequently be less of personal influence on the side of the former than of the latter. The members of the legislative, executive, and judiciary departments of thirteen and more States, the justices of peace, officers of militia, ministerial officers of justice, with all the county, corporation, and town officers, for three millions and more of people, intermixed, and having particular acquaintance with every class and circle of people, must exceed, beyond all proportion, both in number and influence, those of every description who will be employed in the administration of the federal system. Compare the members of the three great departments of the thirteen States, excluding from the judiciary department the justices of peace, with the members of the corresponding departments of the single government of the Union; compare the militia officers of three millions of people with the military and marine officers of any establishment which is within the compass of probability, or, I may add, of possibility, and in this view alone, we may pronounce the advantage of the States to be decisive. If the federal government is to have collectors of revenue, the State governments will have theirs also. And as those of the former will be principally on the seacoast, and not very numerous, whilst those of the latter will be spread over the face of the country, and will be very numerous, the advantage in this view also lies on the same side. It is true, that the Confederacy is to possess, and may exercise, the power of collecting internal as well as external taxes throughout the States; but it is probable that this power will not be resorted to, except for supplemental purposes of revenue; that an option will then be given to the States to supply their quotas by previous collections of their own; and that the eventual collection, under the immediate authority of the Union, will generally be made by the officers, and according to the rules, appointed by the several States. Indeed it is extremely probable, that in other instances, particularly in the organization of the judicial power, the officers of the States will be clothed with the correspondent authority of the Union. Should it happen, however, that separate collectors of internal revenue should be appointed under the federal government, the influence of the whole number would not bear a comparison with that of the multitude of State officers in the opposite scale. Within every district to which a federal collector would be allotted, there would not be less than thirty or forty, or even more, officers of different descriptions, and many of them persons of character and weight, whose influence would lie on the side of the State.

The powers delegated by the proposed Constitution to the federal government, are few and defined. Those which are to remain in the State governments are numerous and indefinite. The former will be exercised principally on external objects, as war, peace, negotiation, and foreign commerce; with which last the power of taxation will, for the most part, be connected. The powers reserved to the several States will extend to all the objects which, in the ordinary course of affairs, concern the lives, liberties, and properties of the people, and the internal order, improvement, and prosperity of the State.

The operations of the federal government will be most extensive and important in times of war and danger; those of the State governments, in times of peace and security. As the former periods will probably bear a small proportion to the latter, the State governments will here enjoy another advantage over the federal government. The more adequate, indeed, the federal powers may be rendered to the national defense, the less frequent will be those scenes of danger which might favor their ascendancy over the governments of the particular States.

If the new Constitution be examined with accuracy and candor, it will be found that the change which it proposes consists much less in the addition of NEW POWERS to the Union, than in the invigoration of its ORIGINAL POWERS. The regulation of commerce, it is true, is a new power; but that seems to be an addition which few oppose, and from which no apprehensions are entertained. The powers relating to war and peace, armies and fleets, treaties and finance, with the other more considerable powers, are all vested in the existing Congress by the articles of Confederation. The proposed change does not enlarge these powers; it only substitutes a more effectual mode of administering them. The change relating to taxation may be regarded as the most important; and yet the present Congress have as complete authority to REQUIRE of the States indefinite supplies of money for the common defense and general welfare, as the future Congress will have to require them of individual citizens; and the latter will be no more bound than the States themselves have been, to pay the quotas respectively taxed on them. Had the States complied punctually with the articles of Confederation, or could their compliance have been enforced by as peaceable means as may be used with success towards single persons, our past experience is very far from countenancing an opinion, that the State governments would have lost their constitutional powers, and have gradually undergone an entire consolidation. To maintain that such an event would have ensued, would be to say at once, that the existence of the State governments is incompatible with any system whatever that accomplishes the essential purposes of the Union.

PUBLIUS</pre>
</div>
<div created="20150327194411079" modified="20150327194442430" tags="Madison [[New York Packet]]" title="No. 46. The Influence of the State and Federal Governments Compared">
<pre>''From the New York Packet. Tuesday, January 29, 1788.''

MADISON

To the People of the State of New York:

RESUMING the subject of the last paper, I proceed to inquire whether the federal government or the State governments will have the advantage with regard to the predilection and support of the people. Notwithstanding the different modes in which they are appointed, we must consider both of them as substantially dependent on the great body of the citizens of the United States. I assume this position here as it respects the first, reserving the proofs for another place. The federal and State governments are in fact but different agents and trustees of the people, constituted with different powers, and designed for different purposes. The adversaries of the Constitution seem to have lost sight of the people altogether in their reasonings on this subject; and to have viewed these different establishments, not only as mutual rivals and enemies, but as uncontrolled by any common superior in their efforts to usurp the authorities of each other. These gentlemen must here be reminded of their error. They must be told that the ultimate authority, wherever the derivative may be found, resides in the people alone, and that it will not depend merely on the comparative ambition or address of the different governments, whether either, or which of them, will be able to enlarge its sphere of jurisdiction at the expense of the other. Truth, no less than decency, requires that the event in every case should be supposed to depend on the sentiments and sanction of their common constituents.

Many considerations, besides those suggested on a former occasion, seem to place it beyond doubt that the first and most natural attachment of the people will be to the governments of their respective States. Into the administration of these a greater number of individuals will expect to rise. From the gift of these a greater number of offices and emoluments will flow. By the superintending care of these, all the more domestic and personal interests of the people will be regulated and provided for. With the affairs of these, the people will be more familiarly and minutely conversant. And with the members of these, will a greater proportion of the people have the ties of personal acquaintance and friendship, and of family and party attachments; on the side of these, therefore, the popular bias may well be expected most strongly to incline.

Experience speaks the same language in this case. The federal administration, though hitherto very defective in comparison with what may be hoped under a better system, had, during the war, and particularly whilst the independent fund of paper emissions was in credit, an activity and importance as great as it can well have in any future circumstances whatever. It was engaged, too, in a course of measures which had for their object the protection of everything that was dear, and the acquisition of everything that could be desirable to the people at large. It was, nevertheless, invariably found, after the transient enthusiasm for the early Congresses was over, that the attention and attachment of the people were turned anew to their own particular governments; that the federal council was at no time the idol of popular favor; and that opposition to proposed enlargements of its powers and importance was the side usually taken by the men who wished to build their political consequence on the prepossessions of their fellow-citizens.

If, therefore, as has been elsewhere remarked, the people should in future become more partial to the federal than to the State governments, the change can only result from such manifest and irresistible proofs of a better administration, as will overcome all their antecedent propensities. And in that case, the people ought not surely to be precluded from giving most of their confidence where they may discover it to be most due; but even in that case the State governments could have little to apprehend, because it is only within a certain sphere that the federal power can, in the nature of things, be advantageously administered.

The remaining points on which I propose to compare the federal and State governments, are the disposition and the faculty they may respectively possess, to resist and frustrate the measures of each other.

It has been already proved that the members of the federal will be more dependent on the members of the State governments, than the latter will be on the former. It has appeared also, that the prepossessions of the people, on whom both will depend, will be more on the side of the State governments, than of the federal government. So far as the disposition of each towards the other may be influenced by these causes, the State governments must clearly have the advantage. But in a distinct and very important point of view, the advantage will lie on the same side. The prepossessions, which the members themselves will carry into the federal government, will generally be favorable to the States; whilst it will rarely happen, that the members of the State governments will carry into the public councils a bias in favor of the general government. A local spirit will infallibly prevail much more in the members of Congress, than a national spirit will prevail in the legislatures of the particular States. Every one knows that a great proportion of the errors committed by the State legislatures proceeds from the disposition of the members to sacrifice the comprehensive and permanent interest of the State, to the particular and separate views of the counties or districts in which they reside. And if they do not sufficiently enlarge their policy to embrace the collective welfare of their particular State, how can it be imagined that they will make the aggregate prosperity of the Union, and the dignity and respectability of its government, the objects of their affections and consultations? For the same reason that the members of the State legislatures will be unlikely to attach themselves sufficiently to national objects, the members of the federal legislature will be likely to attach themselves too much to local objects. The States will be to the latter what counties and towns are to the former. Measures will too often be decided according to their probable effect, not on the national prosperity and happiness, but on the prejudices, interests, and pursuits of the governments and people of the individual States. What is the spirit that has in general characterized the proceedings of Congress? A perusal of their journals, as well as the candid acknowledgments of such as have had a seat in that assembly, will inform us, that the members have but too frequently displayed the character, rather of partisans of their respective States, than of impartial guardians of a common interest; that where on one occasion improper sacrifices have been made of local considerations, to the aggrandizement of the federal government, the great interests of the nation have suffered on a hundred, from an undue attention to the local prejudices, interests, and views of the particular States. I mean not by these reflections to insinuate, that the new federal government will not embrace a more enlarged plan of policy than the existing government may have pursued; much less, that its views will be as confined as those of the State legislatures; but only that it will partake sufficiently of the spirit of both, to be disinclined to invade the rights of the individual States, or the prerogatives of their governments. The motives on the part of the State governments, to augment their prerogatives by defalcations from the federal government, will be overruled by no reciprocal predispositions in the members.

Were it admitted, however, that the Federal government may feel an equal disposition with the State governments to extend its power beyond the due limits, the latter would still have the advantage in the means of defeating such encroachments. If an act of a particular State, though unfriendly to the national government, be generally popular in that State and should not too grossly violate the oaths of the State officers, it is executed immediately and, of course, by means on the spot and depending on the State alone. The opposition of the federal government, or the interposition of federal officers, would but inflame the zeal of all parties on the side of the State, and the evil could not be prevented or repaired, if at all, without the employment of means which must always be resorted to with reluctance and difficulty. On the other hand, should an unwarrantable measure of the federal government be unpopular in particular States, which would seldom fail to be the case, or even a warrantable measure be so, which may sometimes be the case, the means of opposition to it are powerful and at hand. The disquietude of the people; their repugnance and, perhaps, refusal to co-operate with the officers of the Union; the frowns of the executive magistracy of the State; the embarrassments created by legislative devices, which would often be added on such occasions, would oppose, in any State, difficulties not to be despised; would form, in a large State, very serious impediments; and where the sentiments of several adjoining States happened to be in unison, would present obstructions which the federal government would hardly be willing to encounter.

But ambitious encroachments of the federal government, on the authority of the State governments, would not excite the opposition of a single State, or of a few States only. They would be signals of general alarm. Every government would espouse the common cause. A correspondence would be opened. Plans of resistance would be concerted. One spirit would animate and conduct the whole. The same combinations, in short, would result from an apprehension of the federal, as was produced by the dread of a foreign, yoke; and unless the projected innovations should be voluntarily renounced, the same appeal to a trial of force would be made in the one case as was made in the other. But what degree of madness could ever drive the federal government to such an extremity. In the contest with Great Britain, one part of the empire was employed against the other. The more numerous part invaded the rights of the less numerous part. The attempt was unjust and unwise; but it was not in speculation absolutely chimerical. But what would be the contest in the case we are supposing? Who would be the parties? A few representatives of the people would be opposed to the people themselves; or rather one set of representatives would be contending against thirteen sets of representatives, with the whole body of their common constituents on the side of the latter.

The only refuge left for those who prophesy the downfall of the State governments is the visionary supposition that the federal government may previously accumulate a military force for the projects of ambition. The reasonings contained in these papers must have been employed to little purpose indeed, if it could be necessary now to disprove the reality of this danger. That the people and the States should, for a sufficient period of time, elect an uninterrupted succession of men ready to betray both; that the traitors should, throughout this period, uniformly and systematically pursue some fixed plan for the extension of the military establishment; that the governments and the people of the States should silently and patiently behold the gathering storm, and continue to supply the materials, until it should be prepared to burst on their own heads, must appear to every one more like the incoherent dreams of a delirious jealousy, or the misjudged exaggerations of a counterfeit zeal, than like the sober apprehensions of genuine patriotism. Extravagant as the supposition is, let it however be made. Let a regular army, fully equal to the resources of the country, be formed; and let it be entirely at the devotion of the federal government; still it would not be going too far to say, that the State governments, with the people on their side, would be able to repel the danger. The highest number to which, according to the best computation, a standing army can be carried in any country, does not exceed one hundredth part of the whole number of souls; or one twenty-fifth part of the number able to bear arms. This proportion would not yield, in the United States, an army of more than twenty-five or thirty thousand men. To these would be opposed a militia amounting to near half a million of citizens with arms in their hands, officered by men chosen from among themselves, fighting for their common liberties, and united and conducted by governments possessing their affections and confidence. It may well be doubted, whether a militia thus circumstanced could ever be conquered by such a proportion of regular troops. Those who are best acquainted with the last successful resistance of this country against the British arms, will be most inclined to deny the possibility of it. Besides the advantage of being armed, which the Americans possess over the people of almost every other nation, the existence of subordinate governments, to which the people are attached, and by which the militia officers are appointed, forms a barrier against the enterprises of ambition, more insurmountable than any which a simple government of any form can admit of. Notwithstanding the military establishments in the several kingdoms of Europe, which are carried as far as the public resources will bear, the governments are afraid to trust the people with arms. And it is not certain, that with this aid alone they would not be able to shake off their yokes. But were the people to possess the additional advantages of local governments chosen by themselves, who could collect the national will and direct the national force, and of officers appointed out of the militia, by these governments, and attached both to them and to the militia, it may be affirmed with the greatest assurance, that the throne of every tyranny in Europe would be speedily overturned in spite of the legions which surround it. Let us not insult the free and gallant citizens of America with the suspicion, that they would be less able to defend the rights of which they would be in actual possession, than the debased subjects of arbitrary power would be to rescue theirs from the hands of their oppressors. Let us rather no longer insult them with the supposition that they can ever reduce themselves to the necessity of making the experiment, by a blind and tame submission to the long train of insidious measures which must precede and produce it.

The argument under the present head may be put into a very concise form, which appears altogether conclusive. Either the mode in which the federal government is to be constructed will render it sufficiently dependent on the people, or it will not. On the first supposition, it will be restrained by that dependence from forming schemes obnoxious to their constituents. On the other supposition, it will not possess the confidence of the people, and its schemes of usurpation will be easily defeated by the State governments, who will be supported by the people.

On summing up the considerations stated in this and the last paper, they seem to amount to the most convincing evidence, that the powers proposed to be lodged in the federal government are as little formidable to those reserved to the individual States, as they are indispensably necessary to accomplish the purposes of the Union; and that all those alarms which have been sounded, of a meditated and consequential annihilation of the State governments, must, on the most favorable interpretation, be ascribed to the chimerical fears of the authors of them.

PUBLIUS</pre>
</div>
<div created="20150327194534400" modified="20150327194612126" tags="Madison [[Independent Journal]]" title="No. 47. The Particular Structure of the New Government and the Distribution of Power Among Its Different Parts.">
<pre>''For the Independent Journal. Wednesday, January 30, 1788.''

MADISON

To the People of the State of New York:

HAVING reviewed the general form of the proposed government and the general mass of power allotted to it, I proceed to examine the particular structure of this government, and the distribution of this mass of power among its constituent parts.

One of the principal objections inculcated by the more respectable adversaries to the Constitution, is its supposed violation of the political maxim, that the legislative, executive, and judiciary departments ought to be separate and distinct. In the structure of the federal government, no regard, it is said, seems to have been paid to this essential precaution in favor of liberty. The several departments of power are distributed and blended in such a manner as at once to destroy all symmetry and beauty of form, and to expose some of the essential parts of the edifice to the danger of being crushed by the disproportionate weight of other parts.

No political truth is certainly of greater intrinsic value, or is stamped with the authority of more enlightened patrons of liberty, than that on which the objection is founded. The accumulation of all powers, legislative, executive, and judiciary, in the same hands, whether of one, a few, or many, and whether hereditary, self-appointed, or elective, may justly be pronounced the very definition of tyranny. Were the federal Constitution, therefore, really chargeable with the accumulation of power, or with a mixture of powers, having a dangerous tendency to such an accumulation, no further arguments would be necessary to inspire a universal reprobation of the system. I persuade myself, however, that it will be made apparent to every one, that the charge cannot be supported, and that the maxim on which it relies has been totally misconceived and misapplied. In order to form correct ideas on this important subject, it will be proper to investigate the sense in which the preservation of liberty requires that the three great departments of power should be separate and distinct.

The oracle who is always consulted and cited on this subject is the celebrated Montesquieu. If he be not the author of this invaluable precept in the science of politics, he has the merit at least of displaying and recommending it most effectually to the attention of mankind. Let us endeavor, in the first place, to ascertain his meaning on this point.

The British Constitution was to Montesquieu what Homer has been to the didactic writers on epic poetry. As the latter have considered the work of the immortal bard as the perfect model from which the principles and rules of the epic art were to be drawn, and by which all similar works were to be judged, so this great political critic appears to have viewed the Constitution of England as the standard, or to use his own expression, as the mirror of political liberty; and to have delivered, in the form of elementary truths, the several characteristic principles of that particular system. That we may be sure, then, not to mistake his meaning in this case, let us recur to the source from which the maxim was drawn.

On the slightest view of the British Constitution, we must perceive that the legislative, executive, and judiciary departments are by no means totally separate and distinct from each other. The executive magistrate forms an integral part of the legislative authority. He alone has the prerogative of making treaties with foreign sovereigns, which, when made, have, under certain limitations, the force of legislative acts. All the members of the judiciary department are appointed by him, can be removed by him on the address of the two Houses of Parliament, and form, when he pleases to consult them, one of his constitutional councils. One branch of the legislative department forms also a great constitutional council to the executive chief, as, on another hand, it is the sole depositary of judicial power in cases of impeachment, and is invested with the supreme appellate jurisdiction in all other cases. The judges, again, are so far connected with the legislative department as often to attend and participate in its deliberations, though not admitted to a legislative vote.

From these facts, by which Montesquieu was guided, it may clearly be inferred that, in saying &quot;There can be no liberty where the legislative and executive powers are united in the same person, or body of magistrates,&quot; or, &quot;if the power of judging be not separated from the legislative and executive powers,&quot; he did not mean that these departments ought to have no PARTIAL AGENCY in, or no CONTROL over, the acts of each other. His meaning, as his own words import, and still more conclusively as illustrated by the example in his eye, can amount to no more than this, that where the WHOLE power of one department is exercised by the same hands which possess the WHOLE power of another department, the fundamental principles of a free constitution are subverted. This would have been the case in the constitution examined by him, if the king, who is the sole executive magistrate, had possessed also the complete legislative power, or the supreme administration of justice; or if the entire legislative body had possessed the supreme judiciary, or the supreme executive authority. This, however, is not among the vices of that constitution. The magistrate in whom the whole executive power resides cannot of himself make a law, though he can put a negative on every law; nor administer justice in person, though he has the appointment of those who do administer it. The judges can exercise no executive prerogative, though they are shoots from the executive stock; nor any legislative function, though they may be advised with by the legislative councils. The entire legislature can perform no judiciary act, though by the joint act of two of its branches the judges may be removed from their offices, and though one of its branches is possessed of the judicial power in the last resort. The entire legislature, again, can exercise no executive prerogative, though one of its branches constitutes the supreme executive magistracy, and another, on the impeachment of a third, can try and condemn all the subordinate officers in the executive department.

The reasons on which Montesquieu grounds his maxim are a further demonstration of his meaning. &quot;When the legislative and executive powers are united in the same person or body,&quot; says he, &quot;there can be no liberty, because apprehensions may arise lest THE SAME monarch or senate should ENACT tyrannical laws to EXECUTE them in a tyrannical manner.&quot; Again: &quot;Were the power of judging joined with the legislative, the life and liberty of the subject would be exposed to arbitrary control, for THE JUDGE would then be THE LEGISLATOR. Were it joined to the executive power, THE JUDGE might behave with all the violence of AN OPPRESSOR.&quot; Some of these reasons are more fully explained in other passages; but briefly stated as they are here, they sufficiently establish the meaning which we have put on this celebrated maxim of this celebrated author.

If we look into the constitutions of the several States, we find that, notwithstanding the emphatical and, in some instances, the unqualified terms in which this axiom has been laid down, there is not a single instance in which the several departments of power have been kept absolutely separate and distinct. New Hampshire, whose constitution was the last formed, seems to have been fully aware of the impossibility and inexpediency of avoiding any mixture whatever of these departments, and has qualified the doctrine by declaring &quot;that the legislative, executive, and judiciary powers ought to be kept as separate from, and independent of, each other AS THE NATURE OF A FREE GOVERNMENT WILL ADMIT; OR AS IS CONSISTENT WITH THAT CHAIN OF CONNECTION THAT BINDS THE WHOLE FABRIC OF THE CONSTITUTION IN ONE INDISSOLUBLE BOND OF UNITY AND AMITY.&quot; Her constitution accordingly mixes these departments in several respects. The Senate, which is a branch of the legislative department, is also a judicial tribunal for the trial of impeachments. The President, who is the head of the executive department, is the presiding member also of the Senate; and, besides an equal vote in all cases, has a casting vote in case of a tie. The executive head is himself eventually elective every year by the legislative department, and his council is every year chosen by and from the members of the same department. Several of the officers of state are also appointed by the legislature. And the members of the judiciary department are appointed by the executive department.

The constitution of Massachusetts has observed a sufficient though less pointed caution, in expressing this fundamental article of liberty. It declares &quot;that the legislative department shall never exercise the executive and judicial powers, or either of them; the executive shall never exercise the legislative and judicial powers, or either of them; the judicial shall never exercise the legislative and executive powers, or either of them.&quot; This declaration corresponds precisely with the doctrine of Montesquieu, as it has been explained, and is not in a single point violated by the plan of the convention. It goes no farther than to prohibit any one of the entire departments from exercising the powers of another department. In the very Constitution to which it is prefixed, a partial mixture of powers has been admitted. The executive magistrate has a qualified negative on the legislative body, and the Senate, which is a part of the legislature, is a court of impeachment for members both of the executive and judiciary departments. The members of the judiciary department, again, are appointable by the executive department, and removable by the same authority on the address of the two legislative branches. Lastly, a number of the officers of government are annually appointed by the legislative department. As the appointment to offices, particularly executive offices, is in its nature an executive function, the compilers of the Constitution have, in this last point at least, violated the rule established by themselves.

I pass over the constitutions of Rhode Island and Connecticut, because they were formed prior to the Revolution, and even before the principle under examination had become an object of political attention.

The constitution of New York contains no declaration on this subject; but appears very clearly to have been framed with an eye to the danger of improperly blending the different departments. It gives, nevertheless, to the executive magistrate, a partial control over the legislative department; and, what is more, gives a like control to the judiciary department; and even blends the executive and judiciary departments in the exercise of this control. In its council of appointment members of the legislative are associated with the executive authority, in the appointment of officers, both executive and judiciary. And its court for the trial of impeachments and correction of errors is to consist of one branch of the legislature and the principal members of the judiciary department.

The constitution of New Jersey has blended the different powers of government more than any of the preceding. The governor, who is the executive magistrate, is appointed by the legislature; is chancellor and ordinary, or surrogate of the State; is a member of the Supreme Court of Appeals, and president, with a casting vote, of one of the legislative branches. The same legislative branch acts again as executive council of the governor, and with him constitutes the Court of Appeals. The members of the judiciary department are appointed by the legislative department and removable by one branch of it, on the impeachment of the other.

According to the constitution of Pennsylvania, the president, who is the head of the executive department, is annually elected by a vote in which the legislative department predominates. In conjunction with an executive council, he appoints the members of the judiciary department, and forms a court of impeachment for trial of all officers, judiciary as well as executive. The judges of the Supreme Court and justices of the peace seem also to be removable by the legislature; and the executive power of pardoning in certain cases, to be referred to the same department. The members of the executive council are made EX-OFFICIO justices of peace throughout the State.

In Delaware, the chief executive magistrate is annually elected by the legislative department. The speakers of the two legislative branches are vice-presidents in the executive department. The executive chief, with six others, appointed, three by each of the legislative branches constitutes the Supreme Court of Appeals; he is joined with the legislative department in the appointment of the other judges. Throughout the States, it appears that the members of the legislature may at the same time be justices of the peace; in this State, the members of one branch of it are EX-OFFICIO justices of the peace; as are also the members of the executive council. The principal officers of the executive department are appointed by the legislative; and one branch of the latter forms a court of impeachments. All officers may be removed on address of the legislature.

Maryland has adopted the maxim in the most unqualified terms; declaring that the legislative, executive, and judicial powers of government ought to be forever separate and distinct from each other. Her constitution, notwithstanding, makes the executive magistrate appointable by the legislative department; and the members of the judiciary by the executive department.

The language of Virginia is still more pointed on this subject. Her constitution declares, &quot;that the legislative, executive, and judiciary departments shall be separate and distinct; so that neither exercise the powers properly belonging to the other; nor shall any person exercise the powers of more than one of them at the same time, except that the justices of county courts shall be eligible to either House of Assembly.&quot; Yet we find not only this express exception, with respect to the members of the inferior courts, but that the chief magistrate, with his executive council, are appointable by the legislature; that two members of the latter are triennially displaced at the pleasure of the legislature; and that all the principal offices, both executive and judiciary, are filled by the same department. The executive prerogative of pardon, also, is in one case vested in the legislative department.

The constitution of North Carolina, which declares &quot;that the legislative, executive, and supreme judicial powers of government ought to be forever separate and distinct from each other,&quot; refers, at the same time, to the legislative department, the appointment not only of the executive chief, but all the principal officers within both that and the judiciary department.

In South Carolina, the constitution makes the executive magistracy eligible by the legislative department. It gives to the latter, also, the appointment of the members of the judiciary department, including even justices of the peace and sheriffs; and the appointment of officers in the executive department, down to captains in the army and navy of the State.

In the constitution of Georgia, where it is declared &quot;that the legislative, executive, and judiciary departments shall be separate and distinct, so that neither exercise the powers properly belonging to the other,&quot; we find that the executive department is to be filled by appointments of the legislature; and the executive prerogative of pardon to be finally exercised by the same authority. Even justices of the peace are to be appointed by the legislature.

In citing these cases, in which the legislative, executive, and judiciary departments have not been kept totally separate and distinct, I wish not to be regarded as an advocate for the particular organizations of the several State governments. I am fully aware that among the many excellent principles which they exemplify, they carry strong marks of the haste, and still stronger of the inexperience, under which they were framed. It is but too obvious that in some instances the fundamental principle under consideration has been violated by too great a mixture, and even an actual consolidation, of the different powers; and that in no instance has a competent provision been made for maintaining in practice the separation delineated on paper. What I have wished to evince is, that the charge brought against the proposed Constitution, of violating the sacred maxim of free government, is warranted neither by the real meaning annexed to that maxim by its author, nor by the sense in which it has hitherto been understood in America. This interesting subject will be resumed in the ensuing paper.

PUBLIUS</pre>
</div>
<div created="20150327194654953" modified="20150327194737822" tags="Madison [[New York Packet]]" title="No. 48. These Departments Should Not Be So Far Separated as to Have No Constitutional Control Over Each Other.">
<pre>''From the New York Packet. Friday, February 1, 1788.''

MADISON

To the People of the State of New York:

IT WAS shown in the last paper that the political apothegm there examined does not require that the legislative, executive, and judiciary departments should be wholly unconnected with each other. I shall undertake, in the next place, to show that unless these departments be so far connected and blended as to give to each a constitutional control over the others, the degree of separation which the maxim requires, as essential to a free government, can never in practice be duly maintained.

It is agreed on all sides, that the powers properly belonging to one of the departments ought not to be directly and completely administered by either of the other departments. It is equally evident, that none of them ought to possess, directly or indirectly, an overruling influence over the others, in the administration of their respective powers. It will not be denied, that power is of an encroaching nature, and that it ought to be effectually restrained from passing the limits assigned to it. After discriminating, therefore, in theory, the several classes of power, as they may in their nature be legislative, executive, or judiciary, the next and most difficult task is to provide some practical security for each, against the invasion of the others. What this security ought to be, is the great problem to be solved.

Will it be sufficient to mark, with precision, the boundaries of these departments, in the constitution of the government, and to trust to these parchment barriers against the encroaching spirit of power? This is the security which appears to have been principally relied on by the compilers of most of the American constitutions. But experience assures us, that the efficacy of the provision has been greatly overrated; and that some more adequate defense is indispensably necessary for the more feeble, against the more powerful, members of the government. The legislative department is everywhere extending the sphere of its activity, and drawing all power into its impetuous vortex.

The founders of our republics have so much merit for the wisdom which they have displayed, that no task can be less pleasing than that of pointing out the errors into which they have fallen. A respect for truth, however, obliges us to remark, that they seem never for a moment to have turned their eyes from the danger to liberty from the overgrown and all-grasping prerogative of an hereditary magistrate, supported and fortified by an hereditary branch of the legislative authority. They seem never to have recollected the danger from legislative usurpations, which, by assembling all power in the same hands, must lead to the same tyranny as is threatened by executive usurpations.

In a government where numerous and extensive prerogatives are placed in the hands of an hereditary monarch, the executive department is very justly regarded as the source of danger, and watched with all the jealousy which a zeal for liberty ought to inspire. In a democracy, where a multitude of people exercise in person the legislative functions, and are continually exposed, by their incapacity for regular deliberation and concerted measures, to the ambitious intrigues of their executive magistrates, tyranny may well be apprehended, on some favorable emergency, to start up in the same quarter. But in a representative republic, where the executive magistracy is carefully limited; both in the extent and the duration of its power; and where the legislative power is exercised by an assembly, which is inspired, by a supposed influence over the people, with an intrepid confidence in its own strength; which is sufficiently numerous to feel all the passions which actuate a multitude, yet not so numerous as to be incapable of pursuing the objects of its passions, by means which reason prescribes; it is against the enterprising ambition of this department that the people ought to indulge all their jealousy and exhaust all their precautions.

The legislative department derives a superiority in our governments from other circumstances. Its constitutional powers being at once more extensive, and less susceptible of precise limits, it can, with the greater facility, mask, under complicated and indirect measures, the encroachments which it makes on the co-ordinate departments. It is not unfrequently a question of real nicety in legislative bodies, whether the operation of a particular measure will, or will not, extend beyond the legislative sphere. On the other side, the executive power being restrained within a narrower compass, and being more simple in its nature, and the judiciary being described by landmarks still less uncertain, projects of usurpation by either of these departments would immediately betray and defeat themselves. Nor is this all: as the legislative department alone has access to the pockets of the people, and has in some constitutions full discretion, and in all a prevailing influence, over the pecuniary rewards of those who fill the other departments, a dependence is thus created in the latter, which gives still greater facility to encroachments of the former.

I have appealed to our own experience for the truth of what I advance on this subject. Were it necessary to verify this experience by particular proofs, they might be multiplied without end. I might find a witness in every citizen who has shared in, or been attentive to, the course of public administrations. I might collect vouchers in abundance from the records and archives of every State in the Union. But as a more concise, and at the same time equally satisfactory, evidence, I will refer to the example of two States, attested by two unexceptionable authorities.

The first example is that of Virginia, a State which, as we have seen, has expressly declared in its constitution, that the three great departments ought not to be intermixed. The authority in support of it is Mr. Jefferson, who, besides his other advantages for remarking the operation of the government, was himself the chief magistrate of it. In order to convey fully the ideas with which his experience had impressed him on this subject, it will be necessary to quote a passage of some length from his very interesting Notes on the State of Virginia, p. 195. &quot;All the powers of government, legislative, executive, and judiciary, result to the legislative body. The concentrating these in the same hands, is precisely the definition of despotic government. It will be no alleviation, that these powers will be exercised by a plurality of hands, and not by a single one. One hundred and seventy-three despots would surely be as oppressive as one. Let those who doubt it, turn their eyes on the republic of Venice. As little will it avail us, that they are chosen by ourselves. An ELECTIVE DESPOTISM was not the government we fought for; but one which should not only be founded on free principles, but in which the powers of government should be so divided and balanced among several bodies of magistracy, as that no one could transcend their legal limits, without being effectually checked and restrained by the others. For this reason, that convention which passed the ordinance of government, laid its foundation on this basis, that the legislative, executive, and judiciary departments should be separate and distinct, so that no person should exercise the powers of more than one of them at the same time. BUT NO BARRIER WAS PROVIDED BETWEEN THESE SEVERAL POWERS. The judiciary and the executive members were left dependent on the legislative for their subsistence in office, and some of them for their continuance in it. If, therefore, the legislature assumes executive and judiciary powers, no opposition is likely to be made; nor, if made, can be effectual; because in that case they may put their proceedings into the form of acts of Assembly, which will render them obligatory on the other branches. They have accordingly, IN MANY instances, DECIDED RIGHTS which should have been left to JUDICIARY CONTROVERSY, and THE DIRECTION OF THE EXECUTIVE, DURING THE WHOLE TIME OF THEIR SESSION, IS BECOMING HABITUAL AND FAMILIAR.&quot;

The other State which I shall take for an example is Pennsylvania; and the other authority, the Council of Censors, which assembled in the years 1783 and 1784. A part of the duty of this body, as marked out by the constitution, was &quot;to inquire whether the constitution had been preserved inviolate in every part; and whether the legislative and executive branches of government had performed their duty as guardians of the people, or assumed to themselves, or exercised, other or greater powers than they are entitled to by the constitution.&quot; In the execution of this trust, the council were necessarily led to a comparison of both the legislative and executive proceedings, with the constitutional powers of these departments; and from the facts enumerated, and to the truth of most of which both sides in the council subscribed, it appears that the constitution had been flagrantly violated by the legislature in a variety of important instances.

A great number of laws had been passed, violating, without any apparent necessity, the rule requiring that all bills of a public nature shall be previously printed for the consideration of the people; although this is one of the precautions chiefly relied on by the constitution against improper acts of legislature.

The constitutional trial by jury had been violated, and powers assumed which had not been delegated by the constitution.

Executive powers had been usurped.

The salaries of the judges, which the constitution expressly requires to be fixed, had been occasionally varied; and cases belonging to the judiciary department frequently drawn within legislative cognizance and determination.

Those who wish to see the several particulars falling under each of these heads, may consult the journals of the council, which are in print. Some of them, it will be found, may be imputable to peculiar circumstances connected with the war; but the greater part of them may be considered as the spontaneous shoots of an ill-constituted government.

It appears, also, that the executive department had not been innocent of frequent breaches of the constitution. There are three observations, however, which ought to be made on this head: FIRST, a great proportion of the instances were either immediately produced by the necessities of the war, or recommended by Congress or the commander-in-chief; SECOND, in most of the other instances, they conformed either to the declared or the known sentiments of the legislative department; THIRD, the executive department of Pennsylvania is distinguished from that of the other States by the number of members composing it. In this respect, it has as much affinity to a legislative assembly as to an executive council. And being at once exempt from the restraint of an individual responsibility for the acts of the body, and deriving confidence from mutual example and joint influence, unauthorized measures would, of course, be more freely hazarded, than where the executive department is administered by a single hand, or by a few hands.

The conclusion which I am warranted in drawing from these observations is, that a mere demarcation on parchment of the constitutional limits of the several departments, is not a sufficient guard against those encroachments which lead to a tyrannical concentration of all the powers of government in the same hands.

PUBLIUS</pre>
</div>
<div created="20150327194759575" modified="20150327194824438" tags="Madison [[Independent Journal]]" title="No. 49. Method of Guarding Against the Encroachments of Any One Department of Government by Appealing to the People Through a Convention.">
<pre>''For the Independent Journal. Saturday, February 2, 1788.''

MADISON

To the People of the State of New York:

THE author of the &quot;Notes on the State of Virginia,&quot; quoted in the last paper, has subjoined to that valuable work the draught of a constitution, which had been prepared in order to be laid before a convention, expected to be called in 1783, by the legislature, for the establishment of a constitution for that commonwealth. The plan, like every thing from the same pen, marks a turn of thinking, original, comprehensive, and accurate; and is the more worthy of attention as it equally displays a fervent attachment to republican government and an enlightened view of the dangerous propensities against which it ought to be guarded. One of the precautions which he proposes, and on which he appears ultimately to rely as a palladium to the weaker departments of power against the invasions of the stronger, is perhaps altogether his own, and as it immediately relates to the subject of our present inquiry, ought not to be overlooked.

His proposition is, &quot;that whenever any two of the three branches of government shall concur in opinion, each by the voices of two thirds of their whole number, that a convention is necessary for altering the constitution, or CORRECTING BREACHES OF IT, a convention shall be called for the purpose.&quot;

As the people are the only legitimate fountain of power, and it is from them that the constitutional charter, under which the several branches of government hold their power, is derived, it seems strictly consonant to the republican theory, to recur to the same original authority, not only whenever it may be necessary to enlarge, diminish, or new-model the powers of the government, but also whenever any one of the departments may commit encroachments on the chartered authorities of the others. The several departments being perfectly co-ordinate by the terms of their common commission, none of them, it is evident, can pretend to an exclusive or superior right of settling the boundaries between their respective powers; and how are the encroachments of the stronger to be prevented, or the wrongs of the weaker to be redressed, without an appeal to the people themselves, who, as the grantors of the commissions, can alone declare its true meaning, and enforce its observance?

There is certainly great force in this reasoning, and it must be allowed to prove that a constitutional road to the decision of the people ought to be marked out and kept open, for certain great and extraordinary occasions. But there appear to be insuperable objections against the proposed recurrence to the people, as a provision in all cases for keeping the several departments of power within their constitutional limits.

In the first place, the provision does not reach the case of a combination of two of the departments against the third. If the legislative authority, which possesses so many means of operating on the motives of the other departments, should be able to gain to its interest either of the others, or even one third of its members, the remaining department could derive no advantage from its remedial provision. I do not dwell, however, on this objection, because it may be thought to be rather against the modification of the principle, than against the principle itself.

In the next place, it may be considered as an objection inherent in the principle, that as every appeal to the people would carry an implication of some defect in the government, frequent appeals would, in a great measure, deprive the government of that veneration which time bestows on every thing, and without which perhaps the wisest and freest governments would not possess the requisite stability. If it be true that all governments rest on opinion, it is no less true that the strength of opinion in each individual, and its practical influence on his conduct, depend much on the number which he supposes to have entertained the same opinion. The reason of man, like man himself, is timid and cautious when left alone, and acquires firmness and confidence in proportion to the number with which it is associated. When the examples which fortify opinion are ANCIENT as well as NUMEROUS, they are known to have a double effect. In a nation of philosophers, this consideration ought to be disregarded. A reverence for the laws would be sufficiently inculcated by the voice of an enlightened reason. But a nation of philosophers is as little to be expected as the philosophical race of kings wished for by Plato. And in every other nation, the most rational government will not find it a superfluous advantage to have the prejudices of the community on its side.

The danger of disturbing the public tranquillity by interesting too strongly the public passions, is a still more serious objection against a frequent reference of constitutional questions to the decision of the whole society. Notwithstanding the success which has attended the revisions of our established forms of government, and which does so much honor to the virtue and intelligence of the people of America, it must be confessed that the experiments are of too ticklish a nature to be unnecessarily multiplied. We are to recollect that all the existing constitutions were formed in the midst of a danger which repressed the passions most unfriendly to order and concord; of an enthusiastic confidence of the people in their patriotic leaders, which stifled the ordinary diversity of opinions on great national questions; of a universal ardor for new and opposite forms, produced by a universal resentment and indignation against the ancient government; and whilst no spirit of party connected with the changes to be made, or the abuses to be reformed, could mingle its leaven in the operation. The future situations in which we must expect to be usually placed, do not present any equivalent security against the danger which is apprehended.

But the greatest objection of all is, that the decisions which would probably result from such appeals would not answer the purpose of maintaining the constitutional equilibrium of the government. We have seen that the tendency of republican governments is to an aggrandizement of the legislative at the expense of the other departments. The appeals to the people, therefore, would usually be made by the executive and judiciary departments. But whether made by one side or the other, would each side enjoy equal advantages on the trial? Let us view their different situations. The members of the executive and judiciary departments are few in number, and can be personally known to a small part only of the people. The latter, by the mode of their appointment, as well as by the nature and permanency of it, are too far removed from the people to share much in their prepossessions. The former are generally the objects of jealousy, and their administration is always liable to be discolored and rendered unpopular. The members of the legislative department, on the other hand, are numerous. They are distributed and dwell among the people at large. Their connections of blood, of friendship, and of acquaintance embrace a great proportion of the most influential part of the society. The nature of their public trust implies a personal influence among the people, and that they are more immediately the confidential guardians of the rights and liberties of the people. With these advantages, it can hardly be supposed that the adverse party would have an equal chance for a favorable issue.

But the legislative party would not only be able to plead their cause most successfully with the people. They would probably be constituted themselves the judges. The same influence which had gained them an election into the legislature, would gain them a seat in the convention. If this should not be the case with all, it would probably be the case with many, and pretty certainly with those leading characters, on whom every thing depends in such bodies. The convention, in short, would be composed chiefly of men who had been, who actually were, or who expected to be, members of the department whose conduct was arraigned. They would consequently be parties to the very question to be decided by them.

It might, however, sometimes happen, that appeals would be made under circumstances less adverse to the executive and judiciary departments. The usurpations of the legislature might be so flagrant and so sudden, as to admit of no specious coloring. A strong party among themselves might take side with the other branches. The executive power might be in the hands of a peculiar favorite of the people. In such a posture of things, the public decision might be less swayed by prepossessions in favor of the legislative party. But still it could never be expected to turn on the true merits of the question. It would inevitably be connected with the spirit of pre-existing parties, or of parties springing out of the question itself. It would be connected with persons of distinguished character and extensive influence in the community. It would be pronounced by the very men who had been agents in, or opponents of, the measures to which the decision would relate. The PASSIONS, therefore, not the REASON, of the public would sit in judgment. But it is the reason, alone, of the public, that ought to control and regulate the government. The passions ought to be controlled and regulated by the government.

We found in the last paper, that mere declarations in the written constitution are not sufficient to restrain the several departments within their legal rights. It appears in this, that occasional appeals to the people would be neither a proper nor an effectual provision for that purpose. How far the provisions of a different nature contained in the plan above quoted might be adequate, I do not examine. Some of them are unquestionably founded on sound political principles, and all of them are framed with singular ingenuity and precision.

PUBLIUS</pre>
</div>
<div created="20150327163825319" modified="20150327175019553" tags="Jay [[Independent Journal]]" title="No. 5. The Same Subject Continued (Concerning Dangers From Foreign Force and Influence)">
<pre>''For the Independent Journal. Saturday, November 10, 1787''

JAY

To the People of the State of New York:

QUEEN ANNE, in her letter of the 1st July, 1706, to the Scotch Parliament, makes some observations on the importance of the UNION then forming between England and Scotland, which merit our attention. I shall present the public with one or two extracts from it: &quot;An entire and perfect union will be the solid foundation of lasting peace: It will secure your religion, liberty, and property; remove the animosities amongst yourselves, and the jealousies and differences betwixt our two kingdoms. It must increase your strength, riches, and trade; and by this union the whole island, being joined in affection and free from all apprehensions of different interest, will be ENABLED TO RESIST ALL ITS ENEMIES.&quot; &quot;We most earnestly recommend to you calmness and unanimity in this great and weighty affair, that the union may be brought to a happy conclusion, being the only EFFECTUAL way to secure our present and future happiness, and disappoint the designs of our and your enemies, who will doubtless, on this occasion, USE THEIR UTMOST ENDEAVORS TO PREVENT OR DELAY THIS UNION.&quot;

It was remarked in the preceding paper, that weakness and divisions at home would invite dangers from abroad; and that nothing would tend more to secure us from them than union, strength, and good government within ourselves. This subject is copious and cannot easily be exhausted.

The history of Great Britain is the one with which we are in general the best acquainted, and it gives us many useful lessons. We may profit by their experience without paying the price which it cost them. Although it seems obvious to common sense that the people of such an island should be but one nation, yet we find that they were for ages divided into three, and that those three were almost constantly embroiled in quarrels and wars with one another. Notwithstanding their true interest with respect to the continental nations was really the same, yet by the arts and policy and practices of those nations, their mutual jealousies were perpetually kept inflamed, and for a long series of years they were far more inconvenient and troublesome than they were useful and assisting to each other.

Should the people of America divide themselves into three or four nations, would not the same thing happen? Would not similar jealousies arise, and be in like manner cherished? Instead of their being &quot;joined in affection&quot; and free from all apprehension of different &quot;interests,&quot; envy and jealousy would soon extinguish confidence and affection, and the partial interests of each confederacy, instead of the general interests of all America, would be the only objects of their policy and pursuits. Hence, like most other BORDERING nations, they would always be either involved in disputes and war, or live in the constant apprehension of them.

The most sanguine advocates for three or four confederacies cannot reasonably suppose that they would long remain exactly on an equal footing in point of strength, even if it was possible to form them so at first; but, admitting that to be practicable, yet what human contrivance can secure the continuance of such equality? Independent of those local circumstances which tend to beget and increase power in one part and to impede its progress in another, we must advert to the effects of that superior policy and good management which would probably distinguish the government of one above the rest, and by which their relative equality in strength and consideration would be destroyed. For it cannot be presumed that the same degree of sound policy, prudence, and foresight would uniformly be observed by each of these confederacies for a long succession of years.

Whenever, and from whatever causes, it might happen, and happen it would, that any one of these nations or confederacies should rise on the scale of political importance much above the degree of her neighbors, that moment would those neighbors behold her with envy and with fear. Both those passions would lead them to countenance, if not to promote, whatever might promise to diminish her importance; and would also restrain them from measures calculated to advance or even to secure her prosperity. Much time would not be necessary to enable her to discern these unfriendly dispositions. She would soon begin, not only to lose confidence in her neighbors, but also to feel a disposition equally unfavorable to them. Distrust naturally creates distrust, and by nothing is good-will and kind conduct more speedily changed than by invidious jealousies and uncandid imputations, whether expressed or implied.

The North is generally the region of strength, and many local circumstances render it probable that the most Northern of the proposed confederacies would, at a period not very distant, be unquestionably more formidable than any of the others. No sooner would this become evident than the NORTHERN HIVE would excite the same ideas and sensations in the more southern parts of America which it formerly did in the southern parts of Europe. Nor does it appear to be a rash conjecture that its young swarms might often be tempted to gather honey in the more blooming fields and milder air of their luxurious and more delicate neighbors.

They who well consider the history of similar divisions and confederacies will find abundant reason to apprehend that those in contemplation would in no other sense be neighbors than as they would be borderers; that they would neither love nor trust one another, but on the contrary would be a prey to discord, jealousy, and mutual injuries; in short, that they would place us exactly in the situations in which some nations doubtless wish to see us, viz., FORMIDABLE ONLY TO EACH OTHER.

From these considerations it appears that those gentlemen are greatly mistaken who suppose that alliances offensive and defensive might be formed between these confederacies, and would produce that combination and union of wills of arms and of resources, which would be necessary to put and keep them in a formidable state of defense against foreign enemies.

When did the independent states, into which Britain and Spain were formerly divided, combine in such alliance, or unite their forces against a foreign enemy? The proposed confederacies will be DISTINCT NATIONS. Each of them would have its commerce with foreigners to regulate by distinct treaties; and as their productions and commodities are different and proper for different markets, so would those treaties be essentially different. Different commercial concerns must create different interests, and of course different degrees of political attachment to and connection with different foreign nations. Hence it might and probably would happen that the foreign nation with whom the SOUTHERN confederacy might be at war would be the one with whom the NORTHERN confederacy would be the most desirous of preserving peace and friendship. An alliance so contrary to their immediate interest would not therefore be easy to form, nor, if formed, would it be observed and fulfilled with perfect good faith.

Nay, it is far more probable that in America, as in Europe, neighboring nations, acting under the impulse of opposite interests and unfriendly passions, would frequently be found taking different sides. Considering our distance from Europe, it would be more natural for these confederacies to apprehend danger from one another than from distant nations, and therefore that each of them should be more desirous to guard against the others by the aid of foreign alliances, than to guard against foreign dangers by alliances between themselves. And here let us not forget how much more easy it is to receive foreign fleets into our ports, and foreign armies into our country, than it is to persuade or compel them to depart. How many conquests did the Romans and others make in the characters of allies, and what innovations did they under the same character introduce into the governments of those whom they pretended to protect.

Let candid men judge, then, whether the division of America into any given number of independent sovereignties would tend to secure us against the hostilities and improper interference of foreign nations.

PUBLIUS</pre>
</div>
<div created="20150327194950617" modified="20150327195029583" tags="Madison [[New York Packet]]" title="No. 50. Periodical Appeals to the People Considered">
<pre>''From the New York Packet. Tuesday, February 5, 1788.''

MADISON

To the People of the State of New York:

IT MAY be contended, perhaps, that instead of OCCASIONAL appeals to the people, which are liable to the objections urged against them, PERIODICAL appeals are the proper and adequate means of PREVENTING AND CORRECTING INFRACTIONS OF THE CONSTITUTION.

It will be attended to, that in the examination of these expedients, I confine myself to their aptitude for ENFORCING the Constitution, by keeping the several departments of power within their due bounds, without particularly considering them as provisions for ALTERING the Constitution itself. In the first view, appeals to the people at fixed periods appear to be nearly as ineligible as appeals on particular occasions as they emerge. If the periods be separated by short intervals, the measures to be reviewed and rectified will have been of recent date, and will be connected with all the circumstances which tend to vitiate and pervert the result of occasional revisions. If the periods be distant from each other, the same remark will be applicable to all recent measures; and in proportion as the remoteness of the others may favor a dispassionate review of them, this advantage is inseparable from inconveniences which seem to counterbalance it. In the first place, a distant prospect of public censure would be a very feeble restraint on power from those excesses to which it might be urged by the force of present motives. Is it to be imagined that a legislative assembly, consisting of a hundred or two hundred members, eagerly bent on some favorite object, and breaking through the restraints of the Constitution in pursuit of it, would be arrested in their career, by considerations drawn from a censorial revision of their conduct at the future distance of ten, fifteen, or twenty years? In the next place, the abuses would often have completed their mischievous effects before the remedial provision would be applied. And in the last place, where this might not be the case, they would be of long standing, would have taken deep root, and would not easily be extirpated.

The scheme of revising the constitution, in order to correct recent breaches of it, as well as for other purposes, has been actually tried in one of the States. One of the objects of the Council of Censors which met in Pennsylvania in 1783 and 1784, was, as we have seen, to inquire, &quot;whether the constitution had been violated, and whether the legislative and executive departments had encroached upon each other.&quot; This important and novel experiment in politics merits, in several points of view, very particular attention. In some of them it may, perhaps, as a single experiment, made under circumstances somewhat peculiar, be thought to be not absolutely conclusive. But as applied to the case under consideration, it involves some facts, which I venture to remark, as a complete and satisfactory illustration of the reasoning which I have employed.

First. It appears, from the names of the gentlemen who composed the council, that some, at least, of its most active members had also been active and leading characters in the parties which pre-existed in the State.

Second. It appears that the same active and leading members of the council had been active and influential members of the legislative and executive branches, within the period to be reviewed; and even patrons or opponents of the very measures to be thus brought to the test of the constitution. Two of the members had been vice-presidents of the State, and several other members of the executive council, within the seven preceding years. One of them had been speaker, and a number of others distinguished members, of the legislative assembly within the same period.

Third. Every page of their proceedings witnesses the effect of all these circumstances on the temper of their deliberations. Throughout the continuance of the council, it was split into two fixed and violent parties. The fact is acknowledged and lamented by themselves. Had this not been the case, the face of their proceedings exhibits a proof equally satisfactory. In all questions, however unimportant in themselves, or unconnected with each other, the same names stand invariably contrasted on the opposite columns. Every unbiased observer may infer, without danger of mistake, and at the same time without meaning to reflect on either party, or any individuals of either party, that, unfortunately, PASSION, not REASON, must have presided over their decisions. When men exercise their reason coolly and freely on a variety of distinct questions, they inevitably fall into different opinions on some of them. When they are governed by a common passion, their opinions, if they are so to be called, will be the same.

Fourth. It is at least problematical, whether the decisions of this body do not, in several instances, misconstrue the limits prescribed for the legislative and executive departments, instead of reducing and limiting them within their constitutional places.

Fifth. I have never understood that the decisions of the council on constitutional questions, whether rightly or erroneously formed, have had any effect in varying the practice founded on legislative constructions. It even appears, if I mistake not, that in one instance the contemporary legislature denied the constructions of the council, and actually prevailed in the contest.

This censorial body, therefore, proves at the same time, by its researches, the existence of the disease, and by its example, the inefficacy of the remedy.

This conclusion cannot be invalidated by alleging that the State in which the experiment was made was at that crisis, and had been for a long time before, violently heated and distracted by the rage of party. Is it to be presumed, that at any future septennial epoch the same State will be free from parties? Is it to be presumed that any other State, at the same or any other given period, will be exempt from them? Such an event ought to be neither presumed nor desired; because an extinction of parties necessarily implies either a universal alarm for the public safety, or an absolute extinction of liberty.

Were the precaution taken of excluding from the assemblies elected by the people, to revise the preceding administration of the government, all persons who should have been concerned with the government within the given period, the difficulties would not be obviated. The important task would probably devolve on men, who, with inferior capacities, would in other respects be little better qualified. Although they might not have been personally concerned in the administration, and therefore not immediately agents in the measures to be examined, they would probably have been involved in the parties connected with these measures, and have been elected under their auspices.

PUBLIUS</pre>
</div>
<div created="20150327195056920" modified="20150327195122958" tags="Madison [[Independent Journal]]" title="No. 51. The Structure of the Government Must Furnish the Proper Checks and Balances Between the Different Departments.">
<pre>''For the Independent Journal. Wednesday, February 6, 1788.''

MADISON

To the People of the State of New York:

TO WHAT expedient, then, shall we finally resort, for maintaining in practice the necessary partition of power among the several departments, as laid down in the Constitution? The only answer that can be given is, that as all these exterior provisions are found to be inadequate, the defect must be supplied, by so contriving the interior structure of the government as that its several constituent parts may, by their mutual relations, be the means of keeping each other in their proper places. Without presuming to undertake a full development of this important idea, I will hazard a few general observations, which may perhaps place it in a clearer light, and enable us to form a more correct judgment of the principles and structure of the government planned by the convention.

In order to lay a due foundation for that separate and distinct exercise of the different powers of government, which to a certain extent is admitted on all hands to be essential to the preservation of liberty, it is evident that each department should have a will of its own; and consequently should be so constituted that the members of each should have as little agency as possible in the appointment of the members of the others. Were this principle rigorously adhered to, it would require that all the appointments for the supreme executive, legislative, and judiciary magistracies should be drawn from the same fountain of authority, the people, through channels having no communication whatever with one another. Perhaps such a plan of constructing the several departments would be less difficult in practice than it may in contemplation appear. Some difficulties, however, and some additional expense would attend the execution of it. Some deviations, therefore, from the principle must be admitted. In the constitution of the judiciary department in particular, it might be inexpedient to insist rigorously on the principle: first, because peculiar qualifications being essential in the members, the primary consideration ought to be to select that mode of choice which best secures these qualifications; secondly, because the permanent tenure by which the appointments are held in that department, must soon destroy all sense of dependence on the authority conferring them.

It is equally evident, that the members of each department should be as little dependent as possible on those of the others, for the emoluments annexed to their offices. Were the executive magistrate, or the judges, not independent of the legislature in this particular, their independence in every other would be merely nominal.

But the great security against a gradual concentration of the several powers in the same department, consists in giving to those who administer each department the necessary constitutional means and personal motives to resist encroachments of the others. The provision for defense must in this, as in all other cases, be made commensurate to the danger of attack. Ambition must be made to counteract ambition. The interest of the man must be connected with the constitutional rights of the place. It may be a reflection on human nature, that such devices should be necessary to control the abuses of government. But what is government itself, but the greatest of all reflections on human nature? If men were angels, no government would be necessary. If angels were to govern men, neither external nor internal controls on government would be necessary. In framing a government which is to be administered by men over men, the great difficulty lies in this: you must first enable the government to control the governed; and in the next place oblige it to control itself. A dependence on the people is, no doubt, the primary control on the government; but experience has taught mankind the necessity of auxiliary precautions.

This policy of supplying, by opposite and rival interests, the defect of better motives, might be traced through the whole system of human affairs, private as well as public. We see it particularly displayed in all the subordinate distributions of power, where the constant aim is to divide and arrange the several offices in such a manner as that each may be a check on the other—that the private interest of every individual may be a sentinel over the public rights. These inventions of prudence cannot be less requisite in the distribution of the supreme powers of the State.

But it is not possible to give to each department an equal power of self-defense. In republican government, the legislative authority necessarily predominates. The remedy for this inconveniency is to divide the legislature into different branches; and to render them, by different modes of election and different principles of action, as little connected with each other as the nature of their common functions and their common dependence on the society will admit. It may even be necessary to guard against dangerous encroachments by still further precautions. As the weight of the legislative authority requires that it should be thus divided, the weakness of the executive may require, on the other hand, that it should be fortified. An absolute negative on the legislature appears, at first view, to be the natural defense with which the executive magistrate should be armed. But perhaps it would be neither altogether safe nor alone sufficient. On ordinary occasions it might not be exerted with the requisite firmness, and on extraordinary occasions it might be perfidiously abused. May not this defect of an absolute negative be supplied by some qualified connection between this weaker department and the weaker branch of the stronger department, by which the latter may be led to support the constitutional rights of the former, without being too much detached from the rights of its own department?

If the principles on which these observations are founded be just, as I persuade myself they are, and they be applied as a criterion to the several State constitutions, and to the federal Constitution it will be found that if the latter does not perfectly correspond with them, the former are infinitely less able to bear such a test.

There are, moreover, two considerations particularly applicable to the federal system of America, which place that system in a very interesting point of view.

First. In a single republic, all the power surrendered by the people is submitted to the administration of a single government; and the usurpations are guarded against by a division of the government into distinct and separate departments. In the compound republic of America, the power surrendered by the people is first divided between two distinct governments, and then the portion allotted to each subdivided among distinct and separate departments. Hence a double security arises to the rights of the people. The different governments will control each other, at the same time that each will be controlled by itself.

Second. It is of great importance in a republic not only to guard the society against the oppression of its rulers, but to guard one part of the society against the injustice of the other part. Different interests necessarily exist in different classes of citizens. If a majority be united by a common interest, the rights of the minority will be insecure. There are but two methods of providing against this evil: the one by creating a will in the community independent of the majority—that is, of the society itself; the other, by comprehending in the society so many separate descriptions of citizens as will render an unjust combination of a majority of the whole very improbable, if not impracticable. The first method prevails in all governments possessing an hereditary or self-appointed authority. This, at best, is but a precarious security; because a power independent of the society may as well espouse the unjust views of the major, as the rightful interests of the minor party, and may possibly be turned against both parties. The second method will be exemplified in the federal republic of the United States. Whilst all authority in it will be derived from and dependent on the society, the society itself will be broken into so many parts, interests, and classes of citizens, that the rights of individuals, or of the minority, will be in little danger from interested combinations of the majority. In a free government the security for civil rights must be the same as that for religious rights. It consists in the one case in the multiplicity of interests, and in the other in the multiplicity of sects. The degree of security in both cases will depend on the number of interests and sects; and this may be presumed to depend on the extent of country and number of people comprehended under the same government. This view of the subject must particularly recommend a proper federal system to all the sincere and considerate friends of republican government, since it shows that in exact proportion as the territory of the Union may be formed into more circumscribed Confederacies, or States oppressive combinations of a majority will be facilitated: the best security, under the republican forms, for the rights of every class of citizens, will be diminished: and consequently the stability and independence of some member of the government, the only other security, must be proportionately increased. Justice is the end of government. It is the end of civil society. It ever has been and ever will be pursued until it be obtained, or until liberty be lost in the pursuit. In a society under the forms of which the stronger faction can readily unite and oppress the weaker, anarchy may as truly be said to reign as in a state of nature, where the weaker individual is not secured against the violence of the stronger; and as, in the latter state, even the stronger individuals are prompted, by the uncertainty of their condition, to submit to a government which may protect the weak as well as themselves; so, in the former state, will the more powerful factions or parties be gradually induced, by a like motive, to wish for a government which will protect all parties, the weaker as well as the more powerful. It can be little doubted that if the State of Rhode Island was separated from the Confederacy and left to itself, the insecurity of rights under the popular form of government within such narrow limits would be displayed by such reiterated oppressions of factious majorities that some power altogether independent of the people would soon be called for by the voice of the very factions whose misrule had proved the necessity of it. In the extended republic of the United States, and among the great variety of interests, parties, and sects which it embraces, a coalition of a majority of the whole society could seldom take place on any other principles than those of justice and the general good; whilst there being thus less danger to a minor from the will of a major party, there must be less pretext, also, to provide for the security of the former, by introducing into the government a will not dependent on the latter, or, in other words, a will independent of the society itself. It is no less certain than it is important, notwithstanding the contrary opinions which have been entertained, that the larger the society, provided it lie within a practical sphere, the more duly capable it will be of self-government. And happily for the REPUBLICAN CAUSE, the practicable sphere may be carried to a very great extent, by a judicious modification and mixture of the FEDERAL PRINCIPLE.

PUBLIUS</pre>
</div>
<div created="20150327195152648" modified="20150327195222815" tags="Madison [[New York Packet]]" title="No. 52. The House of Representatives">
<pre>''From the New York Packet. Friday, February 8, 1788.''

MADISON

To the People of the State of New York:

FROM the more general inquiries pursued in the four last papers, I pass on to a more particular examination of the several parts of the government. I shall begin with the House of Representatives.

The first view to be taken of this part of the government relates to the qualifications of the electors and the elected. Those of the former are to be the same with those of the electors of the most numerous branch of the State legislatures. The definition of the right of suffrage is very justly regarded as a fundamental article of republican government. It was incumbent on the convention, therefore, to define and establish this right in the Constitution. To have left it open for the occasional regulation of the Congress, would have been improper for the reason just mentioned. To have submitted it to the legislative discretion of the States, would have been improper for the same reason; and for the additional reason that it would have rendered too dependent on the State governments that branch of the federal government which ought to be dependent on the people alone. To have reduced the different qualifications in the different States to one uniform rule, would probably have been as dissatisfactory to some of the States as it would have been difficult to the convention. The provision made by the convention appears, therefore, to be the best that lay within their option. It must be satisfactory to every State, because it is conformable to the standard already established, or which may be established, by the State itself. It will be safe to the United States, because, being fixed by the State constitutions, it is not alterable by the State governments, and it cannot be feared that the people of the States will alter this part of their constitutions in such a manner as to abridge the rights secured to them by the federal Constitution.

The qualifications of the elected, being less carefully and properly defined by the State constitutions, and being at the same time more susceptible of uniformity, have been very properly considered and regulated by the convention. A representative of the United States must be of the age of twenty-five years; must have been seven years a citizen of the United States; must, at the time of his election, be an inhabitant of the State he is to represent; and, during the time of his service, must be in no office under the United States. Under these reasonable limitations, the door of this part of the federal government is open to merit of every description, whether native or adoptive, whether young or old, and without regard to poverty or wealth, or to any particular profession of religious faith.

The term for which the representatives are to be elected falls under a second view which may be taken of this branch. In order to decide on the propriety of this article, two questions must be considered: first, whether biennial elections will, in this case, be safe; secondly, whether they be necessary or useful.

First. As it is essential to liberty that the government in general should have a common interest with the people, so it is particularly essential that the branch of it under consideration should have an immediate dependence on, and an intimate sympathy with, the people. Frequent elections are unquestionably the only policy by which this dependence and sympathy can be effectually secured. But what particular degree of frequency may be absolutely necessary for the purpose, does not appear to be susceptible of any precise calculation, and must depend on a variety of circumstances with which it may be connected. Let us consult experience, the guide that ought always to be followed whenever it can be found.

The scheme of representation, as a substitute for a meeting of the citizens in person, being at most but very imperfectly known to ancient polity, it is in more modern times only that we are to expect instructive examples. And even here, in order to avoid a research too vague and diffusive, it will be proper to confine ourselves to the few examples which are best known, and which bear the greatest analogy to our particular case. The first to which this character ought to be applied, is the House of Commons in Great Britain. The history of this branch of the English Constitution, anterior to the date of Magna Charta, is too obscure to yield instruction. The very existence of it has been made a question among political antiquaries. The earliest records of subsequent date prove that parliaments were to SIT only every year; not that they were to be ELECTED every year. And even these annual sessions were left so much at the discretion of the monarch, that, under various pretexts, very long and dangerous intermissions were often contrived by royal ambition. To remedy this grievance, it was provided by a statute in the reign of Charles II, that the intermissions should not be protracted beyond a period of three years. On the accession of William III, when a revolution took place in the government, the subject was still more seriously resumed, and it was declared to be among the fundamental rights of the people that parliaments ought to be held FREQUENTLY. By another statute, which passed a few years later in the same reign, the term &quot;frequently,&quot; which had alluded to the triennial period settled in the time of Charles II, is reduced to a precise meaning, it being expressly enacted that a new parliament shall be called within three years after the termination of the former. The last change, from three to seven years, is well known to have been introduced pretty early in the present century, under on alarm for the Hanoverian succession. From these facts it appears that the greatest frequency of elections which has been deemed necessary in that kingdom, for binding the representatives to their constituents, does not exceed a triennial return of them. And if we may argue from the degree of liberty retained even under septennial elections, and all the other vicious ingredients in the parliamentary constitution, we cannot doubt that a reduction of the period from seven to three years, with the other necessary reforms, would so far extend the influence of the people over their representatives as to satisfy us that biennial elections, under the federal system, cannot possibly be dangerous to the requisite dependence of the House of Representatives on their constituents.

Elections in Ireland, till of late, were regulated entirely by the discretion of the crown, and were seldom repeated, except on the accession of a new prince, or some other contingent event. The parliament which commenced with George II. was continued throughout his whole reign, a period of about thirty-five years. The only dependence of the representatives on the people consisted in the right of the latter to supply occasional vacancies by the election of new members, and in the chance of some event which might produce a general new election. The ability also of the Irish parliament to maintain the rights of their constituents, so far as the disposition might exist, was extremely shackled by the control of the crown over the subjects of their deliberation. Of late these shackles, if I mistake not, have been broken; and octennial parliaments have besides been established. What effect may be produced by this partial reform, must be left to further experience. The example of Ireland, from this view of it, can throw but little light on the subject. As far as we can draw any conclusion from it, it must be that if the people of that country have been able under all these disadvantages to retain any liberty whatever, the advantage of biennial elections would secure to them every degree of liberty, which might depend on a due connection between their representatives and themselves.

Let us bring our inquiries nearer home. The example of these States, when British colonies, claims particular attention, at the same time that it is so well known as to require little to be said on it. The principle of representation, in one branch of the legislature at least, was established in all of them. But the periods of election were different. They varied from one to seven years. Have we any reason to infer, from the spirit and conduct of the representatives of the people, prior to the Revolution, that biennial elections would have been dangerous to the public liberties? The spirit which everywhere displayed itself at the commencement of the struggle, and which vanquished the obstacles to independence, is the best of proofs that a sufficient portion of liberty had been everywhere enjoyed to inspire both a sense of its worth and a zeal for its proper enlargement This remark holds good, as well with regard to the then colonies whose elections were least frequent, as to those whose elections were most frequent Virginia was the colony which stood first in resisting the parliamentary usurpations of Great Britain; it was the first also in espousing, by public act, the resolution of independence. In Virginia, nevertheless, if I have not been misinformed, elections under the former government were septennial. This particular example is brought into view, not as a proof of any peculiar merit, for the priority in those instances was probably accidental; and still less of any advantage in SEPTENNIAL elections, for when compared with a greater frequency they are inadmissible; but merely as a proof, and I conceive it to be a very substantial proof, that the liberties of the people can be in no danger from BIENNIAL elections.

The conclusion resulting from these examples will be not a little strengthened by recollecting three circumstances. The first is, that the federal legislature will possess a part only of that supreme legislative authority which is vested completely in the British Parliament; and which, with a few exceptions, was exercised by the colonial assemblies and the Irish legislature. It is a received and well-founded maxim, that where no other circumstances affect the case, the greater the power is, the shorter ought to be its duration; and, conversely, the smaller the power, the more safely may its duration be protracted. In the second place, it has, on another occasion, been shown that the federal legislature will not only be restrained by its dependence on its people, as other legislative bodies are, but that it will be, moreover, watched and controlled by the several collateral legislatures, which other legislative bodies are not. And in the third place, no comparison can be made between the means that will be possessed by the more permanent branches of the federal government for seducing, if they should be disposed to seduce, the House of Representatives from their duty to the people, and the means of influence over the popular branch possessed by the other branches of the government above cited. With less power, therefore, to abuse, the federal representatives can be less tempted on one side, and will be doubly watched on the other.

PUBLIUS</pre>
</div>
<div created="20150327195242832" modified="20150327195308311" tags="Madison [[Independent Journal]]" title="No. 53. The Same Subject Continued (The House of Representatives)">
<pre>''For the Independent Journal. Saturday, February 9, 1788.''

MADISON

To the People of the State of New York:

I SHALL here, perhaps, be reminded of a current observation, &quot;that where annual elections end, tyranny begins.&quot; If it be true, as has often been remarked, that sayings which become proverbial are generally founded in reason, it is not less true, that when once established, they are often applied to cases to which the reason of them does not extend. I need not look for a proof beyond the case before us. What is the reason on which this proverbial observation is founded? No man will subject himself to the ridicule of pretending that any natural connection subsists between the sun or the seasons, and the period within which human virtue can bear the temptations of power. Happily for mankind, liberty is not, in this respect, confined to any single point of time; but lies within extremes, which afford sufficient latitude for all the variations which may be required by the various situations and circumstances of civil society. The election of magistrates might be, if it were found expedient, as in some instances it actually has been, daily, weekly, or monthly, as well as annual; and if circumstances may require a deviation from the rule on one side, why not also on the other side? Turning our attention to the periods established among ourselves, for the election of the most numerous branches of the State legislatures, we find them by no means coinciding any more in this instance, than in the elections of other civil magistrates. In Connecticut and Rhode Island, the periods are half-yearly. In the other States, South Carolina excepted, they are annual. In South Carolina they are biennial—as is proposed in the federal government. Here is a difference, as four to one, between the longest and shortest periods; and yet it would be not easy to show, that Connecticut or Rhode Island is better governed, or enjoys a greater share of rational liberty, than South Carolina; or that either the one or the other of these States is distinguished in these respects, and by these causes, from the States whose elections are different from both.

In searching for the grounds of this doctrine, I can discover but one, and that is wholly inapplicable to our case. The important distinction so well understood in America, between a Constitution established by the people and unalterable by the government, and a law established by the government and alterable by the government, seems to have been little understood and less observed in any other country. Wherever the supreme power of legislation has resided, has been supposed to reside also a full power to change the form of the government. Even in Great Britain, where the principles of political and civil liberty have been most discussed, and where we hear most of the rights of the Constitution, it is maintained that the authority of the Parliament is transcendent and uncontrollable, as well with regard to the Constitution, as the ordinary objects of legislative provision. They have accordingly, in several instances, actually changed, by legislative acts, some of the most fundamental articles of the government. They have in particular, on several occasions, changed the period of election; and, on the last occasion, not only introduced septennial in place of triennial elections, but by the same act, continued themselves in place four years beyond the term for which they were elected by the people. An attention to these dangerous practices has produced a very natural alarm in the votaries of free government, of which frequency of elections is the corner-stone; and has led them to seek for some security to liberty, against the danger to which it is exposed. Where no Constitution, paramount to the government, either existed or could be obtained, no constitutional security, similar to that established in the United States, was to be attempted. Some other security, therefore, was to be sought for; and what better security would the case admit, than that of selecting and appealing to some simple and familiar portion of time, as a standard for measuring the danger of innovations, for fixing the national sentiment, and for uniting the patriotic exertions? The most simple and familiar portion of time, applicable to the subject was that of a year; and hence the doctrine has been inculcated by a laudable zeal, to erect some barrier against the gradual innovations of an unlimited government, that the advance towards tyranny was to be calculated by the distance of departure from the fixed point of annual elections. But what necessity can there be of applying this expedient to a government limited, as the federal government will be, by the authority of a paramount Constitution? Or who will pretend that the liberties of the people of America will not be more secure under biennial elections, unalterably fixed by such a Constitution, than those of any other nation would be, where elections were annual, or even more frequent, but subject to alterations by the ordinary power of the government?

The second question stated is, whether biennial elections be necessary or useful. The propriety of answering this question in the affirmative will appear from several very obvious considerations.

No man can be a competent legislator who does not add to an upright intention and a sound judgment a certain degree of knowledge of the subjects on which he is to legislate. A part of this knowledge may be acquired by means of information which lie within the compass of men in private as well as public stations. Another part can only be attained, or at least thoroughly attained, by actual experience in the station which requires the use of it. The period of service, ought, therefore, in all such cases, to bear some proportion to the extent of practical knowledge requisite to the due performance of the service. The period of legislative service established in most of the States for the more numerous branch is, as we have seen, one year. The question then may be put into this simple form: does the period of two years bear no greater proportion to the knowledge requisite for federal legislation than one year does to the knowledge requisite for State legislation? The very statement of the question, in this form, suggests the answer that ought to be given to it.

In a single State, the requisite knowledge relates to the existing laws which are uniform throughout the State, and with which all the citizens are more or less conversant; and to the general affairs of the State, which lie within a small compass, are not very diversified, and occupy much of the attention and conversation of every class of people. The great theatre of the United States presents a very different scene. The laws are so far from being uniform, that they vary in every State; whilst the public affairs of the Union are spread throughout a very extensive region, and are extremely diversified by the local affairs connected with them, and can with difficulty be correctly learnt in any other place than in the central councils to which a knowledge of them will be brought by the representatives of every part of the empire. Yet some knowledge of the affairs, and even of the laws, of all the States, ought to be possessed by the members from each of the States. How can foreign trade be properly regulated by uniform laws, without some acquaintance with the commerce, the ports, the usages, and the regulations of the different States? How can the trade between the different States be duly regulated, without some knowledge of their relative situations in these and other respects? How can taxes be judiciously imposed and effectually collected, if they be not accommodated to the different laws and local circumstances relating to these objects in the different States? How can uniform regulations for the militia be duly provided, without a similar knowledge of many internal circumstances by which the States are distinguished from each other? These are the principal objects of federal legislation, and suggest most forcibly the extensive information which the representatives ought to acquire. The other interior objects will require a proportional degree of information with regard to them.

It is true that all these difficulties will, by degrees, be very much diminished. The most laborious task will be the proper inauguration of the government and the primeval formation of a federal code. Improvements on the first draughts will every year become both easier and fewer. Past transactions of the government will be a ready and accurate source of information to new members. The affairs of the Union will become more and more objects of curiosity and conversation among the citizens at large. And the increased intercourse among those of different States will contribute not a little to diffuse a mutual knowledge of their affairs, as this again will contribute to a general assimilation of their manners and laws. But with all these abatements, the business of federal legislation must continue so far to exceed, both in novelty and difficulty, the legislative business of a single State, as to justify the longer period of service assigned to those who are to transact it.

A branch of knowledge which belongs to the acquirements of a federal representative, and which has not been mentioned is that of foreign affairs. In regulating our own commerce he ought to be not only acquainted with the treaties between the United States and other nations, but also with the commercial policy and laws of other nations. He ought not to be altogether ignorant of the law of nations; for that, as far as it is a proper object of municipal legislation, is submitted to the federal government. And although the House of Representatives is not immediately to participate in foreign negotiations and arrangements, yet from the necessary connection between the several branches of public affairs, those particular branches will frequently deserve attention in the ordinary course of legislation, and will sometimes demand particular legislative sanction and co-operation. Some portion of this knowledge may, no doubt, be acquired in a man's closet; but some of it also can only be derived from the public sources of information; and all of it will be acquired to best effect by a practical attention to the subject during the period of actual service in the legislature.

There are other considerations, of less importance, perhaps, but which are not unworthy of notice. The distance which many of the representatives will be obliged to travel, and the arrangements rendered necessary by that circumstance, might be much more serious objections with fit men to this service, if limited to a single year, than if extended to two years. No argument can be drawn on this subject, from the case of the delegates to the existing Congress. They are elected annually, it is true; but their re-election is considered by the legislative assemblies almost as a matter of course. The election of the representatives by the people would not be governed by the same principle.

A few of the members, as happens in all such assemblies, will possess superior talents; will, by frequent reelections, become members of long standing; will be thoroughly masters of the public business, and perhaps not unwilling to avail themselves of those advantages. The greater the proportion of new members, and the less the information of the bulk of the members the more apt will they be to fall into the snares that may be laid for them. This remark is no less applicable to the relation which will subsist between the House of Representatives and the Senate.

It is an inconvenience mingled with the advantages of our frequent elections even in single States, where they are large, and hold but one legislative session in a year, that spurious elections cannot be investigated and annulled in time for the decision to have its due effect. If a return can be obtained, no matter by what unlawful means, the irregular member, who takes his seat of course, is sure of holding it a sufficient time to answer his purposes. Hence, a very pernicious encouragement is given to the use of unlawful means, for obtaining irregular returns. Were elections for the federal legislature to be annual, this practice might become a very serious abuse, particularly in the more distant States. Each house is, as it necessarily must be, the judge of the elections, qualifications, and returns of its members; and whatever improvements may be suggested by experience, for simplifying and accelerating the process in disputed cases, so great a portion of a year would unavoidably elapse, before an illegitimate member could be dispossessed of his seat, that the prospect of such an event would be little check to unfair and illicit means of obtaining a seat.

All these considerations taken together warrant us in affirming, that biennial elections will be as useful to the affairs of the public as we have seen that they will be safe to the liberty of the people.

PUBLIUS</pre>
</div>
<div created="20150327195342137" modified="20150327195410479" tags="Madison [[New York Packet]]" title="No. 54. The Apportionment of Members Among the States">
<pre>''From the New York Packet. Tuesday, February 12, 1788.''

MADISON

To the People of the State of New York:

THE next view which I shall take of the House of Representatives relates to the appointment of its members to the several States which is to be determined by the same rule with that of direct taxes.

It is not contended that the number of people in each State ought not to be the standard for regulating the proportion of those who are to represent the people of each State. The establishment of the same rule for the appointment of taxes, will probably be as little contested; though the rule itself in this case, is by no means founded on the same principle. In the former case, the rule is understood to refer to the personal rights of the people, with which it has a natural and universal connection. In the latter, it has reference to the proportion of wealth, of which it is in no case a precise measure, and in ordinary cases a very unfit one. But notwithstanding the imperfection of the rule as applied to the relative wealth and contributions of the States, it is evidently the least objectionable among the practicable rules, and had too recently obtained the general sanction of America, not to have found a ready preference with the convention.

All this is admitted, it will perhaps be said; but does it follow, from an admission of numbers for the measure of representation, or of slaves combined with free citizens as a ratio of taxation, that slaves ought to be included in the numerical rule of representation? Slaves are considered as property, not as persons. They ought therefore to be comprehended in estimates of taxation which are founded on property, and to be excluded from representation which is regulated by a census of persons. This is the objection, as I understand it, stated in its full force. I shall be equally candid in stating the reasoning which may be offered on the opposite side.

&quot;We subscribe to the doctrine,&quot; might one of our Southern brethren observe, &quot;that representation relates more immediately to persons, and taxation more immediately to property, and we join in the application of this distinction to the case of our slaves. But we must deny the fact, that slaves are considered merely as property, and in no respect whatever as persons. The true state of the case is, that they partake of both these qualities: being considered by our laws, in some respects, as persons, and in other respects as property. In being compelled to labor, not for himself, but for a master; in being vendible by one master to another master; and in being subject at all times to be restrained in his liberty and chastised in his body, by the capricious will of another—the slave may appear to be degraded from the human rank, and classed with those irrational animals which fall under the legal denomination of property. In being protected, on the other hand, in his life and in his limbs, against the violence of all others, even the master of his labor and his liberty; and in being punishable himself for all violence committed against others—the slave is no less evidently regarded by the law as a member of the society, not as a part of the irrational creation; as a moral person, not as a mere article of property. The federal Constitution, therefore, decides with great propriety on the case of our slaves, when it views them in the mixed character of persons and of property. This is in fact their true character. It is the character bestowed on them by the laws under which they live; and it will not be denied, that these are the proper criterion; because it is only under the pretext that the laws have transformed the negroes into subjects of property, that a place is disputed them in the computation of numbers; and it is admitted, that if the laws were to restore the rights which have been taken away, the negroes could no longer be refused an equal share of representation with the other inhabitants.

&quot;This question may be placed in another light. It is agreed on all sides, that numbers are the best scale of wealth and taxation, as they are the only proper scale of representation. Would the convention have been impartial or consistent, if they had rejected the slaves from the list of inhabitants, when the shares of representation were to be calculated, and inserted them on the lists when the tariff of contributions was to be adjusted? Could it be reasonably expected, that the Southern States would concur in a system, which considered their slaves in some degree as men, when burdens were to be imposed, but refused to consider them in the same light, when advantages were to be conferred? Might not some surprise also be expressed, that those who reproach the Southern States with the barbarous policy of considering as property a part of their human brethren, should themselves contend, that the government to which all the States are to be parties, ought to consider this unfortunate race more completely in the unnatural light of property, than the very laws of which they complain?

&quot;It may be replied, perhaps, that slaves are not included in the estimate of representatives in any of the States possessing them. They neither vote themselves nor increase the votes of their masters. Upon what principle, then, ought they to be taken into the federal estimate of representation? In rejecting them altogether, the Constitution would, in this respect, have followed the very laws which have been appealed to as the proper guide.

&quot;This objection is repelled by a single observation. It is a fundamental principle of the proposed Constitution, that as the aggregate number of representatives allotted to the several States is to be determined by a federal rule, founded on the aggregate number of inhabitants, so the right of choosing this allotted number in each State is to be exercised by such part of the inhabitants as the State itself may designate. The qualifications on which the right of suffrage depend are not, perhaps, the same in any two States. In some of the States the difference is very material. In every State, a certain proportion of inhabitants are deprived of this right by the constitution of the State, who will be included in the census by which the federal Constitution apportions the representatives. In this point of view the Southern States might retort the complaint, by insisting that the principle laid down by the convention required that no regard should be had to the policy of particular States towards their own inhabitants; and consequently, that the slaves, as inhabitants, should have been admitted into the census according to their full number, in like manner with other inhabitants, who, by the policy of other States, are not admitted to all the rights of citizens. A rigorous adherence, however, to this principle, is waived by those who would be gainers by it. All that they ask is that equal moderation be shown on the other side. Let the case of the slaves be considered, as it is in truth, a peculiar one. Let the compromising expedient of the Constitution be mutually adopted, which regards them as inhabitants, but as debased by servitude below the equal level of free inhabitants, which regards the SLAVE as divested of two fifths of the MAN.

&quot;After all, may not another ground be taken on which this article of the Constitution will admit of a still more ready defense? We have hitherto proceeded on the idea that representation related to persons only, and not at all to property. But is it a just idea? Government is instituted no less for protection of the property, than of the persons, of individuals. The one as well as the other, therefore, may be considered as represented by those who are charged with the government. Upon this principle it is, that in several of the States, and particularly in the State of New York, one branch of the government is intended more especially to be the guardian of property, and is accordingly elected by that part of the society which is most interested in this object of government. In the federal Constitution, this policy does not prevail. The rights of property are committed into the same hands with the personal rights. Some attention ought, therefore, to be paid to property in the choice of those hands.

&quot;For another reason, the votes allowed in the federal legislature to the people of each State, ought to bear some proportion to the comparative wealth of the States. States have not, like individuals, an influence over each other, arising from superior advantages of fortune. If the law allows an opulent citizen but a single vote in the choice of his representative, the respect and consequence which he derives from his fortunate situation very frequently guide the votes of others to the objects of his choice; and through this imperceptible channel the rights of property are conveyed into the public representation. A State possesses no such influence over other States. It is not probable that the richest State in the Confederacy will ever influence the choice of a single representative in any other State. Nor will the representatives of the larger and richer States possess any other advantage in the federal legislature, over the representatives of other States, than what may result from their superior number alone. As far, therefore, as their superior wealth and weight may justly entitle them to any advantage, it ought to be secured to them by a superior share of representation. The new Constitution is, in this respect, materially different from the existing Confederation, as well as from that of the United Netherlands, and other similar confederacies. In each of the latter, the efficacy of the federal resolutions depends on the subsequent and voluntary resolutions of the states composing the union. Hence the states, though possessing an equal vote in the public councils, have an unequal influence, corresponding with the unequal importance of these subsequent and voluntary resolutions. Under the proposed Constitution, the federal acts will take effect without the necessary intervention of the individual States. They will depend merely on the majority of votes in the federal legislature, and consequently each vote, whether proceeding from a larger or smaller State, or a State more or less wealthy or powerful, will have an equal weight and efficacy: in the same manner as the votes individually given in a State legislature, by the representatives of unequal counties or other districts, have each a precise equality of value and effect; or if there be any difference in the case, it proceeds from the difference in the personal character of the individual representative, rather than from any regard to the extent of the district from which he comes.&quot;

Such is the reasoning which an advocate for the Southern interests might employ on this subject; and although it may appear to be a little strained in some points, yet, on the whole, I must confess that it fully reconciles me to the scale of representation which the convention have established.

In one respect, the establishment of a common measure for representation and taxation will have a very salutary effect. As the accuracy of the census to be obtained by the Congress will necessarily depend, in a considerable degree on the disposition, if not on the co-operation, of the States, it is of great importance that the States should feel as little bias as possible, to swell or to reduce the amount of their numbers. Were their share of representation alone to be governed by this rule, they would have an interest in exaggerating their inhabitants. Were the rule to decide their share of taxation alone, a contrary temptation would prevail. By extending the rule to both objects, the States will have opposite interests, which will control and balance each other, and produce the requisite impartiality.

PUBLIUS</pre>
</div>
<div created="20150327195434833" modified="20150327195503967" tags="Madison [[Independent Journal]]" title="No. 55. The Total Number of the House of Representatives">
<pre>''For the Independent Journal. Wednesday, February 13, 1788.''

MADISON

To the People of the State of New York:

THE number of which the House of Representatives is to consist, forms another and a very interesting point of view, under which this branch of the federal legislature may be contemplated. Scarce any article, indeed, in the whole Constitution seems to be rendered more worthy of attention, by the weight of character and the apparent force of argument with which it has been assailed. The charges exhibited against it are, first, that so small a number of representatives will be an unsafe depositary of the public interests; secondly, that they will not possess a proper knowledge of the local circumstances of their numerous constituents; thirdly, that they will be taken from that class of citizens which will sympathize least with the feelings of the mass of the people, and be most likely to aim at a permanent elevation of the few on the depression of the many; fourthly, that defective as the number will be in the first instance, it will be more and more disproportionate, by the increase of the people, and the obstacles which will prevent a correspondent increase of the representatives.

In general it may be remarked on this subject, that no political problem is less susceptible of a precise solution than that which relates to the number most convenient for a representative legislature; nor is there any point on which the policy of the several States is more at variance, whether we compare their legislative assemblies directly with each other, or consider the proportions which they respectively bear to the number of their constituents. Passing over the difference between the smallest and largest States, as Delaware, whose most numerous branch consists of twenty-one representatives, and Massachusetts, where it amounts to between three and four hundred, a very considerable difference is observable among States nearly equal in population. The number of representatives in Pennsylvania is not more than one fifth of that in the State last mentioned. New York, whose population is to that of South Carolina as six to five, has little more than one third of the number of representatives. As great a disparity prevails between the States of Georgia and Delaware or Rhode Island. In Pennsylvania, the representatives do not bear a greater proportion to their constituents than of one for every four or five thousand. In Rhode Island, they bear a proportion of at least one for every thousand. And according to the constitution of Georgia, the proportion may be carried to one to every ten electors; and must unavoidably far exceed the proportion in any of the other States.

Another general remark to be made is, that the ratio between the representatives and the people ought not to be the same where the latter are very numerous as where they are very few. Were the representatives in Virginia to be regulated by the standard in Rhode Island, they would, at this time, amount to between four and five hundred; and twenty or thirty years hence, to a thousand. On the other hand, the ratio of Pennsylvania, if applied to the State of Delaware, would reduce the representative assembly of the latter to seven or eight members. Nothing can be more fallacious than to found our political calculations on arithmetical principles. Sixty or seventy men may be more properly trusted with a given degree of power than six or seven. But it does not follow that six or seven hundred would be proportionably a better depositary. And if we carry on the supposition to six or seven thousand, the whole reasoning ought to be reversed. The truth is, that in all cases a certain number at least seems to be necessary to secure the benefits of free consultation and discussion, and to guard against too easy a combination for improper purposes; as, on the other hand, the number ought at most to be kept within a certain limit, in order to avoid the confusion and intemperance of a multitude. In all very numerous assemblies, of whatever character composed, passion never fails to wrest the sceptre from reason. Had every Athenian citizen been a Socrates, every Athenian assembly would still have been a mob.

It is necessary also to recollect here the observations which were applied to the case of biennial elections. For the same reason that the limited powers of the Congress, and the control of the State legislatures, justify less frequent elections than the public safely might otherwise require, the members of the Congress need be less numerous than if they possessed the whole power of legislation, and were under no other than the ordinary restraints of other legislative bodies.

With these general ideas in our mind, let us weigh the objections which have been stated against the number of members proposed for the House of Representatives. It is said, in the first place, that so small a number cannot be safely trusted with so much power.

The number of which this branch of the legislature is to consist, at the outset of the government, will be sixty-five. Within three years a census is to be taken, when the number may be augmented to one for every thirty thousand inhabitants; and within every successive period of ten years the census is to be renewed, and augmentations may continue to be made under the above limitation. It will not be thought an extravagant conjecture that the first census will, at the rate of one for every thirty thousand, raise the number of representatives to at least one hundred. Estimating the negroes in the proportion of three fifths, it can scarcely be doubted that the population of the United States will by that time, if it does not already, amount to three millions. At the expiration of twenty-five years, according to the computed rate of increase, the number of representatives will amount to two hundred, and of fifty years, to four hundred. This is a number which, I presume, will put an end to all fears arising from the smallness of the body. I take for granted here what I shall, in answering the fourth objection, hereafter show, that the number of representatives will be augmented from time to time in the manner provided by the Constitution. On a contrary supposition, I should admit the objection to have very great weight indeed.

The true question to be decided then is, whether the smallness of the number, as a temporary regulation, be dangerous to the public liberty? Whether sixty-five members for a few years, and a hundred or two hundred for a few more, be a safe depositary for a limited and well-guarded power of legislating for the United States? I must own that I could not give a negative answer to this question, without first obliterating every impression which I have received with regard to the present genius of the people of America, the spirit which actuates the State legislatures, and the principles which are incorporated with the political character of every class of citizens I am unable to conceive that the people of America, in their present temper, or under any circumstances which can speedily happen, will choose, and every second year repeat the choice of, sixty-five or a hundred men who would be disposed to form and pursue a scheme of tyranny or treachery. I am unable to conceive that the State legislatures, which must feel so many motives to watch, and which possess so many means of counteracting, the federal legislature, would fail either to detect or to defeat a conspiracy of the latter against the liberties of their common constituents. I am equally unable to conceive that there are at this time, or can be in any short time, in the United States, any sixty-five or a hundred men capable of recommending themselves to the choice of the people at large, who would either desire or dare, within the short space of two years, to betray the solemn trust committed to them. What change of circumstances, time, and a fuller population of our country may produce, requires a prophetic spirit to declare, which makes no part of my pretensions. But judging from the circumstances now before us, and from the probable state of them within a moderate period of time, I must pronounce that the liberties of America cannot be unsafe in the number of hands proposed by the federal Constitution.

From what quarter can the danger proceed? Are we afraid of foreign gold? If foreign gold could so easily corrupt our federal rulers and enable them to ensnare and betray their constituents, how has it happened that we are at this time a free and independent nation? The Congress which conducted us through the Revolution was a less numerous body than their successors will be; they were not chosen by, nor responsible to, their fellowcitizens at large; though appointed from year to year, and recallable at pleasure, they were generally continued for three years, and prior to the ratification of the federal articles, for a still longer term. They held their consultations always under the veil of secrecy; they had the sole transaction of our affairs with foreign nations; through the whole course of the war they had the fate of their country more in their hands than it is to be hoped will ever be the case with our future representatives; and from the greatness of the prize at stake, and the eagerness of the party which lost it, it may well be supposed that the use of other means than force would not have been scrupled. Yet we know by happy experience that the public trust was not betrayed; nor has the purity of our public councils in this particular ever suffered, even from the whispers of calumny.

Is the danger apprehended from the other branches of the federal government? But where are the means to be found by the President, or the Senate, or both? Their emoluments of office, it is to be presumed, will not, and without a previous corruption of the House of Representatives cannot, more than suffice for very different purposes; their private fortunes, as they must all be American citizens, cannot possibly be sources of danger. The only means, then, which they can possess, will be in the dispensation of appointments. Is it here that suspicion rests her charge? Sometimes we are told that this fund of corruption is to be exhausted by the President in subduing the virtue of the Senate. Now, the fidelity of the other House is to be the victim. The improbability of such a mercenary and perfidious combination of the several members of government, standing on as different foundations as republican principles will well admit, and at the same time accountable to the society over which they are placed, ought alone to quiet this apprehension. But, fortunately, the Constitution has provided a still further safeguard. The members of the Congress are rendered ineligible to any civil offices that may be created, or of which the emoluments may be increased, during the term of their election. No offices therefore can be dealt out to the existing members but such as may become vacant by ordinary casualties: and to suppose that these would be sufficient to purchase the guardians of the people, selected by the people themselves, is to renounce every rule by which events ought to be calculated, and to substitute an indiscriminate and unbounded jealousy, with which all reasoning must be vain. The sincere friends of liberty, who give themselves up to the extravagancies of this passion, are not aware of the injury they do their own cause. As there is a degree of depravity in mankind which requires a certain degree of circumspection and distrust, so there are other qualities in human nature which justify a certain portion of esteem and confidence. Republican government presupposes the existence of these qualities in a higher degree than any other form. Were the pictures which have been drawn by the political jealousy of some among us faithful likenesses of the human character, the inference would be, that there is not sufficient virtue among men for self-government; and that nothing less than the chains of despotism can restrain them from destroying and devouring one another.

PUBLIUS</pre>
</div>
<div created="20150327195603585" modified="20150327200040088" tags="" title="No. 56. The Same Subject Continued (The Total Number of the House of Representatives)">
<pre>''For the Independent Journal. Saturday, February 16, 1788.''

MADISON

To the People of the State of New York:

THE SECOND charge against the House of Representatives is, that it will be too small to possess a due knowledge of the interests of its constituents.

As this objection evidently proceeds from a comparison of the proposed number of representatives with the great extent of the United States, the number of their inhabitants, and the diversity of their interests, without taking into view at the same time the circumstances which will distinguish the Congress from other legislative bodies, the best answer that can be given to it will be a brief explanation of these peculiarities.

It is a sound and important principle that the representative ought to be acquainted with the interests and circumstances of his constituents. But this principle can extend no further than to those circumstances and interests to which the authority and care of the representative relate. An ignorance of a variety of minute and particular objects, which do not lie within the compass of legislation, is consistent with every attribute necessary to a due performance of the legislative trust. In determining the extent of information required in the exercise of a particular authority, recourse then must be had to the objects within the purview of that authority.

What are to be the objects of federal legislation? Those which are of most importance, and which seem most to require local knowledge, are commerce, taxation, and the militia.

A proper regulation of commerce requires much information, as has been elsewhere remarked; but as far as this information relates to the laws and local situation of each individual State, a very few representatives would be very sufficient vehicles of it to the federal councils.

Taxation will consist, in a great measure, of duties which will be involved in the regulation of commerce. So far the preceding remark is applicable to this object. As far as it may consist of internal collections, a more diffusive knowledge of the circumstances of the State may be necessary. But will not this also be possessed in sufficient degree by a very few intelligent men, diffusively elected within the State? Divide the largest State into ten or twelve districts, and it will be found that there will be no peculiar local interests in either, which will not be within the knowledge of the representative of the district. Besides this source of information, the laws of the State, framed by representatives from every part of it, will be almost of themselves a sufficient guide. In every State there have been made, and must continue to be made, regulations on this subject which will, in many cases, leave little more to be done by the federal legislature, than to review the different laws, and reduce them in one general act. A skillful individual in his closet with all the local codes before him, might compile a law on some subjects of taxation for the whole union, without any aid from oral information, and it may be expected that whenever internal taxes may be necessary, and particularly in cases requiring uniformity throughout the States, the more simple objects will be preferred. To be fully sensible of the facility which will be given to this branch of federal legislation by the assistance of the State codes, we need only suppose for a moment that this or any other State were divided into a number of parts, each having and exercising within itself a power of local legislation. Is it not evident that a degree of local information and preparatory labor would be found in the several volumes of their proceedings, which would very much shorten the labors of the general legislature, and render a much smaller number of members sufficient for it? The federal councils will derive great advantage from another circumstance. The representatives of each State will not only bring with them a considerable knowledge of its laws, and a local knowledge of their respective districts, but will probably in all cases have been members, and may even at the very time be members, of the State legislature, where all the local information and interests of the State are assembled, and from whence they may easily be conveyed by a very few hands into the legislature of the United States.

(The observations made on the subject of taxation apply with greater force to the case of the militia. For however different the rules of discipline may be in different States, they are the same throughout each particular State; and depend on circumstances which can differ but little in different parts of the same State.) &lt;span class=&quot;footnote&quot; title=&quot;Two versions of this paragraph appear in different editions.&quot;&gt;(E1)&lt;/span&gt;

(With regard to the regulation of the militia, there are scarcely any circumstances in reference to which local knowledge can be said to be necessary. The general face of the country, whether mountainous or level, most fit for the operations of infantry or cavalry, is almost the only consideration of this nature that can occur. The art of war teaches general principles of organization, movement, and discipline, which apply universally.) &lt;span class=&quot;footnote&quot; title=&quot;Two versions of this paragraph appear in different editions.&quot;&gt;(E1)&lt;/span&gt;

The attentive reader will discern that the reasoning here used, to prove the sufficiency of a moderate number of representatives, does not in any respect contradict what was urged on another occasion with regard to the extensive information which the representatives ought to possess, and the time that might be necessary for acquiring it. This information, so far as it may relate to local objects, is rendered necessary and difficult, not by a difference of laws and local circumstances within a single State, but of those among different States. Taking each State by itself, its laws are the same, and its interests but little diversified. A few men, therefore, will possess all the knowledge requisite for a proper representation of them. Were the interests and affairs of each individual State perfectly simple and uniform, a knowledge of them in one part would involve a knowledge of them in every other, and the whole State might be competently represented by a single member taken from any part of it. On a comparison of the different States together, we find a great dissimilarity in their laws, and in many other circumstances connected with the objects of federal legislation, with all of which the federal representatives ought to have some acquaintance. Whilst a few representatives, therefore, from each State, may bring with them a due knowledge of their own State, every representative will have much information to acquire concerning all the other States. The changes of time, as was formerly remarked, on the comparative situation of the different States, will have an assimilating effect. The effect of time on the internal affairs of the States, taken singly, will be just the contrary. At present some of the States are little more than a society of husbandmen. Few of them have made much progress in those branches of industry which give a variety and complexity to the affairs of a nation. These, however, will in all of them be the fruits of a more advanced population, and will require, on the part of each State, a fuller representation. The foresight of the convention has accordingly taken care that the progress of population may be accompanied with a proper increase of the representative branch of the government.

The experience of Great Britain, which presents to mankind so many political lessons, both of the monitory and exemplary kind, and which has been frequently consulted in the course of these inquiries, corroborates the result of the reflections which we have just made. The number of inhabitants in the two kingdoms of England and Scotland cannot be stated at less than eight millions. The representatives of these eight millions in the House of Commons amount to five hundred and fifty-eight. Of this number, one ninth are elected by three hundred and sixty-four persons, and one half, by five thousand seven hundred and twenty-three persons. &lt;span class=&quot;footnote&quot; title=&quot;Burgh's “Political Disquisitions.“&quot;&gt;(1)&lt;/span&gt; It cannot be supposed that the half thus elected, and who do not even reside among the people at large, can add any thing either to the security of the people against the government, or to the knowledge of their circumstances and interests in the legislative councils. On the contrary, it is notorious, that they are more frequently the representatives and instruments of the executive magistrate, than the guardians and advocates of the popular rights. They might therefore, with great propriety, be considered as something more than a mere deduction from the real representatives of the nation. We will, however, consider them in this light alone, and will not extend the deduction to a considerable number of others, who do not reside among their constitutents, are very faintly connected with them, and have very little particular knowledge of their affairs. With all these concessions, two hundred and seventy-nine persons only will be the depository of the safety, interest, and happiness of eight millions that is to say, there will be one representative only to maintain the rights and explain the situation of TWENTY-EIGHT THOUSAND SIX HUNDRED AND SEVENTY constitutents, in an assembly exposed to the whole force of executive influence, and extending its authority to every object of legislation within a nation whose affairs are in the highest degree diversified and complicated. Yet it is very certain, not only that a valuable portion of freedom has been preserved under all these circumstances, but that the defects in the British code are chargeable, in a very small proportion, on the ignorance of the legislature concerning the circumstances of the people. Allowing to this case the weight which is due to it, and comparing it with that of the House of Representatives as above explained it seems to give the fullest assurance, that a representative for every THIRTY THOUSAND INHABITANTS will render the latter both a safe and competent guardian of the interests which will be confided to it.

PUBLIUS

1. Burgh's &quot;Political Disquisitions.&quot;

E1. Two versions of this paragraph appear in different editions.
</pre>
</div>
<div created="20150327200238778" modified="20150327200311839" tags="Madison [[New York Packet]]" title="No. 57. The Alleged Tendency of the New Plan to Elevate the Few at the Expense of the Many Considered in Connection with Representation.">
<pre>''From the New York Packet. Tuesday, February 19, 1788.''

MADISON

To the People of the State of New York:

THE THIRD charge against the House of Representatives is, that it will be taken from that class of citizens which will have least sympathy with the mass of the people, and be most likely to aim at an ambitious sacrifice of the many to the aggrandizement of the few.

Of all the objections which have been framed against the federal Constitution, this is perhaps the most extraordinary. Whilst the objection itself is levelled against a pretended oligarchy, the principle of it strikes at the very root of republican government.

The aim of every political constitution is, or ought to be, first to obtain for rulers men who possess most wisdom to discern, and most virtue to pursue, the common good of the society; and in the next place, to take the most effectual precautions for keeping them virtuous whilst they continue to hold their public trust. The elective mode of obtaining rulers is the characteristic policy of republican government. The means relied on in this form of government for preventing their degeneracy are numerous and various. The most effectual one, is such a limitation of the term of appointments as will maintain a proper responsibility to the people.

Let me now ask what circumstance there is in the constitution of the House of Representatives that violates the principles of republican government, or favors the elevation of the few on the ruins of the many? Let me ask whether every circumstance is not, on the contrary, strictly conformable to these principles, and scrupulously impartial to the rights and pretensions of every class and description of citizens?

Who are to be the electors of the federal representatives? Not the rich, more than the poor; not the learned, more than the ignorant; not the haughty heirs of distinguished names, more than the humble sons of obscurity and unpropitious fortune. The electors are to be the great body of the people of the United States. They are to be the same who exercise the right in every State of electing the corresponding branch of the legislature of the State.

Who are to be the objects of popular choice? Every citizen whose merit may recommend him to the esteem and confidence of his country. No qualification of wealth, of birth, of religious faith, or of civil profession is permitted to fetter the judgement or disappoint the inclination of the people.

If we consider the situation of the men on whom the free suffrages of their fellow-citizens may confer the representative trust, we shall find it involving every security which can be devised or desired for their fidelity to their constituents.

In the first place, as they will have been distinguished by the preference of their fellow-citizens, we are to presume that in general they will be somewhat distinguished also by those qualities which entitle them to it, and which promise a sincere and scrupulous regard to the nature of their engagements.

In the second place, they will enter into the public service under circumstances which cannot fail to produce a temporary affection at least to their constituents. There is in every breast a sensibility to marks of honor, of favor, of esteem, and of confidence, which, apart from all considerations of interest, is some pledge for grateful and benevolent returns. Ingratitude is a common topic of declamation against human nature; and it must be confessed that instances of it are but too frequent and flagrant, both in public and in private life. But the universal and extreme indignation which it inspires is itself a proof of the energy and prevalence of the contrary sentiment.

In the third place, those ties which bind the representative to his constituents are strengthened by motives of a more selfish nature. His pride and vanity attach him to a form of government which favors his pretensions and gives him a share in its honors and distinctions. Whatever hopes or projects might be entertained by a few aspiring characters, it must generally happen that a great proportion of the men deriving their advancement from their influence with the people, would have more to hope from a preservation of the favor, than from innovations in the government subversive of the authority of the people.

All these securities, however, would be found very insufficient without the restraint of frequent elections. Hence, in the fourth place, the House of Representatives is so constituted as to support in the members an habitual recollection of their dependence on the people. Before the sentiments impressed on their minds by the mode of their elevation can be effaced by the exercise of power, they will be compelled to anticipate the moment when their power is to cease, when their exercise of it is to be reviewed, and when they must descend to the level from which they were raised; there forever to remain unless a faithful discharge of their trust shall have established their title to a renewal of it.

I will add, as a fifth circumstance in the situation of the House of Representatives, restraining them from oppressive measures, that they can make no law which will not have its full operation on themselves and their friends, as well as on the great mass of the society. This has always been deemed one of the strongest bonds by which human policy can connect the rulers and the people together. It creates between them that communion of interests and sympathy of sentiments, of which few governments have furnished examples; but without which every government degenerates into tyranny. If it be asked, what is to restrain the House of Representatives from making legal discriminations in favor of themselves and a particular class of the society? I answer: the genius of the whole system; the nature of just and constitutional laws; and above all, the vigilant and manly spirit which actuates the people of America—a spirit which nourishes freedom, and in return is nourished by it.

If this spirit shall ever be so far debased as to tolerate a law not obligatory on the legislature, as well as on the people, the people will be prepared to tolerate any thing but liberty.

Such will be the relation between the House of Representatives and their constituents. Duty, gratitude, interest, ambition itself, are the chords by which they will be bound to fidelity and sympathy with the great mass of the people. It is possible that these may all be insufficient to control the caprice and wickedness of man. But are they not all that government will admit, and that human prudence can devise? Are they not the genuine and the characteristic means by which republican government provides for the liberty and happiness of the people? Are they not the identical means on which every State government in the Union relies for the attainment of these important ends? What then are we to understand by the objection which this paper has combated? What are we to say to the men who profess the most flaming zeal for republican government, yet boldly impeach the fundamental principle of it; who pretend to be champions for the right and the capacity of the people to choose their own rulers, yet maintain that they will prefer those only who will immediately and infallibly betray the trust committed to them?

Were the objection to be read by one who had not seen the mode prescribed by the Constitution for the choice of representatives, he could suppose nothing less than that some unreasonable qualification of property was annexed to the right of suffrage; or that the right of eligibility was limited to persons of particular families or fortunes; or at least that the mode prescribed by the State constitutions was in some respect or other, very grossly departed from. We have seen how far such a supposition would err, as to the two first points. Nor would it, in fact, be less erroneous as to the last. The only difference discoverable between the two cases is, that each representative of the United States will be elected by five or six thousand citizens; whilst in the individual States, the election of a representative is left to about as many hundreds. Will it be pretended that this difference is sufficient to justify an attachment to the State governments, and an abhorrence to the federal government? If this be the point on which the objection turns, it deserves to be examined.

Is it supported by REASON? This cannot be said, without maintaining that five or six thousand citizens are less capable of choosing a fit representative, or more liable to be corrupted by an unfit one, than five or six hundred. Reason, on the contrary, assures us, that as in so great a number a fit representative would be most likely to be found, so the choice would be less likely to be diverted from him by the intrigues of the ambitious or the ambitious or the bribes of the rich.

Is the CONSEQUENCE from this doctrine admissible? If we say that five or six hundred citizens are as many as can jointly exercise their right of suffrage, must we not deprive the people of the immediate choice of their public servants, in every instance where the administration of the government does not require as many of them as will amount to one for that number of citizens?

Is the doctrine warranted by FACTS? It was shown in the last paper, that the real representation in the British House of Commons very little exceeds the proportion of one for every thirty thousand inhabitants. Besides a variety of powerful causes not existing here, and which favor in that country the pretensions of rank and wealth, no person is eligible as a representative of a county, unless he possess real estate of the clear value of six hundred pounds sterling per year; nor of a city or borough, unless he possess a like estate of half that annual value. To this qualification on the part of the county representatives is added another on the part of the county electors, which restrains the right of suffrage to persons having a freehold estate of the annual value of more than twenty pounds sterling, according to the present rate of money. Notwithstanding these unfavorable circumstances, and notwithstanding some very unequal laws in the British code, it cannot be said that the representatives of the nation have elevated the few on the ruins of the many.

But we need not resort to foreign experience on this subject. Our own is explicit and decisive. The districts in New Hampshire in which the senators are chosen immediately by the people, are nearly as large as will be necessary for her representatives in the Congress. Those of Massachusetts are larger than will be necessary for that purpose; and those of New York still more so. In the last State the members of Assembly for the cities and counties of New York and Albany are elected by very nearly as many voters as will be entitled to a representative in the Congress, calculating on the number of sixty-five representatives only. It makes no difference that in these senatorial districts and counties a number of representatives are voted for by each elector at the same time. If the same electors at the same time are capable of choosing four or five representatives, they cannot be incapable of choosing one. Pennsylvania is an additional example. Some of her counties, which elect her State representatives, are almost as large as her districts will be by which her federal representatives will be elected. The city of Philadelphia is supposed to contain between fifty and sixty thousand souls. It will therefore form nearly two districts for the choice of federal representatives. It forms, however, but one county, in which every elector votes for each of its representatives in the State legislature. And what may appear to be still more directly to our purpose, the whole city actually elects a SINGLE MEMBER for the executive council. This is the case in all the other counties of the State.

Are not these facts the most satisfactory proofs of the fallacy which has been employed against the branch of the federal government under consideration? Has it appeared on trial that the senators of New Hampshire, Massachusetts, and New York, or the executive council of Pennsylvania, or the members of the Assembly in the two last States, have betrayed any peculiar disposition to sacrifice the many to the few, or are in any respect less worthy of their places than the representatives and magistrates appointed in other States by very small divisions of the people?

But there are cases of a stronger complexion than any which I have yet quoted. One branch of the legislature of Connecticut is so constituted that each member of it is elected by the whole State. So is the governor of that State, of Massachusetts, and of this State, and the president of New Hampshire. I leave every man to decide whether the result of any one of these experiments can be said to countenance a suspicion, that a diffusive mode of choosing representatives of the people tends to elevate traitors and to undermine the public liberty.

PUBLIUS</pre>
</div>
<div created="20150327200437106" modified="20150327200536303" tags="Madison [[Independent Journal]]" title="No. 58. Objection That The Number of Members Will Not Be Augmented as the Progress of Population Demands.">
<pre>''Considered For the Independent Journal Wednesday, February 20, 1788.''

MADISON

To the People of the State of New York:

THE remaining charge against the House of Representatives, which I am to examine, is grounded on a supposition that the number of members will not be augmented from time to time, as the progress of population may demand.

It has been admitted, that this objection, if well supported, would have great weight. The following observations will show that, like most other objections against the Constitution, it can only proceed from a partial view of the subject, or from a jealousy which discolors and disfigures every object which is beheld.

1. Those who urge the objection seem not to have recollected that the federal Constitution will not suffer by a comparison with the State constitutions, in the security provided for a gradual augmentation of the number of representatives. The number which is to prevail in the first instance is declared to be temporary. Its duration is limited to the short term of three years.

Within every successive term of ten years a census of inhabitants is to be repeated. The unequivocal objects of these regulations are, first, to readjust, from time to time, the apportionment of representatives to the number of inhabitants, under the single exception that each State shall have one representative at least; secondly, to augment the number of representatives at the same periods, under the sole limitation that the whole number shall not exceed one for every thirty thousand inhabitants. If we review the constitutions of the several States, we shall find that some of them contain no determinate regulations on this subject, that others correspond pretty much on this point with the federal Constitution, and that the most effectual security in any of them is resolvable into a mere directory provision.

2. As far as experience has taken place on this subject, a gradual increase of representatives under the State constitutions has at least kept pace with that of the constituents, and it appears that the former have been as ready to concur in such measures as the latter have been to call for them.

3. There is a peculiarity in the federal Constitution which insures a watchful attention in a majority both of the people and of their representatives to a constitutional augmentation of the latter. The peculiarity lies in this, that one branch of the legislature is a representation of citizens, the other of the States: in the former, consequently, the larger States will have most weight; in the latter, the advantage will be in favor of the smaller States. From this circumstance it may with certainty be inferred that the larger States will be strenuous advocates for increasing the number and weight of that part of the legislature in which their influence predominates. And it so happens that four only of the largest will have a majority of the whole votes in the House of Representatives. Should the representatives or people, therefore, of the smaller States oppose at any time a reasonable addition of members, a coalition of a very few States will be sufficient to overrule the opposition; a coalition which, notwithstanding the rivalship and local prejudices which might prevent it on ordinary occasions, would not fail to take place, when not merely prompted by common interest, but justified by equity and the principles of the Constitution.

It may be alleged, perhaps, that the Senate would be prompted by like motives to an adverse coalition; and as their concurrence would be indispensable, the just and constitutional views of the other branch might be defeated. This is the difficulty which has probably created the most serious apprehensions in the jealous friends of a numerous representation. Fortunately it is among the difficulties which, existing only in appearance, vanish on a close and accurate inspection. The following reflections will, if I mistake not, be admitted to be conclusive and satisfactory on this point.

Notwithstanding the equal authority which will subsist between the two houses on all legislative subjects, except the originating of money bills, it cannot be doubted that the House, composed of the greater number of members, when supported by the more powerful States, and speaking the known and determined sense of a majority of the people, will have no small advantage in a question depending on the comparative firmness of the two houses.

This advantage must be increased by the consciousness, felt by the same side of being supported in its demands by right, by reason, and by the Constitution; and the consciousness, on the opposite side, of contending against the force of all these solemn considerations.

It is farther to be considered, that in the gradation between the smallest and largest States, there are several, which, though most likely in general to arrange themselves among the former are too little removed in extent and population from the latter, to second an opposition to their just and legitimate pretensions. Hence it is by no means certain that a majority of votes, even in the Senate, would be unfriendly to proper augmentations in the number of representatives.

It will not be looking too far to add, that the senators from all the new States may be gained over to the just views of the House of Representatives, by an expedient too obvious to be overlooked. As these States will, for a great length of time, advance in population with peculiar rapidity, they will be interested in frequent reapportionments of the representatives to the number of inhabitants. The large States, therefore, who will prevail in the House of Representatives, will have nothing to do but to make reapportionments and augmentations mutually conditions of each other; and the senators from all the most growing States will be bound to contend for the latter, by the interest which their States will feel in the former.

These considerations seem to afford ample security on this subject, and ought alone to satisfy all the doubts and fears which have been indulged with regard to it. Admitting, however, that they should all be insufficient to subdue the unjust policy of the smaller States, or their predominant influence in the councils of the Senate, a constitutional and infallible resource still remains with the larger States, by which they will be able at all times to accomplish their just purposes. The House of Representatives cannot only refuse, but they alone can propose, the supplies requisite for the support of government. They, in a word, hold the purse—that powerful instrument by which we behold, in the history of the British Constitution, an infant and humble representation of the people gradually enlarging the sphere of its activity and importance, and finally reducing, as far as it seems to have wished, all the overgrown prerogatives of the other branches of the government. This power over the purse may, in fact, be regarded as the most complete and effectual weapon with which any constitution can arm the immediate representatives of the people, for obtaining a redress of every grievance, and for carrying into effect every just and salutary measure.

But will not the House of Representatives be as much interested as the Senate in maintaining the government in its proper functions, and will they not therefore be unwilling to stake its existence or its reputation on the pliancy of the Senate? Or, if such a trial of firmness between the two branches were hazarded, would not the one be as likely first to yield as the other? These questions will create no difficulty with those who reflect that in all cases the smaller the number, and the more permanent and conspicuous the station, of men in power, the stronger must be the interest which they will individually feel in whatever concerns the government. Those who represent the dignity of their country in the eyes of other nations, will be particularly sensible to every prospect of public danger, or of dishonorable stagnation in public affairs. To those causes we are to ascribe the continual triumph of the British House of Commons over the other branches of the government, whenever the engine of a money bill has been employed. An absolute inflexibility on the side of the latter, although it could not have failed to involve every department of the state in the general confusion, has neither been apprehended nor experienced. The utmost degree of firmness that can be displayed by the federal Senate or President, will not be more than equal to a resistance in which they will be supported by constitutional and patriotic principles.

In this review of the Constitution of the House of Representatives, I have passed over the circumstances of economy, which, in the present state of affairs, might have had some effect in lessening the temporary number of representatives, and a disregard of which would probably have been as rich a theme of declamation against the Constitution as has been shown by the smallness of the number proposed. I omit also any remarks on the difficulty which might be found, under present circumstances, in engaging in the federal service a large number of such characters as the people will probably elect. One observation, however, I must be permitted to add on this subject as claiming, in my judgment, a very serious attention. It is, that in all legislative assemblies the greater the number composing them may be, the fewer will be the men who will in fact direct their proceedings. In the first place, the more numerous an assembly may be, of whatever characters composed, the greater is known to be the ascendency of passion over reason. In the next place, the larger the number, the greater will be the proportion of members of limited information and of weak capacities. Now, it is precisely on characters of this description that the eloquence and address of the few are known to act with all their force. In the ancient republics, where the whole body of the people assembled in person, a single orator, or an artful statesman, was generally seen to rule with as complete a sway as if a sceptre had been placed in his single hand. On the same principle, the more multitudinous a representative assembly may be rendered, the more it will partake of the infirmities incident to collective meetings of the people. Ignorance will be the dupe of cunning, and passion the slave of sophistry and declamation. The people can never err more than in supposing that by multiplying their representatives beyond a certain limit, they strengthen the barrier against the government of a few. Experience will forever admonish them that, on the contrary, AFTER SECURING A SUFFICIENT NUMBER FOR THE PURPOSES OF SAFETY, OF LOCAL INFORMATION, AND OF DIFFUSIVE SYMPATHY WITH THE WHOLE SOCIETY, they will counteract their own views by every addition to their representatives. The countenance of the government may become more democratic, but the soul that animates it will be more oligarchic. The machine will be enlarged, but the fewer, and often the more secret, will be the springs by which its motions are directed.

As connected with the objection against the number of representatives, may properly be here noticed, that which has been suggested against the number made competent for legislative business. It has been said that more than a majority ought to have been required for a quorum; and in particular cases, if not in all, more than a majority of a quorum for a decision. That some advantages might have resulted from such a precaution, cannot be denied. It might have been an additional shield to some particular interests, and another obstacle generally to hasty and partial measures. But these considerations are outweighed by the inconveniences in the opposite scale. In all cases where justice or the general good might require new laws to be passed, or active measures to be pursued, the fundamental principle of free government would be reversed. It would be no longer the majority that would rule: the power would be transferred to the minority. Were the defensive privilege limited to particular cases, an interested minority might take advantage of it to screen themselves from equitable sacrifices to the general weal, or, in particular emergencies, to extort unreasonable indulgences. Lastly, it would facilitate and foster the baneful practice of secessions; a practice which has shown itself even in States where a majority only is required; a practice subversive of all the principles of order and regular government; a practice which leads more directly to public convulsions, and the ruin of popular governments, than any other which has yet been displayed among us.

PUBLIUS</pre>
</div>
<div created="20150327200627665" modified="20150327201034783" tags="Hamilton [[New York Packet]]" title="No. 59. Concerning the Power of Congress to Regulate the Election of Members">
<pre>''From the New York Packet. Friday, February 22, 1788.''

HAMILTON

To the People of the State of New York:

THE natural order of the subject leads us to consider, in this place, that provision of the Constitution which authorizes the national legislature to regulate, in the last resort, the election of its own members. It is in these words: &quot;The TIMES, PLACES, and MANNER of holding elections for senators and representatives shall be prescribed in each State by the legislature thereof; but the Congress may, at any time, by law, make or alter SUCH REGULATIONS, except as to the PLACES of choosing senators.&quot; &lt;span class=&quot;footnote&quot; title=&quot;1st clause, 4th section, of the 1st article.&quot;&gt;(1)&lt;/span&gt; This provision has not only been declaimed against by those who condemn the Constitution in the gross, but it has been censured by those who have objected with less latitude and greater moderation; and, in one instance it has been thought exceptionable by a gentleman who has declared himself the advocate of every other part of the system.

I am greatly mistaken, notwithstanding, if there be any article in the whole plan more completely defensible than this. Its propriety rests upon the evidence of this plain proposition, that EVERY GOVERNMENT OUGHT TO CONTAIN IN ITSELF THE MEANS OF ITS OWN PRESERVATION. Every just reasoner will, at first sight, approve an adherence to this rule, in the work of the convention; and will disapprove every deviation from it which may not appear to have been dictated by the necessity of incorporating into the work some particular ingredient, with which a rigid conformity to the rule was incompatible. Even in this case, though he may acquiesce in the necessity, yet he will not cease to regard and to regret a departure from so fundamental a principle, as a portion of imperfection in the system which may prove the seed of future weakness, and perhaps anarchy.

It will not be alleged, that an election law could have been framed and inserted in the Constitution, which would have been always applicable to every probable change in the situation of the country; and it will therefore not be denied, that a discretionary power over elections ought to exist somewhere. It will, I presume, be as readily conceded, that there were only three ways in which this power could have been reasonably modified and disposed: that it must either have been lodged wholly in the national legislature, or wholly in the State legislatures, or primarily in the latter and ultimately in the former. The last mode has, with reason, been preferred by the convention. They have submitted the regulation of elections for the federal government, in the first instance, to the local administrations; which, in ordinary cases, and when no improper views prevail, may be both more convenient and more satisfactory; but they have reserved to the national authority a right to interpose, whenever extraordinary circumstances might render that interposition necessary to its safety.

Nothing can be more evident, than that an exclusive power of regulating elections for the national government, in the hands of the State legislatures, would leave the existence of the Union entirely at their mercy. They could at any moment annihilate it, by neglecting to provide for the choice of persons to administer its affairs. It is to little purpose to say, that a neglect or omission of this kind would not be likely to take place. The constitutional possibility of the thing, without an equivalent for the risk, is an unanswerable objection. Nor has any satisfactory reason been yet assigned for incurring that risk. The extravagant surmises of a distempered jealousy can never be dignified with that character. If we are in a humor to presume abuses of power, it is as fair to presume them on the part of the State governments as on the part of the general government. And as it is more consonant to the rules of a just theory, to trust the Union with the care of its own existence, than to transfer that care to any other hands, if abuses of power are to be hazarded on the one side or on the other, it is more rational to hazard them where the power would naturally be placed, than where it would unnaturally be placed.

Suppose an article had been introduced into the Constitution, empowering the United States to regulate the elections for the particular States, would any man have hesitated to condemn it, both as an unwarrantable transposition of power, and as a premeditated engine for the destruction of the State governments? The violation of principle, in this case, would have required no comment; and, to an unbiased observer, it will not be less apparent in the project of subjecting the existence of the national government, in a similar respect, to the pleasure of the State governments. An impartial view of the matter cannot fail to result in a conviction, that each, as far as possible, ought to depend on itself for its own preservation.

As an objection to this position, it may be remarked that the constitution of the national Senate would involve, in its full extent, the danger which it is suggested might flow from an exclusive power in the State legislatures to regulate the federal elections. It may be alleged, that by declining the appointment of Senators, they might at any time give a fatal blow to the Union; and from this it may be inferred, that as its existence would be thus rendered dependent upon them in so essential a point, there can be no objection to intrusting them with it in the particular case under consideration. The interest of each State, it may be added, to maintain its representation in the national councils, would be a complete security against an abuse of the trust.

This argument, though specious, will not, upon examination, be found solid. It is certainly true that the State legislatures, by forbearing the appointment of senators, may destroy the national government. But it will not follow that, because they have a power to do this in one instance, they ought to have it in every other. There are cases in which the pernicious tendency of such a power may be far more decisive, without any motive equally cogent with that which must have regulated the conduct of the convention in respect to the formation of the Senate, to recommend their admission into the system. So far as that construction may expose the Union to the possibility of injury from the State legislatures, it is an evil; but it is an evil which could not have been avoided without excluding the States, in their political capacities, wholly from a place in the organization of the national government. If this had been done, it would doubtless have been interpreted into an entire dereliction of the federal principle; and would certainly have deprived the State governments of that absolute safeguard which they will enjoy under this provision. But however wise it may have been to have submitted in this instance to an inconvenience, for the attainment of a necessary advantage or a greater good, no inference can be drawn from thence to favor an accumulation of the evil, where no necessity urges, nor any greater good invites.

It may be easily discerned also that the national government would run a much greater risk from a power in the State legislatures over the elections of its House of Representatives, than from their power of appointing the members of its Senate. The senators are to be chosen for the period of six years; there is to be a rotation, by which the seats of a third part of them are to be vacated and replenished every two years; and no State is to be entitled to more than two senators; a quorum of the body is to consist of sixteen members. The joint result of these circumstances would be, that a temporary combination of a few States to intermit the appointment of senators, could neither annul the existence nor impair the activity of the body; and it is not from a general and permanent combination of the States that we can have any thing to fear. The first might proceed from sinister designs in the leading members of a few of the State legislatures; the last would suppose a fixed and rooted disaffection in the great body of the people, which will either never exist at all, or will, in all probability, proceed from an experience of the inaptitude of the general government to the advancement of their happiness in which event no good citizen could desire its continuance.

But with regard to the federal House of Representatives, there is intended to be a general election of members once in two years. If the State legislatures were to be invested with an exclusive power of regulating these elections, every period of making them would be a delicate crisis in the national situation, which might issue in a dissolution of the Union, if the leaders of a few of the most important States should have entered into a previous conspiracy to prevent an election.

I shall not deny, that there is a degree of weight in the observation, that the interests of each State, to be represented in the federal councils, will be a security against the abuse of a power over its elections in the hands of the State legislatures. But the security will not be considered as complete, by those who attend to the force of an obvious distinction between the interest of the people in the public felicity, and the interest of their local rulers in the power and consequence of their offices. The people of America may be warmly attached to the government of the Union, at times when the particular rulers of particular States, stimulated by the natural rivalship of power, and by the hopes of personal aggrandizement, and supported by a strong faction in each of those States, may be in a very opposite temper. This diversity of sentiment between a majority of the people, and the individuals who have the greatest credit in their councils, is exemplified in some of the States at the present moment, on the present question. The scheme of separate confederacies, which will always multiply the chances of ambition, will be a never failing bait to all such influential characters in the State administrations as are capable of preferring their own emolument and advancement to the public weal. With so effectual a weapon in their hands as the exclusive power of regulating elections for the national government, a combination of a few such men, in a few of the most considerable States, where the temptation will always be the strongest, might accomplish the destruction of the Union, by seizing the opportunity of some casual dissatisfaction among the people (and which perhaps they may themselves have excited), to discontinue the choice of members for the federal House of Representatives. It ought never to be forgotten, that a firm union of this country, under an efficient government, will probably be an increasing object of jealousy to more than one nation of Europe; and that enterprises to subvert it will sometimes originate in the intrigues of foreign powers, and will seldom fail to be patronized and abetted by some of them. Its preservation, therefore ought in no case that can be avoided, to be committed to the guardianship of any but those whose situation will uniformly beget an immediate interest in the faithful and vigilant performance of the trust.

PUBLIUS

''Footnote''

1. 1st clause, 4th section, of the 1st article.
</pre>
</div>
<div created="20150327163946735" modified="20150327175906425" tags="Hamilton [[Independent Journal]]" title="No. 6. Concerning Dangers from Dissensions Between the States">
<pre>''For the Independent Journal. Wednesday, November 14, 1787''

HAMILTON

To the People of the State of New York:

THE three last numbers of this paper have been dedicated to an enumeration of the dangers to which we should be exposed, in a state of disunion, from the arms and arts of foreign nations. I shall now proceed to delineate dangers of a different and, perhaps, still more alarming kind—those which will in all probability flow from dissensions between the States themselves, and from domestic factions and convulsions. These have been already in some instances slightly anticipated; but they deserve a more particular and more full investigation.

A man must be far gone in Utopian speculations who can seriously doubt that, if these States should either be wholly disunited, or only united in partial confederacies, the subdivisions into which they might be thrown would have frequent and violent contests with each other. To presume a want of motives for such contests as an argument against their existence, would be to forget that men are ambitious, vindictive, and rapacious. To look for a continuation of harmony between a number of independent, unconnected sovereignties in the same neighborhood, would be to disregard the uniform course of human events, and to set at defiance the accumulated experience of ages.

The causes of hostility among nations are innumerable. There are some which have a general and almost constant operation upon the collective bodies of society. Of this description are the love of power or the desire of pre-eminence and dominion—the jealousy of power, or the desire of equality and safety. There are others which have a more circumscribed though an equally operative influence within their spheres. Such are the rivalships and competitions of commerce between commercial nations. And there are others, not less numerous than either of the former, which take their origin entirely in private passions; in the attachments, enmities, interests, hopes, and fears of leading individuals in the communities of which they are members. Men of this class, whether the favorites of a king or of a people, have in too many instances abused the confidence they possessed; and assuming the pretext of some public motive, have not scrupled to sacrifice the national tranquillity to personal advantage or personal gratification.

The celebrated Pericles, in compliance with the resentment of a prostitute, &lt;span class=&quot;footnote&quot;  title=&quot;Aspasia, vide “Plutarch’s Life of Pericles.“&quot;&gt;(1)&lt;/span&gt; at the expense of much of the blood and treasure of his countrymen, attacked, vanquished, and destroyed the city of the SAMMIANS. The same man, stimulated by private pique against the MEGARENSIANS, &lt;span class=&quot;footnote&quot;  title=&quot;Aspasia, vide “Plutarch’s Life of Pericles.“&quot;&gt;(2)&lt;/span&gt; another nation of Greece, or to avoid a prosecution with which he was threatened as an accomplice of a supposed theft of the statuary Phidias, &lt;span class=&quot;footnote&quot;  title=&quot;Aspasia, vide “Plutarch’s Life of Pericles.“&quot;&gt;(3)&lt;/span&gt; or to get rid of the accusations prepared to be brought against him for dissipating the funds of the state in the purchase of popularity, &lt;span class=&quot;footnote&quot;  title=&quot;Aspasia, vide “Plutarch’s Life of Pericles.“ Phidias was supposed to have stolen some public gold, with the connivance of Pericles, for the embellishment of the statue of Minerva.&quot;&gt;(4)&lt;/span&gt; or from a combination of all these causes, was the primitive author of that famous and fatal war, distinguished in the Grecian annals by the name of the PELOPONNESIAN war; which, after various vicissitudes, intermissions, and renewals, terminated in the ruin of the Athenian commonwealth.

The ambitious cardinal, who was prime minister to Henry VIII., permitting his vanity to aspire to the triple crown, &lt;span class=&quot;footnote&quot; title=&quot;Worn by the popes.&quot;&gt;(5)&lt;/span&gt; entertained hopes of succeeding in the acquisition of that splendid prize by the influence of the Emperor Charles V. To secure the favor and interest of this enterprising and powerful monarch, he precipitated England into a war with France, contrary to the plainest dictates of policy, and at the hazard of the safety and independence, as well of the kingdom over which he presided by his counsels, as of Europe in general. For if there ever was a sovereign who bid fair to realize the project of universal monarchy, it was the Emperor Charles V., of whose intrigues Wolsey was at once the instrument and the dupe.

The influence which the bigotry of one female, &lt;span class=&quot;footnote&quot; title=&quot;Madame de Maintenon.&quot;&gt;(6)&lt;/span&gt; the petulance of another, &lt;span class=&quot;footnote&quot; title=&quot;Duchess of Marlborough.&quot;&gt;(7)&lt;/span&gt; and the cabals of a third, &lt;span class=&quot;footnote&quot; title=&quot;Madame de Pompadour.&quot;&gt;(8)&lt;/span&gt; had in the contemporary policy, ferments, and pacifications, of a considerable part of Europe, are topics that have been too often descanted upon not to be generally known.

To multiply examples of the agency of personal considerations in the production of great national events, either foreign or domestic, according to their direction, would be an unnecessary waste of time. Those who have but a superficial acquaintance with the sources from which they are to be drawn, will themselves recollect a variety of instances; and those who have a tolerable knowledge of human nature will not stand in need of such lights to form their opinion either of the reality or extent of that agency. Perhaps, however, a reference, tending to illustrate the general principle, may with propriety be made to a case which has lately happened among ourselves. If Shays had not been a DESPERATE DEBTOR, it is much to be doubted whether Massachusetts would have been plunged into a civil war.

But notwithstanding the concurring testimony of experience, in this particular, there are still to be found visionary or designing men, who stand ready to advocate the paradox of perpetual peace between the States, though dismembered and alienated from each other. The genius of republics (say they) is pacific; the spirit of commerce has a tendency to soften the manners of men, and to extinguish those inflammable humors which have so often kindled into wars. Commercial republics, like ours, will never be disposed to waste themselves in ruinous contentions with each other. They will be governed by mutual interest, and will cultivate a spirit of mutual amity and concord.

Is it not (we may ask these projectors in politics) the true interest of all nations to cultivate the same benevolent and philosophic spirit? If this be their true interest, have they in fact pursued it? Has it not, on the contrary, invariably been found that momentary passions, and immediate interest, have a more active and imperious control over human conduct than general or remote considerations of policy, utility or justice? Have republics in practice been less addicted to war than monarchies? Are not the former administered by MEN as well as the latter? Are there not aversions, predilections, rivalships, and desires of unjust acquisitions, that affect nations as well as kings? Are not popular assemblies frequently subject to the impulses of rage, resentment, jealousy, avarice, and of other irregular and violent propensities? Is it not well known that their determinations are often governed by a few individuals in whom they place confidence, and are, of course, liable to be tinctured by the passions and views of those individuals? Has commerce hitherto done anything more than change the objects of war? Is not the love of wealth as domineering and enterprising a passion as that of power or glory? Have there not been as many wars founded upon commercial motives since that has become the prevailing system of nations, as were before occasioned by the cupidity of territory or dominion? Has not the spirit of commerce, in many instances, administered new incentives to the appetite, both for the one and for the other? Let experience, the least fallible guide of human opinions, be appealed to for an answer to these inquiries.

Sparta, Athens, Rome, and Carthage were all republics; two of them, Athens and Carthage, of the commercial kind. Yet were they as often engaged in wars, offensive and defensive, as the neighboring monarchies of the same times. Sparta was little better than a wellregulated camp; and Rome was never sated of carnage and conquest.

Carthage, though a commercial republic, was the aggressor in the very war that ended in her destruction. Hannibal had carried her arms into the heart of Italy and to the gates of Rome, before Scipio, in turn, gave him an overthrow in the territories of Carthage, and made a conquest of the commonwealth.

Venice, in later times, figured more than once in wars of ambition, till, becoming an object to the other Italian states, Pope Julius II. found means to accomplish that formidable league, &lt;span class=&quot;footnote&quot; title=&quot;The League of Cambray, comprehending the Emperor, the King of France, the King of Aragon, and most of the Italian princes and states.&quot;&gt;(9)&lt;/span&gt; which gave a deadly blow to the power and pride of this haughty republic.

The provinces of Holland, till they were overwhelmed in debts and taxes, took a leading and conspicuous part in the wars of Europe. They had furious contests with England for the dominion of the sea, and were among the most persevering and most implacable of the opponents of Louis XIV.

In the government of Britain the representatives of the people compose one branch of the national legislature. Commerce has been for ages the predominant pursuit of that country. Few nations, nevertheless, have been more frequently engaged in war; and the wars in which that kingdom has been engaged have, in numerous instances, proceeded from the people.

There have been, if I may so express it, almost as many popular as royal wars. The cries of the nation and the importunities of their representatives have, upon various occasions, dragged their monarchs into war, or continued them in it, contrary to their inclinations, and sometimes contrary to the real interests of the State. In that memorable struggle for superiority between the rival houses of AUSTRIA and BOURBON, which so long kept Europe in a flame, it is well known that the antipathies of the English against the French, seconding the ambition, or rather the avarice, of a favorite leader, &lt;span class=&quot;footnote&quot; title=&quot;The Duke of Marlborough.&quot;&gt;(10)&lt;/span&gt; protracted the war beyond the limits marked out by sound policy, and for a considerable time in opposition to the views of the court.

The wars of these two last-mentioned nations have in a great measure grown out of commercial considerations,—the desire of supplanting and the fear of being supplanted, either in particular branches of traffic or in the general advantages of trade and navigation, and sometimes even the more culpable desire of sharing in the commerce of other nations without their consent.

The last war but between Britain and Spain sprang from the attempts of the British merchants to prosecute an illicit trade with the Spanish main. These unjustifiable practices on their part produced severity on the part of the Spaniards toward the subjects of Great Britain which were not more justifiable, because they exceeded the bounds of a just retaliation and were chargeable with inhumanity and cruelty. Many of the English who were taken on the Spanish coast were sent to dig in the mines of Potosi; and by the usual progress of a spirit of resentment, the innocent were, after a while, confounded with the guilty in indiscriminate punishment. The complaints of the merchants kindled a violent flame throughout the nation, which soon after broke out in the House of Commons, and was communicated from that body to the ministry. Letters of reprisal were granted, and a war ensued, which in its consequences overthrew all the alliances that but twenty years before had been formed with sanguine expectations of the most beneficial fruits.

From this summary of what has taken place in other countries, whose situations have borne the nearest resemblance to our own, what reason can we have to confide in those reveries which would seduce us into an expectation of peace and cordiality between the members of the present confederacy, in a state of separation? Have we not already seen enough of the fallacy and extravagance of those idle theories which have amused us with promises of an exemption from the imperfections, weaknesses and evils incident to society in every shape? Is it not time to awake from the deceitful dream of a golden age, and to adopt as a practical maxim for the direction of our political conduct that we, as well as the other inhabitants of the globe, are yet remote from the happy empire of perfect wisdom and perfect virtue?

Let the point of extreme depression to which our national dignity and credit have sunk, let the inconveniences felt everywhere from a lax and ill administration of government, let the revolt of a part of the State of North Carolina, the late menacing disturbances in Pennsylvania, and the actual insurrections and rebellions in Massachusetts, declare—!

So far is the general sense of mankind from corresponding with the tenets of those who endeavor to lull asleep our apprehensions of discord and hostility between the States, in the event of disunion, that it has from long observation of the progress of society become a sort of axiom in politics, that vicinity or nearness of situation, constitutes nations natural enemies. An intelligent writer expresses himself on this subject to this effect: &quot;NEIGHBORING NATIONS (says he) are naturally enemies of each other unless their common weakness forces them to league in a CONFEDERATE REPUBLIC, and their constitution prevents the differences that neighborhood occasions, extinguishing that secret jealousy which disposes all states to aggrandize themselves at the expense of their neighbors.&quot; &lt;span class=&quot;footnote&quot; title=&quot;Vide “Principes des Negociations“ par l’Abbé de Mably.&quot;&gt;(11)&lt;/span&gt; This passage, at the same time, points out the EVIL and suggests the REMEDY.

PUBLIUS

''Footnotes''

1. Aspasia, vide &quot;Plutarch's Life of Pericles.&quot;

2. Ibid.

3. Ibid.

4. Ibid. Phidias was supposed to have stolen some public gold, with the connivance of Pericles, for the embellishment of the statue of Minerva.

5. Worn by the popes.

6. Madame de Maintenon.

7. Duchess of Marlborough.

8. Madame de Pompadour.

9. The League of Cambray, comprehending the Emperor, the King of France, the King of Aragon, and most of the Italian princes and states.

10. The Duke of Marlborough.

11. Vide &quot;Principes des Negociations&quot; par l'Abbé de Mably.</pre>
</div>
<div created="20150327200956172" modified="20150327201152903" tags="Hamilton [[Independent Journal]]" title="No. 60. The Same Subject Continued (Concerning the Power of Congress to Regulate the Election of Members)">
<pre>''From The Independent Journal. Saturday, February 23, 1788.''

HAMILTON

To the People of the State of New York:

WE HAVE seen, that an uncontrollable power over the elections to the federal government could not, without hazard, be committed to the State legislatures. Let us now see, what would be the danger on the other side; that is, from confiding the ultimate right of regulating its own elections to the Union itself. It is not pretended, that this right would ever be used for the exclusion of any State from its share in the representation. The interest of all would, in this respect at least, be the security of all. But it is alleged, that it might be employed in such a manner as to promote the election of some favorite class of men in exclusion of others, by confining the places of election to particular districts, and rendering it impracticable to the citizens at large to partake in the choice. Of all chimerical suppositions, this seems to be the most chimerical. On the one hand, no rational calculation of probabilities would lead us to imagine that the disposition which a conduct so violent and extraordinary would imply, could ever find its way into the national councils; and on the other, it may be concluded with certainty, that if so improper a spirit should ever gain admittance into them, it would display itself in a form altogether different and far more decisive.

The improbability of the attempt may be satisfactorily inferred from this single reflection, that it could never be made without causing an immediate revolt of the great body of the people, headed and directed by the State governments. It is not difficult to conceive that this characteristic right of freedom may, in certain turbulent and factious seasons, be violated, in respect to a particular class of citizens, by a victorious and overbearing majority; but that so fundamental a privilege, in a country so situated and enlightened, should be invaded to the prejudice of the great mass of the people, by the deliberate policy of the government, without occasioning a popular revolution, is altogether inconceivable and incredible.

In addition to this general reflection, there are considerations of a more precise nature, which forbid all apprehension on the subject. The dissimilarity in the ingredients which will compose the national government, and still more in the manner in which they will be brought into action in its various branches, must form a powerful obstacle to a concert of views in any partial scheme of elections. There is sufficient diversity in the state of property, in the genius, manners, and habits of the people of the different parts of the Union, to occasion a material diversity of disposition in their representatives towards the different ranks and conditions in society. And though an intimate intercourse under the same government will promote a gradual assimilation in some of these respects, yet there are causes, as well physical as moral, which may, in a greater or less degree, permanently nourish different propensities and inclinations in this respect. But the circumstance which will be likely to have the greatest influence in the matter, will be the dissimilar modes of constituting the several component parts of the government. The House of Representatives being to be elected immediately by the people, the Senate by the State legislatures, the President by electors chosen for that purpose by the people, there would be little probability of a common interest to cement these different branches in a predilection for any particular class of electors.

As to the Senate, it is impossible that any regulation of &quot;time and manner,&quot; which is all that is proposed to be submitted to the national government in respect to that body, can affect the spirit which will direct the choice of its members. The collective sense of the State legislatures can never be influenced by extraneous circumstances of that sort; a consideration which alone ought to satisfy us that the discrimination apprehended would never be attempted. For what inducement could the Senate have to concur in a preference in which itself would not be included? Or to what purpose would it be established, in reference to one branch of the legislature, if it could not be extended to the other? The composition of the one would in this case counteract that of the other. And we can never suppose that it would embrace the appointments to the Senate, unless we can at the same time suppose the voluntary co-operation of the State legislatures. If we make the latter supposition, it then becomes immaterial where the power in question is placed—whether in their hands or in those of the Union.

But what is to be the object of this capricious partiality in the national councils? Is it to be exercised in a discrimination between the different departments of industry, or between the different kinds of property, or between the different degrees of property? Will it lean in favor of the landed interest, or the moneyed interest, or the mercantile interest, or the manufacturing interest? Or, to speak in the fashionable language of the adversaries to the Constitution, will it court the elevation of &quot;the wealthy and the well-born,&quot; to the exclusion and debasement of all the rest of the society?

If this partiality is to be exerted in favor of those who are concerned in any particular description of industry or property, I presume it will readily be admitted, that the competition for it will lie between landed men and merchants. And I scruple not to affirm, that it is infinitely less likely that either of them should gain an ascendant in the national councils, than that the one or the other of them should predominate in all the local councils. The inference will be, that a conduct tending to give an undue preference to either is much less to be dreaded from the former than from the latter.

The several States are in various degrees addicted to agriculture and commerce. In most, if not all of them, agriculture is predominant. In a few of them, however, commerce nearly divides its empire, and in most of them has a considerable share of influence. In proportion as either prevails, it will be conveyed into the national representation; and for the very reason, that this will be an emanation from a greater variety of interests, and in much more various proportions, than are to be found in any single State, it will be much less apt to espouse either of them with a decided partiality, than the representation of any single State.

In a country consisting chiefly of the cultivators of land, where the rules of an equal representation obtain, the landed interest must, upon the whole, preponderate in the government. As long as this interest prevails in most of the State legislatures, so long it must maintain a correspondent superiority in the national Senate, which will generally be a faithful copy of the majorities of those assemblies. It cannot therefore be presumed, that a sacrifice of the landed to the mercantile class will ever be a favorite object of this branch of the federal legislature. In applying thus particularly to the Senate a general observation suggested by the situation of the country, I am governed by the consideration, that the credulous votaries of State power cannot, upon their own principles, suspect, that the State legislatures would be warped from their duty by any external influence. But in reality the same situation must have the same effect, in the primitive composition at least of the federal House of Representatives: an improper bias towards the mercantile class is as little to be expected from this quarter as from the other.

In order, perhaps, to give countenance to the objection at any rate, it may be asked, is there not danger of an opposite bias in the national government, which may dispose it to endeavor to secure a monopoly of the federal administration to the landed class? As there is little likelihood that the supposition of such a bias will have any terrors for those who would be immediately injured by it, a labored answer to this question will be dispensed with. It will be sufficient to remark, first, that for the reasons elsewhere assigned, it is less likely that any decided partiality should prevail in the councils of the Union than in those of any of its members. Secondly, that there would be no temptation to violate the Constitution in favor of the landed class, because that class would, in the natural course of things, enjoy as great a preponderancy as itself could desire. And thirdly, that men accustomed to investigate the sources of public prosperity upon a large scale, must be too well convinced of the utility of commerce, to be inclined to inflict upon it so deep a wound as would result from the entire exclusion of those who would best understand its interest from a share in the management of them. The importance of commerce, in the view of revenue alone, must effectually guard it against the enmity of a body which would be continually importuned in its favor, by the urgent calls of public necessity.

I the rather consult brevity in discussing the probability of a preference founded upon a discrimination between the different kinds of industry and property, because, as far as I understand the meaning of the objectors, they contemplate a discrimination of another kind. They appear to have in view, as the objects of the preference with which they endeavor to alarm us, those whom they designate by the description of &quot;the wealthy and the well-born.&quot; These, it seems, are to be exalted to an odious pre-eminence over the rest of their fellow-citizens. At one time, however, their elevation is to be a necessary consequence of the smallness of the representative body; at another time it is to be effected by depriving the people at large of the opportunity of exercising their right of suffrage in the choice of that body.

But upon what principle is the discrimination of the places of election to be made, in order to answer the purpose of the meditated preference? Are &quot;the wealthy and the well-born,&quot; as they are called, confined to particular spots in the several States? Have they, by some miraculous instinct or foresight, set apart in each of them a common place of residence? Are they only to be met with in the towns or cities? Or are they, on the contrary, scattered over the face of the country as avarice or chance may have happened to cast their own lot or that of their predecessors? If the latter is the case, (as every intelligent man knows it to be, &lt;span class=&quot;footnote&quot; title=&quot;Particularly in the Southern States and in this State.&quot;&gt;(1)&lt;/span&gt;) is it not evident that the policy of confining the places of election to particular districts would be as subversive of its own aim as it would be exceptionable on every other account? The truth is, that there is no method of securing to the rich the preference apprehended, but by prescribing qualifications of property either for those who may elect or be elected. But this forms no part of the power to be conferred upon the national government. Its authority would be expressly restricted to the regulation of the TIMES, the PLACES, the MANNER of elections. The qualifications of the persons who may choose or be chosen, as has been remarked upon other occasions, are defined and fixed in the Constitution, and are unalterable by the legislature.

Let it, however, be admitted, for argument sake, that the expedient suggested might be successful; and let it at the same time be equally taken for granted that all the scruples which a sense of duty or an apprehension of the danger of the experiment might inspire, were overcome in the breasts of the national rulers, still I imagine it will hardly be pretended that they could ever hope to carry such an enterprise into execution without the aid of a military force sufficient to subdue the resistance of the great body of the people. The improbability of the existence of a force equal to that object has been discussed and demonstrated in different parts of these papers; but that the futility of the objection under consideration may appear in the strongest light, it shall be conceded for a moment that such a force might exist, and the national government shall be supposed to be in the actual possession of it. What will be the conclusion? With a disposition to invade the essential rights of the community, and with the means of gratifying that disposition, is it presumable that the persons who were actuated by it would amuse themselves in the ridiculous task of fabricating election laws for securing a preference to a favorite class of men? Would they not be likely to prefer a conduct better adapted to their own immediate aggrandizement? Would they not rather boldly resolve to perpetuate themselves in office by one decisive act of usurpation, than to trust to precarious expedients which, in spite of all the precautions that might accompany them, might terminate in the dismission, disgrace, and ruin of their authors? Would they not fear that citizens, not less tenacious than conscious of their rights, would flock from the remote extremes of their respective States to the places of election, to overthrow their tyrants, and to substitute men who would be disposed to avenge the violated majesty of the people?

PUBLIUS

''Footnote''

1. Particularly in the Southern States and in this State.
</pre>
</div>
<div created="20150327201239569" modified="20150327201312991" tags="Hamilton [[New York Packet]]" title="No. 61. The Same Subject Continued (Concerning the Power of Congress to Regulate the Election of Members)">
<pre>''From the New York Packet. Tuesday, February 26, 1788.''

HAMILTON

To the People of the State of New York:

THE more candid opposers of the provision respecting elections, contained in the plan of the convention, when pressed in argument, will sometimes concede the propriety of that provision; with this qualification, however, that it ought to have been accompanied with a declaration, that all elections should be had in the counties where the electors resided. This, say they, was a necessary precaution against an abuse of the power. A declaration of this nature would certainly have been harmless; so far as it would have had the effect of quieting apprehensions, it might not have been undesirable. But it would, in fact, have afforded little or no additional security against the danger apprehended; and the want of it will never be considered, by an impartial and judicious examiner, as a serious, still less as an insuperable, objection to the plan. The different views taken of the subject in the two preceding papers must be sufficient to satisfy all dispassionate and discerning men, that if the public liberty should ever be the victim of the ambition of the national rulers, the power under examination, at least, will be guiltless of the sacrifice.

If those who are inclined to consult their jealousy only, would exercise it in a careful inspection of the several State constitutions, they would find little less room for disquietude and alarm, from the latitude which most of them allow in respect to elections, than from the latitude which is proposed to be allowed to the national government in the same respect. A review of their situation, in this particular, would tend greatly to remove any ill impressions which may remain in regard to this matter. But as that view would lead into long and tedious details, I shall content myself with the single example of the State in which I write. The constitution of New York makes no other provision for LOCALITY of elections, than that the members of the Assembly shall be elected in the COUNTIES; those of the Senate, in the great districts into which the State is or may be divided: these at present are four in number, and comprehend each from two to six counties. It may readily be perceived that it would not be more difficult to the legislature of New York to defeat the suffrages of the citizens of New York, by confining elections to particular places, than for the legislature of the United States to defeat the suffrages of the citizens of the Union, by the like expedient. Suppose, for instance, the city of Albany was to be appointed the sole place of election for the county and district of which it is a part, would not the inhabitants of that city speedily become the only electors of the members both of the Senate and Assembly for that county and district? Can we imagine that the electors who reside in the remote subdivisions of the counties of Albany, Saratoga, Cambridge, etc., or in any part of the county of Montgomery, would take the trouble to come to the city of Albany, to give their votes for members of the Assembly or Senate, sooner than they would repair to the city of New York, to participate in the choice of the members of the federal House of Representatives? The alarming indifference discoverable in the exercise of so invaluable a privilege under the existing laws, which afford every facility to it, furnishes a ready answer to this question. And, abstracted from any experience on the subject, we can be at no loss to determine, that when the place of election is at an INCONVENIENT DISTANCE from the elector, the effect upon his conduct will be the same whether that distance be twenty miles or twenty thousand miles. Hence it must appear, that objections to the particular modification of the federal power of regulating elections will, in substance, apply with equal force to the modification of the like power in the constitution of this State; and for this reason it will be impossible to acquit the one, and to condemn the other. A similar comparison would lead to the same conclusion in respect to the constitutions of most of the other States.

If it should be said that defects in the State constitutions furnish no apology for those which are to be found in the plan proposed, I answer, that as the former have never been thought chargeable with inattention to the security of liberty, where the imputations thrown on the latter can be shown to be applicable to them also, the presumption is that they are rather the cavilling refinements of a predetermined opposition, than the well-founded inferences of a candid research after truth. To those who are disposed to consider, as innocent omissions in the State constitutions, what they regard as unpardonable blemishes in the plan of the convention, nothing can be said; or at most, they can only be asked to assign some substantial reason why the representatives of the people in a single State should be more impregnable to the lust of power, or other sinister motives, than the representatives of the people of the United States? If they cannot do this, they ought at least to prove to us that it is easier to subvert the liberties of three millions of people, with the advantage of local governments to head their opposition, than of two hundred thousand people who are destitute of that advantage. And in relation to the point immediately under consideration, they ought to convince us that it is less probable that a predominant faction in a single State should, in order to maintain its superiority, incline to a preference of a particular class of electors, than that a similar spirit should take possession of the representatives of thirteen States, spread over a vast region, and in several respects distinguishable from each other by a diversity of local circumstances, prejudices, and interests.

Hitherto my observations have only aimed at a vindication of the provision in question, on the ground of theoretic propriety, on that of the danger of placing the power elsewhere, and on that of the safety of placing it in the manner proposed. But there remains to be mentioned a positive advantage which will result from this disposition, and which could not as well have been obtained from any other: I allude to the circumstance of uniformity in the time of elections for the federal House of Representatives. It is more than possible that this uniformity may be found by experience to be of great importance to the public welfare, both as a security against the perpetuation of the same spirit in the body, and as a cure for the diseases of faction. If each State may choose its own time of election, it is possible there may be at least as many different periods as there are months in the year. The times of election in the several States, as they are now established for local purposes, vary between extremes as wide as March and November. The consequence of this diversity would be that there could never happen a total dissolution or renovation of the body at one time. If an improper spirit of any kind should happen to prevail in it, that spirit would be apt to infuse itself into the new members, as they come forward in succession. The mass would be likely to remain nearly the same, assimilating constantly to itself its gradual accretions. There is a contagion in example which few men have sufficient force of mind to resist. I am inclined to think that treble the duration in office, with the condition of a total dissolution of the body at the same time, might be less formidable to liberty than one third of that duration subject to gradual and successive alterations.

Uniformity in the time of elections seems not less requisite for executing the idea of a regular rotation in the Senate, and for conveniently assembling the legislature at a stated period in each year.

It may be asked, Why, then, could not a time have been fixed in the Constitution? As the most zealous adversaries of the plan of the convention in this State are, in general, not less zealous admirers of the constitution of the State, the question may be retorted, and it may be asked, Why was not a time for the like purpose fixed in the constitution of this State? No better answer can be given than that it was a matter which might safely be entrusted to legislative discretion; and that if a time had been appointed, it might, upon experiment, have been found less convenient than some other time. The same answer may be given to the question put on the other side. And it may be added that the supposed danger of a gradual change being merely speculative, it would have been hardly advisable upon that speculation to establish, as a fundamental point, what would deprive several States of the convenience of having the elections for their own governments and for the national government at the same epochs.

PUBLIUS</pre>
</div>
<div created="20150327201416993" modified="20150327201523224" tags="Madison [[Independent Journal]]" title="No. 62. The Senate">
<pre>''For the Independent Journal. Wednesday, February 27, 1788''

MADISON

To the People of the State of New York:

HAVING examined the constitution of the House of Representatives, and answered such of the objections against it as seemed to merit notice, I enter next on the examination of the Senate. The heads into which this member of the government may be considered are: I. The qualification of senators; II. The appointment of them by the State legislatures; III. The equality of representation in the Senate; IV. The number of senators, and the term for which they are to be elected; V. The powers vested in the Senate.

I. The qualifications proposed for senators, as distinguished from those of representatives, consist in a more advanced age and a longer period of citizenship. A senator must be thirty years of age at least; as a representative must be twenty-five. And the former must have been a citizen nine years; as seven years are required for the latter. The propriety of these distinctions is explained by the nature of the senatorial trust, which, requiring greater extent of information and stability of character, requires at the same time that the senator should have reached a period of life most likely to supply these advantages; and which, participating immediately in transactions with foreign nations, ought to be exercised by none who are not thoroughly weaned from the prepossessions and habits incident to foreign birth and education. The term of nine years appears to be a prudent mediocrity between a total exclusion of adopted citizens, whose merits and talents may claim a share in the public confidence, and an indiscriminate and hasty admission of them, which might create a channel for foreign influence on the national councils.

II. It is equally unnecessary to dilate on the appointment of senators by the State legislatures. Among the various modes which might have been devised for constituting this branch of the government, that which has been proposed by the convention is probably the most congenial with the public opinion. It is recommended by the double advantage of favoring a select appointment, and of giving to the State governments such an agency in the formation of the federal government as must secure the authority of the former, and may form a convenient link between the two systems.

III. The equality of representation in the Senate is another point, which, being evidently the result of compromise between the opposite pretensions of the large and the small States, does not call for much discussion. If indeed it be right, that among a people thoroughly incorporated into one nation, every district ought to have a PROPORTIONAL share in the government, and that among independent and sovereign States, bound together by a simple league, the parties, however unequal in size, ought to have an EQUAL share in the common councils, it does not appear to be without some reason that in a compound republic, partaking both of the national and federal character, the government ought to be founded on a mixture of the principles of proportional and equal representation. But it is superfluous to try, by the standard of theory, a part of the Constitution which is allowed on all hands to be the result, not of theory, but &quot;of a spirit of amity, and that mutual deference and concession which the peculiarity of our political situation rendered indispensable.&quot; A common government, with powers equal to its objects, is called for by the voice, and still more loudly by the political situation, of America. A government founded on principles more consonant to the wishes of the larger States, is not likely to be obtained from the smaller States. The only option, then, for the former, lies between the proposed government and a government still more objectionable. Under this alternative, the advice of prudence must be to embrace the lesser evil; and, instead of indulging a fruitless anticipation of the possible mischiefs which may ensue, to contemplate rather the advantageous consequences which may qualify the sacrifice.

In this spirit it may be remarked, that the equal vote allowed to each State is at once a constitutional recognition of the portion of sovereignty remaining in the individual States, and an instrument for preserving that residuary sovereignty. So far the equality ought to be no less acceptable to the large than to the small States; since they are not less solicitous to guard, by every possible expedient, against an improper consolidation of the States into one simple republic.

Another advantage accruing from this ingredient in the constitution of the Senate is, the additional impediment it must prove against improper acts of legislation. No law or resolution can now be passed without the concurrence, first, of a majority of the people, and then, of a majority of the States. It must be acknowledged that this complicated check on legislation may in some instances be injurious as well as beneficial; and that the peculiar defense which it involves in favor of the smaller States, would be more rational, if any interests common to them, and distinct from those of the other States, would otherwise be exposed to peculiar danger. But as the larger States will always be able, by their power over the supplies, to defeat unreasonable exertions of this prerogative of the lesser States, and as the faculty and excess of law-making seem to be the diseases to which our governments are most liable, it is not impossible that this part of the Constitution may be more convenient in practice than it appears to many in contemplation.

IV. The number of senators, and the duration of their appointment, come next to be considered. In order to form an accurate judgment on both of these points, it will be proper to inquire into the purposes which are to be answered by a senate; and in order to ascertain these, it will be necessary to review the inconveniences which a republic must suffer from the want of such an institution.

First. It is a misfortune incident to republican government, though in a less degree than to other governments, that those who administer it may forget their obligations to their constituents, and prove unfaithful to their important trust. In this point of view, a senate, as a second branch of the legislative assembly, distinct from, and dividing the power with, a first, must be in all cases a salutary check on the government. It doubles the security to the people, by requiring the concurrence of two distinct bodies in schemes of usurpation or perfidy, where the ambition or corruption of one would otherwise be sufficient. This is a precaution founded on such clear principles, and now so well understood in the United States, that it would be more than superfluous to enlarge on it. I will barely remark, that as the improbability of sinister combinations will be in proportion to the dissimilarity in the genius of the two bodies, it must be politic to distinguish them from each other by every circumstance which will consist with a due harmony in all proper measures, and with the genuine principles of republican government.

Second. The necessity of a senate is not less indicated by the propensity of all single and numerous assemblies to yield to the impulse of sudden and violent passions, and to be seduced by factious leaders into intemperate and pernicious resolutions. Examples on this subject might be cited without number; and from proceedings within the United States, as well as from the history of other nations. But a position that will not be contradicted, need not be proved. All that need be remarked is, that a body which is to correct this infirmity ought itself to be free from it, and consequently ought to be less numerous. It ought, moreover, to possess great firmness, and consequently ought to hold its authority by a tenure of considerable duration.

Third. Another defect to be supplied by a senate lies in a want of due acquaintance with the objects and principles of legislation. It is not possible that an assembly of men called for the most part from pursuits of a private nature, continued in appointment for a short time, and led by no permanent motive to devote the intervals of public occupation to a study of the laws, the affairs, and the comprehensive interests of their country, should, if left wholly to themselves, escape a variety of important errors in the exercise of their legislative trust. It may be affirmed, on the best grounds, that no small share of the present embarrassments of America is to be charged on the blunders of our governments; and that these have proceeded from the heads rather than the hearts of most of the authors of them. What indeed are all the repealing, explaining, and amending laws, which fill and disgrace our voluminous codes, but so many monuments of deficient wisdom; so many impeachments exhibited by each succeeding against each preceding session; so many admonitions to the people, of the value of those aids which may be expected from a well-constituted senate?

A good government implies two things: first, fidelity to the object of government, which is the happiness of the people; secondly, a knowledge of the means by which that object can be best attained. Some governments are deficient in both these qualities; most governments are deficient in the first. I scruple not to assert, that in American governments too little attention has been paid to the last. The federal Constitution avoids this error; and what merits particular notice, it provides for the last in a mode which increases the security for the first.

Fourth. The mutability in the public councils arising from a rapid succession of new members, however qualified they may be, points out, in the strongest manner, the necessity of some stable institution in the government. Every new election in the States is found to change one half of the representatives. From this change of men must proceed a change of opinions; and from a change of opinions, a change of measures. But a continual change even of good measures is inconsistent with every rule of prudence and every prospect of success. The remark is verified in private life, and becomes more just, as well as more important, in national transactions.

To trace the mischievous effects of a mutable government would fill a volume. I will hint a few only, each of which will be perceived to be a source of innumerable others.

In the first place, it forfeits the respect and confidence of other nations, and all the advantages connected with national character. An individual who is observed to be inconstant to his plans, or perhaps to carry on his affairs without any plan at all, is marked at once, by all prudent people, as a speedy victim to his own unsteadiness and folly. His more friendly neighbors may pity him, but all will decline to connect their fortunes with his; and not a few will seize the opportunity of making their fortunes out of his. One nation is to another what one individual is to another; with this melancholy distinction perhaps, that the former, with fewer of the benevolent emotions than the latter, are under fewer restraints also from taking undue advantage from the indiscretions of each other. Every nation, consequently, whose affairs betray a want of wisdom and stability, may calculate on every loss which can be sustained from the more systematic policy of their wiser neighbors. But the best instruction on this subject is unhappily conveyed to America by the example of her own situation. She finds that she is held in no respect by her friends; that she is the derision of her enemies; and that she is a prey to every nation which has an interest in speculating on her fluctuating councils and embarrassed affairs.

The internal effects of a mutable policy are still more calamitous. It poisons the blessing of liberty itself. It will be of little avail to the people, that the laws are made by men of their own choice, if the laws be so voluminous that they cannot be read, or so incoherent that they cannot be understood; if they be repealed or revised before they are promulgated, or undergo such incessant changes that no man, who knows what the law is to-day, can guess what it will be to-morrow. Law is defined to be a rule of action; but how can that be a rule, which is little known, and less fixed?

Another effect of public instability is the unreasonable advantage it gives to the sagacious, the enterprising, and the moneyed few over the industrious and uninformed mass of the people. Every new regulation concerning commerce or revenue, or in any way affecting the value of the different species of property, presents a new harvest to those who watch the change, and can trace its consequences; a harvest, reared not by themselves, but by the toils and cares of the great body of their fellow-citizens. This is a state of things in which it may be said with some truth that laws are made for the FEW, not for the MANY.

In another point of view, great injury results from an unstable government. The want of confidence in the public councils damps every useful undertaking, the success and profit of which may depend on a continuance of existing arrangements. What prudent merchant will hazard his fortunes in any new branch of commerce when he knows not but that his plans may be rendered unlawful before they can be executed? What farmer or manufacturer will lay himself out for the encouragement given to any particular cultivation or establishment, when he can have no assurance that his preparatory labors and advances will not render him a victim to an inconstant government? In a word, no great improvement or laudable enterprise can go forward which requires the auspices of a steady system of national policy.

But the most deplorable effect of all is that diminution of attachment and reverence which steals into the hearts of the people, towards a political system which betrays so many marks of infirmity, and disappoints so many of their flattering hopes. No government, any more than an individual, will long be respected without being truly respectable; nor be truly respectable, without possessing a certain portion of order and stability.

PUBLIUS</pre>
</div>
<div created="20150327201557681" modified="20150327201643264" tags="Madison [[Independent Journal]]" title="No. 63. The Senate Continued">
<pre>''For the Independent Journal. Saturday, March 1, 1788''

MADISON

To the People of the State of New York:

A FIFTH desideratum, illustrating the utility of a senate, is the want of a due sense of national character. Without a select and stable member of the government, the esteem of foreign powers will not only be forfeited by an unenlightened and variable policy, proceeding from the causes already mentioned, but the national councils will not possess that sensibility to the opinion of the world, which is perhaps not less necessary in order to merit, than it is to obtain, its respect and confidence.

An attention to the judgment of other nations is important to every government for two reasons: the one is, that, independently of the merits of any particular plan or measure, it is desirable, on various accounts, that it should appear to other nations as the offspring of a wise and honorable policy; the second is, that in doubtful cases, particularly where the national councils may be warped by some strong passion or momentary interest, the presumed or known opinion of the impartial world may be the best guide that can be followed. What has not America lost by her want of character with foreign nations; and how many errors and follies would she not have avoided, if the justice and propriety of her measures had, in every instance, been previously tried by the light in which they would probably appear to the unbiased part of mankind?

Yet however requisite a sense of national character may be, it is evident that it can never be sufficiently possessed by a numerous and changeable body. It can only be found in a number so small that a sensible degree of the praise and blame of public measures may be the portion of each individual; or in an assembly so durably invested with public trust, that the pride and consequence of its members may be sensibly incorporated with the reputation and prosperity of the community. The half-yearly representatives of Rhode Island would probably have been little affected in their deliberations on the iniquitous measures of that State, by arguments drawn from the light in which such measures would be viewed by foreign nations, or even by the sister States; whilst it can scarcely be doubted that if the concurrence of a select and stable body had been necessary, a regard to national character alone would have prevented the calamities under which that misguided people is now laboring.

I add, as a SIXTH defect the want, in some important cases, of a due responsibility in the government to the people, arising from that frequency of elections which in other cases produces this responsibility. This remark will, perhaps, appear not only new, but paradoxical. It must nevertheless be acknowledged, when explained, to be as undeniable as it is important.

Responsibility, in order to be reasonable, must be limited to objects within the power of the responsible party, and in order to be effectual, must relate to operations of that power, of which a ready and proper judgment can be formed by the constituents. The objects of government may be divided into two general classes: the one depending on measures which have singly an immediate and sensible operation; the other depending on a succession of well-chosen and well-connected measures, which have a gradual and perhaps unobserved operation. The importance of the latter description to the collective and permanent welfare of every country, needs no explanation. And yet it is evident that an assembly elected for so short a term as to be unable to provide more than one or two links in a chain of measures, on which the general welfare may essentially depend, ought not to be answerable for the final result, any more than a steward or tenant, engaged for one year, could be justly made to answer for places or improvements which could not be accomplished in less than half a dozen years. Nor is it possible for the people to estimate the SHARE of influence which their annual assemblies may respectively have on events resulting from the mixed transactions of several years. It is sufficiently difficult to preserve a personal responsibility in the members of a NUMEROUS body, for such acts of the body as have an immediate, detached, and palpable operation on its constituents.

The proper remedy for this defect must be an additional body in the legislative department, which, having sufficient permanency to provide for such objects as require a continued attention, and a train of measures, may be justly and effectually answerable for the attainment of those objects.

Thus far I have considered the circumstances which point out the necessity of a well-constructed Senate only as they relate to the representatives of the people. To a people as little blinded by prejudice or corrupted by flattery as those whom I address, I shall not scruple to add, that such an institution may be sometimes necessary as a defense to the people against their own temporary errors and delusions. As the cool and deliberate sense of the community ought, in all governments, and actually will, in all free governments, ultimately prevail over the views of its rulers; so there are particular moments in public affairs when the people, stimulated by some irregular passion, or some illicit advantage, or misled by the artful misrepresentations of interested men, may call for measures which they themselves will afterwards be the most ready to lament and condemn. In these critical moments, how salutary will be the interference of some temperate and respectable body of citizens, in order to check the misguided career, and to suspend the blow meditated by the people against themselves, until reason, justice, and truth can regain their authority over the public mind? What bitter anguish would not the people of Athens have often escaped if their government had contained so provident a safeguard against the tyranny of their own passions? Popular liberty might then have escaped the indelible reproach of decreeing to the same citizens the hemlock on one day and statues on the next.

It may be suggested, that a people spread over an extensive region cannot, like the crowded inhabitants of a small district, be subject to the infection of violent passions, or to the danger of combining in pursuit of unjust measures. I am far from denying that this is a distinction of peculiar importance. I have, on the contrary, endeavored in a former paper to show, that it is one of the principal recommendations of a confederated republic. At the same time, this advantage ought not to be considered as superseding the use of auxiliary precautions. It may even be remarked, that the same extended situation, which will exempt the people of America from some of the dangers incident to lesser republics, will expose them to the inconveniency of remaining for a longer time under the influence of those misrepresentations which the combined industry of interested men may succeed in distributing among them.

It adds no small weight to all these considerations, to recollect that history informs us of no long-lived republic which had not a senate. Sparta, Rome, and Carthage are, in fact, the only states to whom that character can be applied. In each of the two first there was a senate for life. The constitution of the senate in the last is less known. Circumstantial evidence makes it probable that it was not different in this particular from the two others. It is at least certain, that it had some quality or other which rendered it an anchor against popular fluctuations; and that a smaller council, drawn out of the senate, was appointed not only for life, but filled up vacancies itself. These examples, though as unfit for the imitation, as they are repugnant to the genius, of America, are, notwithstanding, when compared with the fugitive and turbulent existence of other ancient republics, very instructive proofs of the necessity of some institution that will blend stability with liberty. I am not unaware of the circumstances which distinguish the American from other popular governments, as well ancient as modern; and which render extreme circumspection necessary, in reasoning from the one case to the other. But after allowing due weight to this consideration, it may still be maintained, that there are many points of similitude which render these examples not unworthy of our attention. Many of the defects, as we have seen, which can only be supplied by a senatorial institution, are common to a numerous assembly frequently elected by the people, and to the people themselves. There are others peculiar to the former, which require the control of such an institution. The people can never wilfully betray their own interests; but they may possibly be betrayed by the representatives of the people; and the danger will be evidently greater where the whole legislative trust is lodged in the hands of one body of men, than where the concurrence of separate and dissimilar bodies is required in every public act.

The difference most relied on, between the American and other republics, consists in the principle of representation; which is the pivot on which the former move, and which is supposed to have been unknown to the latter, or at least to the ancient part of them. The use which has been made of this difference, in reasonings contained in former papers, will have shown that I am disposed neither to deny its existence nor to undervalue its importance. I feel the less restraint, therefore, in observing, that the position concerning the ignorance of the ancient governments on the subject of representation, is by no means precisely true in the latitude commonly given to it. Without entering into a disquisition which here would be misplaced, I will refer to a few known facts, in support of what I advance.

In the most pure democracies of Greece, many of the executive functions were performed, not by the people themselves, but by officers elected by the people, and REPRESENTING the people in their EXECUTIVE capacity.

Prior to the reform of Solon, Athens was governed by nine Archons, annually ELECTED BY THE PEOPLE AT LARGE. The degree of power delegated to them seems to be left in great obscurity. Subsequent to that period, we find an assembly, first of four, and afterwards of six hundred members, annually ELECTED BY THE PEOPLE; and PARTIALLY representing them in their LEGISLATIVE capacity, since they were not only associated with the people in the function of making laws, but had the exclusive right of originating legislative propositions to the people. The senate of Carthage, also, whatever might be its power, or the duration of its appointment, appears to have been ELECTIVE by the suffrages of the people. Similar instances might be traced in most, if not all the popular governments of antiquity.

Lastly, in Sparta we meet with the Ephori, and in Rome with the Tribunes; two bodies, small indeed in numbers, but annually ELECTED BY THE WHOLE BODY OF THE PEOPLE, and considered as the REPRESENTATIVES of the people, almost in their PLENIPOTENTIARY capacity. The Cosmi of Crete were also annually ELECTED BY THE PEOPLE, and have been considered by some authors as an institution analogous to those of Sparta and Rome, with this difference only, that in the election of that representative body the right of suffrage was communicated to a part only of the people.

From these facts, to which many others might be added, it is clear that the principle of representation was neither unknown to the ancients nor wholly overlooked in their political constitutions. The true distinction between these and the American governments, lies IN THE TOTAL EXCLUSION OF THE PEOPLE, IN THEIR COLLECTIVE CAPACITY, from any share in the LATTER, and not in the TOTAL EXCLUSION OF THE REPRESENTATIVES OF THE PEOPLE from the administration of the FORMER. The distinction, however, thus qualified, must be admitted to leave a most advantageous superiority in favor of the United States. But to insure to this advantage its full effect, we must be careful not to separate it from the other advantage, of an extensive territory. For it cannot be believed, that any form of representative government could have succeeded within the narrow limits occupied by the democracies of Greece.

In answer to all these arguments, suggested by reason, illustrated by examples, and enforced by our own experience, the jealous adversary of the Constitution will probably content himself with repeating, that a senate appointed not immediately by the people, and for the term of six years, must gradually acquire a dangerous pre-eminence in the government, and finally transform it into a tyrannical aristocracy.

To this general answer, the general reply ought to be sufficient, that liberty may be endangered by the abuses of liberty as well as by the abuses of power; that there are numerous instances of the former as well as of the latter; and that the former, rather than the latter, are apparently most to be apprehended by the United States. But a more particular reply may be given.

Before such a revolution can be effected, the Senate, it is to be observed, must in the first place corrupt itself; must next corrupt the State legislatures; must then corrupt the House of Representatives; and must finally corrupt the people at large. It is evident that the Senate must be first corrupted before it can attempt an establishment of tyranny. Without corrupting the State legislatures, it cannot prosecute the attempt, because the periodical change of members would otherwise regenerate the whole body. Without exerting the means of corruption with equal success on the House of Representatives, the opposition of that coequal branch of the government would inevitably defeat the attempt; and without corrupting the people themselves, a succession of new representatives would speedily restore all things to their pristine order. Is there any man who can seriously persuade himself that the proposed Senate can, by any possible means within the compass of human address, arrive at the object of a lawless ambition, through all these obstructions?

If reason condemns the suspicion, the same sentence is pronounced by experience. The constitution of Maryland furnishes the most apposite example. The Senate of that State is elected, as the federal Senate will be, indirectly by the people, and for a term less by one year only than the federal Senate. It is distinguished, also, by the remarkable prerogative of filling up its own vacancies within the term of its appointment, and, at the same time, is not under the control of any such rotation as is provided for the federal Senate. There are some other lesser distinctions, which would expose the former to colorable objections, that do not lie against the latter. If the federal Senate, therefore, really contained the danger which has been so loudly proclaimed, some symptoms at least of a like danger ought by this time to have been betrayed by the Senate of Maryland, but no such symptoms have appeared. On the contrary, the jealousies at first entertained by men of the same description with those who view with terror the correspondent part of the federal Constitution, have been gradually extinguished by the progress of the experiment; and the Maryland constitution is daily deriving, from the salutary operation of this part of it, a reputation in which it will probably not be rivalled by that of any State in the Union.

But if anything could silence the jealousies on this subject, it ought to be the British example. The Senate there instead of being elected for a term of six years, and of being unconfined to particular families or fortunes, is an hereditary assembly of opulent nobles. The House of Representatives, instead of being elected for two years, and by the whole body of the people, is elected for seven years, and, in very great proportion, by a very small proportion of the people. Here, unquestionably, ought to be seen in full display the aristocratic usurpations and tyranny which are at some future period to be exemplified in the United States. Unfortunately, however, for the anti-federal argument, the British history informs us that this hereditary assembly has not been able to defend itself against the continual encroachments of the House of Representatives; and that it no sooner lost the support of the monarch, than it was actually crushed by the weight of the popular branch.

As far as antiquity can instruct us on this subject, its examples support the reasoning which we have employed. In Sparta, the Ephori, the annual representatives of the people, were found an overmatch for the senate for life, continually gained on its authority and finally drew all power into their own hands. The Tribunes of Rome, who were the representatives of the people, prevailed, it is well known, in almost every contest with the senate for life, and in the end gained the most complete triumph over it. The fact is the more remarkable, as unanimity was required in every act of the Tribunes, even after their number was augmented to ten. It proves the irresistible force possessed by that branch of a free government, which has the people on its side. To these examples might be added that of Carthage, whose senate, according to the testimony of Polybius, instead of drawing all power into its vortex, had, at the commencement of the second Punic War, lost almost the whole of its original portion.

Besides the conclusive evidence resulting from this assemblage of facts, that the federal Senate will never be able to transform itself, by gradual usurpations, into an independent and aristocratic body, we are warranted in believing, that if such a revolution should ever happen from causes which the foresight of man cannot guard against, the House of Representatives, with the people on their side, will at all times be able to bring back the Constitution to its primitive form and principles. Against the force of the immediate representatives of the people, nothing will be able to maintain even the constitutional authority of the Senate, but such a display of enlightened policy, and attachment to the public good, as will divide with that branch of the legislature the affections and support of the entire body of the people themselves.

PUBLIUS</pre>
</div>
<div created="20150327201747785" modified="20150327201820824" tags="Jay [[Independent Journal]]" title="No. 64. The Powers of the Senate">
<pre>''From The Independent Journal. Wednesday, March 5, 1788.''

JAY

To the People of the State of New York:

IT IS a just and not a new observation, that enemies to particular persons, and opponents to particular measures, seldom confine their censures to such things only in either as are worthy of blame. Unless on this principle, it is difficult to explain the motives of their conduct, who condemn the proposed Constitution in the aggregate, and treat with severity some of the most unexceptionable articles in it.

The second section gives power to the President, &quot;BY AND WITH THE ADVICE AND CONSENT OF THE SENATE, TO MAKE TREATIES, PROVIDED TWO THIRDS OF THE SENATORS PRESENT CONCUR.&quot;

The power of making treaties is an important one, especially as it relates to war, peace, and commerce; and it should not be delegated but in such a mode, and with such precautions, as will afford the highest security that it will be exercised by men the best qualified for the purpose, and in the manner most conducive to the public good. The convention appears to have been attentive to both these points: they have directed the President to be chosen by select bodies of electors, to be deputed by the people for that express purpose; and they have committed the appointment of senators to the State legislatures. This mode has, in such cases, vastly the advantage of elections by the people in their collective capacity, where the activity of party zeal, taking the advantage of the supineness, the ignorance, and the hopes and fears of the unwary and interested, often places men in office by the votes of a small proportion of the electors.

As the select assemblies for choosing the President, as well as the State legislatures who appoint the senators, will in general be composed of the most enlightened and respectable citizens, there is reason to presume that their attention and their votes will be directed to those men only who have become the most distinguished by their abilities and virtue, and in whom the people perceive just grounds for confidence. The Constitution manifests very particular attention to this object. By excluding men under thirty-five from the first office, and those under thirty from the second, it confines the electors to men of whom the people have had time to form a judgment, and with respect to whom they will not be liable to be deceived by those brilliant appearances of genius and patriotism, which, like transient meteors, sometimes mislead as well as dazzle. If the observation be well founded, that wise kings will always be served by able ministers, it is fair to argue, that as an assembly of select electors possess, in a greater degree than kings, the means of extensive and accurate information relative to men and characters, so will their appointments bear at least equal marks of discretion and discernment. The inference which naturally results from these considerations is this, that the President and senators so chosen will always be of the number of those who best understand our national interests, whether considered in relation to the several States or to foreign nations, who are best able to promote those interests, and whose reputation for integrity inspires and merits confidence. With such men the power of making treaties may be safely lodged.

Although the absolute necessity of system, in the conduct of any business, is universally known and acknowledged, yet the high importance of it in national affairs has not yet become sufficiently impressed on the public mind. They who wish to commit the power under consideration to a popular assembly, composed of members constantly coming and going in quick succession, seem not to recollect that such a body must necessarily be inadequate to the attainment of those great objects, which require to be steadily contemplated in all their relations and circumstances, and which can only be approached and achieved by measures which not only talents, but also exact information, and often much time, are necessary to concert and to execute. It was wise, therefore, in the convention to provide, not only that the power of making treaties should be committed to able and honest men, but also that they should continue in place a sufficient time to become perfectly acquainted with our national concerns, and to form and introduce a a system for the management of them. The duration prescribed is such as will give them an opportunity of greatly extending their political information, and of rendering their accumulating experience more and more beneficial to their country. Nor has the convention discovered less prudence in providing for the frequent elections of senators in such a way as to obviate the inconvenience of periodically transferring those great affairs entirely to new men; for by leaving a considerable residue of the old ones in place, uniformity and order, as well as a constant succession of official information will be preserved.

There are a few who will not admit that the affairs of trade and navigation should be regulated by a system cautiously formed and steadily pursued; and that both our treaties and our laws should correspond with and be made to promote it. It is of much consequence that this correspondence and conformity be carefully maintained; and they who assent to the truth of this position will see and confess that it is well provided for by making concurrence of the Senate necessary both to treaties and to laws.

It seldom happens in the negotiation of treaties, of whatever nature, but that perfect SECRECY and immediate DESPATCH are sometimes requisite. These are cases where the most useful intelligence may be obtained, if the persons possessing it can be relieved from apprehensions of discovery. Those apprehensions will operate on those persons whether they are actuated by mercenary or friendly motives; and there doubtless are many of both descriptions, who would rely on the secrecy of the President, but who would not confide in that of the Senate, and still less in that of a large popular Assembly. The convention have done well, therefore, in so disposing of the power of making treaties, that although the President must, in forming them, act by the advice and consent of the Senate, yet he will be able to manage the business of intelligence in such a manner as prudence may suggest.

They who have turned their attention to the affairs of men, must have perceived that there are tides in them; tides very irregular in their duration, strength, and direction, and seldom found to run twice exactly in the same manner or measure. To discern and to profit by these tides in national affairs is the business of those who preside over them; and they who have had much experience on this head inform us, that there frequently are occasions when days, nay, even when hours, are precious. The loss of a battle, the death of a prince, the removal of a minister, or other circumstances intervening to change the present posture and aspect of affairs, may turn the most favorable tide into a course opposite to our wishes. As in the field, so in the cabinet, there are moments to be seized as they pass, and they who preside in either should be left in capacity to improve them. So often and so essentially have we heretofore suffered from the want of secrecy and despatch, that the Constitution would have been inexcusably defective, if no attention had been paid to those objects. Those matters which in negotiations usually require the most secrecy and the most despatch, are those preparatory and auxiliary measures which are not otherwise important in a national view, than as they tend to facilitate the attainment of the objects of the negotiation. For these, the President will find no difficulty to provide; and should any circumstance occur which requires the advice and consent of the Senate, he may at any time convene them. Thus we see that the Constitution provides that our negotiations for treaties shall have every advantage which can be derived from talents, information, integrity, and deliberate investigations, on the one hand, and from secrecy and despatch on the other.

But to this plan, as to most others that have ever appeared, objections are contrived and urged.

Some are displeased with it, not on account of any errors or defects in it, but because, as the treaties, when made, are to have the force of laws, they should be made only by men invested with legislative authority. These gentlemen seem not to consider that the judgments of our courts, and the commissions constitutionally given by our governor, are as valid and as binding on all persons whom they concern, as the laws passed by our legislature. All constitutional acts of power, whether in the executive or in the judicial department, have as much legal validity and obligation as if they proceeded from the legislature; and therefore, whatever name be given to the power of making treaties, or however obligatory they may be when made, certain it is, that the people may, with much propriety, commit the power to a distinct body from the legislature, the executive, or the judicial. It surely does not follow, that because they have given the power of making laws to the legislature, that therefore they should likewise give them the power to do every other act of sovereignty by which the citizens are to be bound and affected.

Others, though content that treaties should be made in the mode proposed, are averse to their being the SUPREME laws of the land. They insist, and profess to believe, that treaties like acts of assembly, should be repealable at pleasure. This idea seems to be new and peculiar to this country, but new errors, as well as new truths, often appear. These gentlemen would do well to reflect that a treaty is only another name for a bargain, and that it would be impossible to find a nation who would make any bargain with us, which should be binding on them ABSOLUTELY, but on us only so long and so far as we may think proper to be bound by it. They who make laws may, without doubt, amend or repeal them; and it will not be disputed that they who make treaties may alter or cancel them; but still let us not forget that treaties are made, not by only one of the contracting parties, but by both; and consequently, that as the consent of both was essential to their formation at first, so must it ever afterwards be to alter or cancel them. The proposed Constitution, therefore, has not in the least extended the obligation of treaties. They are just as binding, and just as far beyond the lawful reach of legislative acts now, as they will be at any future period, or under any form of government.

However useful jealousy may be in republics, yet when like bile in the natural, it abounds too much in the body politic, the eyes of both become very liable to be deceived by the delusive appearances which that malady casts on surrounding objects. From this cause, probably, proceed the fears and apprehensions of some, that the President and Senate may make treaties without an equal eye to the interests of all the States. Others suspect that two thirds will oppress the remaining third, and ask whether those gentlemen are made sufficiently responsible for their conduct; whether, if they act corruptly, they can be punished; and if they make disadvantageous treaties, how are we to get rid of those treaties?

As all the States are equally represented in the Senate, and by men the most able and the most willing to promote the interests of their constituents, they will all have an equal degree of influence in that body, especially while they continue to be careful in appointing proper persons, and to insist on their punctual attendance. In proportion as the United States assume a national form and a national character, so will the good of the whole be more and more an object of attention, and the government must be a weak one indeed, if it should forget that the good of the whole can only be promoted by advancing the good of each of the parts or members which compose the whole. It will not be in the power of the President and Senate to make any treaties by which they and their families and estates will not be equally bound and affected with the rest of the community; and, having no private interests distinct from that of the nation, they will be under no temptations to neglect the latter.

As to corruption, the case is not supposable. He must either have been very unfortunate in his intercourse with the world, or possess a heart very susceptible of such impressions, who can think it probable that the President and two thirds of the Senate will ever be capable of such unworthy conduct. The idea is too gross and too invidious to be entertained. But in such a case, if it should ever happen, the treaty so obtained from us would, like all other fraudulent contracts, be null and void by the law of nations.

With respect to their responsibility, it is difficult to conceive how it could be increased. Every consideration that can influence the human mind, such as honor, oaths, reputations, conscience, the love of country, and family affections and attachments, afford security for their fidelity. In short, as the Constitution has taken the utmost care that they shall be men of talents and integrity, we have reason to be persuaded that the treaties they make will be as advantageous as, all circumstances considered, could be made; and so far as the fear of punishment and disgrace can operate, that motive to good behavior is amply afforded by the article on the subject of impeachments.

PUBLIUS</pre>
</div>
<div created="20150327201901953" modified="20150327201932816" tags="Hamilton [[New York Packet]]" title="No. 65. The Powers of the Senate Continued">
<pre>''From the New York Packet. Friday, March 7, 1788.''

HAMILTON

To the People of the State of New York:

THE remaining powers which the plan of the convention allots to the Senate, in a distinct capacity, are comprised in their participation with the executive in the appointment to offices, and in their judicial character as a court for the trial of impeachments. As in the business of appointments the executive will be the principal agent, the provisions relating to it will most properly be discussed in the examination of that department. We will, therefore, conclude this head with a view of the judicial character of the Senate.

A well-constituted court for the trial of impeachments is an object not more to be desired than difficult to be obtained in a government wholly elective. The subjects of its jurisdiction are those offenses which proceed from the misconduct of public men, or, in other words, from the abuse or violation of some public trust. They are of a nature which may with peculiar propriety be denominated POLITICAL, as they relate chiefly to injuries done immediately to the society itself. The prosecution of them, for this reason, will seldom fail to agitate the passions of the whole community, and to divide it into parties more or less friendly or inimical to the accused. In many cases it will connect itself with the pre-existing factions, and will enlist all their animosities, partialities, influence, and interest on one side or on the other; and in such cases there will always be the greatest danger that the decision will be regulated more by the comparative strength of parties, than by the real demonstrations of innocence or guilt.

The delicacy and magnitude of a trust which so deeply concerns the political reputation and existence of every man engaged in the administration of public affairs, speak for themselves. The difficulty of placing it rightly, in a government resting entirely on the basis of periodical elections, will as readily be perceived, when it is considered that the most conspicuous characters in it will, from that circumstance, be too often the leaders or the tools of the most cunning or the most numerous faction, and on this account, can hardly be expected to possess the requisite neutrality towards those whose conduct may be the subject of scrutiny.

The convention, it appears, thought the Senate the most fit depositary of this important trust. Those who can best discern the intrinsic difficulty of the thing, will be least hasty in condemning that opinion, and will be most inclined to allow due weight to the arguments which may be supposed to have produced it.

What, it may be asked, is the true spirit of the institution itself? Is it not designed as a method of NATIONAL INQUEST into the conduct of public men? If this be the design of it, who can so properly be the inquisitors for the nation as the representatives of the nation themselves? It is not disputed that the power of originating the inquiry, or, in other words, of preferring the impeachment, ought to be lodged in the hands of one branch of the legislative body. Will not the reasons which indicate the propriety of this arrangement strongly plead for an admission of the other branch of that body to a share of the inquiry? The model from which the idea of this institution has been borrowed, pointed out that course to the convention. In Great Britain it is the province of the House of Commons to prefer the impeachment, and of the House of Lords to decide upon it. Several of the State constitutions have followed the example. As well the latter, as the former, seem to have regarded the practice of impeachments as a bridle in the hands of the legislative body upon the executive servants of the government. Is not this the true light in which it ought to be regarded?

Where else than in the Senate could have been found a tribunal sufficiently dignified, or sufficiently independent? What other body would be likely to feel CONFIDENCE ENOUGH IN ITS OWN SITUATION, to preserve, unawed and uninfluenced, the necessary impartiality between an INDIVIDUAL accused, and the REPRESENTATIVES OF THE PEOPLE, HIS ACCUSERS?

Could the Supreme Court have been relied upon as answering this description? It is much to be doubted, whether the members of that tribunal would at all times be endowed with so eminent a portion of fortitude, as would be called for in the execution of so difficult a task; and it is still more to be doubted, whether they would possess the degree of credit and authority, which might, on certain occasions, be indispensable towards reconciling the people to a decision that should happen to clash with an accusation brought by their immediate representatives. A deficiency in the first, would be fatal to the accused; in the last, dangerous to the public tranquillity. The hazard in both these respects, could only be avoided, if at all, by rendering that tribunal more numerous than would consist with a reasonable attention to economy. The necessity of a numerous court for the trial of impeachments, is equally dictated by the nature of the proceeding. This can never be tied down by such strict rules, either in the delineation of the offense by the prosecutors, or in the construction of it by the judges, as in common cases serve to limit the discretion of courts in favor of personal security. There will be no jury to stand between the judges who are to pronounce the sentence of the law, and the party who is to receive or suffer it. The awful discretion which a court of impeachments must necessarily have, to doom to honor or to infamy the most confidential and the most distinguished characters of the community, forbids the commitment of the trust to a small number of persons.

These considerations seem alone sufficient to authorize a conclusion, that the Supreme Court would have been an improper substitute for the Senate, as a court of impeachments. There remains a further consideration, which will not a little strengthen this conclusion. It is this: The punishment which may be the consequence of conviction upon impeachment, is not to terminate the chastisement of the offender. After having been sentenced to a perpetual ostracism from the esteem and confidence, and honors and emoluments of his country, he will still be liable to prosecution and punishment in the ordinary course of law. Would it be proper that the persons who had disposed of his fame, and his most valuable rights as a citizen in one trial, should, in another trial, for the same offense, be also the disposers of his life and his fortune? Would there not be the greatest reason to apprehend, that error, in the first sentence, would be the parent of error in the second sentence? That the strong bias of one decision would be apt to overrule the influence of any new lights which might be brought to vary the complexion of another decision? Those who know anything of human nature, will not hesitate to answer these questions in the affirmative; and will be at no loss to perceive, that by making the same persons judges in both cases, those who might happen to be the objects of prosecution would, in a great measure, be deprived of the double security intended them by a double trial. The loss of life and estate would often be virtually included in a sentence which, in its terms, imported nothing more than dismission from a present, and disqualification for a future, office. It may be said, that the intervention of a jury, in the second instance, would obviate the danger. But juries are frequently influenced by the opinions of judges. They are sometimes induced to find special verdicts, which refer the main question to the decision of the court. Who would be willing to stake his life and his estate upon the verdict of a jury acting under the auspices of judges who had predetermined his guilt?

Would it have been an improvement of the plan, to have united the Supreme Court with the Senate, in the formation of the court of impeachments? This union would certainly have been attended with several advantages; but would they not have been overbalanced by the signal disadvantage, already stated, arising from the agency of the same judges in the double prosecution to which the offender would be liable? To a certain extent, the benefits of that union will be obtained from making the chief justice of the Supreme Court the president of the court of impeachments, as is proposed to be done in the plan of the convention; while the inconveniences of an entire incorporation of the former into the latter will be substantially avoided. This was perhaps the prudent mean. I forbear to remark upon the additional pretext for clamor against the judiciary, which so considerable an augmentation of its authority would have afforded.

Would it have been desirable to have composed the court for the trial of impeachments, of persons wholly distinct from the other departments of the government? There are weighty arguments, as well against, as in favor of, such a plan. To some minds it will not appear a trivial objection, that it could tend to increase the complexity of the political machine, and to add a new spring to the government, the utility of which would at best be questionable. But an objection which will not be thought by any unworthy of attention, is this: a court formed upon such a plan, would either be attended with a heavy expense, or might in practice be subject to a variety of casualties and inconveniences. It must either consist of permanent officers, stationary at the seat of government, and of course entitled to fixed and regular stipends, or of certain officers of the State governments to be called upon whenever an impeachment was actually depending. It will not be easy to imagine any third mode materially different, which could rationally be proposed. As the court, for reasons already given, ought to be numerous, the first scheme will be reprobated by every man who can compare the extent of the public wants with the means of supplying them. The second will be espoused with caution by those who will seriously consider the difficulty of collecting men dispersed over the whole Union; the injury to the innocent, from the procrastinated determination of the charges which might be brought against them; the advantage to the guilty, from the opportunities which delay would afford to intrigue and corruption; and in some cases the detriment to the State, from the prolonged inaction of men whose firm and faithful execution of their duty might have exposed them to the persecution of an intemperate or designing majority in the House of Representatives. Though this latter supposition may seem harsh, and might not be likely often to be verified, yet it ought not to be forgotten that the demon of faction will, at certain seasons, extend his sceptre over all numerous bodies of men.

But though one or the other of the substitutes which have been examined, or some other that might be devised, should be thought preferable to the plan in this respect, reported by the convention, it will not follow that the Constitution ought for this reason to be rejected. If mankind were to resolve to agree in no institution of government, until every part of it had been adjusted to the most exact standard of perfection, society would soon become a general scene of anarchy, and the world a desert. Where is the standard of perfection to be found? Who will undertake to unite the discordant opinions of a whole community, in the same judgment of it; and to prevail upon one conceited projector to renounce his INFALLIBLE criterion for the FALLIBLE criterion of his more CONCEITED NEIGHBOR? To answer the purpose of the adversaries of the Constitution, they ought to prove, not merely that particular provisions in it are not the best which might have been imagined, but that the plan upon the whole is bad and pernicious.

PUBLIUS</pre>
</div>
<div created="20150327202028337" modified="20150327202202824" tags="Hamilton [[Independent Journal]]" title="No. 66. Objections to the Power of the Senate To Set as a Court for Impeachments Further Considered.">
<pre>''From The Independent Journal. Saturday, March 8, 1788.''

HAMILTON

To the People of the State of New York:

A REVIEW of the principal objections that have appeared against the proposed court for the trial of impeachments, will not improbably eradicate the remains of any unfavorable impressions which may still exist in regard to this matter.

The FIRST of these objections is, that the provision in question confounds legislative and judiciary authorities in the same body, in violation of that important and well-established maxim which requires a separation between the different departments of power. The true meaning of this maxim has been discussed and ascertained in another place, and has been shown to be entirely compatible with a partial intermixture of those departments for special purposes, preserving them, in the main, distinct and unconnected. This partial intermixture is even, in some cases, not only proper but necessary to the mutual defense of the several members of the government against each other. An absolute or qualified negative in the executive upon the acts of the legislative body, is admitted, by the ablest adepts in political science, to be an indispensable barrier against the encroachments of the latter upon the former. And it may, perhaps, with no less reason be contended, that the powers relating to impeachments are, as before intimated, an essential check in the hands of that body upon the encroachments of the executive. The division of them between the two branches of the legislature, assigning to one the right of accusing, to the other the right of judging, avoids the inconvenience of making the same persons both accusers and judges; and guards against the danger of persecution, from the prevalency of a factious spirit in either of those branches. As the concurrence of two thirds of the Senate will be requisite to a condemnation, the security to innocence, from this additional circumstance, will be as complete as itself can desire.

It is curious to observe, with what vehemence this part of the plan is assailed, on the principle here taken notice of, by men who profess to admire, without exception, the constitution of this State; while that constitution makes the Senate, together with the chancellor and judges of the Supreme Court, not only a court of impeachments, but the highest judicatory in the State, in all causes, civil and criminal. The proportion, in point of numbers, of the chancellor and judges to the senators, is so inconsiderable, that the judiciary authority of New York, in the last resort, may, with truth, be said to reside in its Senate. If the plan of the convention be, in this respect, chargeable with a departure from the celebrated maxim which has been so often mentioned, and seems to be so little understood, how much more culpable must be the constitution of New York? &lt;span class=&quot;footnote&quot; title=&quot;In that of New Jersey, also, the final judiciary authority is in a branch of the legislature. In New Hampshire, Massachusetts, Pennsylvania, and South Carolina, one branch of the legislature is the court for the trial of impeachments.&quot;&gt;(1)&lt;/span&gt;

A SECOND objection to the Senate, as a court of impeachments, is, that it contributes to an undue accumulation of power in that body, tending to give to the government a countenance too aristocratic. The Senate, it is observed, is to have concurrent authority with the Executive in the formation of treaties and in the appointment to offices: if, say the objectors, to these prerogatives is added that of deciding in all cases of impeachment, it will give a decided predominancy to senatorial influence. To an objection so little precise in itself, it is not easy to find a very precise answer. Where is the measure or criterion to which we can appeal, for determining what will give the Senate too much, too little, or barely the proper degree of influence? Will it not be more safe, as well as more simple, to dismiss such vague and uncertain calculations, to examine each power by itself, and to decide, on general principles, where it may be deposited with most advantage and least inconvenience?

If we take this course, it will lead to a more intelligible, if not to a more certain result. The disposition of the power of making treaties, which has obtained in the plan of the convention, will, then, if I mistake not, appear to be fully justified by the considerations stated in a former number, and by others which will occur under the next head of our inquiries. The expediency of the junction of the Senate with the Executive, in the power of appointing to offices, will, I trust, be placed in a light not less satisfactory, in the disquisitions under the same head. And I flatter myself the observations in my last paper must have gone no inconsiderable way towards proving that it was not easy, if practicable, to find a more fit receptacle for the power of determining impeachments, than that which has been chosen. If this be truly the case, the hypothetical dread of the too great weight of the Senate ought to be discarded from our reasonings.

But this hypothesis, such as it is, has already been refuted in the remarks applied to the duration in office prescribed for the senators. It was by them shown, as well on the credit of historical examples, as from the reason of the thing, that the most POPULAR branch of every government, partaking of the republican genius, by being generally the favorite of the people, will be as generally a full match, if not an overmatch, for every other member of the Government.

But independent of this most active and operative principle, to secure the equilibrium of the national House of Representatives, the plan of the convention has provided in its favor several important counterpoises to the additional authorities to be conferred upon the Senate. The exclusive privilege of originating money bills will belong to the House of Representatives. The same house will possess the sole right of instituting impeachments: is not this a complete counterbalance to that of determining them? The same house will be the umpire in all elections of the President, which do not unite the suffrages of a majority of the whole number of electors; a case which it cannot be doubted will sometimes, if not frequently, happen. The constant possibility of the thing must be a fruitful source of influence to that body. The more it is contemplated, the more important will appear this ultimate though contingent power, of deciding the competitions of the most illustrious citizens of the Union, for the first office in it. It would not perhaps be rash to predict, that as a mean of influence it will be found to outweigh all the peculiar attributes of the Senate.

A THIRD objection to the Senate as a court of impeachments, is drawn from the agency they are to have in the appointments to office. It is imagined that they would be too indulgent judges of the conduct of men, in whose official creation they had participated. The principle of this objection would condemn a practice, which is to be seen in all the State governments, if not in all the governments with which we are acquainted: I mean that of rendering those who hold offices during pleasure, dependent on the pleasure of those who appoint them. With equal plausibility might it be alleged in this case, that the favoritism of the latter would always be an asylum for the misbehavior of the former. But that practice, in contradiction to this principle, proceeds upon the presumption, that the responsibility of those who appoint, for the fitness and competency of the persons on whom they bestow their choice, and the interest they will have in the respectable and prosperous administration of affairs, will inspire a sufficient disposition to dismiss from a share in it all such who, by their conduct, shall have proved themselves unworthy of the confidence reposed in them. Though facts may not always correspond with this presumption, yet if it be, in the main, just, it must destroy the supposition that the Senate, who will merely sanction the choice of the Executive, should feel a bias, towards the objects of that choice, strong enough to blind them to the evidences of guilt so extraordinary, as to have induced the representatives of the nation to become its accusers.

If any further arguments were necessary to evince the improbability of such a bias, it might be found in the nature of the agency of the Senate in the business of appointments. It will be the office of the President to NOMINATE, and, with the advice and consent of the Senate, to APPOINT. There will, of course, be no exertion of CHOICE on the part of the Senate. They may defeat one choice of the Executive, and oblige him to make another; but they cannot themselves CHOOSE—they can only ratify or reject the choice of the President. They might even entertain a preference to some other person, at the very moment they were assenting to the one proposed, because there might be no positive ground of opposition to him; and they could not be sure, if they withheld their assent, that the subsequent nomination would fall upon their own favorite, or upon any other person in their estimation more meritorious than the one rejected. Thus it could hardly happen, that the majority of the Senate would feel any other complacency towards the object of an appointment than such as the appearances of merit might inspire, and the proofs of the want of it destroy.

A FOURTH objection to the Senate in the capacity of a court of impeachments, is derived from its union with the Executive in the power of making treaties. This, it has been said, would constitute the senators their own judges, in every case of a corrupt or perfidious execution of that trust. After having combined with the Executive in betraying the interests of the nation in a ruinous treaty, what prospect, it is asked, would there be of their being made to suffer the punishment they would deserve, when they were themselves to decide upon the accusation brought against them for the treachery of which they have been guilty?

This objection has been circulated with more earnestness and with greater show of reason than any other which has appeared against this part of the plan; and yet I am deceived if it does not rest upon an erroneous foundation.

The security essentially intended by the Constitution against corruption and treachery in the formation of treaties, is to be sought for in the numbers and characters of those who are to make them. The JOINT AGENCY of the Chief Magistrate of the Union, and of two thirds of the members of a body selected by the collective wisdom of the legislatures of the several States, is designed to be the pledge for the fidelity of the national councils in this particular. The convention might with propriety have meditated the punishment of the Executive, for a deviation from the instructions of the Senate, or a want of integrity in the conduct of the negotiations committed to him; they might also have had in view the punishment of a few leading individuals in the Senate, who should have prostituted their influence in that body as the mercenary instruments of foreign corruption: but they could not, with more or with equal propriety, have contemplated the impeachment and punishment of two thirds of the Senate, consenting to an improper treaty, than of a majority of that or of the other branch of the national legislature, consenting to a pernicious or unconstitutional law—a principle which, I believe, has never been admitted into any government. How, in fact, could a majority in the House of Representatives impeach themselves? Not better, it is evident, than two thirds of the Senate might try themselves. And yet what reason is there, that a majority of the House of Representatives, sacrificing the interests of the society by an unjust and tyrannical act of legislation, should escape with impunity, more than two thirds of the Senate, sacrificing the same interests in an injurious treaty with a foreign power? The truth is, that in all such cases it is essential to the freedom and to the necessary independence of the deliberations of the body, that the members of it should be exempt from punishment for acts done in a collective capacity; and the security to the society must depend on the care which is taken to confide the trust to proper hands, to make it their interest to execute it with fidelity, and to make it as difficult as possible for them to combine in any interest opposite to that of the public good.

So far as might concern the misbehavior of the Executive in perverting the instructions or contravening the views of the Senate, we need not be apprehensive of the want of a disposition in that body to punish the abuse of their confidence or to vindicate their own authority. We may thus far count upon their pride, if not upon their virtue. And so far even as might concern the corruption of leading members, by whose arts and influence the majority may have been inveigled into measures odious to the community, if the proofs of that corruption should be satisfactory, the usual propensity of human nature will warrant us in concluding that there would be commonly no defect of inclination in the body to divert the public resentment from themselves by a ready sacrifice of the authors of their mismanagement and disgrace.

PUBLIUS

''Footnote''

1. In that of New Jersey, also, the final judiciary authority is in a branch of the legislature. In New Hampshire, Massachusetts, Pennsylvania, and South Carolina, one branch of the legislature is the court for the trial of impeachments.
</pre>
</div>
<div created="20150327202311834" modified="20150327202504024" tags="Hamilton [[New York Packet]]" title="No. 67. The Executive Department">
<pre>''From the New York Packet. Tuesday, March 11, 1788.''

HAMILTON

To the People of the State of New York:

THE constitution of the executive department of the proposed government, claims next our attention.

There is hardly any part of the system which could have been attended with greater difficulty in the arrangement of it than this; and there is, perhaps, none which has been inveighed against with less candor or criticised with less judgment.

Here the writers against the Constitution seem to have taken pains to signalize their talent of misrepresentation. Calculating upon the aversion of the people to monarchy, they have endeavored to enlist all their jealousies and apprehensions in opposition to the intended President of the United States; not merely as the embryo, but as the full-grown progeny, of that detested parent. To establish the pretended affinity, they have not scrupled to draw resources even from the regions of fiction. The authorities of a magistrate, in few instances greater, in some instances less, than those of a governor of New York, have been magnified into more than royal prerogatives. He has been decorated with attributes superior in dignity and splendor to those of a king of Great Britain. He has been shown to us with the diadem sparkling on his brow and the imperial purple flowing in his train. He has been seated on a throne surrounded with minions and mistresses, giving audience to the envoys of foreign potentates, in all the supercilious pomp of majesty. The images of Asiatic despotism and voluptuousness have scarcely been wanting to crown the exaggerated scene. We have been taught to tremble at the terrific visages of murdering janizaries, and to blush at the unveiled mysteries of a future seraglio.

Attempts so extravagant as these to disfigure or, it might rather be said, to metamorphose the object, render it necessary to take an accurate view of its real nature and form: in order as well to ascertain its true aspect and genuine appearance, as to unmask the disingenuity and expose the fallacy of the counterfeit resemblances which have been so insidiously, as well as industriously, propagated.

In the execution of this task, there is no man who would not find it an arduous effort either to behold with moderation, or to treat with seriousness, the devices, not less weak than wicked, which have been contrived to pervert the public opinion in relation to the subject. They so far exceed the usual though unjustifiable licenses of party artifice, that even in a disposition the most candid and tolerant, they must force the sentiments which favor an indulgent construction of the conduct of political adversaries to give place to a voluntary and unreserved indignation. It is impossible not to bestow the imputation of deliberate imposture and deception upon the gross pretense of a similitude between a king of Great Britain and a magistrate of the character marked out for that of the President of the United States. It is still more impossible to withhold that imputation from the rash and barefaced expedients which have been employed to give success to the attempted imposition.

In one instance, which I cite as a sample of the general spirit, the temerity has proceeded so far as to ascribe to the President of the United States a power which by the instrument reported is EXPRESSLY allotted to the Executives of the individual States. I mean the power of filling casual vacancies in the Senate.

This bold experiment upon the discernment of his countrymen has been hazarded by a writer who (whatever may be his real merit) has had no inconsiderable share in the applauses of his party &lt;span class=&quot;footnote&quot; title=&quot;See CATO, No. V.&quot;&gt;(1)&lt;/span&gt;; and who, upon this false and unfounded suggestion, has built a series of observations equally false and unfounded. Let him now be confronted with the evidence of the fact, and let him, if he be able, justify or extenuate the shameful outrage he has offered to the dictates of truth and to the rules of fair dealing.

The second clause of the second section of the second article empowers the President of the United States &quot;to nominate, and by and with the advice and consent of the Senate, to appoint ambassadors, other public ministers and consuls, judges of the Supreme Court, and all other OFFICERS of United States whose appointments are NOT in the Constitution OTHERWISE PROVIDED FOR, and WHICH SHALL BE ESTABLISHED BY LAW.&quot; Immediately after this clause follows another in these words: &quot;The President shall have power to fill up all VACANCIES that may happen DURING THE RECESS OF THE SENATE, by granting commissions which shall EXPIRE AT THE END OF THEIR NEXT SESSION.&quot; It is from this last provision that the pretended power of the President to fill vacancies in the Senate has been deduced. A slight attention to the connection of the clauses, and to the obvious meaning of the terms, will satisfy us that the deduction is not even colorable.

The first of these two clauses, it is clear, only provides a mode for appointing such officers, &quot;whose appointments are NOT OTHERWISE PROVIDED FOR in the Constitution, and which SHALL BE ESTABLISHED BY LAW&quot;; of course it cannot extend to the appointments of senators, whose appointments are OTHERWISE PROVIDED FOR in the Constitution &lt;span class=&quot;footnote&quot; title=&quot;Article I, section 3, clause 1.&quot;&gt;(2)&lt;/span&gt;, and who are ESTABLISHED BY THE CONSTITUTION, and will not require a future establishment by law. This position will hardly be contested.

The last of these two clauses, it is equally clear, cannot be understood to comprehend the power of filling vacancies in the Senate, for the following reasons: First. The relation in which that clause stands to the other, which declares the general mode of appointing officers of the United States, denotes it to be nothing more than a supplement to the other, for the purpose of establishing an auxiliary method of appointment, in cases to which the general method was inadequate. The ordinary power of appointment is confined to the President and Senate JOINTLY, and can therefore only be exercised during the session of the Senate; but as it would have been improper to oblige this body to be continually in session for the appointment of officers and as vacancies might happen IN THEIR RECESS, which it might be necessary for the public service to fill without delay, the succeeding clause is evidently intended to authorize the President, SINGLY, to make temporary appointments &quot;during the recess of the Senate, by granting commissions which shall expire at the end of their next session.&quot; Second. If this clause is to be considered as supplementary to the one which precedes, the VACANCIES of which it speaks must be construed to relate to the &quot;officers&quot; described in the preceding one; and this, we have seen, excludes from its description the members of the Senate. Third. The time within which the power is to operate, &quot;during the recess of the Senate,&quot; and the duration of the appointments, &quot;to the end of the next session&quot; of that body, conspire to elucidate the sense of the provision, which, if it had been intended to comprehend senators, would naturally have referred the temporary power of filling vacancies to the recess of the State legislatures, who are to make the permanent appointments, and not to the recess of the national Senate, who are to have no concern in those appointments; and would have extended the duration in office of the temporary senators to the next session of the legislature of the State, in whose representation the vacancies had happened, instead of making it to expire at the end of the ensuing session of the national Senate. The circumstances of the body authorized to make the permanent appointments would, of course, have governed the modification of a power which related to the temporary appointments; and as the national Senate is the body, whose situation is alone contemplated in the clause upon which the suggestion under examination has been founded, the vacancies to which it alludes can only be deemed to respect those officers in whose appointment that body has a concurrent agency with the President. But last, the first and second clauses of the third section of the first article, not only obviate all possibility of doubt, but destroy the pretext of misconception. The former provides, that &quot;the Senate of the United States shall be composed of two Senators from each State, chosen BY THE LEGISLATURE THEREOF for six years&quot;; and the latter directs, that, &quot;if vacancies in that body should happen by resignation or otherwise, DURING THE RECESS OF THE LEGISLATURE OF ANY STATE, the Executive THEREOF may make temporary appointments until the NEXT MEETING OF THE LEGISLATURE, which shall then fill such vacancies.&quot; Here is an express power given, in clear and unambiguous terms, to the State Executives, to fill casual vacancies in the Senate, by temporary appointments; which not only invalidates the supposition, that the clause before considered could have been intended to confer that power upon the President of the United States, but proves that this supposition, destitute as it is even of the merit of plausibility, must have originated in an intention to deceive the people, too palpable to be obscured by sophistry, too atrocious to be palliated by hypocrisy.

I have taken the pains to select this instance of misrepresentation, and to place it in a clear and strong light, as an unequivocal proof of the unwarrantable arts which are practiced to prevent a fair and impartial judgment of the real merits of the Constitution submitted to the consideration of the people. Nor have I scrupled, in so flagrant a case, to allow myself a severity of animadversion little congenial with the general spirit of these papers. I hesitate not to submit it to the decision of any candid and honest adversary of the proposed government, whether language can furnish epithets of too much asperity, for so shameless and so prostitute an attempt to impose on the citizens of America.

PUBLIUS

''Footnotes''

1. See CATO, No. V.

2. Article I, section 3, clause 1.
</pre>
</div>
<div created="20150327202543569" modified="20150327202807608" tags="" title="No. 68. The Mode of Electing the President">
<pre>''From The Independent Journal. Wednesday, March 12, 1788.''

HAMILTON

To the People of the State of New York:

THE mode of appointment of the Chief Magistrate of the United States is almost the only part of the system, of any consequence, which has escaped without severe censure, or which has received the slightest mark of approbation from its opponents. The most plausible of these, who has appeared in print, has even deigned to admit that the election of the President is pretty well guarded. &lt;span class=&quot;footnote&quot; title=&quot;Vide federal farmer.&quot;&gt;(1)&lt;/span&gt; I venture somewhat further, and hesitate not to affirm, that if the manner of it be not perfect, it is at least excellent. It unites in an eminent degree all the advantages, the union of which was to be wished for. &lt;span class=&quot;footnote&quot; title=&quot;Some editions substitute “desired“ for “wished for“.&quot;&gt;(E1)&lt;/span&gt;

It was desirable that the sense of the people should operate in the choice of the person to whom so important a trust was to be confided. This end will be answered by committing the right of making it, not to any preestablished body, but to men chosen by the people for the special purpose, and at the particular conjuncture.

It was equally desirable, that the immediate election should be made by men most capable of analyzing the qualities adapted to the station, and acting under circumstances favorable to deliberation, and to a judicious combination of all the reasons and inducements which were proper to govern their choice. A small number of persons, selected by their fellow-citizens from the general mass, will be most likely to possess the information and discernment requisite to such complicated investigations.

It was also peculiarly desirable to afford as little opportunity as possible to tumult and disorder. This evil was not least to be dreaded in the election of a magistrate, who was to have so important an agency in the administration of the government as the President of the United States. But the precautions which have been so happily concerted in the system under consideration, promise an effectual security against this mischief. The choice of SEVERAL, to form an intermediate body of electors, will be much less apt to convulse the community with any extraordinary or violent movements, than the choice of ONE who was himself to be the final object of the public wishes. And as the electors, chosen in each State, are to assemble and vote in the State in which they are chosen, this detached and divided situation will expose them much less to heats and ferments, which might be communicated from them to the people, than if they were all to be convened at one time, in one place.

Nothing was more to be desired than that every practicable obstacle should be opposed to cabal, intrigue, and corruption. These most deadly adversaries of republican government might naturally have been expected to make their approaches from more than one quarter, but chiefly from the desire in foreign powers to gain an improper ascendant in our councils. How could they better gratify this, than by raising a creature of their own to the chief magistracy of the Union? But the convention have guarded against all danger of this sort, with the most provident and judicious attention. They have not made the appointment of the President to depend on any preexisting bodies of men, who might be tampered with beforehand to prostitute their votes; but they have referred it in the first instance to an immediate act of the people of America, to be exerted in the choice of persons for the temporary and sole purpose of making the appointment. And they have excluded from eligibility to this trust, all those who from situation might be suspected of too great devotion to the President in office. No senator, representative, or other person holding a place of trust or profit under the United States, can be of the numbers of the electors. Thus without corrupting the body of the people, the immediate agents in the election will at least enter upon the task free from any sinister bias. Their transient existence, and their detached situation, already taken notice of, afford a satisfactory prospect of their continuing so, to the conclusion of it. The business of corruption, when it is to embrace so considerable a number of men, requires time as well as means. Nor would it be found easy suddenly to embark them, dispersed as they would be over thirteen States, in any combinations founded upon motives, which though they could not properly be denominated corrupt, might yet be of a nature to mislead them from their duty.

Another and no less important desideratum was, that the Executive should be independent for his continuance in office on all but the people themselves. He might otherwise be tempted to sacrifice his duty to his complaisance for those whose favor was necessary to the duration of his official consequence. This advantage will also be secured, by making his re-election to depend on a special body of representatives, deputed by the society for the single purpose of making the important choice.

All these advantages will happily combine in the plan devised by the convention; which is, that the people of each State shall choose a number of persons as electors, equal to the number of senators and representatives of such State in the national government, who shall assemble within the State, and vote for some fit person as President. Their votes, thus given, are to be transmitted to the seat of the national government, and the person who may happen to have a majority of the whole number of votes will be the President. But as a majority of the votes might not always happen to centre in one man, and as it might be unsafe to permit less than a majority to be conclusive, it is provided that, in such a contingency, the House of Representatives shall select out of the candidates who shall have the five highest number of votes, the man who in their opinion may be best qualified for the office.

The process of election affords a moral certainty, that the office of President will never fall to the lot of any man who is not in an eminent degree endowed with the requisite qualifications. Talents for low intrigue, and the little arts of popularity, may alone suffice to elevate a man to the first honors in a single State; but it will require other talents, and a different kind of merit, to establish him in the esteem and confidence of the whole Union, or of so considerable a portion of it as would be necessary to make him a successful candidate for the distinguished office of President of the United States. It will not be too strong to say, that there will be a constant probability of seeing the station filled by characters pre-eminent for ability and virtue. And this will be thought no inconsiderable recommendation of the Constitution, by those who are able to estimate the share which the executive in every government must necessarily have in its good or ill administration. Though we cannot acquiesce in the political heresy of the poet who says:

&quot;For forms of government let fools contest—That which is best administered is best,&quot;—yet we may safely pronounce, that the true test of a good government is its aptitude and tendency to produce a good administration.

The Vice-President is to be chosen in the same manner with the President; with this difference, that the Senate is to do, in respect to the former, what is to be done by the House of Representatives, in respect to the latter.

The appointment of an extraordinary person, as Vice-President, has been objected to as superfluous, if not mischievous. It has been alleged, that it would have been preferable to have authorized the Senate to elect out of their own body an officer answering that description. But two considerations seem to justify the ideas of the convention in this respect. One is, that to secure at all times the possibility of a definite resolution of the body, it is necessary that the President should have only a casting vote. And to take the senator of any State from his seat as senator, to place him in that of President of the Senate, would be to exchange, in regard to the State from which he came, a constant for a contingent vote. The other consideration is, that as the Vice-President may occasionally become a substitute for the President, in the supreme executive magistracy, all the reasons which recommend the mode of election prescribed for the one, apply with great if not with equal force to the manner of appointing the other. It is remarkable that in this, as in most other instances, the objection which is made would lie against the constitution of this State. We have a Lieutenant-Governor, chosen by the people at large, who presides in the Senate, and is the constitutional substitute for the Governor, in casualties similar to those which would authorize the Vice-President to exercise the authorities and discharge the duties of the President.

PUBLIUS

''Footnotes''

1. Vide federal farmer.

E1. Some editions substitute &quot;desired&quot; for &quot;wished for&quot;.
</pre>
</div>
<div created="20150327202937449" modified="20150327203846289" tags="Hamilton [[New York Packet]]" title="No. 69. The Real Character of the Executive">
<pre>''From the New York Packet. Friday, March 14, 1788.''

HAMILTON

To the People of the State of New York:

I PROCEED now to trace the real characters of the proposed Executive, as they are marked out in the plan of the convention. This will serve to place in a strong light the unfairness of the representations which have been made in regard to it.

The first thing which strikes our attention is, that the executive authority, with few exceptions, is to be vested in a single magistrate. This will scarcely, however, be considered as a point upon which any comparison can be grounded; for if, in this particular, there be a resemblance to the king of Great Britain, there is not less a resemblance to the Grand Seignior, to the khan of Tartary, to the Man of the Seven Mountains, or to the governor of New York.

That magistrate is to be elected for four years; and is to be re-eligible as often as the people of the United States shall think him worthy of their confidence. In these circumstances there is a total dissimilitude between him and a king of Great Britain, who is an hereditary monarch, possessing the crown as a patrimony descendible to his heirs forever; but there is a close analogy between him and a governor of New York, who is elected for three years, and is re-eligible without limitation or intermission. If we consider how much less time would be requisite for establishing a dangerous influence in a single State, than for establishing a like influence throughout the United States, we must conclude that a duration of four years for the Chief Magistrate of the Union is a degree of permanency far less to be dreaded in that office, than a duration of three years for a corresponding office in a single State.

The President of the United States would be liable to be impeached, tried, and, upon conviction of treason, bribery, or other high crimes or misdemeanors, removed from office; and would afterwards be liable to prosecution and punishment in the ordinary course of law. The person of the king of Great Britain is sacred and inviolable; there is no constitutional tribunal to which he is amenable; no punishment to which he can be subjected without involving the crisis of a national revolution. In this delicate and important circumstance of personal responsibility, the President of Confederated America would stand upon no better ground than a governor of New York, and upon worse ground than the governors of Maryland and Delaware.

The President of the United States is to have power to return a bill, which shall have passed the two branches of the legislature, for reconsideration; and the bill so returned is to become a law, if, upon that reconsideration, it be approved by two thirds of both houses. The king of Great Britain, on his part, has an absolute negative upon the acts of the two houses of Parliament. The disuse of that power for a considerable time past does not affect the reality of its existence; and is to be ascribed wholly to the crown's having found the means of substituting influence to authority, or the art of gaining a majority in one or the other of the two houses, to the necessity of exerting a prerogative which could seldom be exerted without hazarding some degree of national agitation. The qualified negative of the President differs widely from this absolute negative of the British sovereign; and tallies exactly with the revisionary authority of the council of revision of this State, of which the governor is a constituent part. In this respect the power of the President would exceed that of the governor of New York, because the former would possess, singly, what the latter shares with the chancellor and judges; but it would be precisely the same with that of the governor of Massachusetts, whose constitution, as to this article, seems to have been the original from which the convention have copied.

The President is to be the &quot;commander-in-chief of the army and navy of the United States, and of the militia of the several States, when called into the actual service of the United States. He is to have power to grant reprieves and pardons for offenses against the United States, except in cases of impeachment; to recommend to the consideration of Congress such measures as he shall judge necessary and expedient; to convene, on extraordinary occasions, both houses of the legislature, or either of them, and, in case of disagreement between them with respect to the time of adjournment, to adjourn them to such time as he shall think proper; to take care that the laws be faithfully executed; and to commission all officers of the United States.&quot; In most of these particulars, the power of the President will resemble equally that of the king of Great Britain and of the governor of New York. The most material points of difference are these:—First. The President will have only the occasional command of such part of the militia of the nation as by legislative provision may be called into the actual service of the Union. The king of Great Britain and the governor of New York have at all times the entire command of all the militia within their several jurisdictions. In this article, therefore, the power of the President would be inferior to that of either the monarch or the governor. Second. The President is to be commander-in-chief of the army and navy of the United States. In this respect his authority would be nominally the same with that of the king of Great Britain, but in substance much inferior to it. It would amount to nothing more than the supreme command and direction of the military and naval forces, as first General and admiral of the Confederacy; while that of the British king extends to the declaring of war and to the raising and regulating of fleets and armies—all which, by the Constitution under consideration, would appertain to the legislature. &lt;span class=&quot;footnote&quot; title=&quot;A writer in a Pennsylvania paper, under the signature of TAMONY, has asserted that the king of Great Britain owes his prerogative as commander-in-chief to an annual mutiny bill. The truth is, on the contrary, that his prerogative, in this respect, is immemorial, and was only disputed, “contrary to all reason and precedent,“ as Blackstone vol. i., page 262, expresses it, by the Long Parliament of Charles I. but by the statute the 13th of Charles II., chap. 6, it was declared to be in the king alone, for that the sole supreme government and command of the militia within his Majesty's realms and dominions, and of all forces by sea and land, and of all forts and places of strength, EVER WAS AND IS the undoubted right of his Majesty and his royal predecessors, kings and queens of England, and that both or either house of Parliament cannot nor ought to pretend to the same.&quot;&gt;(1)&lt;/span&gt; The governor of New York, on the other hand, is by the constitution of the State vested only with the command of its militia and navy. But the constitutions of several of the States expressly declare their governors to be commanders-in-chief, as well of the army as navy; and it may well be a question, whether those of New Hampshire and Massachusetts, in particular, do not, in this instance, confer larger powers upon their respective governors, than could be claimed by a President of the United States. Third. The power of the President, in respect to pardons, would extend to all cases, except those of impeachment. The governor of New York may pardon in all cases, even in those of impeachment, except for treason and murder. Is not the power of the governor, in this article, on a calculation of political consequences, greater than that of the President? All conspiracies and plots against the government, which have not been matured into actual treason, may be screened from punishment of every kind, by the interposition of the prerogative of pardoning. If a governor of New York, therefore, should be at the head of any such conspiracy, until the design had been ripened into actual hostility he could insure his accomplices and adherents an entire impunity. A President of the Union, on the other hand, though he may even pardon treason, when prosecuted in the ordinary course of law, could shelter no offender, in any degree, from the effects of impeachment and conviction. Would not the prospect of a total indemnity for all the preliminary steps be a greater temptation to undertake and persevere in an enterprise against the public liberty, than the mere prospect of an exemption from death and confiscation, if the final execution of the design, upon an actual appeal to arms, should miscarry? Would this last expectation have any influence at all, when the probability was computed, that the person who was to afford that exemption might himself be involved in the consequences of the measure, and might be incapacitated by his agency in it from affording the desired impunity? The better to judge of this matter, it will be necessary to recollect, that, by the proposed Constitution, the offense of treason is limited &quot;to levying war upon the United States, and adhering to their enemies, giving them aid and comfort&quot;; and that by the laws of New York it is confined within similar bounds. Fourth. The President can only adjourn the national legislature in the single case of disagreement about the time of adjournment. The British monarch may prorogue or even dissolve the Parliament. The governor of New York may also prorogue the legislature of this State for a limited time; a power which, in certain situations, may be employed to very important purposes.

The President is to have power, with the advice and consent of the Senate, to make treaties, provided two thirds of the senators present concur. The king of Great Britain is the sole and absolute representative of the nation in all foreign transactions. He can of his own accord make treaties of peace, commerce, alliance, and of every other description. It has been insinuated, that his authority in this respect is not conclusive, and that his conventions with foreign powers are subject to the revision, and stand in need of the ratification, of Parliament. But I believe this doctrine was never heard of, until it was broached upon the present occasion. Every jurist &lt;span class=&quot;footnote&quot; title=&quot;Vide Blackstone's Commentaries, Vol I., p. 257.&quot;&gt;(2)&lt;/span&gt; of that kingdom, and every other man acquainted with its Constitution, knows, as an established fact, that the prerogative of making treaties exists in the crown in its utmost plentitude; and that the compacts entered into by the royal authority have the most complete legal validity and perfection, independent of any other sanction. The Parliament, it is true, is sometimes seen employing itself in altering the existing laws to conform them to the stipulations in a new treaty; and this may have possibly given birth to the imagination, that its co-operation was necessary to the obligatory efficacy of the treaty. But this parliamentary interposition proceeds from a different cause: from the necessity of adjusting a most artificial and intricate system of revenue and commercial laws, to the changes made in them by the operation of the treaty; and of adapting new provisions and precautions to the new state of things, to keep the machine from running into disorder. In this respect, therefore, there is no comparison between the intended power of the President and the actual power of the British sovereign. The one can perform alone what the other can do only with the concurrence of a branch of the legislature. It must be admitted, that, in this instance, the power of the federal Executive would exceed that of any State Executive. But this arises naturally from the sovereign power which relates to treaties. If the Confederacy were to be dissolved, it would become a question, whether the Executives of the several States were not solely invested with that delicate and important prerogative.

The President is also to be authorized to receive ambassadors and other public ministers. This, though it has been a rich theme of declamation, is more a matter of dignity than of authority. It is a circumstance which will be without consequence in the administration of the government; and it was far more convenient that it should be arranged in this manner, than that there should be a necessity of convening the legislature, or one of its branches, upon every arrival of a foreign minister, though it were merely to take the place of a departed predecessor.

The President is to nominate, and, with the advice and consent of the Senate, to appoint ambassadors and other public ministers, judges of the Supreme Court, and in general all officers of the United States established by law, and whose appointments are not otherwise provided for by the Constitution. The king of Great Britain is emphatically and truly styled the fountain of honor. He not only appoints to all offices, but can create offices. He can confer titles of nobility at pleasure; and has the disposal of an immense number of church preferments. There is evidently a great inferiority in the power of the President, in this particular, to that of the British king; nor is it equal to that of the governor of New York, if we are to interpret the meaning of the constitution of the State by the practice which has obtained under it. The power of appointment is with us lodged in a council, composed of the governor and four members of the Senate, chosen by the Assembly. The governor claims, and has frequently exercised, the right of nomination, and is entitled to a casting vote in the appointment. If he really has the right of nominating, his authority is in this respect equal to that of the President, and exceeds it in the article of the casting vote. In the national government, if the Senate should be divided, no appointment could be made; in the government of New York, if the council should be divided, the governor can turn the scale, and confirm his own nomination. &lt;span class=&quot;footnote&quot; title=&quot;Candor, however, demands an acknowledgment that I do not think the claim of the governor to a right of nomination well founded. Yet it is always justifiable to reason from the practice of a government, till its propriety has been constitutionally questioned. And independent of this claim, when we take into view the other considerations, and pursue them through all their consequences, we shall be inclined to draw much the same conclusion.&quot;&gt;(3)&lt;/span&gt; If we compare the publicity which must necessarily attend the mode of appointment by the President and an entire branch of the national legislature, with the privacy in the mode of appointment by the governor of New York, closeted in a secret apartment with at most four, and frequently with only two persons; and if we at the same time consider how much more easy it must be to influence the small number of which a council of appointment consists, than the considerable number of which the national Senate would consist, we cannot hesitate to pronounce that the power of the chief magistrate of this State, in the disposition of offices, must, in practice, be greatly superior to that of the Chief Magistrate of the Union.

Hence it appears that, except as to the concurrent authority of the President in the article of treaties, it would be difficult to determine whether that magistrate would, in the aggregate, possess more or less power than the Governor of New York. And it appears yet more unequivocally, that there is no pretense for the parallel which has been attempted between him and the king of Great Britain. But to render the contrast in this respect still more striking, it may be of use to throw the principal circumstances of dissimilitude into a closer group.

The President of the United States would be an officer elected by the people for four years; the king of Great Britain is a perpetual and hereditary prince. The one would be amenable to personal punishment and disgrace; the person of the other is sacred and inviolable. The one would have a qualified negative upon the acts of the legislative body; the other has an absolute negative. The one would have a right to command the military and naval forces of the nation; the other, in addition to this right, possesses that of declaring war, and of raising and regulating fleets and armies by his own authority. The one would have a concurrent power with a branch of the legislature in the formation of treaties; the other is the sole possessor of the power of making treaties. The one would have a like concurrent authority in appointing to offices; the other is the sole author of all appointments. The one can confer no privileges whatever; the other can make denizens of aliens, noblemen of commoners; can erect corporations with all the rights incident to corporate bodies. The one can prescribe no rules concerning the commerce or currency of the nation; the other is in several respects the arbiter of commerce, and in this capacity can establish markets and fairs, can regulate weights and measures, can lay embargoes for a limited time, can coin money, can authorize or prohibit the circulation of foreign coin. The one has no particle of spiritual jurisdiction; the other is the supreme head and governor of the national church! What answer shall we give to those who would persuade us that things so unlike resemble each other? The same that ought to be given to those who tell us that a government, the whole power of which would be in the hands of the elective and periodical servants of the people, is an aristocracy, a monarchy, and a despotism.

PUBLIUS

''Footnotes''

1. A writer in a Pennsylvania paper, under the signature of TAMONY, has asserted that the king of Great Britain owes his prerogative as commander-in-chief to an annual mutiny bill. The truth is, on the contrary, that his prerogative, in this respect, is immemorial, and was only disputed, &quot;contrary to all reason and precedent,&quot; as Blackstone vol. i., page 262, expresses it, by the Long Parliament of Charles I. but by the statute the 13th of Charles II., chap. 6, it was declared to be in the king alone, for that the sole supreme government and command of the militia within his Majesty's realms and dominions, and of all forces by sea and land, and of all forts and places of strength, EVER WAS AND IS the undoubted right of his Majesty and his royal predecessors, kings and queens of England, and that both or either house of Parliament cannot nor ought to pretend to the same.

2. Vide Blackstone's Commentaries, Vol I., p. 257.

3. Candor, however, demands an acknowledgment that I do not think the claim of the governor to a right of nomination well founded. Yet it is always justifiable to reason from the practice of a government, till its propriety has been constitutionally questioned. And independent of this claim, when we take into view the other considerations, and pursue them through all their consequences, we shall be inclined to draw much the same conclusion.
</pre>
</div>
<div created="20150327175440852" modified="20150327180102457" tags="Hamilton [[Independent Journal]]" title="No. 7. The Same Subject Continued (Concerning Dangers from Dissensions Between the States)">
<pre>''For the Independent Journal. Thursday, November 15, 1787''

HAMILTON

To the People of the State of New York:

IT IS sometimes asked, with an air of seeming triumph, what inducements could the States have, if disunited, to make war upon each other? It would be a full answer to this question to say—precisely the same inducements which have, at different times, deluged in blood all the nations in the world. But, unfortunately for us, the question admits of a more particular answer. There are causes of differences within our immediate contemplation, of the tendency of which, even under the restraints of a federal constitution, we have had sufficient experience to enable us to form a judgment of what might be expected if those restraints were removed.

Territorial disputes have at all times been found one of the most fertile sources of hostility among nations. Perhaps the greatest proportion of wars that have desolated the earth have sprung from this origin. This cause would exist among us in full force. We have a vast tract of unsettled territory within the boundaries of the United States. There still are discordant and undecided claims between several of them, and the dissolution of the Union would lay a foundation for similar claims between them all. It is well known that they have heretofore had serious and animated discussion concerning the rights to the lands which were ungranted at the time of the Revolution, and which usually went under the name of crown lands. The States within the limits of whose colonial governments they were comprised have claimed them as their property, the others have contended that the rights of the crown in this article devolved upon the Union; especially as to all that part of the Western territory which, either by actual possession, or through the submission of the Indian proprietors, was subjected to the jurisdiction of the king of Great Britain, till it was relinquished in the treaty of peace. This, it has been said, was at all events an acquisition to the Confederacy by compact with a foreign power. It has been the prudent policy of Congress to appease this controversy, by prevailing upon the States to make cessions to the United States for the benefit of the whole. This has been so far accomplished as, under a continuation of the Union, to afford a decided prospect of an amicable termination of the dispute. A dismemberment of the Confederacy, however, would revive this dispute, and would create others on the same subject. At present, a large part of the vacant Western territory is, by cession at least, if not by any anterior right, the common property of the Union. If that were at an end, the States which made the cession, on a principle of federal compromise, would be apt when the motive of the grant had ceased, to reclaim the lands as a reversion. The other States would no doubt insist on a proportion, by right of representation. Their argument would be, that a grant, once made, could not be revoked; and that the justice of participating in territory acquired or secured by the joint efforts of the Confederacy, remained undiminished. If, contrary to probability, it should be admitted by all the States, that each had a right to a share of this common stock, there would still be a difficulty to be surmounted, as to a proper rule of apportionment. Different principles would be set up by different States for this purpose; and as they would affect the opposite interests of the parties, they might not easily be susceptible of a pacific adjustment.

In the wide field of Western territory, therefore, we perceive an ample theatre for hostile pretensions, without any umpire or common judge to interpose between the contending parties. To reason from the past to the future, we shall have good ground to apprehend, that the sword would sometimes be appealed to as the arbiter of their differences. The circumstances of the dispute between Connecticut and Pennsylvania, respecting the land at Wyoming, admonish us not to be sanguine in expecting an easy accommodation of such differences. The articles of confederation obliged the parties to submit the matter to the decision of a federal court. The submission was made, and the court decided in favor of Pennsylvania. But Connecticut gave strong indications of dissatisfaction with that determination; nor did she appear to be entirely resigned to it, till, by negotiation and management, something like an equivalent was found for the loss she supposed herself to have sustained. Nothing here said is intended to convey the slightest censure on the conduct of that State. She no doubt sincerely believed herself to have been injured by the decision; and States, like individuals, acquiesce with great reluctance in determinations to their disadvantage.

Those who had an opportunity of seeing the inside of the transactions which attended the progress of the controversy between this State and the district of Vermont, can vouch the opposition we experienced, as well from States not interested as from those which were interested in the claim; and can attest the danger to which the peace of the Confederacy might have been exposed, had this State attempted to assert its rights by force. Two motives preponderated in that opposition: one, a jealousy entertained of our future power; and the other, the interest of certain individuals of influence in the neighboring States, who had obtained grants of lands under the actual government of that district. Even the States which brought forward claims, in contradiction to ours, seemed more solicitous to dismember this State, than to establish their own pretensions. These were New Hampshire, Massachusetts, and Connecticut. New Jersey and Rhode Island, upon all occasions, discovered a warm zeal for the independence of Vermont; and Maryland, till alarmed by the appearance of a connection between Canada and that State, entered deeply into the same views. These being small States, saw with an unfriendly eye the perspective of our growing greatness. In a review of these transactions we may trace some of the causes which would be likely to embroil the States with each other, if it should be their unpropitious destiny to become disunited.

The competitions of commerce would be another fruitful source of contention. The States less favorably circumstanced would be desirous of escaping from the disadvantages of local situation, and of sharing in the advantages of their more fortunate neighbors. Each State, or separate confederacy, would pursue a system of commercial policy peculiar to itself. This would occasion distinctions, preferences, and exclusions, which would beget discontent. The habits of intercourse, on the basis of equal privileges, to which we have been accustomed since the earliest settlement of the country, would give a keener edge to those causes of discontent than they would naturally have independent of this circumstance. WE SHOULD BE READY TO DENOMINATE INJURIES THOSE THINGS WHICH WERE IN REALITY THE JUSTIFIABLE ACTS OF INDEPENDENT SOVEREIGNTIES CONSULTING A DISTINCT INTEREST. The spirit of enterprise, which characterizes the commercial part of America, has left no occasion of displaying itself unimproved. It is not at all probable that this unbridled spirit would pay much respect to those regulations of trade by which particular States might endeavor to secure exclusive benefits to their own citizens. The infractions of these regulations, on one side, the efforts to prevent and repel them, on the other, would naturally lead to outrages, and these to reprisals and wars.

The opportunities which some States would have of rendering others tributary to them by commercial regulations would be impatiently submitted to by the tributary States. The relative situation of New York, Connecticut, and New Jersey would afford an example of this kind. New York, from the necessities of revenue, must lay duties on her importations. A great part of these duties must be paid by the inhabitants of the two other States in the capacity of consumers of what we import. New York would neither be willing nor able to forego this advantage. Her citizens would not consent that a duty paid by them should be remitted in favor of the citizens of her neighbors; nor would it be practicable, if there were not this impediment in the way, to distinguish the customers in our own markets. Would Connecticut and New Jersey long submit to be taxed by New York for her exclusive benefit? Should we be long permitted to remain in the quiet and undisturbed enjoyment of a metropolis, from the possession of which we derived an advantage so odious to our neighbors, and, in their opinion, so oppressive? Should we be able to preserve it against the incumbent weight of Connecticut on the one side, and the co-operating pressure of New Jersey on the other? These are questions that temerity alone will answer in the affirmative.

The public debt of the Union would be a further cause of collision between the separate States or confederacies. The apportionment, in the first instance, and the progressive extinguishment afterward, would be alike productive of ill-humor and animosity. How would it be possible to agree upon a rule of apportionment satisfactory to all? There is scarcely any that can be proposed which is entirely free from real objections. These, as usual, would be exaggerated by the adverse interest of the parties. There are even dissimilar views among the States as to the general principle of discharging the public debt. Some of them, either less impressed with the importance of national credit, or because their citizens have little, if any, immediate interest in the question, feel an indifference, if not a repugnance, to the payment of the domestic debt at any rate. These would be inclined to magnify the difficulties of a distribution. Others of them, a numerous body of whose citizens are creditors to the public beyond proportion of the State in the total amount of the national debt, would be strenuous for some equitable and effective provision. The procrastinations of the former would excite the resentments of the latter. The settlement of a rule would, in the meantime, be postponed by real differences of opinion and affected delays. The citizens of the States interested would clamour; foreign powers would urge for the satisfaction of their just demands, and the peace of the States would be hazarded to the double contingency of external invasion and internal contention.

Suppose the difficulties of agreeing upon a rule surmounted, and the apportionment made. Still there is great room to suppose that the rule agreed upon would, upon experiment, be found to bear harder upon some States than upon others. Those which were sufferers by it would naturally seek for a mitigation of the burden. The others would as naturally be disinclined to a revision, which was likely to end in an increase of their own incumbrances. Their refusal would be too plausible a pretext to the complaining States to withhold their contributions, not to be embraced with avidity; and the non-compliance of these States with their engagements would be a ground of bitter discussion and altercation. If even the rule adopted should in practice justify the equality of its principle, still delinquencies in payments on the part of some of the States would result from a diversity of other causes—the real deficiency of resources; the mismanagement of their finances; accidental disorders in the management of the government; and, in addition to the rest, the reluctance with which men commonly part with money for purposes that have outlived the exigencies which produced them, and interfere with the supply of immediate wants. Delinquencies, from whatever causes, would be productive of complaints, recriminations, and quarrels. There is, perhaps, nothing more likely to disturb the tranquillity of nations than their being bound to mutual contributions for any common object that does not yield an equal and coincident benefit. For it is an observation, as true as it is trite, that there is nothing men differ so readily about as the payment of money.

Laws in violation of private contracts, as they amount to aggressions on the rights of those States whose citizens are injured by them, may be considered as another probable source of hostility. We are not authorized to expect that a more liberal or more equitable spirit would preside over the legislations of the individual States hereafter, if unrestrained by any additional checks, than we have heretofore seen in too many instances disgracing their several codes. We have observed the disposition to retaliation excited in Connecticut in consequence of the enormities perpetrated by the Legislature of Rhode Island; and we reasonably infer that, in similar cases, under other circumstances, a war, not of PARCHMENT, but of the sword, would chastise such atrocious breaches of moral obligation and social justice.

The probability of incompatible alliances between the different States or confederacies and different foreign nations, and the effects of this situation upon the peace of the whole, have been sufficiently unfolded in some preceding papers. From the view they have exhibited of this part of the subject, this conclusion is to be drawn, that America, if not connected at all, or only by the feeble tie of a simple league, offensive and defensive, would, by the operation of such jarring alliances, be gradually entangled in all the pernicious labyrinths of European politics and wars; and by the destructive contentions of the parts into which she was divided, would be likely to become a prey to the artifices and machinations of powers equally the enemies of them all. Divide et impera &lt;span class=&quot;footnote&quot; title=&quot;Divide and command.&quot;&gt;(1)&lt;/span&gt; must be the motto of every nation that either hates or fears us. &lt;span class=&quot;footnote&quot; title=&quot;In order that the whole subject of these papers may as soon as possible be laid before the public, it is proposed to publish them four times a week—on Tuesday in the New York Packet and on Thursday in the Daily Advertiser.&quot;&gt;(2)&lt;/span&gt;

PUBLIUS

''Footnotes''

1. Divide and command.

2. In order that the whole subject of these papers may as soon as possible be laid before the public, it is proposed to publish them four times a week—on Tuesday in the New York Packet and on Thursday in the Daily Advertiser.</pre>
</div>
<div created="20150327204041690" modified="20150327204421089" tags="Hamilton [[Independent Journal]]" title="No. 70. The Executive Department Further Considered">
<pre>''From The Independent Journal. Saturday, March 15, 1788.''

HAMILTON

To the People of the State of New York:

THERE is an idea, which is not without its advocates, that a vigorous Executive is inconsistent with the genius of republican government. The enlightened well-wishers to this species of government must at least hope that the supposition is destitute of foundation; since they can never admit its truth, without at the same time admitting the condemnation of their own principles. Energy in the Executive is a leading character in the definition of good government. It is essential to the protection of the community against foreign attacks; it is not less essential to the steady administration of the laws; to the protection of property against those irregular and high-handed combinations which sometimes interrupt the ordinary course of justice; to the security of liberty against the enterprises and assaults of ambition, of faction, and of anarchy. Every man the least conversant in Roman story, knows how often that republic was obliged to take refuge in the absolute power of a single man, under the formidable title of Dictator, as well against the intrigues of ambitious individuals who aspired to the tyranny, and the seditions of whole classes of the community whose conduct threatened the existence of all government, as against the invasions of external enemies who menaced the conquest and destruction of Rome.

There can be no need, however, to multiply arguments or examples on this head. A feeble Executive implies a feeble execution of the government. A feeble execution is but another phrase for a bad execution; and a government ill executed, whatever it may be in theory, must be, in practice, a bad government.

Taking it for granted, therefore, that all men of sense will agree in the necessity of an energetic Executive, it will only remain to inquire, what are the ingredients which constitute this energy? How far can they be combined with those other ingredients which constitute safety in the republican sense? And how far does this combination characterize the plan which has been reported by the convention?

The ingredients which constitute energy in the Executive are, first, unity; secondly, duration; thirdly, an adequate provision for its support; fourthly, competent powers.

The ingredients which constitute safety in the republican sense are, first, a due dependence on the people, secondly, a due responsibility.

Those politicians and statesmen who have been the most celebrated for the soundness of their principles and for the justice of their views, have declared in favor of a single Executive and a numerous legislature. They have with great propriety, considered energy as the most necessary qualification of the former, and have regarded this as most applicable to power in a single hand, while they have, with equal propriety, considered the latter as best adapted to deliberation and wisdom, and best calculated to conciliate the confidence of the people and to secure their privileges and interests.

That unity is conducive to energy will not be disputed. Decision, activity, secrecy, and despatch will generally characterize the proceedings of one man in a much more eminent degree than the proceedings of any greater number; and in proportion as the number is increased, these qualities will be diminished.

This unity may be destroyed in two ways: either by vesting the power in two or more magistrates of equal dignity and authority; or by vesting it ostensibly in one man, subject, in whole or in part, to the control and co-operation of others, in the capacity of counsellors to him. Of the first, the two Consuls of Rome may serve as an example; of the last, we shall find examples in the constitutions of several of the States. New York and New Jersey, if I recollect right, are the only States which have intrusted the executive authority wholly to single men. &lt;span class=&quot;footnote&quot; title=&quot;New York has no council except for the single purpose of appointing to offices; New Jersey has a council whom the governor may consult. But I think, from the terms of the constitution, their resolutions do not bind him.&quot;&gt;(1)&lt;/span&gt; Both these methods of destroying the unity of the Executive have their partisans; but the votaries of an executive council are the most numerous. They are both liable, if not to equal, to similar objections, and may in most lights be examined in conjunction.

The experience of other nations will afford little instruction on this head. As far, however, as it teaches any thing, it teaches us not to be enamoured of plurality in the Executive. We have seen that the Achaeans, on an experiment of two Praetors, were induced to abolish one. The Roman history records many instances of mischiefs to the republic from the dissensions between the Consuls, and between the military Tribunes, who were at times substituted for the Consuls. But it gives us no specimens of any peculiar advantages derived to the state from the circumstance of the plurality of those magistrates. That the dissensions between them were not more frequent or more fatal, is a matter of astonishment, until we advert to the singular position in which the republic was almost continually placed, and to the prudent policy pointed out by the circumstances of the state, and pursued by the Consuls, of making a division of the government between them. The patricians engaged in a perpetual struggle with the plebeians for the preservation of their ancient authorities and dignities; the Consuls, who were generally chosen out of the former body, were commonly united by the personal interest they had in the defense of the privileges of their order. In addition to this motive of union, after the arms of the republic had considerably expanded the bounds of its empire, it became an established custom with the Consuls to divide the administration between themselves by lot—one of them remaining at Rome to govern the city and its environs, the other taking the command in the more distant provinces. This expedient must, no doubt, have had great influence in preventing those collisions and rivalships which might otherwise have embroiled the peace of the republic.

But quitting the dim light of historical research, attaching ourselves purely to the dictates of reason and good sense, we shall discover much greater cause to reject than to approve the idea of plurality in the Executive, under any modification whatever.

Wherever two or more persons are engaged in any common enterprise or pursuit, there is always danger of difference of opinion. If it be a public trust or office, in which they are clothed with equal dignity and authority, there is peculiar danger of personal emulation and even animosity. From either, and especially from all these causes, the most bitter dissensions are apt to spring. Whenever these happen, they lessen the respectability, weaken the authority, and distract the plans and operation of those whom they divide. If they should unfortunately assail the supreme executive magistracy of a country, consisting of a plurality of persons, they might impede or frustrate the most important measures of the government, in the most critical emergencies of the state. And what is still worse, they might split the community into the most violent and irreconcilable factions, adhering differently to the different individuals who composed the magistracy.

Men often oppose a thing, merely because they have had no agency in planning it, or because it may have been planned by those whom they dislike. But if they have been consulted, and have happened to disapprove, opposition then becomes, in their estimation, an indispensable duty of self-love. They seem to think themselves bound in honor, and by all the motives of personal infallibility, to defeat the success of what has been resolved upon contrary to their sentiments. Men of upright, benevolent tempers have too many opportunities of remarking, with horror, to what desperate lengths this disposition is sometimes carried, and how often the great interests of society are sacrificed to the vanity, to the conceit, and to the obstinacy of individuals, who have credit enough to make their passions and their caprices interesting to mankind. Perhaps the question now before the public may, in its consequences, afford melancholy proofs of the effects of this despicable frailty, or rather detestable vice, in the human character.

Upon the principles of a free government, inconveniences from the source just mentioned must necessarily be submitted to in the formation of the legislature; but it is unnecessary, and therefore unwise, to introduce them into the constitution of the Executive. It is here too that they may be most pernicious. In the legislature, promptitude of decision is oftener an evil than a benefit. The differences of opinion, and the jarrings of parties in that department of the government, though they may sometimes obstruct salutary plans, yet often promote deliberation and circumspection, and serve to check excesses in the majority. When a resolution too is once taken, the opposition must be at an end. That resolution is a law, and resistance to it punishable. But no favorable circumstances palliate or atone for the disadvantages of dissension in the executive department. Here, they are pure and unmixed. There is no point at which they cease to operate. They serve to embarrass and weaken the execution of the plan or measure to which they relate, from the first step to the final conclusion of it. They constantly counteract those qualities in the Executive which are the most necessary ingredients in its composition—vigor and expedition, and this without any counterbalancing good. In the conduct of war, in which the energy of the Executive is the bulwark of the national security, every thing would be to be apprehended from its plurality.

It must be confessed that these observations apply with principal weight to the first case supposed—that is, to a plurality of magistrates of equal dignity and authority a scheme, the advocates for which are not likely to form a numerous sect; but they apply, though not with equal, yet with considerable weight to the project of a council, whose concurrence is made constitutionally necessary to the operations of the ostensible Executive. An artful cabal in that council would be able to distract and to enervate the whole system of administration. If no such cabal should exist, the mere diversity of views and opinions would alone be sufficient to tincture the exercise of the executive authority with a spirit of habitual feebleness and dilatoriness.

(But one of the weightiest objections to a plurality in the Executive, and which lies as much against the last as the first plan, is, that it tends to conceal faults and destroy responsibility. Responsibility is of two kinds—to censure and to punishment. The first is the more important of the two, especially in an elective office. Man, in public trust, will much oftener act in such a manner as to render him unworthy of being any longer trusted, than in such a manner as to make him obnoxious to legal punishment. But the multiplication of the Executive adds to the difficulty of detection in either case. It often becomes impossible, amidst mutual accusations, to determine on whom the blame or the punishment of a pernicious measure, or series of pernicious measures, ought really to fall. It is shifted from one to another with so much dexterity, and under such plausible appearances, that the public opinion is left in suspense about the real author. The circumstances which may have led to any national miscarriage or misfortune are sometimes so complicated that, where there are a number of actors who may have had different degrees and kinds of agency, though we may clearly see upon the whole that there has been mismanagement, yet it may be impracticable to pronounce to whose account the evil which may have been incurred is truly chargeable.) &lt;span class=&quot;footnote&quot; title=&quot;Two versions of these paragraphs appear in different editions.&quot;&gt;(E1)&lt;/span&gt;

(But one of the weightiest objections to a plurality in the Executive, and which lies as much against the last as the first plan, is, that it tends to conceal faults and destroy responsibility.

Responsibility is of two kinds—to censure and to punishment. The first is the more important of the two, especially in an elective office. Man, in public trust, will much oftener act in such a manner as to render him unworthy of being any longer trusted, than in such a manner as to make him obnoxious to legal punishment. But the multiplication of the Executive adds to the difficulty of detection in either case. It often becomes impossible, amidst mutual accusations, to determine on whom the blame or the punishment of a pernicious measure, or series of pernicious measures, ought really to fall. It is shifted from one to another with so much dexterity, and under such plausible appearances, that the public opinion is left in suspense about the real author. The circumstances which may have led to any national miscarriage or misfortune are sometimes so complicated that, where there are a number of actors who may have had different degrees and kinds of agency, though we may clearly see upon the whole that there has been mismanagement, yet it may be impracticable to pronounce to whose account the evil which may have been incurred is truly chargeable.) &lt;span class=&quot;footnote&quot; title=&quot;Two versions of these paragraphs appear in different editions.&quot;&gt;(E1)&lt;/span&gt;

&quot;I was overruled by my council. The council were so divided in their opinions that it was impossible to obtain any better resolution on the point.&quot; These and similar pretexts are constantly at hand, whether true or false. And who is there that will either take the trouble or incur the odium, of a strict scrutiny into the secret springs of the transaction? Should there be found a citizen zealous enough to undertake the unpromising task, if there happen to be collusion between the parties concerned, how easy it is to clothe the circumstances with so much ambiguity, as to render it uncertain what was the precise conduct of any of those parties?

In the single instance in which the governor of this State is coupled with a council—that is, in the appointment to offices, we have seen the mischiefs of it in the view now under consideration. Scandalous appointments to important offices have been made. Some cases, indeed, have been so flagrant that ALL PARTIES have agreed in the impropriety of the thing. When inquiry has been made, the blame has been laid by the governor on the members of the council, who, on their part, have charged it upon his nomination; while the people remain altogether at a loss to determine, by whose influence their interests have been committed to hands so unqualified and so manifestly improper. In tenderness to individuals, I forbear to descend to particulars.

It is evident from these considerations, that the plurality of the Executive tends to deprive the people of the two greatest securities they can have for the faithful exercise of any delegated power, first, the restraints of public opinion, which lose their efficacy, as well on account of the division of the censure attendant on bad measures among a number, as on account of the uncertainty on whom it ought to fall; and, second, the opportunity of discovering with facility and clearness the misconduct of the persons they trust, in order either to their removal from office or to their actual punishment in cases which admit of it.

In England, the king is a perpetual magistrate; and it is a maxim which has obtained for the sake of the public peace, that he is unaccountable for his administration, and his person sacred. Nothing, therefore, can be wiser in that kingdom, than to annex to the king a constitutional council, who may be responsible to the nation for the advice they give. Without this, there would be no responsibility whatever in the executive department an idea inadmissible in a free government. But even there the king is not bound by the resolutions of his council, though they are answerable for the advice they give. He is the absolute master of his own conduct in the exercise of his office, and may observe or disregard the counsel given to him at his sole discretion.

But in a republic, where every magistrate ought to be personally responsible for his behavior in office the reason which in the British Constitution dictates the propriety of a council, not only ceases to apply, but turns against the institution. In the monarchy of Great Britain, it furnishes a substitute for the prohibited responsibility of the chief magistrate, which serves in some degree as a hostage to the national justice for his good behavior. In the American republic, it would serve to destroy, or would greatly diminish, the intended and necessary responsibility of the Chief Magistrate himself.

The idea of a council to the Executive, which has so generally obtained in the State constitutions, has been derived from that maxim of republican jealousy which considers power as safer in the hands of a number of men than of a single man. If the maxim should be admitted to be applicable to the case, I should contend that the advantage on that side would not counterbalance the numerous disadvantages on the opposite side. But I do not think the rule at all applicable to the executive power. I clearly concur in opinion, in this particular, with a writer whom the celebrated Junius pronounces to be &quot;deep, solid, and ingenious,&quot; that &quot;the executive power is more easily confined when it is ONE&quot;; &lt;span class=&quot;footnote&quot; title=&quot;De Lolme.&quot;&gt;(2)&lt;/span&gt; that it is far more safe there should be a single object for the jealousy and watchfulness of the people; and, in a word, that all multiplication of the Executive is rather dangerous than friendly to liberty.

A little consideration will satisfy us, that the species of security sought for in the multiplication of the Executive, is unattainable. Numbers must be so great as to render combination difficult, or they are rather a source of danger than of security. The united credit and influence of several individuals must be more formidable to liberty, than the credit and influence of either of them separately. When power, therefore, is placed in the hands of so small a number of men, as to admit of their interests and views being easily combined in a common enterprise, by an artful leader, it becomes more liable to abuse, and more dangerous when abused, than if it be lodged in the hands of one man; who, from the very circumstance of his being alone, will be more narrowly watched and more readily suspected, and who cannot unite so great a mass of influence as when he is associated with others. The Decemvirs of Rome, whose name denotes their number, &lt;span class=&quot;footnote&quot; title=&quot;Ten.&quot;&gt;(3)&lt;/span&gt; were more to be dreaded in their usurpation than any ONE of them would have been. No person would think of proposing an Executive much more numerous than that body; from six to a dozen have been suggested for the number of the council. The extreme of these numbers, is not too great for an easy combination; and from such a combination America would have more to fear, than from the ambition of any single individual. A council to a magistrate, who is himself responsible for what he does, are generally nothing better than a clog upon his good intentions, are often the instruments and accomplices of his bad and are almost always a cloak to his faults.

I forbear to dwell upon the subject of expense; though it be evident that if the council should be numerous enough to answer the principal end aimed at by the institution, the salaries of the members, who must be drawn from their homes to reside at the seat of government, would form an item in the catalogue of public expenditures too serious to be incurred for an object of equivocal utility. I will only add that, prior to the appearance of the Constitution, I rarely met with an intelligent man from any of the States, who did not admit, as the result of experience, that the UNITY of the executive of this State was one of the best of the distinguishing features of our constitution.

PUBLIUS

''Footnotes''

1. New York has no council except for the single purpose of appointing to offices; New Jersey has a council whom the governor may consult. But I think, from the terms of the constitution, their resolutions do not bind him.

2. De Lolme.

3. Ten.

E1. Two versions of these paragraphs appear in different editions.
</pre>
</div>
<div created="20150327204545371" modified="20150327204704057" tags="Hamilton [[New York Packet]]" title="No. 71. The Duration in Office of the Executive">
<pre>''From the New York Packet. Tuesday, March 18, 1788.''

HAMILTON

To the People of the State of New York:

DURATION in office has been mentioned as the second requisite to the energy of the Executive authority. This has relation to two objects: to the personal firmness of the executive magistrate, in the employment of his constitutional powers; and to the stability of the system of administration which may have been adopted under his auspices. With regard to the first, it must be evident, that the longer the duration in office, the greater will be the probability of obtaining so important an advantage. It is a general principle of human nature, that a man will be interested in whatever he possesses, in proportion to the firmness or precariousness of the tenure by which he holds it; will be less attached to what he holds by a momentary or uncertain title, than to what he enjoys by a durable or certain title; and, of course, will be willing to risk more for the sake of the one, than for the sake of the other. This remark is not less applicable to a political privilege, or honor, or trust, than to any article of ordinary property. The inference from it is, that a man acting in the capacity of chief magistrate, under a consciousness that in a very short time he MUST lay down his office, will be apt to feel himself too little interested in it to hazard any material censure or perplexity, from the independent exertion of his powers, or from encountering the ill-humors, however transient, which may happen to prevail, either in a considerable part of the society itself, or even in a predominant faction in the legislative body. If the case should only be, that he MIGHT lay it down, unless continued by a new choice, and if he should be desirous of being continued, his wishes, conspiring with his fears, would tend still more powerfully to corrupt his integrity, or debase his fortitude. In either case, feebleness and irresolution must be the characteristics of the station.

There are some who would be inclined to regard the servile pliancy of the Executive to a prevailing current, either in the community or in the legislature, as its best recommendation. But such men entertain very crude notions, as well of the purposes for which government was instituted, as of the true means by which the public happiness may be promoted. The republican principle demands that the deliberate sense of the community should govern the conduct of those to whom they intrust the management of their affairs; but it does not require an unqualified complaisance to every sudden breeze of passion, or to every transient impulse which the people may receive from the arts of men, who flatter their prejudices to betray their interests. It is a just observation, that the people commonly INTEND the PUBLIC GOOD. This often applies to their very errors. But their good sense would despise the adulator who should pretend that they always REASON RIGHT about the MEANS of promoting it. They know from experience that they sometimes err; and the wonder is that they so seldom err as they do, beset, as they continually are, by the wiles of parasites and sycophants, by the snares of the ambitious, the avaricious, the desperate, by the artifices of men who possess their confidence more than they deserve it, and of those who seek to possess rather than to deserve it. When occasions present themselves, in which the interests of the people are at variance with their inclinations, it is the duty of the persons whom they have appointed to be the guardians of those interests, to withstand the temporary delusion, in order to give them time and opportunity for more cool and sedate reflection. Instances might be cited in which a conduct of this kind has saved the people from very fatal consequences of their own mistakes, and has procured lasting monuments of their gratitude to the men who had courage and magnanimity enough to serve them at the peril of their displeasure.

But however inclined we might be to insist upon an unbounded complaisance in the Executive to the inclinations of the people, we can with no propriety contend for a like complaisance to the humors of the legislature. The latter may sometimes stand in opposition to the former, and at other times the people may be entirely neutral. In either supposition, it is certainly desirable that the Executive should be in a situation to dare to act his own opinion with vigor and decision.

The same rule which teaches the propriety of a partition between the various branches of power, teaches us likewise that this partition ought to be so contrived as to render the one independent of the other. To what purpose separate the executive or the judiciary from the legislative, if both the executive and the judiciary are so constituted as to be at the absolute devotion of the legislative? Such a separation must be merely nominal, and incapable of producing the ends for which it was established. It is one thing to be subordinate to the laws, and another to be dependent on the legislative body. The first comports with, the last violates, the fundamental principles of good government; and, whatever may be the forms of the Constitution, unites all power in the same hands. The tendency of the legislative authority to absorb every other, has been fully displayed and illustrated by examples in some preceding numbers. In governments purely republican, this tendency is almost irresistible. The representatives of the people, in a popular assembly, seem sometimes to fancy that they are the people themselves, and betray strong symptoms of impatience and disgust at the least sign of opposition from any other quarter; as if the exercise of its rights, by either the executive or judiciary, were a breach of their privilege and an outrage to their dignity. They often appear disposed to exert an imperious control over the other departments; and as they commonly have the people on their side, they always act with such momentum as to make it very difficult for the other members of the government to maintain the balance of the Constitution.

It may perhaps be asked, how the shortness of the duration in office can affect the independence of the Executive on the legislature, unless the one were possessed of the power of appointing or displacing the other. One answer to this inquiry may be drawn from the principle already remarked that is, from the slender interest a man is apt to take in a short-lived advantage, and the little inducement it affords him to expose himself, on account of it, to any considerable inconvenience or hazard. Another answer, perhaps more obvious, though not more conclusive, will result from the consideration of the influence of the legislative body over the people; which might be employed to prevent the re-election of a man who, by an upright resistance to any sinister project of that body, should have made himself obnoxious to its resentment.

It may be asked also, whether a duration of four years would answer the end proposed; and if it would not, whether a less period, which would at least be recommended by greater security against ambitious designs, would not, for that reason, be preferable to a longer period, which was, at the same time, too short for the purpose of inspiring the desired firmness and independence of the magistrate.

It cannot be affirmed, that a duration of four years, or any other limited duration, would completely answer the end proposed; but it would contribute towards it in a degree which would have a material influence upon the spirit and character of the government. Between the commencement and termination of such a period, there would always be a considerable interval, in which the prospect of annihilation would be sufficiently remote, not to have an improper effect upon the conduct of a man indued with a tolerable portion of fortitude; and in which he might reasonably promise himself, that there would be time enough before it arrived, to make the community sensible of the propriety of the measures he might incline to pursue. Though it be probable that, as he approached the moment when the public were, by a new election, to signify their sense of his conduct, his confidence, and with it his firmness, would decline; yet both the one and the other would derive support from the opportunities which his previous continuance in the station had afforded him, of establishing himself in the esteem and good-will of his constituents. He might, then, hazard with safety, in proportion to the proofs he had given of his wisdom and integrity, and to the title he had acquired to the respect and attachment of his fellow-citizens. As, on the one hand, a duration of four years will contribute to the firmness of the Executive in a sufficient degree to render it a very valuable ingredient in the composition; so, on the other, it is not enough to justify any alarm for the public liberty. If a British House of Commons, from the most feeble beginnings, FROM THE MERE POWER OF ASSENTING OR DISAGREEING TO THE IMPOSITION OF A NEW TAX, have, by rapid strides, reduced the prerogatives of the crown and the privileges of the nobility within the limits they conceived to be compatible with the principles of a free government, while they raised themselves to the rank and consequence of a coequal branch of the legislature; if they have been able, in one instance, to abolish both the royalty and the aristocracy, and to overturn all the ancient establishments, as well in the Church as State; if they have been able, on a recent occasion, to make the monarch tremble at the prospect of an innovation &lt;span class=&quot;footnote&quot; title=&quot;This was the case with respect to Mr. Fox's India bill, which was carried in the House of Commons, and rejected in the House of Lords, to the entire satisfaction, as it is said, of the people.&quot;&gt;(1)&lt;/span&gt; attempted by them, what would be to be feared from an elective magistrate of four years' duration, with the confined authorities of a President of the United States? What, but that he might be unequal to the task which the Constitution assigns him? I shall only add, that if his duration be such as to leave a doubt of his firmness, that doubt is inconsistent with a jealousy of his encroachments.

PUBLIUS

''Footnote''

1. This was the case with respect to Mr. Fox's India bill, which was carried in the House of Commons, and rejected in the House of Lords, to the entire satisfaction, as it is said, of the people.</pre>
</div>
<div created="20150327204746069" modified="20150327204848282" tags="Hamilton [[Independent Journal]]" title="No. 72. The Same Subject Continued, and Re-Eligibility of the Executive Considered.">
<pre>''From The Independent Journal. Wednesday, March 19, 1788.''

HAMILTON

To the People of the State of New York:

THE administration of government, in its largest sense, comprehends all the operations of the body politic, whether legislative, executive, or judiciary; but in its most usual, and perhaps its most precise signification. it is limited to executive details, and falls peculiarly within the province of the executive department. The actual conduct of foreign negotiations, the preparatory plans of finance, the application and disbursement of the public moneys in conformity to the general appropriations of the legislature, the arrangement of the army and navy, the directions of the operations of war—these, and other matters of a like nature, constitute what seems to be most properly understood by the administration of government. The persons, therefore, to whose immediate management these different matters are committed, ought to be considered as the assistants or deputies of the chief magistrate, and on this account, they ought to derive their offices from his appointment, at least from his nomination, and ought to be subject to his superintendence. This view of the subject will at once suggest to us the intimate connection between the duration of the executive magistrate in office and the stability of the system of administration. To reverse and undo what has been done by a predecessor, is very often considered by a successor as the best proof he can give of his own capacity and desert; and in addition to this propensity, where the alteration has been the result of public choice, the person substituted is warranted in supposing that the dismission of his predecessor has proceeded from a dislike to his measures; and that the less he resembles him, the more he will recommend himself to the favor of his constituents. These considerations, and the influence of personal confidences and attachments, would be likely to induce every new President to promote a change of men to fill the subordinate stations; and these causes together could not fail to occasion a disgraceful and ruinous mutability in the administration of the government.

With a positive duration of considerable extent, I connect the circumstance of re-eligibility. The first is necessary to give to the officer himself the inclination and the resolution to act his part well, and to the community time and leisure to observe the tendency of his measures, and thence to form an experimental estimate of their merits. The last is necessary to enable the people, when they see reason to approve of his conduct, to continue him in his station, in order to prolong the utility of his talents and virtues, and to secure to the government the advantage of permanency in a wise system of administration.

Nothing appears more plausible at first sight, nor more ill-founded upon close inspection, than a scheme which in relation to the present point has had some respectable advocates—I mean that of continuing the chief magistrate in office for a certain time, and then excluding him from it, either for a limited period or forever after. This exclusion, whether temporary or perpetual, would have nearly the same effects, and these effects would be for the most part rather pernicious than salutary.

One ill effect of the exclusion would be a diminution of the inducements to good behavior. There are few men who would not feel much less zeal in the discharge of a duty when they were conscious that the advantages of the station with which it was connected must be relinquished at a determinate period, than when they were permitted to entertain a hope of obtaining, by meriting, a continuance of them. This position will not be disputed so long as it is admitted that the desire of reward is one of the strongest incentives of human conduct; or that the best security for the fidelity of mankind is to make their interests coincide with their duty. Even the love of fame, the ruling passion of the noblest minds, which would prompt a man to plan and undertake extensive and arduous enterprises for the public benefit, requiring considerable time to mature and perfect them, if he could flatter himself with the prospect of being allowed to finish what he had begun, would, on the contrary, deter him from the undertaking, when he foresaw that he must quit the scene before he could accomplish the work, and must commit that, together with his own reputation, to hands which might be unequal or unfriendly to the task. The most to be expected from the generality of men, in such a situation, is the negative merit of not doing harm, instead of the positive merit of doing good.

Another ill effect of the exclusion would be the temptation to sordid views, to peculation, and, in some instances, to usurpation. An avaricious man, who might happen to fill the office, looking forward to a time when he must at all events yield up the emoluments he enjoyed, would feel a propensity, not easy to be resisted by such a man, to make the best use of the opportunity he enjoyed while it lasted, and might not scruple to have recourse to the most corrupt expedients to make the harvest as abundant as it was transitory; though the same man, probably, with a different prospect before him, might content himself with the regular perquisites of his situation, and might even be unwilling to risk the consequences of an abuse of his opportunities. His avarice might be a guard upon his avarice. Add to this that the same man might be vain or ambitious, as well as avaricious. And if he could expect to prolong his honors by his good conduct, he might hesitate to sacrifice his appetite for them to his appetite for gain. But with the prospect before him of approaching an inevitable annihilation, his avarice would be likely to get the victory over his caution, his vanity, or his ambition.

An ambitious man, too, when he found himself seated on the summit of his country's honors, when he looked forward to the time at which he must descend from the exalted eminence for ever, and reflected that no exertion of merit on his part could save him from the unwelcome reverse; such a man, in such a situation, would be much more violently tempted to embrace a favorable conjuncture for attempting the prolongation of his power, at every personal hazard, than if he had the probability of answering the same end by doing his duty.

Would it promote the peace of the community, or the stability of the government to have half a dozen men who had had credit enough to be raised to the seat of the supreme magistracy, wandering among the people like discontented ghosts, and sighing for a place which they were destined never more to possess?

A third ill effect of the exclusion would be, the depriving the community of the advantage of the experience gained by the chief magistrate in the exercise of his office. That experience is the parent of wisdom, is an adage the truth of which is recognized by the wisest as well as the simplest of mankind. What more desirable or more essential than this quality in the governors of nations? Where more desirable or more essential than in the first magistrate of a nation? Can it be wise to put this desirable and essential quality under the ban of the Constitution, and to declare that the moment it is acquired, its possessor shall be compelled to abandon the station in which it was acquired, and to which it is adapted? This, nevertheless, is the precise import of all those regulations which exclude men from serving their country, by the choice of their fellowcitizens, after they have by a course of service fitted themselves for doing it with a greater degree of utility.

A fourth ill effect of the exclusion would be the banishing men from stations in which, in certain emergencies of the state, their presence might be of the greatest moment to the public interest or safety. There is no nation which has not, at one period or another, experienced an absolute necessity of the services of particular men in particular situations; perhaps it would not be too strong to say, to the preservation of its political existence. How unwise, therefore, must be every such self-denying ordinance as serves to prohibit a nation from making use of its own citizens in the manner best suited to its exigencies and circumstances! Without supposing the personal essentiality of the man, it is evident that a change of the chief magistrate, at the breaking out of a war, or at any similar crisis, for another, even of equal merit, would at all times be detrimental to the community, inasmuch as it would substitute inexperience to experience, and would tend to unhinge and set afloat the already settled train of the administration.

A fifth ill effect of the exclusion would be, that it would operate as a constitutional interdiction of stability in the administration. By necessitating a change of men, in the first office of the nation, it would necessitate a mutability of measures. It is not generally to be expected, that men will vary and measures remain uniform. The contrary is the usual course of things. And we need not be apprehensive that there will be too much stability, while there is even the option of changing; nor need we desire to prohibit the people from continuing their confidence where they think it may be safely placed, and where, by constancy on their part, they may obviate the fatal inconveniences of fluctuating councils and a variable policy.

These are some of the disadvantages which would flow from the principle of exclusion. They apply most forcibly to the scheme of a perpetual exclusion; but when we consider that even a partial exclusion would always render the readmission of the person a remote and precarious object, the observations which have been made will apply nearly as fully to one case as to the other.

What are the advantages promised to counterbalance these disadvantages? They are represented to be: 1st, greater independence in the magistrate; 2d, greater security to the people. Unless the exclusion be perpetual, there will be no pretense to infer the first advantage. But even in that case, may he have no object beyond his present station, to which he may sacrifice his independence? May he have no connections, no friends, for whom he may sacrifice it? May he not be less willing by a firm conduct, to make personal enemies, when he acts under the impression that a time is fast approaching, on the arrival of which he not only MAY, but MUST, be exposed to their resentments, upon an equal, perhaps upon an inferior, footing? It is not an easy point to determine whether his independence would be most promoted or impaired by such an arrangement.

As to the second supposed advantage, there is still greater reason to entertain doubts concerning it. If the exclusion were to be perpetual, a man of irregular ambition, of whom alone there could be reason in any case to entertain apprehension, would, with infinite reluctance, yield to the necessity of taking his leave forever of a post in which his passion for power and pre-eminence had acquired the force of habit. And if he had been fortunate or adroit enough to conciliate the good-will of the people, he might induce them to consider as a very odious and unjustifiable restraint upon themselves, a provision which was calculated to debar them of the right of giving a fresh proof of their attachment to a favorite. There may be conceived circumstances in which this disgust of the people, seconding the thwarted ambition of such a favorite, might occasion greater danger to liberty, than could ever reasonably be dreaded from the possibility of a perpetuation in office, by the voluntary suffrages of the community, exercising a constitutional privilege.

There is an excess of refinement in the idea of disabling the people to continue in office men who had entitled themselves, in their opinion, to approbation and confidence; the advantages of which are at best speculative and equivocal, and are overbalanced by disadvantages far more certain and decisive.

PUBLIUS</pre>
</div>
<div created="20150327205028251" modified="20150327205139362" tags="Hamilton [[New York Packet]]" title="No. 73. The Provision For The Support of the Executive, and the Veto Power">
<pre>''From the New York Packet. Friday, March 21, 1788.''

HAMILTON

To the People of the State of New York:

THE third ingredient towards constituting the vigor of the executive authority, is an adequate provision for its support. It is evident that, without proper attention to this article, the separation of the executive from the legislative department would be merely nominal and nugatory. The legislature, with a discretionary power over the salary and emoluments of the Chief Magistrate, could render him as obsequious to their will as they might think proper to make him. They might, in most cases, either reduce him by famine, or tempt him by largesses, to surrender at discretion his judgment to their inclinations. These expressions, taken in all the latitude of the terms, would no doubt convey more than is intended. There are men who could neither be distressed nor won into a sacrifice of their duty; but this stern virtue is the growth of few soils; and in the main it will be found that a power over a man's support is a power over his will. If it were necessary to confirm so plain a truth by facts, examples would not be wanting, even in this country, of the intimidation or seduction of the Executive by the terrors or allurements of the pecuniary arrangements of the legislative body.

It is not easy, therefore, to commend too highly the judicious attention which has been paid to this subject in the proposed Constitution. It is there provided that &quot;The President of the United States shall, at stated times, receive for his services a compensation which shall neither be increased nor diminished during the period for which he shall have been elected; and he shall not receive within that period any other emolument from the United States, or any of them.&quot; It is impossible to imagine any provision which would have been more eligible than this. The legislature, on the appointment of a President, is once for all to declare what shall be the compensation for his services during the time for which he shall have been elected. This done, they will have no power to alter it, either by increase or diminution, till a new period of service by a new election commences. They can neither weaken his fortitude by operating on his necessities, nor corrupt his integrity by appealing to his avarice. Neither the Union, nor any of its members, will be at liberty to give, nor will he be at liberty to receive, any other emolument than that which may have been determined by the first act. He can, of course, have no pecuniary inducement to renounce or desert the independence intended for him by the Constitution.

The last of the requisites to energy, which have been enumerated, are competent powers. Let us proceed to consider those which are proposed to be vested in the President of the United States.

The first thing that offers itself to our observation, is the qualified negative of the President upon the acts or resolutions of the two houses of the legislature; or, in other words, his power of returning all bills with objections, to have the effect of preventing their becoming laws, unless they should afterwards be ratified by two thirds of each of the component members of the legislative body.

The propensity of the legislative department to intrude upon the rights, and to absorb the powers, of the other departments, has been already suggested and repeated; the insufficiency of a mere parchment delineation of the boundaries of each, has also been remarked upon; and the necessity of furnishing each with constitutional arms for its own defense, has been inferred and proved. From these clear and indubitable principles results the propriety of a negative, either absolute or qualified, in the Executive, upon the acts of the legislative branches. Without the one or the other, the former would be absolutely unable to defend himself against the depredations of the latter. He might gradually be stripped of his authorities by successive resolutions, or annihilated by a single vote. And in the one mode or the other, the legislative and executive powers might speedily come to be blended in the same hands. If even no propensity had ever discovered itself in the legislative body to invade the rights of the Executive, the rules of just reasoning and theoretic propriety would of themselves teach us, that the one ought not to be left to the mercy of the other, but ought to possess a constitutional and effectual power of self-defense.

But the power in question has a further use. It not only serves as a shield to the Executive, but it furnishes an additional security against the enaction of improper laws. It establishes a salutary check upon the legislative body, calculated to guard the community against the effects of faction, precipitancy, or of any impulse unfriendly to the public good, which may happen to influence a majority of that body.

The propriety of a negative has, upon some occasions, been combated by an observation, that it was not to be presumed a single man would possess more virtue and wisdom than a number of men; and that unless this presumption should be entertained, it would be improper to give the executive magistrate any species of control over the legislative body.

But this observation, when examined, will appear rather specious than solid. The propriety of the thing does not turn upon the supposition of superior wisdom or virtue in the Executive, but upon the supposition that the legislature will not be infallible; that the love of power may sometimes betray it into a disposition to encroach upon the rights of other members of the government; that a spirit of faction may sometimes pervert its deliberations; that impressions of the moment may sometimes hurry it into measures which itself, on maturer reflexion, would condemn. The primary inducement to conferring the power in question upon the Executive is, to enable him to defend himself; the secondary one is to increase the chances in favor of the community against the passing of bad laws, through haste, inadvertence, or design. The oftener the measure is brought under examination, the greater the diversity in the situations of those who are to examine it, the less must be the danger of those errors which flow from want of due deliberation, or of those missteps which proceed from the contagion of some common passion or interest. It is far less probable, that culpable views of any kind should infect all the parts of the government at the same moment and in relation to the same object, than that they should by turns govern and mislead every one of them.

It may perhaps be said that the power of preventing bad laws includes that of preventing good ones; and may be used to the one purpose as well as to the other. But this objection will have little weight with those who can properly estimate the mischiefs of that inconstancy and mutability in the laws, which form the greatest blemish in the character and genius of our governments. They will consider every institution calculated to restrain the excess of law-making, and to keep things in the same state in which they happen to be at any given period, as much more likely to do good than harm; because it is favorable to greater stability in the system of legislation. The injury which may possibly be done by defeating a few good laws, will be amply compensated by the advantage of preventing a number of bad ones.

Nor is this all. The superior weight and influence of the legislative body in a free government, and the hazard to the Executive in a trial of strength with that body, afford a satisfactory security that the negative would generally be employed with great caution; and there would oftener be room for a charge of timidity than of rashness in the exercise of it. A king of Great Britain, with all his train of sovereign attributes, and with all the influence he draws from a thousand sources, would, at this day, hesitate to put a negative upon the joint resolutions of the two houses of Parliament. He would not fail to exert the utmost resources of that influence to strangle a measure disagreeable to him, in its progress to the throne, to avoid being reduced to the dilemma of permitting it to take effect, or of risking the displeasure of the nation by an opposition to the sense of the legislative body. Nor is it probable, that he would ultimately venture to exert his prerogatives, but in a case of manifest propriety, or extreme necessity. All well-informed men in that kingdom will accede to the justness of this remark. A very considerable period has elapsed since the negative of the crown has been exercised.

If a magistrate so powerful and so well fortified as a British monarch, would have scruples about the exercise of the power under consideration, how much greater caution may be reasonably expected in a President of the United States, clothed for the short period of four years with the executive authority of a government wholly and purely republican?

It is evident that there would be greater danger of his not using his power when necessary, than of his using it too often, or too much. An argument, indeed, against its expediency, has been drawn from this very source. It has been represented, on this account, as a power odious in appearance, useless in practice. But it will not follow, that because it might be rarely exercised, it would never be exercised. In the case for which it is chiefly designed, that of an immediate attack upon the constitutional rights of the Executive, or in a case in which the public good was evidently and palpably sacrificed, a man of tolerable firmness would avail himself of his constitutional means of defense, and would listen to the admonitions of duty and responsibility. In the former supposition, his fortitude would be stimulated by his immediate interest in the power of his office; in the latter, by the probability of the sanction of his constituents, who, though they would naturally incline to the legislative body in a doubtful case, would hardly suffer their partiality to delude them in a very plain case. I speak now with an eye to a magistrate possessing only a common share of firmness. There are men who, under any circumstances, will have the courage to do their duty at every hazard.

But the convention have pursued a mean in this business, which will both facilitate the exercise of the power vested in this respect in the executive magistrate, and make its efficacy to depend on the sense of a considerable part of the legislative body. Instead of an absolute negative, it is proposed to give the Executive the qualified negative already described. This is a power which would be much more readily exercised than the other. A man who might be afraid to defeat a law by his single VETO, might not scruple to return it for reconsideration; subject to being finally rejected only in the event of more than one third of each house concurring in the sufficiency of his objections. He would be encouraged by the reflection, that if his opposition should prevail, it would embark in it a very respectable proportion of the legislative body, whose influence would be united with his in supporting the propriety of his conduct in the public opinion. A direct and categorical negative has something in the appearance of it more harsh, and more apt to irritate, than the mere suggestion of argumentative objections to be approved or disapproved by those to whom they are addressed. In proportion as it would be less apt to offend, it would be more apt to be exercised; and for this very reason, it may in practice be found more effectual. It is to be hoped that it will not often happen that improper views will govern so large a proportion as two thirds of both branches of the legislature at the same time; and this, too, in spite of the counterposing weight of the Executive. It is at any rate far less probable that this should be the case, than that such views should taint the resolutions and conduct of a bare majority. A power of this nature in the Executive, will often have a silent and unperceived, though forcible, operation. When men, engaged in unjustifiable pursuits, are aware that obstructions may come from a quarter which they cannot control, they will often be restrained by the bare apprehension of opposition, from doing what they would with eagerness rush into, if no such external impediments were to be feared.

This qualified negative, as has been elsewhere remarked, is in this State vested in a council, consisting of the governor, with the chancellor and judges of the Supreme Court, or any two of them. It has been freely employed upon a variety of occasions, and frequently with success. And its utility has become so apparent, that persons who, in compiling the Constitution, were violent opposers of it, have from experience become its declared admirers. &lt;span class=&quot;footnote&quot; title=&quot;Mr. Abraham Yates, a warm opponent of the plan of the convention is of this number.&quot;&gt;(1)&lt;/span&gt;

I have in another place remarked, that the convention, in the formation of this part of their plan, had departed from the model of the constitution of this State, in favor of that of Massachusetts. Two strong reasons may be imagined for this preference. One is that the judges, who are to be the interpreters of the law, might receive an improper bias, from having given a previous opinion in their revisionary capacities; the other is that by being often associated with the Executive, they might be induced to embark too far in the political views of that magistrate, and thus a dangerous combination might by degrees be cemented between the executive and judiciary departments. It is impossible to keep the judges too distinct from every other avocation than that of expounding the laws. It is peculiarly dangerous to place them in a situation to be either corrupted or influenced by the Executive.

PUBLIUS

''Footnote''

1. Mr. Abraham Yates, a warm opponent of the plan of the convention is of this number.
</pre>
</div>
<div created="20150327205229404" modified="20150327205254610" tags="Hamilton [[New York Packet]]" title="No. 74. The Command of the Military and Naval Forces, and the Pardoning Power of the Executive.">
<pre>''From the New York Packet. Tuesday, March 25, 1788.''

HAMILTON

To the People of the State of New York:

THE President of the United States is to be &quot;commander-in-chief of the army and navy of the United States, and of the militia of the several States when called into the actual service of the United States.&quot; The propriety of this provision is so evident in itself, and it is, at the same time, so consonant to the precedents of the State constitutions in general, that little need be said to explain or enforce it. Even those of them which have, in other respects, coupled the chief magistrate with a council, have for the most part concentrated the military authority in him alone. Of all the cares or concerns of government, the direction of war most peculiarly demands those qualities which distinguish the exercise of power by a single hand. The direction of war implies the direction of the common strength; and the power of directing and employing the common strength, forms a usual and essential part in the definition of the executive authority.

&quot;The President may require the opinion, in writing, of the principal officer in each of the executive departments, upon any subject relating to the duties of their respective officers.&quot; This I consider as a mere redundancy in the plan, as the right for which it provides would result of itself from the office.

He is also to be authorized to grant &quot;reprieves and pardons for offenses against the United States, except in cases of impeachment.&quot; Humanity and good policy conspire to dictate, that the benign prerogative of pardoning should be as little as possible fettered or embarrassed. The criminal code of every country partakes so much of necessary severity, that without an easy access to exceptions in favor of unfortunate guilt, justice would wear a countenance too sanguinary and cruel. As the sense of responsibility is always strongest, in proportion as it is undivided, it may be inferred that a single man would be most ready to attend to the force of those motives which might plead for a mitigation of the rigor of the law, and least apt to yield to considerations which were calculated to shelter a fit object of its vengeance. The reflection that the fate of a fellow-creature depended on his sole fiat, would naturally inspire scrupulousness and caution; the dread of being accused of weakness or connivance, would beget equal circumspection, though of a different kind. On the other hand, as men generally derive confidence from their numbers, they might often encourage each other in an act of obduracy, and might be less sensible to the apprehension of suspicion or censure for an injudicious or affected clemency. On these accounts, one man appears to be a more eligible dispenser of the mercy of government, than a body of men.

The expediency of vesting the power of pardoning in the President has, if I mistake not, been only contested in relation to the crime of treason. This, it has been urged, ought to have depended upon the assent of one, or both, of the branches of the legislative body. I shall not deny that there are strong reasons to be assigned for requiring in this particular the concurrence of that body, or of a part of it. As treason is a crime levelled at the immediate being of the society, when the laws have once ascertained the guilt of the offender, there seems a fitness in referring the expediency of an act of mercy towards him to the judgment of the legislature. And this ought the rather to be the case, as the supposition of the connivance of the Chief Magistrate ought not to be entirely excluded. But there are also strong objections to such a plan. It is not to be doubted, that a single man of prudence and good sense is better fitted, in delicate conjunctures, to balance the motives which may plead for and against the remission of the punishment, than any numerous body whatever. It deserves particular attention, that treason will often be connected with seditions which embrace a large proportion of the community; as lately happened in Massachusetts. In every such case, we might expect to see the representation of the people tainted with the same spirit which had given birth to the offense. And when parties were pretty equally matched, the secret sympathy of the friends and favorers of the condemned person, availing itself of the good-nature and weakness of others, might frequently bestow impunity where the terror of an example was necessary. On the other hand, when the sedition had proceeded from causes which had inflamed the resentments of the major party, they might often be found obstinate and inexorable, when policy demanded a conduct of forbearance and clemency. But the principal argument for reposing the power of pardoning in this case to the Chief Magistrate is this: in seasons of insurrection or rebellion, there are often critical moments, when a well-timed offer of pardon to the insurgents or rebels may restore the tranquillity of the commonwealth; and which, if suffered to pass unimproved, it may never be possible afterwards to recall. The dilatory process of convening the legislature, or one of its branches, for the purpose of obtaining its sanction to the measure, would frequently be the occasion of letting slip the golden opportunity. The loss of a week, a day, an hour, may sometimes be fatal. If it should be observed, that a discretionary power, with a view to such contingencies, might be occasionally conferred upon the President, it may be answered in the first place, that it is questionable, whether, in a limited Constitution, that power could be delegated by law; and in the second place, that it would generally be impolitic beforehand to take any step which might hold out the prospect of impunity. A proceeding of this kind, out of the usual course, would be likely to be construed into an argument of timidity or of weakness, and would have a tendency to embolden guilt.

PUBLIUS</pre>
</div>
<div created="20150327205339844" modified="20150327205411042" tags="Hamilton [[Independent Journal]]" title="No. 75. The Treaty-Making Power of the Executive">
<pre>''For the Independent Journal. Wednesday, March 26, 1788''

HAMILTON

To the People of the State of New York:

THE President is to have power, &quot;by and with the advice and consent of the Senate, to make treaties, provided two thirds of the senators present concur.&quot; Though this provision has been assailed, on different grounds, with no small degree of vehemence, I scruple not to declare my firm persuasion, that it is one of the best digested and most unexceptionable parts of the plan. One ground of objection is the trite topic of the intermixture of powers; some contending that the President ought alone to possess the power of making treaties; others, that it ought to have been exclusively deposited in the Senate. Another source of objection is derived from the small number of persons by whom a treaty may be made. Of those who espouse this objection, a part are of opinion that the House of Representatives ought to have been associated in the business, while another part seem to think that nothing more was necessary than to have substituted two thirds of all the members of the Senate, to two thirds of the members present. As I flatter myself the observations made in a preceding number upon this part of the plan must have sufficed to place it, to a discerning eye, in a very favorable light, I shall here content myself with offering only some supplementary remarks, principally with a view to the objections which have been just stated.

With regard to the intermixture of powers, I shall rely upon the explanations already given in other places, of the true sense of the rule upon which that objection is founded; and shall take it for granted, as an inference from them, that the union of the Executive with the Senate, in the article of treaties, is no infringement of that rule. I venture to add, that the particular nature of the power of making treaties indicates a peculiar propriety in that union. Though several writers on the subject of government place that power in the class of executive authorities, yet this is evidently an arbitrary disposition; for if we attend carefully to its operation, it will be found to partake more of the legislative than of the executive character, though it does not seem strictly to fall within the definition of either of them. The essence of the legislative authority is to enact laws, or, in other words, to prescribe rules for the regulation of the society; while the execution of the laws, and the employment of the common strength, either for this purpose or for the common defense, seem to comprise all the functions of the executive magistrate. The power of making treaties is, plainly, neither the one nor the other. It relates neither to the execution of the subsisting laws, nor to the enaction of new ones; and still less to an exertion of the common strength. Its objects are CONTRACTS with foreign nations, which have the force of law, but derive it from the obligations of good faith. They are not rules prescribed by the sovereign to the subject, but agreements between sovereign and sovereign. The power in question seems therefore to form a distinct department, and to belong, properly, neither to the legislative nor to the executive. The qualities elsewhere detailed as indispensable in the management of foreign negotiations, point out the Executive as the most fit agent in those transactions; while the vast importance of the trust, and the operation of treaties as laws, plead strongly for the participation of the whole or a portion of the legislative body in the office of making them.

However proper or safe it may be in governments where the executive magistrate is an hereditary monarch, to commit to him the entire power of making treaties, it would be utterly unsafe and improper to intrust that power to an elective magistrate of four years' duration. It has been remarked, upon another occasion, and the remark is unquestionably just, that an hereditary monarch, though often the oppressor of his people, has personally too much stake in the government to be in any material danger of being corrupted by foreign powers. But a man raised from the station of a private citizen to the rank of chief magistrate, possessed of a moderate or slender fortune, and looking forward to a period not very remote when he may probably be obliged to return to the station from which he was taken, might sometimes be under temptations to sacrifice his duty to his interest, which it would require superlative virtue to withstand. An avaricious man might be tempted to betray the interests of the state to the acquisition of wealth. An ambitious man might make his own aggrandizement, by the aid of a foreign power, the price of his treachery to his constituents. The history of human conduct does not warrant that exalted opinion of human virtue which would make it wise in a nation to commit interests of so delicate and momentous a kind, as those which concern its intercourse with the rest of the world, to the sole disposal of a magistrate created and circumstanced as would be a President of the United States.

To have intrusted the power of making treaties to the Senate alone, would have been to relinquish the benefits of the constitutional agency of the President in the conduct of foreign negotiations. It is true that the Senate would, in that case, have the option of employing him in this capacity, but they would also have the option of letting it alone, and pique or cabal might induce the latter rather than the former. Besides this, the ministerial servant of the Senate could not be expected to enjoy the confidence and respect of foreign powers in the same degree with the constitutional representatives of the nation, and, of course, would not be able to act with an equal degree of weight or efficacy. While the Union would, from this cause, lose a considerable advantage in the management of its external concerns, the people would lose the additional security which would result from the co-operation of the Executive. Though it would be imprudent to confide in him solely so important a trust, yet it cannot be doubted that his participation would materially add to the safety of the society. It must indeed be clear to a demonstration that the joint possession of the power in question, by the President and Senate, would afford a greater prospect of security, than the separate possession of it by either of them. And whoever has maturely weighed the circumstances which must concur in the appointment of a President, will be satisfied that the office will always bid fair to be filled by men of such characters as to render their concurrence in the formation of treaties peculiarly desirable, as well on the score of wisdom, as on that of integrity.

The remarks made in a former number, which have been alluded to in another part of this paper, will apply with conclusive force against the admission of the House of Representatives to a share in the formation of treaties. The fluctuating and, taking its future increase into the account, the multitudinous composition of that body, forbid us to expect in it those qualities which are essential to the proper execution of such a trust. Accurate and comprehensive knowledge of foreign politics; a steady and systematic adherence to the same views; a nice and uniform sensibility to national character; decision, secrecy, and despatch, are incompatible with the genius of a body so variable and so numerous. The very complication of the business, by introducing a necessity of the concurrence of so many different bodies, would of itself afford a solid objection. The greater frequency of the calls upon the House of Representatives, and the greater length of time which it would often be necessary to keep them together when convened, to obtain their sanction in the progressive stages of a treaty, would be a source of so great inconvenience and expense as alone ought to condemn the project.

The only objection which remains to be canvassed, is that which would substitute the proportion of two thirds of all the members composing the senatorial body, to that of two thirds of the members present. It has been shown, under the second head of our inquiries, that all provisions which require more than the majority of any body to its resolutions, have a direct tendency to embarrass the operations of the government, and an indirect one to subject the sense of the majority to that of the minority. This consideration seems sufficient to determine our opinion, that the convention have gone as far in the endeavor to secure the advantage of numbers in the formation of treaties as could have been reconciled either with the activity of the public councils or with a reasonable regard to the major sense of the community. If two thirds of the whole number of members had been required, it would, in many cases, from the non-attendance of a part, amount in practice to a necessity of unanimity. And the history of every political establishment in which this principle has prevailed, is a history of impotence, perplexity, and disorder. Proofs of this position might be adduced from the examples of the Roman Tribuneship, the Polish Diet, and the States-General of the Netherlands, did not an example at home render foreign precedents unnecessary.

To require a fixed proportion of the whole body would not, in all probability, contribute to the advantages of a numerous agency, better then merely to require a proportion of the attending members. The former, by making a determinate number at all times requisite to a resolution, diminishes the motives to punctual attendance. The latter, by making the capacity of the body to depend on a proportion which may be varied by the absence or presence of a single member, has the contrary effect. And as, by promoting punctuality, it tends to keep the body complete, there is great likelihood that its resolutions would generally be dictated by as great a number in this case as in the other; while there would be much fewer occasions of delay. It ought not to be forgotten that, under the existing Confederation, two members may, and usually do, represent a State; whence it happens that Congress, who now are solely invested with all the powers of the Union, rarely consist of a greater number of persons than would compose the intended Senate. If we add to this, that as the members vote by States, and that where there is only a single member present from a State, his vote is lost, it will justify a supposition that the active voices in the Senate, where the members are to vote individually, would rarely fall short in number of the active voices in the existing Congress. When, in addition to these considerations, we take into view the co-operation of the President, we shall not hesitate to infer that the people of America would have greater security against an improper use of the power of making treaties, under the new Constitution, than they now enjoy under the Confederation. And when we proceed still one step further, and look forward to the probable augmentation of the Senate, by the erection of new States, we shall not only perceive ample ground of confidence in the sufficiency of the members to whose agency that power will be intrusted, but we shall probably be led to conclude that a body more numerous than the Senate would be likely to become, would be very little fit for the proper discharge of the trust.

PUBLIUS</pre>
</div>
<div created="20150327205437059" modified="20150327205505810" tags="Hamilton [[New York Packet]]" title="No. 76. The Appointing Power of the Executive">
<pre>''From the New York Packet. Tuesday, April 1, 1788.''

HAMILTON

To the People of the State of New York:

THE President is &quot;to nominate, and, by and with the advice and consent of the Senate, to appoint ambassadors, other public ministers and consuls, judges of the Supreme Court, and all other officers of the United States whose appointments are not otherwise provided for in the Constitution. But the Congress may by law vest the appointment of such inferior officers as they think proper, in the President alone, or in the courts of law, or in the heads of departments. The President shall have power to fill up all vacancies which may happen during the recess of the Senate, by granting commissions which shall expire at the end of their next session.&quot;

It has been observed in a former paper, that &quot;the true test of a good government is its aptitude and tendency to produce a good administration.&quot; If the justness of this observation be admitted, the mode of appointing the officers of the United States contained in the foregoing clauses, must, when examined, be allowed to be entitled to particular commendation. It is not easy to conceive a plan better calculated than this to promote a judicious choice of men for filling the offices of the Union; and it will not need proof, that on this point must essentially depend the character of its administration.

It will be agreed on all hands, that the power of appointment, in ordinary cases, ought to be modified in one of three ways. It ought either to be vested in a single man, or in a select assembly of a moderate number; or in a single man, with the concurrence of such an assembly. The exercise of it by the people at large will be readily admitted to be impracticable; as waiving every other consideration, it would leave them little time to do anything else. When, therefore, mention is made in the subsequent reasonings of an assembly or body of men, what is said must be understood to relate to a select body or assembly, of the description already given. The people collectively, from their number and from their dispersed situation, cannot be regulated in their movements by that systematic spirit of cabal and intrigue, which will be urged as the chief objections to reposing the power in question in a body of men.

Those who have themselves reflected upon the subject, or who have attended to the observations made in other parts of these papers, in relation to the appointment of the President, will, I presume, agree to the position, that there would always be great probability of having the place supplied by a man of abilities, at least respectable. Premising this, I proceed to lay it down as a rule, that one man of discernment is better fitted to analyze and estimate the peculiar qualities adapted to particular offices, than a body of men of equal or perhaps even of superior discernment.

The sole and undivided responsibility of one man will naturally beget a livelier sense of duty and a more exact regard to reputation. He will, on this account, feel himself under stronger obligations, and more interested to investigate with care the qualities requisite to the stations to be filled, and to prefer with impartiality the persons who may have the fairest pretensions to them. He will have fewer personal attachments to gratify, than a body of men who may each be supposed to have an equal number; and will be so much the less liable to be misled by the sentiments of friendship and of affection. A single well-directed man, by a single understanding, cannot be distracted and warped by that diversity of views, feelings, and interests, which frequently distract and warp the resolutions of a collective body. There is nothing so apt to agitate the passions of mankind as personal considerations whether they relate to ourselves or to others, who are to be the objects of our choice or preference. Hence, in every exercise of the power of appointing to offices, by an assembly of men, we must expect to see a full display of all the private and party likings and dislikes, partialities and antipathies, attachments and animosities, which are felt by those who compose the assembly. The choice which may at any time happen to be made under such circumstances, will of course be the result either of a victory gained by one party over the other, or of a compromise between the parties. In either case, the intrinsic merit of the candidate will be too often out of sight. In the first, the qualifications best adapted to uniting the suffrages of the party, will be more considered than those which fit the person for the station. In the last, the coalition will commonly turn upon some interested equivalent: &quot;Give us the man we wish for this office, and you shall have the one you wish for that.&quot; This will be the usual condition of the bargain. And it will rarely happen that the advancement of the public service will be the primary object either of party victories or of party negotiations.

The truth of the principles here advanced seems to have been felt by the most intelligent of those who have found fault with the provision made, in this respect, by the convention. They contend that the President ought solely to have been authorized to make the appointments under the federal government. But it is easy to show, that every advantage to be expected from such an arrangement would, in substance, be derived from the power of nomination, which is proposed to be conferred upon him; while several disadvantages which might attend the absolute power of appointment in the hands of that officer would be avoided. In the act of nomination, his judgment alone would be exercised; and as it would be his sole duty to point out the man who, with the approbation of the Senate, should fill an office, his responsibility would be as complete as if he were to make the final appointment. There can, in this view, be no difference between nominating and appointing. The same motives which would influence a proper discharge of his duty in one case, would exist in the other. And as no man could be appointed but on his previous nomination, every man who might be appointed would be, in fact, his choice.

But might not his nomination be overruled? I grant it might, yet this could only be to make place for another nomination by himself. The person ultimately appointed must be the object of his preference, though perhaps not in the first degree. It is also not very probable that his nomination would often be overruled. The Senate could not be tempted, by the preference they might feel to another, to reject the one proposed; because they could not assure themselves, that the person they might wish would be brought forward by a second or by any subsequent nomination. They could not even be certain, that a future nomination would present a candidate in any degree more acceptable to them; and as their dissent might cast a kind of stigma upon the individual rejected, and might have the appearance of a reflection upon the judgment of the chief magistrate, it is not likely that their sanction would often be refused, where there were not special and strong reasons for the refusal.

To what purpose then require the co-operation of the Senate? I answer, that the necessity of their concurrence would have a powerful, though, in general, a silent operation. It would be an excellent check upon a spirit of favoritism in the President, and would tend greatly to prevent the appointment of unfit characters from State prejudice, from family connection, from personal attachment, or from a view to popularity. In addition to this, it would be an efficacious source of stability in the administration.

It will readily be comprehended, that a man who had himself the sole disposition of offices, would be governed much more by his private inclinations and interests, than when he was bound to submit the propriety of his choice to the discussion and determination of a different and independent body, and that body an entire branch of the legislature. The possibility of rejection would be a strong motive to care in proposing. The danger to his own reputation, and, in the case of an elective magistrate, to his political existence, from betraying a spirit of favoritism, or an unbecoming pursuit of popularity, to the observation of a body whose opinion would have great weight in forming that of the public, could not fail to operate as a barrier to the one and to the other. He would be both ashamed and afraid to bring forward, for the most distinguished or lucrative stations, candidates who had no other merit than that of coming from the same State to which he particularly belonged, or of being in some way or other personally allied to him, or of possessing the necessary insignificance and pliancy to render them the obsequious instruments of his pleasure.

To this reasoning it has been objected that the President, by the influence of the power of nomination, may secure the complaisance of the Senate to his views. This supposition of universal venalty in human nature is little less an error in political reasoning, than the supposition of universal rectitude. The institution of delegated power implies, that there is a portion of virtue and honor among mankind, which may be a reasonable foundation of confidence; and experience justifies the theory. It has been found to exist in the most corrupt periods of the most corrupt governments. The venalty of the British House of Commons has been long a topic of accusation against that body, in the country to which they belong as well as in this; and it cannot be doubted that the charge is, to a considerable extent, well founded. But it is as little to be doubted, that there is always a large proportion of the body, which consists of independent and public-spirited men, who have an influential weight in the councils of the nation. Hence it is (the present reign not excepted) that the sense of that body is often seen to control the inclinations of the monarch, both with regard to men and to measures. Though it might therefore be allowable to suppose that the Executive might occasionally influence some individuals in the Senate, yet the supposition, that he could in general purchase the integrity of the whole body, would be forced and improbable. A man disposed to view human nature as it is, without either flattering its virtues or exaggerating its vices, will see sufficient ground of confidence in the probity of the Senate, to rest satisfied, not only that it will be impracticable to the Executive to corrupt or seduce a majority of its members, but that the necessity of its co-operation, in the business of appointments, will be a considerable and salutary restraint upon the conduct of that magistrate. Nor is the integrity of the Senate the only reliance. The Constitution has provided some important guards against the danger of executive influence upon the legislative body: it declares that &quot;No senator or representative shall during the time for which he was elected, be appointed to any civil office under the United States, which shall have been created, or the emoluments whereof shall have been increased, during such time; and no person, holding any office under the United States, shall be a member of either house during his continuance in office.&quot;

PUBLIUS</pre>
</div>
<div created="20150327205530924" modified="20150327205659506" tags="Hamilton [[Independent Journal]]" title="No. 77. The Appointing Power Continued and Other Powers of the Executive Considered.">
<pre>''From The Independent Journal. Wednesday, April 2, 1788.''

HAMILTON

To the People of the State of New York:

IT HAS been mentioned as one of the advantages to be expected from the co-operation of the Senate, in the business of appointments, that it would contribute to the stability of the administration. The consent of that body would be necessary to displace as well as to appoint. A change of the Chief Magistrate, therefore, would not occasion so violent or so general a revolution in the officers of the government as might be expected, if he were the sole disposer of offices. Where a man in any station had given satisfactory evidence of his fitness for it, a new President would be restrained from attempting a change in favor of a person more agreeable to him, by the apprehension that a discountenance of the Senate might frustrate the attempt, and bring some degree of discredit upon himself. Those who can best estimate the value of a steady administration, will be most disposed to prize a provision which connects the official existence of public men with the approbation or disapprobation of that body which, from the greater permanency of its own composition, will in all probability be less subject to inconstancy than any other member of the government.

To this union of the Senate with the President, in the article of appointments, it has in some cases been suggested that it would serve to give the President an undue influence over the Senate, and in others that it would have an opposite tendency—a strong proof that neither suggestion is true.

To state the first in its proper form, is to refute it. It amounts to this: the President would have an improper influence over the Senate, because the Senate would have the power of restraining him. This is an absurdity in terms. It cannot admit of a doubt that the entire power of appointment would enable him much more effectually to establish a dangerous empire over that body, than a mere power of nomination subject to their control.

Let us take a view of the converse of the proposition: &quot;the Senate would influence the Executive.&quot; As I have had occasion to remark in several other instances, the indistinctness of the objection forbids a precise answer. In what manner is this influence to be exerted? In relation to what objects? The power of influencing a person, in the sense in which it is here used, must imply a power of conferring a benefit upon him. How could the Senate confer a benefit upon the President by the manner of employing their right of negative upon his nominations? If it be said they might sometimes gratify him by an acquiescence in a favorite choice, when public motives might dictate a different conduct, I answer, that the instances in which the President could be personally interested in the result, would be too few to admit of his being materially affected by the compliances of the Senate. The POWER which can originate the disposition of honors and emoluments, is more likely to attract than to be attracted by the POWER which can merely obstruct their course. If by influencing the President be meant restraining him, this is precisely what must have been intended. And it has been shown that the restraint would be salutary, at the same time that it would not be such as to destroy a single advantage to be looked for from the uncontrolled agency of that Magistrate. The right of nomination would produce all the (good, without the ill.) &lt;span class=&quot;footnote&quot; title=&quot;These two alternate endings of this sentence appear in different editions.&quot;&gt;(E1)&lt;/span&gt; (good of that of appointment, and would in a great measure avoid its evils.) &lt;span class=&quot;footnote&quot; title=&quot;These two alternate endings of this sentence appear in different editions.&quot;&gt;(E1)&lt;/span&gt;

Upon a comparison of the plan for the appointment of the officers of the proposed government with that which is established by the constitution of this State, a decided preference must be given to the former. In that plan the power of nomination is unequivocally vested in the Executive. And as there would be a necessity for submitting each nomination to the judgment of an entire branch of the legislature, the circumstances attending an appointment, from the mode of conducting it, would naturally become matters of notoriety; and the public would be at no loss to determine what part had been performed by the different actors. The blame of a bad nomination would fall upon the President singly and absolutely. The censure of rejecting a good one would lie entirely at the door of the Senate; aggravated by the consideration of their having counteracted the good intentions of the Executive. If an ill appointment should be made, the Executive for nominating, and the Senate for approving, would participate, though in different degrees, in the opprobrium and disgrace.

The reverse of all this characterizes the manner of appointment in this State. The council of appointment consists of from three to five persons, of whom the governor is always one. This small body, shut up in a private apartment, impenetrable to the public eye, proceed to the execution of the trust committed to them. It is known that the governor claims the right of nomination, upon the strength of some ambiguous expressions in the constitution; but it is not known to what extent, or in what manner he exercises it; nor upon what occasions he is contradicted or opposed. The censure of a bad appointment, on account of the uncertainty of its author, and for want of a determinate object, has neither poignancy nor duration. And while an unbounded field for cabal and intrigue lies open, all idea of responsibility is lost. The most that the public can know, is that the governor claims the right of nomination; that two out of the inconsiderable number of four men can too often be managed without much difficulty; that if some of the members of a particular council should happen to be of an uncomplying character, it is frequently not impossible to get rid of their opposition by regulating the times of meeting in such a manner as to render their attendance inconvenient; and that from whatever cause it may proceed, a great number of very improper appointments are from time to time made. Whether a governor of this State avails himself of the ascendant he must necessarily have, in this delicate and important part of the administration, to prefer to offices men who are best qualified for them, or whether he prostitutes that advantage to the advancement of persons whose chief merit is their implicit devotion to his will, and to the support of a despicable and dangerous system of personal influence, are questions which, unfortunately for the community, can only be the subjects of speculation and conjecture.

Every mere council of appointment, however constituted, will be a conclave, in which cabal and intrigue will have their full scope. Their number, without an unwarrantable increase of expense, cannot be large enough to preclude a facility of combination. And as each member will have his friends and connections to provide for, the desire of mutual gratification will beget a scandalous bartering of votes and bargaining for places. The private attachments of one man might easily be satisfied; but to satisfy the private attachments of a dozen, or of twenty men, would occasion a monopoly of all the principal employments of the government in a few families, and would lead more directly to an aristocracy or an oligarchy than any measure that could be contrived. If, to avoid an accumulation of offices, there was to be a frequent change in the persons who were to compose the council, this would involve the mischiefs of a mutable administration in their full extent. Such a council would also be more liable to executive influence than the Senate, because they would be fewer in number, and would act less immediately under the public inspection. Such a council, in fine, as a substitute for the plan of the convention, would be productive of an increase of expense, a multiplication of the evils which spring from favoritism and intrigue in the distribution of public honors, a decrease of stability in the administration of the government, and a diminution of the security against an undue influence of the Executive. And yet such a council has been warmly contended for as an essential amendment in the proposed Constitution.

I could not with propriety conclude my observations on the subject of appointments without taking notice of a scheme for which there have appeared some, though but few advocates; I mean that of uniting the House of Representatives in the power of making them. I shall, however, do little more than mention it, as I cannot imagine that it is likely to gain the countenance of any considerable part of the community. A body so fluctuating and at the same time so numerous, can never be deemed proper for the exercise of that power. Its unfitness will appear manifest to all, when it is recollected that in half a century it may consist of three or four hundred persons. All the advantages of the stability, both of the Executive and of the Senate, would be defeated by this union, and infinite delays and embarrassments would be occasioned. The example of most of the States in their local constitutions encourages us to reprobate the idea.

The only remaining powers of the Executive are comprehended in giving information to Congress of the state of the Union; in recommending to their consideration such measures as he shall judge expedient; in convening them, or either branch, upon extraordinary occasions; in adjourning them when they cannot themselves agree upon the time of adjournment; in receiving ambassadors and other public ministers; in faithfully executing the laws; and in commissioning all the officers of the United States.

Except some cavils about the power of convening either house of the legislature, and that of receiving ambassadors, no objection has been made to this class of authorities; nor could they possibly admit of any. It required, indeed, an insatiable avidity for censure to invent exceptions to the parts which have been excepted to. In regard to the power of convening either house of the legislature, I shall barely remark, that in respect to the Senate at least, we can readily discover a good reason for it. AS this body has a concurrent power with the Executive in the article of treaties, it might often be necessary to call it together with a view to this object, when it would be unnecessary and improper to convene the House of Representatives. As to the reception of ambassadors, what I have said in a former paper will furnish a sufficient answer.

We have now completed a survey of the structure and powers of the executive department, which, I have endeavored to show, combines, as far as republican principles will admit, all the requisites to energy. The remaining inquiry is: Does it also combine the requisites to safety, in a republican sense—a due dependence on the people, a due responsibility? The answer to this question has been anticipated in the investigation of its other characteristics, and is satisfactorily deducible from these circumstances; from the election of the President once in four years by persons immediately chosen by the people for that purpose; and from his being at all times liable to impeachment, trial, dismission from office, incapacity to serve in any other, and to forfeiture of life and estate by subsequent prosecution in the common course of law. But these precautions, great as they are, are not the only ones which the plan of the convention has provided in favor of the public security. In the only instances in which the abuse of the executive authority was materially to be feared, the Chief Magistrate of the United States would, by that plan, be subjected to the control of a branch of the legislative body. What more could be desired by an enlightened and reasonable people?

PUBLIUS

''Footnote''

E1. These two alternate endings of this sentence appear in different editions.</pre>
</div>
<div created="20150327205743260" modified="20150327211724195" tags="Hamilton [[McLEAN'S Edition]]" title="No. 78. The Judiciary Department">
<pre>''From ~McLEAN'S Edition, New York. Wednesday, May 28, 1788''

HAMILTON

To the People of the State of New York:

WE PROCEED now to an examination of the judiciary department of the proposed government.

In unfolding the defects of the existing Confederation, the utility and necessity of a federal judicature have been clearly pointed out. It is the less necessary to recapitulate the considerations there urged, as the propriety of the institution in the abstract is not disputed; the only questions which have been raised being relative to the manner of constituting it, and to its extent. To these points, therefore, our observations shall be confined.

The manner of constituting it seems to embrace these several objects: 1st. The mode of appointing the judges. 2d. The tenure by which they are to hold their places. 3d. The partition of the judiciary authority between different courts, and their relations to each other.

First. As to the mode of appointing the judges; this is the same with that of appointing the officers of the Union in general, and has been so fully discussed in the two last numbers, that nothing can be said here which would not be useless repetition.

Second. As to the tenure by which the judges are to hold their places; this chiefly concerns their duration in office; the provisions for their support; the precautions for their responsibility.

According to the plan of the convention, all judges who may be appointed by the United States are to hold their offices during good behavior; which is conformable to the most approved of the State constitutions and among the rest, to that of this State. Its propriety having been drawn into question by the adversaries of that plan, is no light symptom of the rage for objection, which disorders their imaginations and judgments. The standard of good behavior for the continuance in office of the judicial magistracy, is certainly one of the most valuable of the modern improvements in the practice of government. In a monarchy it is an excellent barrier to the despotism of the prince; in a republic it is a no less excellent barrier to the encroachments and oppressions of the representative body. And it is the best expedient which can be devised in any government, to secure a steady, upright, and impartial administration of the laws.

Whoever attentively considers the different departments of power must perceive, that, in a government in which they are separated from each other, the judiciary, from the nature of its functions, will always be the least dangerous to the political rights of the Constitution; because it will be least in a capacity to annoy or injure them. The Executive not only dispenses the honors, but holds the sword of the community. The legislature not only commands the purse, but prescribes the rules by which the duties and rights of every citizen are to be regulated. The judiciary, on the contrary, has no influence over either the sword or the purse; no direction either of the strength or of the wealth of the society; and can take no active resolution whatever. It may truly be said to have neither FORCE nor WILL, but merely judgment; and must ultimately depend upon the aid of the executive arm even for the efficacy of its judgments.

This simple view of the matter suggests several important consequences. It proves incontestably, that the judiciary is beyond comparison the weakest of the three departments of power &lt;span class=&quot;footnote&quot; title=&quot;The celebrated Montesquieu, speaking of them, says: “Of the three powers above mentioned, the judiciary is next to nothing.“—Spirit of Laws. Vol. I, page 186.&quot;&gt;(1)&lt;/span&gt;; that it can never attack with success either of the other two; and that all possible care is requisite to enable it to defend itself against their attacks. It equally proves, that though individual oppression may now and then proceed from the courts of justice, the general liberty of the people can never be endangered from that quarter; I mean so long as the judiciary remains truly distinct from both the legislature and the Executive. For I agree, that &quot;there is no liberty, if the power of judging be not separated from the legislative and executive powers.&quot; &lt;span class=&quot;footnote&quot; title=&quot;Spirit of Laws. Vol. I, page 181.&quot;&gt;(2)&lt;/span&gt; And it proves, in the last place, that as liberty can have nothing to fear from the judiciary alone, but would have every thing to fear from its union with either of the other departments; that as all the effects of such a union must ensue from a dependence of the former on the latter, notwithstanding a nominal and apparent separation; that as, from the natural feebleness of the judiciary, it is in continual jeopardy of being overpowered, awed, or influenced by its co-ordinate branches; and that as nothing can contribute so much to its firmness and independence as permanency in office, this quality may therefore be justly regarded as an indispensable ingredient in its constitution, and, in a great measure, as the citadel of the public justice and the public security.

The complete independence of the courts of justice is peculiarly essential in a limited Constitution. By a limited Constitution, I understand one which contains certain specified exceptions to the legislative authority; such, for instance, as that it shall pass no bills of attainder, no ex post facto laws, and the like. Limitations of this kind can be preserved in practice no other way than through the medium of courts of justice, whose duty it must be to declare all acts contrary to the manifest tenor of the Constitution void. Without this, all the reservations of particular rights or privileges would amount to nothing.

Some perplexity respecting the rights of the courts to pronounce legislative acts void, because contrary to the Constitution, has arisen from an imagination that the doctrine would imply a superiority of the judiciary to the legislative power. It is urged that the authority which can declare the acts of another void, must necessarily be superior to the one whose acts may be declared void. As this doctrine is of great importance in all the American constitutions, a brief discussion of the ground on which it rests cannot be unacceptable.

There is no position which depends on clearer principles, than that every act of a delegated authority, contrary to the tenor of the commission under which it is exercised, is void. No legislative act, therefore, contrary to the Constitution, can be valid. To deny this, would be to affirm, that the deputy is greater than his principal; that the servant is above his master; that the representatives of the people are superior to the people themselves; that men acting by virtue of powers, may do not only what their powers do not authorize, but what they forbid.

If it be said that the legislative body are themselves the constitutional judges of their own powers, and that the construction they put upon them is conclusive upon the other departments, it may be answered, that this cannot be the natural presumption, where it is not to be collected from any particular provisions in the Constitution. It is not otherwise to be supposed, that the Constitution could intend to enable the representatives of the people to substitute their will to that of their constituents. It is far more rational to suppose, that the courts were designed to be an intermediate body between the people and the legislature, in order, among other things, to keep the latter within the limits assigned to their authority. The interpretation of the laws is the proper and peculiar province of the courts. A constitution is, in fact, and must be regarded by the judges, as a fundamental law. It therefore belongs to them to ascertain its meaning, as well as the meaning of any particular act proceeding from the legislative body. If there should happen to be an irreconcilable variance between the two, that which has the superior obligation and validity ought, of course, to be preferred; or, in other words, the Constitution ought to be preferred to the statute, the intention of the people to the intention of their agents.

Nor does this conclusion by any means suppose a superiority of the judicial to the legislative power. It only supposes that the power of the people is superior to both; and that where the will of the legislature, declared in its statutes, stands in opposition to that of the people, declared in the Constitution, the judges ought to be governed by the latter rather than the former. They ought to regulate their decisions by the fundamental laws, rather than by those which are not fundamental.

This exercise of judicial discretion, in determining between two contradictory laws, is exemplified in a familiar instance. It not uncommonly happens, that there are two statutes existing at one time, clashing in whole or in part with each other, and neither of them containing any repealing clause or expression. In such a case, it is the province of the courts to liquidate and fix their meaning and operation. So far as they can, by any fair construction, be reconciled to each other, reason and law conspire to dictate that this should be done; where this is impracticable, it becomes a matter of necessity to give effect to one, in exclusion of the other. The rule which has obtained in the courts for determining their relative validity is, that the last in order of time shall be preferred to the first. But this is a mere rule of construction, not derived from any positive law, but from the nature and reason of the thing. It is a rule not enjoined upon the courts by legislative provision, but adopted by themselves, as consonant to truth and propriety, for the direction of their conduct as interpreters of the law. They thought it reasonable, that between the interfering acts of an EQUAL authority, that which was the last indication of its will should have the preference.

But in regard to the interfering acts of a superior and subordinate authority, of an original and derivative power, the nature and reason of the thing indicate the converse of that rule as proper to be followed. They teach us that the prior act of a superior ought to be preferred to the subsequent act of an inferior and subordinate authority; and that accordingly, whenever a particular statute contravenes the Constitution, it will be the duty of the judicial tribunals to adhere to the latter and disregard the former.

It can be of no weight to say that the courts, on the pretense of a repugnancy, may substitute their own pleasure to the constitutional intentions of the legislature. This might as well happen in the case of two contradictory statutes; or it might as well happen in every adjudication upon any single statute. The courts must declare the sense of the law; and if they should be disposed to exercise WILL instead of JUDGMENT, the consequence would equally be the substitution of their pleasure to that of the legislative body. The observation, if it prove any thing, would prove that there ought to be no judges distinct from that body.

If, then, the courts of justice are to be considered as the bulwarks of a limited Constitution against legislative encroachments, this consideration will afford a strong argument for the permanent tenure of judicial offices, since nothing will contribute so much as this to that independent spirit in the judges which must be essential to the faithful performance of so arduous a duty.

This independence of the judges is equally requisite to guard the Constitution and the rights of individuals from the effects of those ill humors, which the arts of designing men, or the influence of particular conjunctures, sometimes disseminate among the people themselves, and which, though they speedily give place to better information, and more deliberate reflection, have a tendency, in the meantime, to occasion dangerous innovations in the government, and serious oppressions of the minor party in the community. Though I trust the friends of the proposed Constitution will never concur with its enemies, &lt;span class=&quot;footnote&quot; title=&quot;Vide Protest of the Minority of the Convention of Pennsylvania, Martin's Speech, etc.&quot;&gt;(3)&lt;/span&gt; in questioning that fundamental principle of republican government, which admits the right of the people to alter or abolish the established Constitution, whenever they find it inconsistent with their happiness, yet it is not to be inferred from this principle, that the representatives of the people, whenever a momentary inclination happens to lay hold of a majority of their constituents, incompatible with the provisions in the existing Constitution, would, on that account, be justifiable in a violation of those provisions; or that the courts would be under a greater obligation to connive at infractions in this shape, than when they had proceeded wholly from the cabals of the representative body. Until the people have, by some solemn and authoritative act, annulled or changed the established form, it is binding upon themselves collectively, as well as individually; and no presumption, or even knowledge, of their sentiments, can warrant their representatives in a departure from it, prior to such an act. But it is easy to see, that it would require an uncommon portion of fortitude in the judges to do their duty as faithful guardians of the Constitution, where legislative invasions of it had been instigated by the major voice of the community.

But it is not with a view to infractions of the Constitution only, that the independence of the judges may be an essential safeguard against the effects of occasional ill humors in the society. These sometimes extend no farther than to the injury of the private rights of particular classes of citizens, by unjust and partial laws. Here also the firmness of the judicial magistracy is of vast importance in mitigating the severity and confining the operation of such laws. It not only serves to moderate the immediate mischiefs of those which may have been passed, but it operates as a check upon the legislative body in passing them; who, perceiving that obstacles to the success of iniquitous intention are to be expected from the scruples of the courts, are in a manner compelled, by the very motives of the injustice they meditate, to qualify their attempts. This is a circumstance calculated to have more influence upon the character of our governments, than but few may be aware of. The benefits of the integrity and moderation of the judiciary have already been felt in more States than one; and though they may have displeased those whose sinister expectations they may have disappointed, they must have commanded the esteem and applause of all the virtuous and disinterested. Considerate men, of every description, ought to prize whatever will tend to beget or fortify that temper in the courts: as no man can be sure that he may not be to-morrow the victim of a spirit of injustice, by which he may be a gainer to-day. And every man must now feel, that the inevitable tendency of such a spirit is to sap the foundations of public and private confidence, and to introduce in its stead universal distrust and distress.

That inflexible and uniform adherence to the rights of the Constitution, and of individuals, which we perceive to be indispensable in the courts of justice, can certainly not be expected from judges who hold their offices by a temporary commission. Periodical appointments, however regulated, or by whomsoever made, would, in some way or other, be fatal to their necessary independence. If the power of making them was committed either to the Executive or legislature, there would be danger of an improper complaisance to the branch which possessed it; if to both, there would be an unwillingness to hazard the displeasure of either; if to the people, or to persons chosen by them for the special purpose, there would be too great a disposition to consult popularity, to justify a reliance that nothing would be consulted but the Constitution and the laws.

There is yet a further and a weightier reason for the permanency of the judicial offices, which is deducible from the nature of the qualifications they require. It has been frequently remarked, with great propriety, that a voluminous code of laws is one of the inconveniences necessarily connected with the advantages of a free government. To avoid an arbitrary discretion in the courts, it is indispensable that they should be bound down by strict rules and precedents, which serve to define and point out their duty in every particular case that comes before them; and it will readily be conceived from the variety of controversies which grow out of the folly and wickedness of mankind, that the records of those precedents must unavoidably swell to a very considerable bulk, and must demand long and laborious study to acquire a competent knowledge of them. Hence it is, that there can be but few men in the society who will have sufficient skill in the laws to qualify them for the stations of judges. And making the proper deductions for the ordinary depravity of human nature, the number must be still smaller of those who unite the requisite integrity with the requisite knowledge. These considerations apprise us, that the government can have no great option between fit character; and that a temporary duration in office, which would naturally discourage such characters from quitting a lucrative line of practice to accept a seat on the bench, would have a tendency to throw the administration of justice into hands less able, and less well qualified, to conduct it with utility and dignity. In the present circumstances of this country, and in those in which it is likely to be for a long time to come, the disadvantages on this score would be greater than they may at first sight appear; but it must be confessed, that they are far inferior to those which present themselves under the other aspects of the subject.

Upon the whole, there can be no room to doubt that the convention acted wisely in copying from the models of those constitutions which have established good behavior as the tenure of their judicial offices, in point of duration; and that so far from being blamable on this account, their plan would have been inexcusably defective, if it had wanted this important feature of good government. The experience of Great Britain affords an illustrious comment on the excellence of the institution.

PUBLIUS

''Footnotes''

1. The celebrated Montesquieu, speaking of them, says: &quot;Of the three powers above mentioned, the judiciary is next to nothing.&quot;—Spirit of Laws. Vol. I, page 186.

2. Idem, page 181.

3. Vide Protest of the Minority of the Convention of Pennsylvania, Martin's Speech, etc.
</pre>
</div>
<div created="20150327211819957" modified="20150327211932780" tags="[[McLEAN'S Edition]] Hamilton" title="No. 79. The Judiciary Continued">
<pre>''From MCLEAN's Edition, New York. Wednesday, May 28, 1788''

HAMILTON

To the People of the State of New York:

NEXT to permanency in office, nothing can contribute more to the independence of the judges than a fixed provision for their support. The remark made in relation to the President is equally applicable here. In the general course of human nature, a power over a man's subsistence amounts to a power over his will. And we can never hope to see realized in practice, the complete separation of the judicial from the legislative power, in any system which leaves the former dependent for pecuniary resources on the occasional grants of the latter. The enlightened friends to good government in every State, have seen cause to lament the want of precise and explicit precautions in the State constitutions on this head. Some of these indeed have declared that permanent &lt;span class=&quot;footnote&quot; title=&quot;Vide Constitution of Massachusetts, Chapter 2, Section 1, Article 13.&quot;&gt;(1)&lt;/span&gt; salaries should be established for the judges; but the experiment has in some instances shown that such expressions are not sufficiently definite to preclude legislative evasions. Something still more positive and unequivocal has been evinced to be requisite. The plan of the convention accordingly has provided that the judges of the United States &quot;shall at stated times receive for their services a compensation which shall not be diminished during their continuance in office.&quot;

This, all circumstances considered, is the most eligible provision that could have been devised. It will readily be understood that the fluctuations in the value of money and in the state of society rendered a fixed rate of compensation in the Constitution inadmissible. What might be extravagant to-day, might in half a century become penurious and inadequate. It was therefore necessary to leave it to the discretion of the legislature to vary its provisions in conformity to the variations in circumstances, yet under such restrictions as to put it out of the power of that body to change the condition of the individual for the worse. A man may then be sure of the ground upon which he stands, and can never be deterred from his duty by the apprehension of being placed in a less eligible situation. The clause which has been quoted combines both advantages. The salaries of judicial officers may from time to time be altered, as occasion shall require, yet so as never to lessen the allowance with which any particular judge comes into office, in respect to him. It will be observed that a difference has been made by the convention between the compensation of the President and of the judges, That of the former can neither be increased nor diminished; that of the latter can only not be diminished. This probably arose from the difference in the duration of the respective offices. As the President is to be elected for no more than four years, it can rarely happen that an adequate salary, fixed at the commencement of that period, will not continue to be such to its end. But with regard to the judges, who, if they behave properly, will be secured in their places for life, it may well happen, especially in the early stages of the government, that a stipend, which would be very sufficient at their first appointment, would become too small in the progress of their service.

This provision for the support of the judges bears every mark of prudence and efficacy; and it may be safely affirmed that, together with the permanent tenure of their offices, it affords a better prospect of their independence than is discoverable in the constitutions of any of the States in regard to their own judges.

The precautions for their responsibility are comprised in the article respecting impeachments. They are liable to be impeached for malconduct by the House of Representatives, and tried by the Senate; and, if convicted, may be dismissed from office, and disqualified for holding any other. This is the only provision on the point which is consistent with the necessary independence of the judicial character, and is the only one which we find in our own Constitution in respect to our own judges.

The want of a provision for removing the judges on account of inability has been a subject of complaint. But all considerate men will be sensible that such a provision would either not be practiced upon or would be more liable to abuse than calculated to answer any good purpose. The mensuration of the faculties of the mind has, I believe, no place in the catalogue of known arts. An attempt to fix the boundary between the regions of ability and inability, would much oftener give scope to personal and party attachments and enmities than advance the interests of justice or the public good. The result, except in the case of insanity, must for the most part be arbitrary; and insanity, without any formal or express provision, may be safely pronounced to be a virtual disqualification.

The constitution of New York, to avoid investigations that must forever be vague and dangerous, has taken a particular age as the criterion of inability. No man can be a judge beyond sixty. I believe there are few at present who do not disapprove of this provision. There is no station, in relation to which it is less proper than to that of a judge. The deliberating and comparing faculties generally preserve their strength much beyond that period in men who survive it; and when, in addition to this circumstance, we consider how few there are who outlive the season of intellectual vigor, and how improbable it is that any considerable portion of the bench, whether more or less numerous, should be in such a situation at the same time, we shall be ready to conclude that limitations of this sort have little to recommend them. In a republic, where fortunes are not affluent, and pensions not expedient, the dismission of men from stations in which they have served their country long and usefully, on which they depend for subsistence, and from which it will be too late to resort to any other occupation for a livelihood, ought to have some better apology to humanity than is to be found in the imaginary danger of a superannuated bench.

PUBLIUS

''Footnote''

1. Vide Constitution of Massachusetts, Chapter 2, Section 1, Article 13.
</pre>
</div>
<div created="20150327180349397" modified="20150327180618689" tags="Hamilton [[New York Packet]]" title="No. 8. The Consequences of Hostilities Between the States">
<pre>''From the New York Packet. Tuesday, November 20, 1787.''

HAMILTON

To the People of the State of New York:

ASSUMING it therefore as an established truth that the several States, in case of disunion, or such combinations of them as might happen to be formed out of the wreck of the general Confederacy, would be subject to those vicissitudes of peace and war, of friendship and enmity, with each other, which have fallen to the lot of all neighboring nations not united under one government, let us enter into a concise detail of some of the consequences that would attend such a situation.

War between the States, in the first period of their separate existence, would be accompanied with much greater distresses than it commonly is in those countries where regular military establishments have long obtained. The disciplined armies always kept on foot on the continent of Europe, though they bear a malignant aspect to liberty and economy, have, notwithstanding, been productive of the signal advantage of rendering sudden conquests impracticable, and of preventing that rapid desolation which used to mark the progress of war prior to their introduction. The art of fortification has contributed to the same ends. The nations of Europe are encircled with chains of fortified places, which mutually obstruct invasion. Campaigns are wasted in reducing two or three frontier garrisons, to gain admittance into an enemy's country. Similar impediments occur at every step, to exhaust the strength and delay the progress of an invader. Formerly, an invading army would penetrate into the heart of a neighboring country almost as soon as intelligence of its approach could be received; but now a comparatively small force of disciplined troops, acting on the defensive, with the aid of posts, is able to impede, and finally to frustrate, the enterprises of one much more considerable. The history of war, in that quarter of the globe, is no longer a history of nations subdued and empires overturned, but of towns taken and retaken; of battles that decide nothing; of retreats more beneficial than victories; of much effort and little acquisition.

In this country the scene would be altogether reversed. The jealousy of military establishments would postpone them as long as possible. The want of fortifications, leaving the frontiers of one state open to another, would facilitate inroads. The populous States would, with little difficulty, overrun their less populous neighbors. Conquests would be as easy to be made as difficult to be retained. War, therefore, would be desultory and predatory. PLUNDER and devastation ever march in the train of irregulars. The calamities of individuals would make the principal figure in the events which would characterize our military exploits.

This picture is not too highly wrought; though, I confess, it would not long remain a just one. Safety from external danger is the most powerful director of national conduct. Even the ardent love of liberty will, after a time, give way to its dictates. The violent destruction of life and property incident to war, the continual effort and alarm attendant on a state of continual danger, will compel nations the most attached to liberty to resort for repose and security to institutions which have a tendency to destroy their civil and political rights. To be more safe, they at length become willing to run the risk of being less free.

The institutions chiefly alluded to are STANDING ARMIES and the correspondent appendages of military establishments. Standing armies, it is said, are not provided against in the new Constitution; and it is therefore inferred that they may exist under it. &lt;span class=&quot;footnote&quot; title=&quot;This objection will be fully examined in its proper place, and it will be shown that the only natural precaution which could have been taken on this subject has been taken; and a much better one than is to be found in any constitution that has been heretofore framed in America, most of which contain no guard at all on this subject.&quot;&gt;(1)&lt;/span&gt; Their existence, however, from the very terms of the proposition, is, at most, problematical and uncertain. But standing armies, it may be replied, must inevitably result from a dissolution of the Confederacy. Frequent war and constant apprehension, which require a state of as constant preparation, will infallibly produce them. The weaker States or confederacies would first have recourse to them, to put themselves upon an equality with their more potent neighbors. They would endeavor to supply the inferiority of population and resources by a more regular and effective system of defense, by disciplined troops, and by fortifications. They would, at the same time, be necessitated to strengthen the executive arm of government, in doing which their constitutions would acquire a progressive direction toward monarchy. It is of the nature of war to increase the executive at the expense of the legislative authority.

The expedients which have been mentioned would soon give the States or confederacies that made use of them a superiority over their neighbors. Small states, or states of less natural strength, under vigorous governments, and with the assistance of disciplined armies, have often triumphed over large states, or states of greater natural strength, which have been destitute of these advantages. Neither the pride nor the safety of the more important States or confederacies would permit them long to submit to this mortifying and adventitious superiority. They would quickly resort to means similar to those by which it had been effected, to reinstate themselves in their lost pre-eminence. Thus, we should, in a little time, see established in every part of this country the same engines of despotism which have been the scourge of the Old World. This, at least, would be the natural course of things; and our reasonings will be the more likely to be just, in proportion as they are accommodated to this standard.

These are not vague inferences drawn from supposed or speculative defects in a Constitution, the whole power of which is lodged in the hands of a people, or their representatives and delegates, but they are solid conclusions, drawn from the natural and necessary progress of human affairs.

It may, perhaps, be asked, by way of objection to this, why did not standing armies spring up out of the contentions which so often distracted the ancient republics of Greece? Different answers, equally satisfactory, may be given to this question. The industrious habits of the people of the present day, absorbed in the pursuits of gain, and devoted to the improvements of agriculture and commerce, are incompatible with the condition of a nation of soldiers, which was the true condition of the people of those republics. The means of revenue, which have been so greatly multiplied by the increase of gold and silver and of the arts of industry, and the science of finance, which is the offspring of modern times, concurring with the habits of nations, have produced an entire revolution in the system of war, and have rendered disciplined armies, distinct from the body of the citizens, the inseparable companions of frequent hostility.

There is a wide difference, also, between military establishments in a country seldom exposed by its situation to internal invasions, and in one which is often subject to them, and always apprehensive of them. The rulers of the former can have no good pretext, if they are even so inclined, to keep on foot armies so numerous as must of necessity be maintained in the latter. These armies being, in the first case, rarely, if at all, called into activity for interior defense, the people are in no danger of being broken to military subordination. The laws are not accustomed to relaxations, in favor of military exigencies; the civil state remains in full vigor, neither corrupted, nor confounded with the principles or propensities of the other state. The smallness of the army renders the natural strength of the community an overmatch for it; and the citizens, not habituated to look up to the military power for protection, or to submit to its oppressions, neither love nor fear the soldiery; they view them with a spirit of jealous acquiescence in a necessary evil, and stand ready to resist a power which they suppose may be exerted to the prejudice of their rights.

The army under such circumstances may usefully aid the magistrate to suppress a small faction, or an occasional mob, or insurrection; but it will be unable to enforce encroachments against the united efforts of the great body of the people.

In a country in the predicament last described, the contrary of all this happens. The perpetual menacings of danger oblige the government to be always prepared to repel it; its armies must be numerous enough for instant defense. The continual necessity for their services enhances the importance of the soldier, and proportionably degrades the condition of the citizen. The military state becomes elevated above the civil. The inhabitants of territories, often the theatre of war, are unavoidably subjected to frequent infringements on their rights, which serve to weaken their sense of those rights; and by degrees the people are brought to consider the soldiery not only as their protectors, but as their superiors. The transition from this disposition to that of considering them masters, is neither remote nor difficult; but it is very difficult to prevail upon a people under such impressions, to make a bold or effectual resistance to usurpations supported by the military power.

The kingdom of Great Britain falls within the first description. An insular situation, and a powerful marine, guarding it in a great measure against the possibility of foreign invasion, supersede the necessity of a numerous army within the kingdom. A sufficient force to make head against a sudden descent, till the militia could have time to rally and embody, is all that has been deemed requisite. No motive of national policy has demanded, nor would public opinion have tolerated, a larger number of troops upon its domestic establishment. There has been, for a long time past, little room for the operation of the other causes, which have been enumerated as the consequences of internal war. This peculiar felicity of situation has, in a great degree, contributed to preserve the liberty which that country to this day enjoys, in spite of the prevalent venality and corruption. If, on the contrary, Britain had been situated on the continent, and had been compelled, as she would have been, by that situation, to make her military establishments at home coextensive with those of the other great powers of Europe, she, like them, would in all probability be, at this day, a victim to the absolute power of a single man. It is possible, though not easy, that the people of that island may be enslaved from other causes; but it cannot be by the prowess of an army so inconsiderable as that which has been usually kept up within the kingdom.

If we are wise enough to preserve the Union we may for ages enjoy an advantage similar to that of an insulated situation. Europe is at a great distance from us. Her colonies in our vicinity will be likely to continue too much disproportioned in strength to be able to give us any dangerous annoyance. Extensive military establishments cannot, in this position, be necessary to our security. But if we should be disunited, and the integral parts should either remain separated, or, which is most probable, should be thrown together into two or three confederacies, we should be, in a short course of time, in the predicament of the continental powers of Europe—our liberties would be a prey to the means of defending ourselves against the ambition and jealousy of each other.

This is an idea not superficial or futile, but solid and weighty. It deserves the most serious and mature consideration of every prudent and honest man of whatever party. If such men will make a firm and solemn pause, and meditate dispassionately on the importance of this interesting idea; if they will contemplate it in all its attitudes, and trace it to all its consequences, they will not hesitate to part with trivial objections to a Constitution, the rejection of which would in all probability put a final period to the Union. The airy phantoms that flit before the distempered imaginations of some of its adversaries would quickly give place to the more substantial forms of dangers, real, certain, and formidable.

PUBLIUS

''Footnote''

1. This objection will be fully examined in its proper place, and it will be shown that the only natural precaution which could have been taken on this subject has been taken; and a much better one than is to be found in any constitution that has been heretofore framed in America, most of which contain no guard at all on this subject.
</pre>
</div>
<div created="20150327212007069" modified="20150327212045852" tags="Hamilton [[McLEAN'S Edition]]" title="No. 80. The Powers of the Judiciary">
<pre>''From ~McLEAN's Edition, New York. Wednesday, May 28, 1788.''

HAMILTON

To the People of the State of New York:

TO JUDGE with accuracy of the proper extent of the federal judicature, it will be necessary to consider, in the first place, what are its proper objects.

It seems scarcely to admit of controversy, that the judiciary authority of the Union ought to extend to these several descriptions of cases: 1st, to all those which arise out of the laws of the United States, passed in pursuance of their just and constitutional powers of legislation; 2d, to all those which concern the execution of the provisions expressly contained in the articles of Union; 3d, to all those in which the United States are a party; 4th, to all those which involve the PEACE of the CONFEDERACY, whether they relate to the intercourse between the United States and foreign nations, or to that between the States themselves; 5th, to all those which originate on the high seas, and are of admiralty or maritime jurisdiction; and, lastly, to all those in which the State tribunals cannot be supposed to be impartial and unbiased.

The first point depends upon this obvious consideration, that there ought always to be a constitutional method of giving efficacy to constitutional provisions. What, for instance, would avail restrictions on the authority of the State legislatures, without some constitutional mode of enforcing the observance of them? The States, by the plan of the convention, are prohibited from doing a variety of things, some of which are incompatible with the interests of the Union, and others with the principles of good government. The imposition of duties on imported articles, and the emission of paper money, are specimens of each kind. No man of sense will believe, that such prohibitions would be scrupulously regarded, without some effectual power in the government to restrain or correct the infractions of them. This power must either be a direct negative on the State laws, or an authority in the federal courts to overrule such as might be in manifest contravention of the articles of Union. There is no third course that I can imagine. The latter appears to have been thought by the convention preferable to the former, and, I presume, will be most agreeable to the States.

As to the second point, it is impossible, by any argument or comment, to make it clearer than it is in itself. If there are such things as political axioms, the propriety of the judicial power of a government being coextensive with its legislative, may be ranked among the number. The mere necessity of uniformity in the interpretation of the national laws, decides the question. Thirteen independent courts of final jurisdiction over the same causes, arising upon the same laws, is a hydra in government, from which nothing but contradiction and confusion can proceed.

Still less need be said in regard to the third point. Controversies between the nation and its members or citizens, can only be properly referred to the national tribunals. Any other plan would be contrary to reason, to precedent, and to decorum.

The fourth point rests on this plain proposition, that the peace of the WHOLE ought not to be left at the disposal of a PART. The Union will undoubtedly be answerable to foreign powers for the conduct of its members. And the responsibility for an injury ought ever to be accompanied with the faculty of preventing it. As the denial or perversion of justice by the sentences of courts, as well as in any other manner, is with reason classed among the just causes of war, it will follow that the federal judiciary ought to have cognizance of all causes in which the citizens of other countries are concerned. This is not less essential to the preservation of the public faith, than to the security of the public tranquillity. A distinction may perhaps be imagined between cases arising upon treaties and the laws of nations and those which may stand merely on the footing of the municipal law. The former kind may be supposed proper for the federal jurisdiction, the latter for that of the States. But it is at least problematical, whether an unjust sentence against a foreigner, where the subject of controversy was wholly relative to the lex loci, would not, if unredressed, be an aggression upon his sovereign, as well as one which violated the stipulations of a treaty or the general law of nations. And a still greater objection to the distinction would result from the immense difficulty, if not impossibility, of a practical discrimination between the cases of one complexion and those of the other. So great a proportion of the cases in which foreigners are parties, involve national questions, that it is by far most safe and most expedient to refer all those in which they are concerned to the national tribunals.

The power of determining causes between two States, between one State and the citizens of another, and between the citizens of different States, is perhaps not less essential to the peace of the Union than that which has been just examined. History gives us a horrid picture of the dissensions and private wars which distracted and desolated Germany prior to the institution of the Imperial Chamber by Maximilian, towards the close of the fifteenth century; and informs us, at the same time, of the vast influence of that institution in appeasing the disorders and establishing the tranquillity of the empire. This was a court invested with authority to decide finally all differences among the members of the Germanic body.

A method of terminating territorial disputes between the States, under the authority of the federal head, was not unattended to, even in the imperfect system by which they have been hitherto held together. But there are many other sources, besides interfering claims of boundary, from which bickerings and animosities may spring up among the members of the Union. To some of these we have been witnesses in the course of our past experience. It will readily be conjectured that I allude to the fraudulent laws which have been passed in too many of the States. And though the proposed Constitution establishes particular guards against the repetition of those instances which have heretofore made their appearance, yet it is warrantable to apprehend that the spirit which produced them will assume new shapes, that could not be foreseen nor specifically provided against. Whatever practices may have a tendency to disturb the harmony between the States, are proper objects of federal superintendence and control.

It may be esteemed the basis of the Union, that &quot;the citizens of each State shall be entitled to all the privileges and immunities of citizens of the several States.&quot; And if it be a just principle that every government ought to possess the means of executing its own provisions by its own authority, it will follow, that in order to the inviolable maintenance of that equality of privileges and immunities to which the citizens of the Union will be entitled, the national judiciary ought to preside in all cases in which one State or its citizens are opposed to another State or its citizens. To secure the full effect of so fundamental a provision against all evasion and subterfuge, it is necessary that its construction should be committed to that tribunal which, having no local attachments, will be likely to be impartial between the different States and their citizens, and which, owing its official existence to the Union, will never be likely to feel any bias inauspicious to the principles on which it is founded.

The fifth point will demand little animadversion. The most bigoted idolizers of State authority have not thus far shown a disposition to deny the national judiciary the cognizances of maritime causes. These so generally depend on the laws of nations, and so commonly affect the rights of foreigners, that they fall within the considerations which are relative to the public peace. The most important part of them are, by the present Confederation, submitted to federal jurisdiction.

The reasonableness of the agency of the national courts in cases in which the State tribunals cannot be supposed to be impartial, speaks for itself. No man ought certainly to be a judge in his own cause, or in any cause in respect to which he has the least interest or bias. This principle has no inconsiderable weight in designating the federal courts as the proper tribunals for the determination of controversies between different States and their citizens. And it ought to have the same operation in regard to some cases between citizens of the same State. Claims to land under grants of different States, founded upon adverse pretensions of boundary, are of this description. The courts of neither of the granting States could be expected to be unbiased. The laws may have even prejudged the question, and tied the courts down to decisions in favor of the grants of the State to which they belonged. And even where this had not been done, it would be natural that the judges, as men, should feel a strong predilection to the claims of their own government.

Having thus laid down and discussed the principles which ought to regulate the constitution of the federal judiciary, we will proceed to test, by these principles, the particular powers of which, according to the plan of the convention, it is to be composed. It is to comprehend &quot;all cases in law and equity arising under the Constitution, the laws of the United States, and treaties made, or which shall be made, under their authority; to all cases affecting ambassadors, other public ministers, and consuls; to all cases of admiralty and maritime jurisdiction; to controversies to which the United States shall be a party; to controversies between two or more States; between a State and citizens of another State; between citizens of different States; between citizens of the same State claiming lands and grants of different States; and between a State or the citizens thereof and foreign states, citizens, and subjects.&quot; This constitutes the entire mass of the judicial authority of the Union. Let us now review it in detail. It is, then, to extend:

First. To all cases in law and equity, arising under the Constitution and the laws of the United States. This corresponds with the two first classes of causes, which have been enumerated, as proper for the jurisdiction of the United States. It has been asked, what is meant by &quot;cases arising under the Constitution,&quot; in contradiction from those &quot;arising under the laws of the United States&quot;? The difference has been already explained. All the restrictions upon the authority of the State legislatures furnish examples of it. They are not, for instance, to emit paper money; but the interdiction results from the Constitution, and will have no connection with any law of the United States. Should paper money, notwithstanding, be emited, the controversies concerning it would be cases arising under the Constitution and not the laws of the United States, in the ordinary signification of the terms. This may serve as a sample of the whole.

It has also been asked, what need of the word &quot;equity&quot;. What equitable causes can grow out of the Constitution and laws of the United States? There is hardly a subject of litigation between individuals, which may not involve those ingredients of fraud, accident, trust, or hardship, which would render the matter an object of equitable rather than of legal jurisdiction, as the distinction is known and established in several of the States. It is the peculiar province, for instance, of a court of equity to relieve against what are called hard bargains: these are contracts in which, though there may have been no direct fraud or deceit, sufficient to invalidate them in a court of law, yet there may have been some undue and unconscionable advantage taken of the necessities or misfortunes of one of the parties, which a court of equity would not tolerate. In such cases, where foreigners were concerned on either side, it would be impossible for the federal judicatories to do justice without an equitable as well as a legal jurisdiction. Agreements to convey lands claimed under the grants of different States, may afford another example of the necessity of an equitable jurisdiction in the federal courts. This reasoning may not be so palpable in those States where the formal and technical distinction between LAW and EQUITY is not maintained, as in this State, where it is exemplified by every day's practice.

The judiciary authority of the Union is to extend:

Second. To treaties made, or which shall be made, under the authority of the United States, and to all cases affecting ambassadors, other public ministers, and consuls. These belong to the fourth class of the enumerated cases, as they have an evident connection with the preservation of the national peace.

Third. To cases of admiralty and maritime jurisdiction. These form, altogether, the fifth of the enumerated classes of causes proper for the cognizance of the national courts.

Fourth. To controversies to which the United States shall be a party. These constitute the third of those classes.

Fifth. To controversies between two or more States; between a State and citizens of another State; between citizens of different States. These belong to the fourth of those classes, and partake, in some measure, of the nature of the last.

Sixth. To cases between the citizens of the same State, claiming lands under grants of different States. These fall within the last class, and are the only instances in which the proposed Constitution directly contemplates the cognizance of disputes between the citizens of the same State.

Seventh. To cases between a State and the citizens thereof, and foreign States, citizens, or subjects. These have been already explained to belong to the fourth of the enumerated classes, and have been shown to be, in a peculiar manner, the proper subjects of the national judicature.

From this review of the particular powers of the federal judiciary, as marked out in the Constitution, it appears that they are all conformable to the principles which ought to have governed the structure of that department, and which were necessary to the perfection of the system. If some partial inconveniences should appear to be connected with the incorporation of any of them into the plan, it ought to be recollected that the national legislature will have ample authority to make such exceptions, and to prescribe such regulations as will be calculated to obviate or remove these inconveniences. The possibility of particular mischiefs can never be viewed, by a wellinformed mind, as a solid objection to a general principle, which is calculated to avoid general mischiefs and to obtain general advantages.

PUBLIUS</pre>
</div>
<div created="20150327212116821" modified="20150327212437028" tags="Hamilton [[McLEAN'S Edition]]" title="No. 81. The Judiciary Continued, and the Distribution of the Judicial Authority.">
<pre>''From ~McLEAN's Edition, New York. Wednesday, May 28, 1788.''

HAMILTON

To the People of the State of New York:

LET US now return to the partition of the judiciary authority between different courts, and their relations to each other.

&quot;The judicial power of the United States is&quot; (by the plan of the convention) &quot;to be vested in one Supreme Court, and in such inferior courts as the Congress may, from time to time, ordain and establish.&quot; &lt;span class=&quot;footnote&quot; title=&quot;Article 3, Sec. 1.&quot;&gt;(1)&lt;/span&gt;

That there ought to be one court of supreme and final jurisdiction, is a proposition which is not likely to be contested. The reasons for it have been assigned in another place, and are too obvious to need repetition. The only question that seems to have been raised concerning it, is, whether it ought to be a distinct body or a branch of the legislature. The same contradiction is observable in regard to this matter which has been remarked in several other cases. The very men who object to the Senate as a court of impeachments, on the ground of an improper intermixture of powers, advocate, by implication at least, the propriety of vesting the ultimate decision of all causes, in the whole or in a part of the legislative body.

The arguments, or rather suggestions, upon which this charge is founded, are to this effect: &quot;The authority of the proposed Supreme Court of the United States, which is to be a separate and independent body, will be superior to that of the legislature. The power of construing the laws according to the spirit of the Constitution, will enable that court to mould them into whatever shape it may think proper; especially as its decisions will not be in any manner subject to the revision or correction of the legislative body. This is as unprecedented as it is dangerous. In Britain, the judicial power, in the last resort, resides in the House of Lords, which is a branch of the legislature; and this part of the British government has been imitated in the State constitutions in general. The Parliament of Great Britain, and the legislatures of the several States, can at any time rectify, by law, the exceptionable decisions of their respective courts. But the errors and usurpations of the Supreme Court of the United States will be uncontrollable and remediless.&quot; This, upon examination, will be found to be made up altogether of false reasoning upon misconceived fact.

In the first place, there is not a syllable in the plan under consideration which directly empowers the national courts to construe the laws according to the spirit of the Constitution, or which gives them any greater latitude in this respect than may be claimed by the courts of every State. I admit, however, that the Constitution ought to be the standard of construction for the laws, and that wherever there is an evident opposition, the laws ought to give place to the Constitution. But this doctrine is not deducible from any circumstance peculiar to the plan of the convention, but from the general theory of a limited Constitution; and as far as it is true, is equally applicable to most, if not to all the State governments. There can be no objection, therefore, on this account, to the federal judicature which will not lie against the local judicatures in general, and which will not serve to condemn every constitution that attempts to set bounds to legislative discretion.

But perhaps the force of the objection may be thought to consist in the particular organization of the Supreme Court; in its being composed of a distinct body of magistrates, instead of being one of the branches of the legislature, as in the government of Great Britain and that of the State. To insist upon this point, the authors of the objection must renounce the meaning they have labored to annex to the celebrated maxim, requiring a separation of the departments of power. It shall, nevertheless, be conceded to them, agreeably to the interpretation given to that maxim in the course of these papers, that it is not violated by vesting the ultimate power of judging in a PART of the legislative body. But though this be not an absolute violation of that excellent rule, yet it verges so nearly upon it, as on this account alone to be less eligible than the mode preferred by the convention. From a body which had even a partial agency in passing bad laws, we could rarely expect a disposition to temper and moderate them in the application. The same spirit which had operated in making them, would be too apt in interpreting them; still less could it be expected that men who had infringed the Constitution in the character of legislators, would be disposed to repair the breach in the character of judges. Nor is this all. Every reason which recommends the tenure of good behavior for judicial offices, militates against placing the judiciary power, in the last resort, in a body composed of men chosen for a limited period. There is an absurdity in referring the determination of causes, in the first instance, to judges of permanent standing; in the last, to those of a temporary and mutable constitution. And there is a still greater absurdity in subjecting the decisions of men, selected for their knowledge of the laws, acquired by long and laborious study, to the revision and control of men who, for want of the same advantage, cannot but be deficient in that knowledge. The members of the legislature will rarely be chosen with a view to those qualifications which fit men for the stations of judges; and as, on this account, there will be great reason to apprehend all the ill consequences of defective information, so, on account of the natural propensity of such bodies to party divisions, there will be no less reason to fear that the pestilential breath of faction may poison the fountains of justice. The habit of being continually marshalled on opposite sides will be too apt to stifle the voice both of law and of equity.

These considerations teach us to applaud the wisdom of those States who have committed the judicial power, in the last resort, not to a part of the legislature, but to distinct and independent bodies of men. Contrary to the supposition of those who have represented the plan of the convention, in this respect, as novel and unprecedented, it is but a copy of the constitutions of New Hampshire, Massachusetts, Pennsylvania, Delaware, Maryland, Virginia, North Carolina, South Carolina, and Georgia; and the preference which has been given to those models is highly to be commended.

It is not true, in the second place, that the Parliament of Great Britain, or the legislatures of the particular States, can rectify the exceptionable decisions of their respective courts, in any other sense than might be done by a future legislature of the United States. The theory, neither of the British, nor the State constitutions, authorizes the revisal of a judicial sentence by a legislative act. Nor is there any thing in the proposed Constitution, more than in either of them, by which it is forbidden. In the former, as well as in the latter, the impropriety of the thing, on the general principles of law and reason, is the sole obstacle. A legislature, without exceeding its province, cannot reverse a determination once made in a particular case; though it may prescribe a new rule for future cases. This is the principle, and it applies in all its consequences, exactly in the same manner and extent, to the State governments, as to the national government now under consideration. Not the least difference can be pointed out in any view of the subject.

It may in the last place be observed that the supposed danger of judiciary encroachments on the legislative authority, which has been upon many occasions reiterated, is in reality a phantom. Particular misconstructions and contraventions of the will of the legislature may now and then happen; but they can never be so extensive as to amount to an inconvenience, or in any sensible degree to affect the order of the political system. This may be inferred with certainty, from the general nature of the judicial power, from the objects to which it relates, from the manner in which it is exercised, from its comparative weakness, and from its total incapacity to support its usurpations by force. And the inference is greatly fortified by the consideration of the important constitutional check which the power of instituting impeachments in one part of the legislative body, and of determining upon them in the other, would give to that body upon the members of the judicial department. This is alone a complete security. There never can be danger that the judges, by a series of deliberate usurpations on the authority of the legislature, would hazard the united resentment of the body intrusted with it, while this body was possessed of the means of punishing their presumption, by degrading them from their stations. While this ought to remove all apprehensions on the subject, it affords, at the same time, a cogent argument for constituting the Senate a court for the trial of impeachments.

Having now examined, and, I trust, removed the objections to the distinct and independent organization of the Supreme Court, I proceed to consider the propriety of the power of constituting inferior courts, &lt;span class=&quot;footnote&quot; title=&quot;This power has been absurdly represented as intended to abolish all the county courts in the several States, which are commonly called inferior courts. But the expressions of the Constitution are, to constitute “tribunals INFERIOR TO THE SUPREME COURT“; and the evident design of the provision is to enable the institution of local courts, subordinate to the Supreme, either in States or larger districts. It is ridiculous to imagine that county courts were in contemplation.&quot;&gt;(2)&lt;/span&gt; and the relations which will subsist between these and the former.

The power of constituting inferior courts is evidently calculated to obviate the necessity of having recourse to the Supreme Court in every case of federal cognizance. It is intended to enable the national government to institute or authorize, in each State or district of the United States, a tribunal competent to the determination of matters of national jurisdiction within its limits.

But why, it is asked, might not the same purpose have been accomplished by the instrumentality of the State courts? This admits of different answers. Though the fitness and competency of those courts should be allowed in the utmost latitude, yet the substance of the power in question may still be regarded as a necessary part of the plan, if it were only to empower the national legislature to commit to them the cognizance of causes arising out of the national Constitution. To confer the power of determining such causes upon the existing courts of the several States, would perhaps be as much &quot;to constitute tribunals,&quot; as to create new courts with the like power. But ought not a more direct and explicit provision to have been made in favor of the State courts? There are, in my opinion, substantial reasons against such a provision: the most discerning cannot foresee how far the prevalency of a local spirit may be found to disqualify the local tribunals for the jurisdiction of national causes; whilst every man may discover, that courts constituted like those of some of the States would be improper channels of the judicial authority of the Union. State judges, holding their offices during pleasure, or from year to year, will be too little independent to be relied upon for an inflexible execution of the national laws. And if there was a necessity for confiding the original cognizance of causes arising under those laws to them there would be a correspondent necessity for leaving the door of appeal as wide as possible. In proportion to the grounds of confidence in, or distrust of, the subordinate tribunals, ought to be the facility or difficulty of appeals. And well satisfied as I am of the propriety of the appellate jurisdiction, in the several classes of causes to which it is extended by the plan of the convention. I should consider every thing calculated to give, in practice, an unrestrained course to appeals, as a source of public and private inconvenience.

I am not sure, but that it will be found highly expedient and useful, to divide the United States into four or five or half a dozen districts; and to institute a federal court in each district, in lieu of one in every State. The judges of these courts, with the aid of the State judges, may hold circuits for the trial of causes in the several parts of the respective districts. Justice through them may be administered with ease and despatch; and appeals may be safely circumscribed within a narrow compass. This plan appears to me at present the most eligible of any that could be adopted; and in order to it, it is necessary that the power of constituting inferior courts should exist in the full extent in which it is to be found in the proposed Constitution.

These reasons seem sufficient to satisfy a candid mind, that the want of such a power would have been a great defect in the plan. Let us now examine in what manner the judicial authority is to be distributed between the supreme and the inferior courts of the Union.

The Supreme Court is to be invested with original jurisdiction, only &quot;in cases affecting ambassadors, other public ministers, and consuls, and those in which A STATE shall be a party.&quot; Public ministers of every class are the immediate representatives of their sovereigns. All questions in which they are concerned are so directly connected with the public peace, that, as well for the preservation of this, as out of respect to the sovereignties they represent, it is both expedient and proper that such questions should be submitted in the first instance to the highest judicatory of the nation. Though consuls have not in strictness a diplomatic character, yet as they are the public agents of the nations to which they belong, the same observation is in a great measure applicable to them. In cases in which a State might happen to be a party, it would ill suit its dignity to be turned over to an inferior tribunal.

Though it may rather be a digression from the immediate subject of this paper, I shall take occasion to mention here a supposition which has excited some alarm upon very mistaken grounds. It has been suggested that an assignment of the public securities of one State to the citizens of another, would enable them to prosecute that State in the federal courts for the amount of those securities; a suggestion which the following considerations prove to be without foundation.

It is inherent in the nature of sovereignty not to be amenable to the suit of an individual without its consent. This is the general sense, and the general practice of mankind; and the exemption, as one of the attributes of sovereignty, is now enjoyed by the government of every State in the Union. Unless, therefore, there is a surrender of this immunity in the plan of the convention, it will remain with the States, and the danger intimated must be merely ideal. The circumstances which are necessary to produce an alienation of State sovereignty were discussed in considering the article of taxation, and need not be repeated here. A recurrence to the principles there established will satisfy us, that there is no color to pretend that the State governments would, by the adoption of that plan, be divested of the privilege of paying their own debts in their own way, free from every constraint but that which flows from the obligations of good faith. The contracts between a nation and individuals are only binding on the conscience of the sovereign, and have no pretensions to a compulsive force. They confer no right of action, independent of the sovereign will. To what purpose would it be to authorize suits against States for the debts they owe? How could recoveries be enforced? It is evident, it could not be done without waging war against the contracting State; and to ascribe to the federal courts, by mere implication, and in destruction of a pre-existing right of the State governments, a power which would involve such a consequence, would be altogether forced and unwarrantable.

Let us resume the train of our observations. We have seen that the original jurisdiction of the Supreme Court would be confined to two classes of causes, and those of a nature rarely to occur. In all other cases of federal cognizance, the original jurisdiction would appertain to the inferior tribunals; and the Supreme Court would have nothing more than an appellate jurisdiction, &quot;with such exceptions and under such regulations as the Congress shall make.&quot;

The propriety of this appellate jurisdiction has been scarcely called in question in regard to matters of law; but the clamors have been loud against it as applied to matters of fact. Some well-intentioned men in this State, deriving their notions from the language and forms which obtain in our courts, have been induced to consider it as an implied supersedure of the trial by jury, in favor of the civil-law mode of trial, which prevails in our courts of admiralty, probate, and chancery. A technical sense has been affixed to the term &quot;appellate,&quot; which, in our law parlance, is commonly used in reference to appeals in the course of the civil law. But if I am not misinformed, the same meaning would not be given to it in any part of New England. There an appeal from one jury to another, is familiar both in language and practice, and is even a matter of course, until there have been two verdicts on one side. The word &quot;appellate,&quot; therefore, will not be understood in the same sense in New England as in New York, which shows the impropriety of a technical interpretation derived from the jurisprudence of any particular State. The expression, taken in the abstract, denotes nothing more than the power of one tribunal to review the proceedings of another, either as to the law or fact, or both. The mode of doing it may depend on ancient custom or legislative provision (in a new government it must depend on the latter), and may be with or without the aid of a jury, as may be judged advisable. If, therefore, the re-examination of a fact once determined by a jury, should in any case be admitted under the proposed Constitution, it may be so regulated as to be done by a second jury, either by remanding the cause to the court below for a second trial of the fact, or by directing an issue immediately out of the Supreme Court.

But it does not follow that the re-examination of a fact once ascertained by a jury, will be permitted in the Supreme Court. Why may not it be said, with the strictest propriety, when a writ of error is brought from an inferior to a superior court of law in this State, that the latter has jurisdiction of the fact as well as the law? It is true it cannot institute a new inquiry concerning the fact, but it takes cognizance of it as it appears upon the record, and pronounces the law arising upon it. &lt;span class=&quot;footnote&quot; title=&quot;This word is composed of JUS and DICTIO, juris dictio or a speaking and pronouncing of the law.&quot;&gt;(3)&lt;/span&gt; This is jurisdiction of both fact and law; nor is it even possible to separate them. Though the common-law courts of this State ascertain disputed facts by a jury, yet they unquestionably have jurisdiction of both fact and law; and accordingly when the former is agreed in the pleadings, they have no recourse to a jury, but proceed at once to judgment. I contend, therefore, on this ground, that the expressions, &quot;appellate jurisdiction, both as to law and fact,&quot; do not necessarily imply a re-examination in the Supreme Court of facts decided by juries in the inferior courts.

The following train of ideas may well be imagined to have influenced the convention, in relation to this particular provision. The appellate jurisdiction of the Supreme Court (it may have been argued) will extend to causes determinable in different modes, some in the course of the COMMON LAW, others in the course of the CIVIL LAW. In the former, the revision of the law only will be, generally speaking, the proper province of the Supreme Court; in the latter, the re-examination of the fact is agreeable to usage, and in some cases, of which prize causes are an example, might be essential to the preservation of the public peace. It is therefore necessary that the appellate jurisdiction should, in certain cases, extend in the broadest sense to matters of fact. It will not answer to make an express exception of cases which shall have been originally tried by a jury, because in the courts of some of the States all causes are tried in this mode &lt;span class=&quot;footnote&quot; title=&quot;I hold that the States will have concurrent jurisdiction with the subordinate federal judicatories, in many cases of federal cognizance, as will be explained in my next paper.&quot;&gt;(4)&lt;/span&gt;; and such an exception would preclude the revision of matters of fact, as well where it might be proper, as where it might be improper. To avoid all inconveniencies, it will be safest to declare generally, that the Supreme Court shall possess appellate jurisdiction both as to law and fact, and that this jurisdiction shall be subject to such exceptions and regulations as the national legislature may prescribe. This will enable the government to modify it in such a manner as will best answer the ends of public justice and security.

This view of the matter, at any rate, puts it out of all doubt that the supposed abolition of the trial by jury, by the operation of this provision, is fallacious and untrue. The legislature of the United States would certainly have full power to provide, that in appeals to the Supreme Court there should be no re-examination of facts where they had been tried in the original causes by juries. This would certainly be an authorized exception; but if, for the reason already intimated, it should be thought too extensive, it might be qualified with a limitation to such causes only as are determinable at common law in that mode of trial.

The amount of the observations hitherto made on the authority of the judicial department is this: that it has been carefully restricted to those causes which are manifestly proper for the cognizance of the national judicature; that in the partition of this authority a very small portion of original jurisdiction has been preserved to the Supreme Court, and the rest consigned to the subordinate tribunals; that the Supreme Court will possess an appellate jurisdiction, both as to law and fact, in all the cases referred to them, both subject to any exceptions and regulations which may be thought advisable; that this appellate jurisdiction does, in no case, abolish the trial by jury; and that an ordinary degree of prudence and integrity in the national councils will insure us solid advantages from the establishment of the proposed judiciary, without exposing us to any of the inconveniences which have been predicted from that source.

PUBLIUS

''Footnotes''

1. Article 3, Sec. 1.

2. This power has been absurdly represented as intended to abolish all the county courts in the several States, which are commonly called inferior courts. But the expressions of the Constitution are, to constitute &quot;tribunals INFERIOR TO THE SUPREME COURT&quot;; and the evident design of the provision is to enable the institution of local courts, subordinate to the Supreme, either in States or larger districts. It is ridiculous to imagine that county courts were in contemplation.

3. This word is composed of JUS and DICTIO, juris dictio or a speaking and pronouncing of the law.

4. I hold that the States will have concurrent jurisdiction with the subordinate federal judicatories, in many cases of federal cognizance, as will be explained in my next paper.</pre>
</div>
<div created="20150327212553173" modified="20150327212722492" tags="" title="No. 82. The Judiciary Continued.">
<pre>''From ~McLEAN's Edition, New York. Wednesday, May 28, 1788''

HAMILTON

To the People of the State of New York:

THE erection of a new government, whatever care or wisdom may distinguish the work, cannot fail to originate questions of intricacy and nicety; and these may, in a particular manner, be expected to flow from the establishment of a constitution founded upon the total or partial incorporation of a number of distinct sovereignties. 'Tis time only that can mature and perfect so compound a system, can liquidate the meaning of all the parts, and can adjust them to each other in a harmonious and consistent WHOLE.

Such questions, accordingly, have arisen upon the plan proposed by the convention, and particularly concerning the judiciary department. The principal of these respect the situation of the State courts in regard to those causes which are to be submitted to federal jurisdiction. Is this to be exclusive, or are those courts to possess a concurrent jurisdiction? If the latter, in what relation will they stand to the national tribunals? These are inquiries which we meet with in the mouths of men of sense, and which are certainly entitled to attention.

The principles established in a former paper &lt;span class=&quot;footnote&quot; title=&quot;No. 31.&quot;&gt;(1)&lt;/span&gt; teach us that the States will retain all pre-existing authorities which may not be exclusively delegated to the federal head; and that this exclusive delegation can only exist in one of three cases: where an exclusive authority is, in express terms, granted to the Union; or where a particular authority is granted to the Union, and the exercise of a like authority is prohibited to the States; or where an authority is granted to the Union, with which a similar authority in the States would be utterly incompatible. Though these principles may not apply with the same force to the judiciary as to the legislative power, yet I am inclined to think that they are, in the main, just with respect to the former, as well as the latter. And under this impression, I shall lay it down as a rule, that the State courts will retain the jurisdiction they now have, unless it appears to be taken away in one of the enumerated modes.

The only thing in the proposed Constitution, which wears the appearance of confining the causes of federal cognizance to the federal courts, is contained in this passage: &quot;THE JUDICIAL POWER of the United States shall be vested in one Supreme Court, and in such inferior courts as the Congress shall from time to time ordain and establish.&quot; This might either be construed to signify, that the supreme and subordinate courts of the Union should alone have the power of deciding those causes to which their authority is to extend; or simply to denote, that the organs of the national judiciary should be one Supreme Court, and as many subordinate courts as Congress should think proper to appoint; or in other words, that the United States should exercise the judicial power with which they are to be invested, through one supreme tribunal, and a certain number of inferior ones, to be instituted by them. The first excludes, the last admits, the concurrent jurisdiction of the State tribunals; and as the first would amount to an alienation of State power by implication, the last appears to me the most natural and the most defensible construction.

But this doctrine of concurrent jurisdiction is only clearly applicable to those descriptions of causes of which the State courts have previous cognizance. It is not equally evident in relation to cases which may grow out of, and be peculiar to, the Constitution to be established; for not to allow the State courts a right of jurisdiction in such cases, can hardly be considered as the abridgment of a pre-existing authority. I mean not therefore to contend that the United States, in the course of legislation upon the objects intrusted to their direction, may not commit the decision of causes arising upon a particular regulation to the federal courts solely, if such a measure should be deemed expedient; but I hold that the State courts will be divested of no part of their primitive jurisdiction, further than may relate to an appeal; and I am even of opinion that in every case in which they were not expressly excluded by the future acts of the national legislature, they will of course take cognizance of the causes to which those acts may give birth. This I infer from the nature of judiciary power, and from the general genius of the system. The judiciary power of every government looks beyond its own local or municipal laws, and in civil cases lays hold of all subjects of litigation between parties within its jurisdiction, though the causes of dispute are relative to the laws of the most distant part of the globe. Those of Japan, not less than of New York, may furnish the objects of legal discussion to our courts. When in addition to this we consider the State governments and the national governments, as they truly are, in the light of kindred systems, and as parts of ONE WHOLE, the inference seems to be conclusive, that the State courts would have a concurrent jurisdiction in all cases arising under the laws of the Union, where it was not expressly prohibited.

Here another question occurs: What relation would subsist between the national and State courts in these instances of concurrent jurisdiction? I answer, that an appeal would certainly lie from the latter, to the Supreme Court of the United States. The Constitution in direct terms gives an appellate jurisdiction to the Supreme Court in all the enumerated cases of federal cognizance in which it is not to have an original one, without a single expression to confine its operation to the inferior federal courts. The objects of appeal, not the tribunals from which it is to be made, are alone contemplated. From this circumstance, and from the reason of the thing, it ought to be construed to extend to the State tribunals. Either this must be the case, or the local courts must be excluded from a concurrent jurisdiction in matters of national concern, else the judiciary authority of the Union may be eluded at the pleasure of every plaintiff or prosecutor. Neither of these consequences ought, without evident necessity, to be involved; the latter would be entirely inadmissible, as it would defeat some of the most important and avowed purposes of the proposed government, and would essentially embarrass its measures. Nor do I perceive any foundation for such a supposition. Agreeably to the remark already made, the national and State systems are to be regarded as ONE WHOLE. The courts of the latter will of course be natural auxiliaries to the execution of the laws of the Union, and an appeal from them will as naturally lie to that tribunal which is destined to unite and assimilate the principles of national justice and the rules of national decisions. The evident aim of the plan of the convention is, that all the causes of the specified classes shall, for weighty public reasons, receive their original or final determination in the courts of the Union. To confine, therefore, the general expressions giving appellate jurisdiction to the Supreme Court, to appeals from the subordinate federal courts, instead of allowing their extension to the State courts, would be to abridge the latitude of the terms, in subversion of the intent, contrary to every sound rule of interpretation.

But could an appeal be made to lie from the State courts to the subordinate federal judicatories? This is another of the questions which have been raised, and of greater difficulty than the former. The following considerations countenance the affirmative. The plan of the convention, in the first place, authorizes the national legislature &quot;to constitute tribunals inferior to the Supreme Court.&quot; &lt;span class=&quot;footnote&quot; title=&quot;Sec. 8, Art. 1.&quot;&gt;(2)&lt;/span&gt; It declares, in the next place, that &quot;the JUDICIAL POWER of the United States shall be vested in one Supreme Court, and in such inferior courts as Congress shall ordain and establish&quot;; and it then proceeds to enumerate the cases to which this judicial power shall extend. It afterwards divides the jurisdiction of the Supreme Court into original and appellate, but gives no definition of that of the subordinate courts. The only outlines described for them, are that they shall be &quot;inferior to the Supreme Court,&quot; and that they shall not exceed the specified limits of the federal judiciary. Whether their authority shall be original or appellate, or both, is not declared. All this seems to be left to the discretion of the legislature. And this being the case, I perceive at present no impediment to the establishment of an appeal from the State courts to the subordinate national tribunals; and many advantages attending the power of doing it may be imagined. It would diminish the motives to the multiplication of federal courts, and would admit of arrangements calculated to contract the appellate jurisdiction of the Supreme Court. The State tribunals may then be left with a more entire charge of federal causes; and appeals, in most cases in which they may be deemed proper, instead of being carried to the Supreme Court, may be made to lie from the State courts to district courts of the Union.

PUBLIUS

''Footnotes''

1. No. 31.

2. Sec. 8, Art. 1.
</pre>
</div>
<div created="20150327212856541" modified="20150327213531517" tags="Hamilton [[McLEAN'S Edition]]" title="No. 83. The Judiciary Continued in Relation to Trial by Jury">
<pre>''From MCLEAN's Edition, New York. Wednesday, May 28, 1788''

HAMILTON

To the People of the State of New York:

THE objection to the plan of the convention, which has met with most success in this State, and perhaps in several of the other States, is that relative to the want of a constitutional provision for the trial by jury in civil cases. The disingenuous form in which this objection is usually stated has been repeatedly adverted to and exposed, but continues to be pursued in all the conversations and writings of the opponents of the plan. The mere silence of the Constitution in regard to civil causes, is represented as an abolition of the trial by jury, and the declamations to which it has afforded a pretext are artfully calculated to induce a persuasion that this pretended abolition is complete and universal, extending not only to every species of civil, but even to criminal causes. To argue with respect to the latter would, however, be as vain and fruitless as to attempt the serious proof of the existence of matter, or to demonstrate any of those propositions which, by their own internal evidence, force conviction, when expressed in language adapted to convey their meaning.

With regard to civil causes, subtleties almost too contemptible for refutation have been employed to countenance the surmise that a thing which is only not provided for, is entirely abolished. Every man of discernment must at once perceive the wide difference between silence and abolition. But as the inventors of this fallacy have attempted to support it by certain legal maxims of interpretation, which they have perverted from their true meaning, it may not be wholly useless to explore the ground they have taken.

The maxims on which they rely are of this nature: &quot;A specification of particulars is an exclusion of generals&quot;; or, &quot;The expression of one thing is the exclusion of another.&quot; Hence, say they, as the Constitution has established the trial by jury in criminal cases, and is silent in respect to civil, this silence is an implied prohibition of trial by jury in regard to the latter.

The rules of legal interpretation are rules of common sense, adopted by the courts in the construction of the laws. The true test, therefore, of a just application of them is its conformity to the source from which they are derived. This being the case, let me ask if it is consistent with common-sense to suppose that a provision obliging the legislative power to commit the trial of criminal causes to juries, is a privation of its right to authorize or permit that mode of trial in other cases? Is it natural to suppose, that a command to do one thing is a prohibition to the doing of another, which there was a previous power to do, and which is not incompatible with the thing commanded to be done? If such a supposition would be unnatural and unreasonable, it cannot be rational to maintain that an injunction of the trial by jury in certain cases is an interdiction of it in others.

A power to constitute courts is a power to prescribe the mode of trial; and consequently, if nothing was said in the Constitution on the subject of juries, the legislature would be at liberty either to adopt that institution or to let it alone. This discretion, in regard to criminal causes, is abridged by the express injunction of trial by jury in all such cases; but it is, of course, left at large in relation to civil causes, there being a total silence on this head. The specification of an obligation to try all criminal causes in a particular mode, excludes indeed the obligation or necessity of employing the same mode in civil causes, but does not abridge the power of the legislature to exercise that mode if it should be thought proper. The pretense, therefore, that the national legislature would not be at full liberty to submit all the civil causes of federal cognizance to the determination of juries, is a pretense destitute of all just foundation.

From these observations this conclusion results: that the trial by jury in civil cases would not be abolished; and that the use attempted to be made of the maxims which have been quoted, is contrary to reason and common-sense, and therefore not admissible. Even if these maxims had a precise technical sense, corresponding with the idea of those who employ them upon the present occasion, which, however, is not the case, they would still be inapplicable to a constitution of government. In relation to such a subject, the natural and obvious sense of its provisions, apart from any technical rules, is the true criterion of construction.

Having now seen that the maxims relied upon will not bear the use made of them, let us endeavor to ascertain their proper use and true meaning. This will be best done by examples. The plan of the convention declares that the power of Congress, or, in other words, of the national legislature, shall extend to certain enumerated cases. This specification of particulars evidently excludes all pretension to a general legislative authority, because an affirmative grant of special powers would be absurd, as well as useless, if a general authority was intended.

In like manner the judicial authority of the federal judicatures is declared by the Constitution to comprehend certain cases particularly specified. The expression of those cases marks the precise limits, beyond which the federal courts cannot extend their jurisdiction, because the objects of their cognizance being enumerated, the specification would be nugatory if it did not exclude all ideas of more extensive authority.

These examples are sufficient to elucidate the maxims which have been mentioned, and to designate the manner in which they should be used. But that there may be no misapprehensions upon this subject, I shall add one case more, to demonstrate the proper use of these maxims, and the abuse which has been made of them.

Let us suppose that by the laws of this State a married woman was incapable of conveying her estate, and that the legislature, considering this as an evil, should enact that she might dispose of her property by deed executed in the presence of a magistrate. In such a case there can be no doubt but the specification would amount to an exclusion of any other mode of conveyance, because the woman having no previous power to alienate her property, the specification determines the particular mode which she is, for that purpose, to avail herself of. But let us further suppose that in a subsequent part of the same act it should be declared that no woman should dispose of any estate of a determinate value without the consent of three of her nearest relations, signified by their signing the deed; could it be inferred from this regulation that a married woman might not procure the approbation of her relations to a deed for conveying property of inferior value? The position is too absurd to merit a refutation, and yet this is precisely the position which those must establish who contend that the trial by juries in civil cases is abolished, because it is expressly provided for in cases of a criminal nature.

From these observations it must appear unquestionably true, that trial by jury is in no case abolished by the proposed Constitution, and it is equally true, that in those controversies between individuals in which the great body of the people are likely to be interested, that institution will remain precisely in the same situation in which it is placed by the State constitutions, and will be in no degree altered or influenced by the adoption of the plan under consideration. The foundation of this assertion is, that the national judiciary will have no cognizance of them, and of course they will remain determinable as heretofore by the State courts only, and in the manner which the State constitutions and laws prescribe. All land causes, except where claims under the grants of different States come into question, and all other controversies between the citizens of the same State, unless where they depend upon positive violations of the articles of union, by acts of the State legislatures, will belong exclusively to the jurisdiction of the State tribunals. Add to this, that admiralty causes, and almost all those which are of equity jurisdiction, are determinable under our own government without the intervention of a jury, and the inference from the whole will be, that this institution, as it exists with us at present, cannot possibly be affected to any great extent by the proposed alteration in our system of government.

The friends and adversaries of the plan of the convention, if they agree in nothing else, concur at least in the value they set upon the trial by jury; or if there is any difference between them it consists in this: the former regard it as a valuable safeguard to liberty; the latter represent it as the very palladium of free government. For my own part, the more the operation of the institution has fallen under my observation, the more reason I have discovered for holding it in high estimation; and it would be altogether superfluous to examine to what extent it deserves to be esteemed useful or essential in a representative republic, or how much more merit it may be entitled to, as a defense against the oppressions of an hereditary monarch, than as a barrier to the tyranny of popular magistrates in a popular government. Discussions of this kind would be more curious than beneficial, as all are satisfied of the utility of the institution, and of its friendly aspect to liberty. But I must acknowledge that I cannot readily discern the inseparable connection between the existence of liberty, and the trial by jury in civil cases. Arbitrary impeachments, arbitrary methods of prosecuting pretended offenses, and arbitrary punishments upon arbitrary convictions, have ever appeared to me to be the great engines of judicial despotism; and these have all relation to criminal proceedings. The trial by jury in criminal cases, aided by the habeas corpus act, seems therefore to be alone concerned in the question. And both of these are provided for, in the most ample manner, in the plan of the convention.

It has been observed, that trial by jury is a safeguard against an oppressive exercise of the power of taxation. This observation deserves to be canvassed.

It is evident that it can have no influence upon the legislature, in regard to the amount of taxes to be laid, to the objects upon which they are to be imposed, or to the rule by which they are to be apportioned. If it can have any influence, therefore, it must be upon the mode of collection, and the conduct of the officers intrusted with the execution of the revenue laws.

As to the mode of collection in this State, under our own Constitution, the trial by jury is in most cases out of use. The taxes are usually levied by the more summary proceeding of distress and sale, as in cases of rent. And it is acknowledged on all hands, that this is essential to the efficacy of the revenue laws. The dilatory course of a trial at law to recover the taxes imposed on individuals, would neither suit the exigencies of the public nor promote the convenience of the citizens. It would often occasion an accumulation of costs, more burdensome than the original sum of the tax to be levied.

And as to the conduct of the officers of the revenue, the provision in favor of trial by jury in criminal cases, will afford the security aimed at. Wilful abuses of a public authority, to the oppression of the subject, and every species of official extortion, are offenses against the government, for which the persons who commit them may be indicted and punished according to the circumstances of the case.

The excellence of the trial by jury in civil cases appears to depend on circumstances foreign to the preservation of liberty. The strongest argument in its favor is, that it is a security against corruption. As there is always more time and better opportunity to tamper with a standing body of magistrates than with a jury summoned for the occasion, there is room to suppose that a corrupt influence would more easily find its way to the former than to the latter. The force of this consideration is, however, diminished by others. The sheriff, who is the summoner of ordinary juries, and the clerks of courts, who have the nomination of special juries, are themselves standing officers, and, acting individually, may be supposed more accessible to the touch of corruption than the judges, who are a collective body. It is not difficult to see, that it would be in the power of those officers to select jurors who would serve the purpose of the party as well as a corrupted bench. In the next place, it may fairly be supposed, that there would be less difficulty in gaining some of the jurors promiscuously taken from the public mass, than in gaining men who had been chosen by the government for their probity and good character. But making every deduction for these considerations, the trial by jury must still be a valuable check upon corruption. It greatly multiplies the impediments to its success. As matters now stand, it would be necessary to corrupt both court and jury; for where the jury have gone evidently wrong, the court will generally grant a new trial, and it would be in most cases of little use to practice upon the jury, unless the court could be likewise gained. Here then is a double security; and it will readily be perceived that this complicated agency tends to preserve the purity of both institutions. By increasing the obstacles to success, it discourages attempts to seduce the integrity of either. The temptations to prostitution which the judges might have to surmount, must certainly be much fewer, while the co-operation of a jury is necessary, than they might be, if they had themselves the exclusive determination of all causes.

Notwithstanding, therefore, the doubts I have expressed, as to the essentiality of trial by jury in civil cases to liberty, I admit that it is in most cases, under proper regulations, an excellent method of determining questions of property; and that on this account alone it would be entitled to a constitutional provision in its favor if it were possible to fix the limits within which it ought to be comprehended. There is, however, in all cases, great difficulty in this; and men not blinded by enthusiasm must be sensible that in a federal government, which is a composition of societies whose ideas and institutions in relation to the matter materially vary from each other, that difficulty must be not a little augmented. For my own part, at every new view I take of the subject, I become more convinced of the reality of the obstacles which, we are authoritatively informed, prevented the insertion of a provision on this head in the plan of the convention.

The great difference between the limits of the jury trial in different States is not generally understood; and as it must have considerable influence on the sentence we ought to pass upon the omission complained of in regard to this point, an explanation of it is necessary. In this State, our judicial establishments resemble, more nearly than in any other, those of Great Britain. We have courts of common law, courts of probates (analogous in certain matters to the spiritual courts in England), a court of admiralty and a court of chancery. In the courts of common law only, the trial by jury prevails, and this with some exceptions. In all the others a single judge presides, and proceeds in general either according to the course of the canon or civil law, without the aid of a jury. &lt;span class=&quot;footnote&quot; title=&quot;It has been erroneously insinuated with regard to the court of chancery, that this court generally tries disputed facts by a jury. The truth is, that references to a jury in that court rarely happen, and are in no case necessary but where the validity of a devise of land comes into question.&quot;&gt;(1)&lt;/span&gt; In New Jersey, there is a court of chancery which proceeds like ours, but neither courts of admiralty nor of probates, in the sense in which these last are established with us. In that State the courts of common law have the cognizance of those causes which with us are determinable in the courts of admiralty and of probates, and of course the jury trial is more extensive in New Jersey than in New York. In Pennsylvania, this is perhaps still more the case, for there is no court of chancery in that State, and its common-law courts have equity jurisdiction. It has a court of admiralty, but none of probates, at least on the plan of ours. Delaware has in these respects imitated Pennsylvania. Maryland approaches more nearly to New York, as does also Virginia, except that the latter has a plurality of chancellors. North Carolina bears most affinity to Pennsylvania; South Carolina to Virginia. I believe, however, that in some of those States which have distinct courts of admiralty, the causes depending in them are triable by juries. In Georgia there are none but common-law courts, and an appeal of course lies from the verdict of one jury to another, which is called a special jury, and for which a particular mode of appointment is marked out. In Connecticut, they have no distinct courts either of chancery or of admiralty, and their courts of probates have no jurisdiction of causes. Their common-law courts have admiralty and, to a certain extent, equity jurisdiction. In cases of importance, their General Assembly is the only court of chancery. In Connecticut, therefore, the trial by jury extends in practice further than in any other State yet mentioned. Rhode Island is, I believe, in this particular, pretty much in the situation of Connecticut. Massachusetts and New Hampshire, in regard to the blending of law, equity, and admiralty jurisdictions, are in a similar predicament. In the four Eastern States, the trial by jury not only stands upon a broader foundation than in the other States, but it is attended with a peculiarity unknown, in its full extent, to any of them. There is an appeal of course from one jury to another, till there have been two verdicts out of three on one side.

From this sketch it appears that there is a material diversity, as well in the modification as in the extent of the institution of trial by jury in civil cases, in the several States; and from this fact these obvious reflections flow: first, that no general rule could have been fixed upon by the convention which would have corresponded with the circumstances of all the States; and secondly, that more or at least as much might have been hazarded by taking the system of any one State for a standard, as by omitting a provision altogether and leaving the matter, as has been done, to legislative regulation.

The propositions which have been made for supplying the omission have rather served to illustrate than to obviate the difficulty of the thing. The minority of Pennsylvania have proposed this mode of expression for the purpose—&quot;Trial by jury shall be as heretofore&quot;—and this I maintain would be senseless and nugatory. The United States, in their united or collective capacity, are the OBJECT to which all general provisions in the Constitution must necessarily be construed to refer. Now it is evident that though trial by jury, with various limitations, is known in each State individually, yet in the United States, as such, it is at this time altogether unknown, because the present federal government has no judiciary power whatever; and consequently there is no proper antecedent or previous establishment to which the term heretofore could relate. It would therefore be destitute of a precise meaning, and inoperative from its uncertainty.

As, on the one hand, the form of the provision would not fulfil the intent of its proposers, so, on the other, if I apprehend that intent rightly, it would be in itself inexpedient. I presume it to be, that causes in the federal courts should be tried by jury, if, in the State where the courts sat, that mode of trial would obtain in a similar case in the State courts; that is to say, admiralty causes should be tried in Connecticut by a jury, in New York without one. The capricious operation of so dissimilar a method of trial in the same cases, under the same government, is of itself sufficient to indispose every wellregulated judgment towards it. Whether the cause should be tried with or without a jury, would depend, in a great number of cases, on the accidental situation of the court and parties.

But this is not, in my estimation, the greatest objection. I feel a deep and deliberate conviction that there are many cases in which the trial by jury is an ineligible one. I think it so particularly in cases which concern the public peace with foreign nations—that is, in most cases where the question turns wholly on the laws of nations. Of this nature, among others, are all prize causes. Juries cannot be supposed competent to investigations that require a thorough knowledge of the laws and usages of nations; and they will sometimes be under the influence of impressions which will not suffer them to pay sufficient regard to those considerations of public policy which ought to guide their inquiries. There would of course be always danger that the rights of other nations might be infringed by their decisions, so as to afford occasions of reprisal and war. Though the proper province of juries be to determine matters of fact, yet in most cases legal consequences are complicated with fact in such a manner as to render a separation impracticable.

It will add great weight to this remark, in relation to prize causes, to mention that the method of determining them has been thought worthy of particular regulation in various treaties between different powers of Europe, and that, pursuant to such treaties, they are determinable in Great Britain, in the last resort, before the king himself, in his privy council, where the fact, as well as the law, undergoes a re-examination. This alone demonstrates the impolicy of inserting a fundamental provision in the Constitution which would make the State systems a standard for the national government in the article under consideration, and the danger of encumbering the government with any constitutional provisions the propriety of which is not indisputable.

My convictions are equally strong that great advantages result from the separation of the equity from the law jurisdiction, and that the causes which belong to the former would be improperly committed to juries. The great and primary use of a court of equity is to give relief in extraordinary cases, which are exceptions &lt;span class=&quot;footnote&quot; title=&quot;It is true that the principles by which that relief is governed are now reduced to a regular system; but it is not the less true that they are in the main applicable to SPECIAL circumstances, which form exceptions to general rules.&quot;&gt;(2)&lt;/span&gt; to general rules. To unite the jurisdiction of such cases with the ordinary jurisdiction, must have a tendency to unsettle the general rules, and to subject every case that arises to a special determination; while a separation of the one from the other has the contrary effect of rendering one a sentinel over the other, and of keeping each within the expedient limits. Besides this, the circumstances that constitute cases proper for courts of equity are in many instances so nice and intricate, that they are incompatible with the genius of trials by jury. They require often such long, deliberate, and critical investigation as would be impracticable to men called from their occupations, and obliged to decide before they were permitted to return to them. The simplicity and expedition which form the distinguishing characters of this mode of trial require that the matter to be decided should be reduced to some single and obvious point; while the litigations usual in chancery frequently comprehend a long train of minute and independent particulars.

It is true that the separation of the equity from the legal jurisdiction is peculiar to the English system of jurisprudence: which is the model that has been followed in several of the States. But it is equally true that the trial by jury has been unknown in every case in which they have been united. And the separation is essential to the preservation of that institution in its pristine purity. The nature of a court of equity will readily permit the extension of its jurisdiction to matters of law; but it is not a little to be suspected, that the attempt to extend the jurisdiction of the courts of law to matters of equity will not only be unproductive of the advantages which may be derived from courts of chancery, on the plan upon which they are established in this State, but will tend gradually to change the nature of the courts of law, and to undermine the trial by jury, by introducing questions too complicated for a decision in that mode.

These appeared to be conclusive reasons against incorporating the systems of all the States, in the formation of the national judiciary, according to what may be conjectured to have been the attempt of the Pennsylvania minority. Let us now examine how far the proposition of Massachusetts is calculated to remedy the supposed defect.

It is in this form: &quot;In civil actions between citizens of different States, every issue of fact, arising in actions at common law, may be tried by a jury if the parties, or either of them request it.&quot;

This, at best, is a proposition confined to one description of causes; and the inference is fair, either that the Massachusetts convention considered that as the only class of federal causes, in which the trial by jury would be proper; or that if desirous of a more extensive provision, they found it impracticable to devise one which would properly answer the end. If the first, the omission of a regulation respecting so partial an object can never be considered as a material imperfection in the system. If the last, it affords a strong corroboration of the extreme difficulty of the thing.

But this is not all: if we advert to the observations already made respecting the courts that subsist in the several States of the Union, and the different powers exercised by them, it will appear that there are no expressions more vague and indeterminate than those which have been employed to characterize that species of causes which it is intended shall be entitled to a trial by jury. In this State, the boundaries between actions at common law and actions of equitable jurisdiction, are ascertained in conformity to the rules which prevail in England upon that subject. In many of the other States the boundaries are less precise. In some of them every cause is to be tried in a court of common law, and upon that foundation every action may be considered as an action at common law, to be determined by a jury, if the parties, or either of them, choose it. Hence the same irregularity and confusion would be introduced by a compliance with this proposition, that I have already noticed as resulting from the regulation proposed by the Pennsylvania minority. In one State a cause would receive its determination from a jury, if the parties, or either of them, requested it; but in another State, a cause exactly similar to the other, must be decided without the intervention of a jury, because the State judicatories varied as to common-law jurisdiction.

It is obvious, therefore, that the Massachusetts proposition, upon this subject cannot operate as a general regulation, until some uniform plan, with respect to the limits of common-law and equitable jurisdictions, shall be adopted by the different States. To devise a plan of that kind is a task arduous in itself, and which it would require much time and reflection to mature. It would be extremely difficult, if not impossible, to suggest any general regulation that would be acceptable to all the States in the Union, or that would perfectly quadrate with the several State institutions.

It may be asked, Why could not a reference have been made to the constitution of this State, taking that, which is allowed by me to be a good one, as a standard for the United States? I answer that it is not very probable the other States would entertain the same opinion of our institutions as we do ourselves. It is natural to suppose that they are hitherto more attached to their own, and that each would struggle for the preference. If the plan of taking one State as a model for the whole had been thought of in the convention, it is to be presumed that the adoption of it in that body would have been rendered difficult by the predilection of each representation in favor of its own government; and it must be uncertain which of the States would have been taken as the model. It has been shown that many of them would be improper ones. And I leave it to conjecture, whether, under all circumstances, it is most likely that New York, or some other State, would have been preferred. But admit that a judicious selection could have been effected in the convention, still there would have been great danger of jealousy and disgust in the other States, at the partiality which had been shown to the institutions of one. The enemies of the plan would have been furnished with a fine pretext for raising a host of local prejudices against it, which perhaps might have hazarded, in no inconsiderable degree, its final establishment.

To avoid the embarrassments of a definition of the cases which the trial by jury ought to embrace, it is sometimes suggested by men of enthusiastic tempers, that a provision might have been inserted for establishing it in all cases whatsoever. For this I believe, no precedent is to be found in any member of the Union; and the considerations which have been stated in discussing the proposition of the minority of Pennsylvania, must satisfy every sober mind that the establishment of the trial by jury in all cases would have been an unpardonable error in the plan.

In short, the more it is considered the more arduous will appear the task of fashioning a provision in such a form as not to express too little to answer the purpose, or too much to be advisable; or which might not have opened other sources of opposition to the great and essential object of introducing a firm national government.

I cannot but persuade myself, on the other hand, that the different lights in which the subject has been placed in the course of these observations, will go far towards removing in candid minds the apprehensions they may have entertained on the point. They have tended to show that the security of liberty is materially concerned only in the trial by jury in criminal cases, which is provided for in the most ample manner in the plan of the convention; that even in far the greatest proportion of civil cases, and those in which the great body of the community is interested, that mode of trial will remain in its full force, as established in the State constitutions, untouched and unaffected by the plan of the convention; that it is in no case abolished &lt;span class=&quot;footnote&quot; title=&quot;Vide No. 81, in which the supposition of its being abolished by the appellate jurisdiction in matters of fact being vested in the Supreme Court, is examined and refuted.&quot;&gt;(3)&lt;/span&gt; by that plan; and that there are great if not insurmountable difficulties in the way of making any precise and proper provision for it in a Constitution for the United States.

The best judges of the matter will be the least anxious for a constitutional establishment of the trial by jury in civil cases, and will be the most ready to admit that the changes which are continually happening in the affairs of society may render a different mode of determining questions of property preferable in many cases in which that mode of trial now prevails. For my part, I acknowledge myself to be convinced that even in this State it might be advantageously extended to some cases to which it does not at present apply, and might as advantageously be abridged in others. It is conceded by all reasonable men that it ought not to obtain in all cases. The examples of innovations which contract its ancient limits, as well in these States as in Great Britain, afford a strong presumption that its former extent has been found inconvenient, and give room to suppose that future experience may discover the propriety and utility of other exceptions. I suspect it to be impossible in the nature of the thing to fix the salutary point at which the operation of the institution ought to stop, and this is with me a strong argument for leaving the matter to the discretion of the legislature.

This is now clearly understood to be the case in Great Britain, and it is equally so in the State of Connecticut; and yet it may be safely affirmed that more numerous encroachments have been made upon the trial by jury in this State since the Revolution, though provided for by a positive article of our constitution, than has happened in the same time either in Connecticut or Great Britain. It may be added that these encroachments have generally originated with the men who endeavor to persuade the people they are the warmest defenders of popular liberty, but who have rarely suffered constitutional obstacles to arrest them in a favorite career. The truth is that the general GENIUS of a government is all that can be substantially relied upon for permanent effects. Particular provisions, though not altogether useless, have far less virtue and efficacy than are commonly ascribed to them; and the want of them will never be, with men of sound discernment, a decisive objection to any plan which exhibits the leading characters of a good government.

It certainly sounds not a little harsh and extraordinary to affirm that there is no security for liberty in a Constitution which expressly establishes the trial by jury in criminal cases, because it does not do it in civil also; while it is a notorious fact that Connecticut, which has been always regarded as the most popular State in the Union, can boast of no constitutional provision for either.

PUBLIUS

''Footnotes''

1. It has been erroneously insinuated with regard to the court of chancery, that this court generally tries disputed facts by a jury. The truth is, that references to a jury in that court rarely happen, and are in no case necessary but where the validity of a devise of land comes into question.

2. It is true that the principles by which that relief is governed are now reduced to a regular system; but it is not the less true that they are in the main applicable to SPECIAL circumstances, which form exceptions to general rules.

3. Vide No. 81, in which the supposition of its being abolished by the appellate jurisdiction in matters of fact being vested in the Supreme Court, is examined and refuted.
</pre>
</div>
<div created="20150327213721527" modified="20150327214018925" tags="Hamilton [[McLEAN'S Edition]]" title="No. 84. Certain General and Miscellaneous Objections to the Constitution Considered and Answered.">
<pre>''From ~McLEAN's Edition, New York. Wednesday, May 28, 1788''

HAMILTON

To the People of the State of New York:

IN THE course of the foregoing review of the Constitution, I have taken notice of, and endeavored to answer most of the objections which have appeared against it. There, however, remain a few which either did not fall naturally under any particular head or were forgotten in their proper places. These shall now be discussed; but as the subject has been drawn into great length, I shall so far consult brevity as to comprise all my observations on these miscellaneous points in a single paper.

The most considerable of the remaining objections is that the plan of the convention contains no bill of rights. Among other answers given to this, it has been upon different occasions remarked that the constitutions of several of the States are in a similar predicament. I add that New York is of the number. And yet the opposers of the new system, in this State, who profess an unlimited admiration for its constitution, are among the most intemperate partisans of a bill of rights. To justify their zeal in this matter, they allege two things: one is that, though the constitution of New York has no bill of rights prefixed to it, yet it contains, in the body of it, various provisions in favor of particular privileges and rights, which, in substance amount to the same thing; the other is, that the Constitution adopts, in their full extent, the common and statute law of Great Britain, by which many other rights, not expressed in it, are equally secured.

To the first I answer, that the Constitution proposed by the convention contains, as well as the constitution of this State, a number of such provisions.

Independent of those which relate to the structure of the government, we find the following: Article 1, section 3, clause 7—&quot;Judgment in cases of impeachment shall not extend further than to removal from office, and disqualification to hold and enjoy any office of honor, trust, or profit under the United States; but the party convicted shall, nevertheless, be liable and subject to indictment, trial, judgment, and punishment according to law.&quot; Section 9, of the same article, clause 2—&quot;The privilege of the writ of habeas corpus shall not be suspended, unless when in cases of rebellion or invasion the public safety may require it.&quot; Clause 3—&quot;No bill of attainder or ex-post-facto law shall be passed.&quot; Clause 7—&quot;No title of nobility shall be granted by the United States; and no person holding any office of profit or trust under them, shall, without the consent of the Congress, accept of any present, emolument, office, or title of any kind whatever, from any king, prince, or foreign state.&quot; Article 3, section 2, clause 3—&quot;The trial of all crimes, except in cases of impeachment, shall be by jury; and such trial shall be held in the State where the said crimes shall have been committed; but when not committed within any State, the trial shall be at such place or places as the Congress may by law have directed.&quot; Section 3, of the same article—&quot;Treason against the United States shall consist only in levying war against them, or in adhering to their enemies, giving them aid and comfort. No person shall be convicted of treason, unless on the testimony of two witnesses to the same overt act, or on confession in open court.&quot; And clause 3, of the same section—&quot;The Congress shall have power to declare the punishment of treason; but no attainder of treason shall work corruption of blood, or forfeiture, except during the life of the person attainted.&quot;

It may well be a question, whether these are not, upon the whole, of equal importance with any which are to be found in the constitution of this State. The establishment of the writ of habeas corpus, the prohibition of ex post facto laws, and of TITLES OF NOBILITY, to which we have no corresponding provision in our Constitution, are perhaps greater securities to liberty and republicanism than any it contains. The creation of crimes after the commission of the fact, or, in other words, the subjecting of men to punishment for things which, when they were done, were breaches of no law, and the practice of arbitrary imprisonments, have been, in all ages, the favorite and most formidable instruments of tyranny. The observations of the judicious Blackstone, &lt;span class=&quot;footnote&quot; title=&quot;Vide Blackstone's Commentaries, Vol. 1, p. 136.&quot;&gt;(1)&lt;/span&gt; in reference to the latter, are well worthy of recital: &quot;To bereave a man of life, (says he) or by violence to confiscate his estate, without accusation or trial, would be so gross and notorious an act of despotism, as must at once convey the alarm of tyranny throughout the whole nation; but confinement of the person, by secretly hurrying him to jail, where his sufferings are unknown or forgotten, is a less public, a less striking, and therefore a more dangerous engine of arbitrary government.&quot; And as a remedy for this fatal evil he is everywhere peculiarly emphatical in his encomiums on the habeas corpus act, which in one place he calls &quot;the BULWARK of the British Constitution.&quot; &lt;span class=&quot;footnote&quot; title=&quot;Blackstone's Commentaries, Vol. 4, p. 438.&quot;&gt;(2)&lt;/span&gt;

Nothing need be said to illustrate the importance of the prohibition of titles of nobility. This may truly be denominated the corner-stone of republican government; for so long as they are excluded, there can never be serious danger that the government will be any other than that of the people.

To the second that is, to the pretended establishment of the common and state law by the Constitution, I answer, that they are expressly made subject &quot;to such alterations and provisions as the legislature shall from time to time make concerning the same.&quot; They are therefore at any moment liable to repeal by the ordinary legislative power, and of course have no constitutional sanction. The only use of the declaration was to recognize the ancient law and to remove doubts which might have been occasioned by the Revolution. This consequently can be considered as no part of a declaration of rights, which under our constitutions must be intended as limitations of the power of the government itself.

It has been several times truly remarked that bills of rights are, in their origin, stipulations between kings and their subjects, abridgements of prerogative in favor of privilege, reservations of rights not surrendered to the prince. Such was MAGNA CHARTA, obtained by the barons, sword in hand, from King John. Such were the subsequent confirmations of that charter by succeeding princes. Such was the Petition of Right assented to by Charles I., in the beginning of his reign. Such, also, was the Declaration of Right presented by the Lords and Commons to the Prince of Orange in 1688, and afterwards thrown into the form of an act of parliament called the Bill of Rights. It is evident, therefore, that, according to their primitive signification, they have no application to constitutions professedly founded upon the power of the people, and executed by their immediate representatives and servants. Here, in strictness, the people surrender nothing; and as they retain every thing they have no need of particular reservations. &quot;WE, THE PEOPLE of the United States, to secure the blessings of liberty to ourselves and our posterity, do ordain and establish this Constitution for the United States of America.&quot; Here is a better recognition of popular rights, than volumes of those aphorisms which make the principal figure in several of our State bills of rights, and which would sound much better in a treatise of ethics than in a constitution of government.

But a minute detail of particular rights is certainly far less applicable to a Constitution like that under consideration, which is merely intended to regulate the general political interests of the nation, than to a constitution which has the regulation of every species of personal and private concerns. If, therefore, the loud clamors against the plan of the convention, on this score, are well founded, no epithets of reprobation will be too strong for the constitution of this State. But the truth is, that both of them contain all which, in relation to their objects, is reasonably to be desired.

I go further, and affirm that bills of rights, in the sense and to the extent in which they are contended for, are not only unnecessary in the proposed Constitution, but would even be dangerous. They would contain various exceptions to powers not granted; and, on this very account, would afford a colorable pretext to claim more than were granted. For why declare that things shall not be done which there is no power to do? Why, for instance, should it be said that the liberty of the press shall not be restrained, when no power is given by which restrictions may be imposed? I will not contend that such a provision would confer a regulating power; but it is evident that it would furnish, to men disposed to usurp, a plausible pretense for claiming that power. They might urge with a semblance of reason, that the Constitution ought not to be charged with the absurdity of providing against the abuse of an authority which was not given, and that the provision against restraining the liberty of the press afforded a clear implication, that a power to prescribe proper regulations concerning it was intended to be vested in the national government. This may serve as a specimen of the numerous handles which would be given to the doctrine of constructive powers, by the indulgence of an injudicious zeal for bills of rights.

On the subject of the liberty of the press, as much as has been said, I cannot forbear adding a remark or two: in the first place, I observe, that there is not a syllable concerning it in the constitution of this State; in the next, I contend, that whatever has been said about it in that of any other State, amounts to nothing. What signifies a declaration, that &quot;the liberty of the press shall be inviolably preserved&quot;? What is the liberty of the press? Who can give it any definition which would not leave the utmost latitude for evasion? I hold it to be impracticable; and from this I infer, that its security, whatever fine declarations may be inserted in any constitution respecting it, must altogether depend on public opinion, and on the general spirit of the people and of the government. &lt;span class=&quot;footnote&quot; title=&quot;To show that there is a power in the Constitution by which the liberty of the press may be affected, recourse has been had to the power of taxation. It is said that duties may be laid upon the publications so high as to amount to a prohibition. I know not by what logic it could be maintained, that the declarations in the State constitutions, in favor of the freedom of the press, would be a constitutional impediment to the imposition of duties upon publications by the State legislatures. It cannot certainly be pretended that any degree of duties, however low, would be an abridgment of the liberty of the press. We know that newspapers are taxed in Great Britain, and yet it is notorious that the press nowhere enjoys greater liberty than in that country. And if duties of any kind may be laid without a violation of that liberty, it is evident that the extent must depend on legislative discretion, respecting the liberty of the press, will give it no greater security than it will have without them. The same invasions of it may be effected under the State constitutions which contain those declarations through the means of taxation, as under the proposed Constitution, which has nothing of the kind. It would be quite as significant to declare that government ought to be free, that taxes ought not to be excessive, etc., as that the liberty of the press ought not to be restrained.&quot;&gt;(3)&lt;/span&gt; And here, after all, as is intimated upon another occasion, must we seek for the only solid basis of all our rights.

There remains but one other view of this matter to conclude the point. The truth is, after all the declamations we have heard, that the Constitution is itself, in every rational sense, and to every useful purpose, A BILL OF RIGHTS. The several bills of rights in Great Britain form its Constitution, and conversely the constitution of each State is its bill of rights. And the proposed Constitution, if adopted, will be the bill of rights of the Union. Is it one object of a bill of rights to declare and specify the political privileges of the citizens in the structure and administration of the government? This is done in the most ample and precise manner in the plan of the convention; comprehending various precautions for the public security, which are not to be found in any of the State constitutions. Is another object of a bill of rights to define certain immunities and modes of proceeding, which are relative to personal and private concerns? This we have seen has also been attended to, in a variety of cases, in the same plan. Adverting therefore to the substantial meaning of a bill of rights, it is absurd to allege that it is not to be found in the work of the convention. It may be said that it does not go far enough, though it will not be easy to make this appear; but it can with no propriety be contended that there is no such thing. It certainly must be immaterial what mode is observed as to the order of declaring the rights of the citizens, if they are to be found in any part of the instrument which establishes the government. And hence it must be apparent, that much of what has been said on this subject rests merely on verbal and nominal distinctions, entirely foreign from the substance of the thing.

Another objection which has been made, and which, from the frequency of its repetition, it is to be presumed is relied on, is of this nature: &quot;It is improper (say the objectors) to confer such large powers, as are proposed, upon the national government, because the seat of that government must of necessity be too remote from many of the States to admit of a proper knowledge on the part of the constituent, of the conduct of the representative body.&quot; This argument, if it proves any thing, proves that there ought to be no general government whatever. For the powers which, it seems to be agreed on all hands, ought to be vested in the Union, cannot be safely intrusted to a body which is not under every requisite control. But there are satisfactory reasons to show that the objection is in reality not well founded. There is in most of the arguments which relate to distance a palpable illusion of the imagination. What are the sources of information by which the people in Montgomery County must regulate their judgment of the conduct of their representatives in the State legislature? Of personal observation they can have no benefit. This is confined to the citizens on the spot. They must therefore depend on the information of intelligent men, in whom they confide; and how must these men obtain their information? Evidently from the complexion of public measures, from the public prints, from correspondences with their representatives, and with other persons who reside at the place of their deliberations. This does not apply to Montgomery County only, but to all the counties at any considerable distance from the seat of government.

It is equally evident that the same sources of information would be open to the people in relation to the conduct of their representatives in the general government, and the impediments to a prompt communication which distance may be supposed to create, will be overbalanced by the effects of the vigilance of the State governments. The executive and legislative bodies of each State will be so many sentinels over the persons employed in every department of the national administration; and as it will be in their power to adopt and pursue a regular and effectual system of intelligence, they can never be at a loss to know the behavior of those who represent their constituents in the national councils, and can readily communicate the same knowledge to the people. Their disposition to apprise the community of whatever may prejudice its interests from another quarter, may be relied upon, if it were only from the rivalship of power. And we may conclude with the fullest assurance that the people, through that channel, will be better informed of the conduct of their national representatives, than they can be by any means they now possess of that of their State representatives.

It ought also to be remembered that the citizens who inhabit the country at and near the seat of government will, in all questions that affect the general liberty and prosperity, have the same interest with those who are at a distance, and that they will stand ready to sound the alarm when necessary, and to point out the actors in any pernicious project. The public papers will be expeditious messengers of intelligence to the most remote inhabitants of the Union.

Among the many curious objections which have appeared against the proposed Constitution, the most extraordinary and the least colorable is derived from the want of some provision respecting the debts due to the United States. This has been represented as a tacit relinquishment of those debts, and as a wicked contrivance to screen public defaulters. The newspapers have teemed with the most inflammatory railings on this head; yet there is nothing clearer than that the suggestion is entirely void of foundation, the offspring of extreme ignorance or extreme dishonesty. In addition to the remarks I have made upon the subject in another place, I shall only observe that as it is a plain dictate of common-sense, so it is also an established doctrine of political law, that &quot;States neither lose any of their rights, nor are discharged from any of their obligations, by a change in the form of their civil government.&quot; &lt;span class=&quot;footnote&quot; title=&quot;Vide Rutherford's Institutes, Vol. 2, Book II, Chapter X, Sections XIV and XV. Vide also Grotius, Book II, Chapter IX, Sections VIII and IX.&quot;&gt;(4)&lt;/span&gt;

The last objection of any consequence, which I at present recollect, turns upon the article of expense. If it were even true, that the adoption of the proposed government would occasion a considerable increase of expense, it would be an objection that ought to have no weight against the plan.

The great bulk of the citizens of America are with reason convinced, that Union is the basis of their political happiness. Men of sense of all parties now, with few exceptions, agree that it cannot be preserved under the present system, nor without radical alterations; that new and extensive powers ought to be granted to the national head, and that these require a different organization of the federal government—a single body being an unsafe depositary of such ample authorities. In conceding all this, the question of expense must be given up; for it is impossible, with any degree of safety, to narrow the foundation upon which the system is to stand. The two branches of the legislature are, in the first instance, to consist of only sixty-five persons, which is the same number of which Congress, under the existing Confederation, may be composed. It is true that this number is intended to be increased; but this is to keep pace with the progress of the population and resources of the country. It is evident that a less number would, even in the first instance, have been unsafe, and that a continuance of the present number would, in a more advanced stage of population, be a very inadequate representation of the people.

Whence is the dreaded augmentation of expense to spring? One source indicated, is the multiplication of offices under the new government. Let us examine this a little.

It is evident that the principal departments of the administration under the present government, are the same which will be required under the new. There are now a Secretary of War, a Secretary of Foreign Affairs, a Secretary for Domestic Affairs, a Board of Treasury, consisting of three persons, a Treasurer, assistants, clerks, etc. These officers are indispensable under any system, and will suffice under the new as well as the old. As to ambassadors and other ministers and agents in foreign countries, the proposed Constitution can make no other difference than to render their characters, where they reside, more respectable, and their services more useful. As to persons to be employed in the collection of the revenues, it is unquestionably true that these will form a very considerable addition to the number of federal officers; but it will not follow that this will occasion an increase of public expense. It will be in most cases nothing more than an exchange of State for national officers. In the collection of all duties, for instance, the persons employed will be wholly of the latter description. The States individually will stand in no need of any for this purpose. What difference can it make in point of expense to pay officers of the customs appointed by the State or by the United States? There is no good reason to suppose that either the number or the salaries of the latter will be greater than those of the former.

Where then are we to seek for those additional articles of expense which are to swell the account to the enormous size that has been represented to us? The chief item which occurs to me respects the support of the judges of the United States. I do not add the President, because there is now a president of Congress, whose expenses may not be far, if any thing, short of those which will be incurred on account of the President of the United States. The support of the judges will clearly be an extra expense, but to what extent will depend on the particular plan which may be adopted in regard to this matter. But upon no reasonable plan can it amount to a sum which will be an object of material consequence.

Let us now see what there is to counterbalance any extra expense that may attend the establishment of the proposed government. The first thing which presents itself is that a great part of the business which now keeps Congress sitting through the year will be transacted by the President. Even the management of foreign negotiations will naturally devolve upon him, according to general principles concerted with the Senate, and subject to their final concurrence. Hence it is evident that a portion of the year will suffice for the session of both the Senate and the House of Representatives; we may suppose about a fourth for the latter and a third, or perhaps half, for the former. The extra business of treaties and appointments may give this extra occupation to the Senate. From this circumstance we may infer that, until the House of Representatives shall be increased greatly beyond its present number, there will be a considerable saving of expense from the difference between the constant session of the present and the temporary session of the future Congress.

But there is another circumstance of great importance in the view of economy. The business of the United States has hitherto occupied the State legislatures, as well as Congress. The latter has made requisitions which the former have had to provide for. Hence it has happened that the sessions of the State legislatures have been protracted greatly beyond what was necessary for the execution of the mere local business of the States. More than half their time has been frequently employed in matters which related to the United States. Now the members who compose the legislatures of the several States amount to two thousand and upwards, which number has hitherto performed what under the new system will be done in the first instance by sixty-five persons, and probably at no future period by above a fourth or fifth of that number. The Congress under the proposed government will do all the business of the United States themselves, without the intervention of the State legislatures, who thenceforth will have only to attend to the affairs of their particular States, and will not have to sit in any proportion as long as they have heretofore done. This difference in the time of the sessions of the State legislatures will be clear gain, and will alone form an article of saving, which may be regarded as an equivalent for any additional objects of expense that may be occasioned by the adoption of the new system.

The result from these observations is that the sources of additional expense from the establishment of the proposed Constitution are much fewer than may have been imagined; that they are counterbalanced by considerable objects of saving; and that while it is questionable on which side the scale will preponderate, it is certain that a government less expensive would be incompetent to the purposes of the Union.

PUBLIUS

''Footnotes''

1. Vide Blackstone's Commentaries, Vol. 1, p. 136.

2. Idem, Vol. 4, p. 438.

3. To show that there is a power in the Constitution by which the liberty of the press may be affected, recourse has been had to the power of taxation. It is said that duties may be laid upon the publications so high as to amount to a prohibition. I know not by what logic it could be maintained, that the declarations in the State constitutions, in favor of the freedom of the press, would be a constitutional impediment to the imposition of duties upon publications by the State legislatures. It cannot certainly be pretended that any degree of duties, however low, would be an abridgment of the liberty of the press. We know that newspapers are taxed in Great Britain, and yet it is notorious that the press nowhere enjoys greater liberty than in that country. And if duties of any kind may be laid without a violation of that liberty, it is evident that the extent must depend on legislative discretion, respecting the liberty of the press, will give it no greater security than it will have without them. The same invasions of it may be effected under the State constitutions which contain those declarations through the means of taxation, as under the proposed Constitution, which has nothing of the kind. It would be quite as significant to declare that government ought to be free, that taxes ought not to be excessive, etc., as that the liberty of the press ought not to be restrained.

4. Vide Rutherford's Institutes, Vol. 2, Book II, Chapter X, Sections XIV and XV. Vide also Grotius, Book II, Chapter IX, Sections VIII and IX.
</pre>
</div>
<div created="20150327214716615" modified="20150327214951326" tags="Hamilton [[McLEAN'S Edition]]" title="No. 85. Concluding Remarks">
<pre>''From MCLEAN's Edition, New York. Wednesday, May 28, 1788''

HAMILTON

To the People of the State of New York:

ACCORDING to the formal division of the subject of these papers, announced in my first number, there would appear still to remain for discussion two points: &quot;the analogy of the proposed government to your own State constitution,&quot; and &quot;the additional security which its adoption will afford to republican government, to liberty, and to property.&quot; But these heads have been so fully anticipated and exhausted in the progress of the work, that it would now scarcely be possible to do any thing more than repeat, in a more dilated form, what has been heretofore said, which the advanced stage of the question, and the time already spent upon it, conspire to forbid.

It is remarkable, that the resemblance of the plan of the convention to the act which organizes the government of this State holds, not less with regard to many of the supposed defects, than to the real excellences of the former. Among the pretended defects are the re-eligibility of the Executive, the want of a council, the omission of a formal bill of rights, the omission of a provision respecting the liberty of the press. These and several others which have been noted in the course of our inquiries are as much chargeable on the existing constitution of this State, as on the one proposed for the Union; and a man must have slender pretensions to consistency, who can rail at the latter for imperfections which he finds no difficulty in excusing in the former. Nor indeed can there be a better proof of the insincerity and affectation of some of the zealous adversaries of the plan of the convention among us, who profess to be the devoted admirers of the government under which they live, than the fury with which they have attacked that plan, for matters in regard to which our own constitution is equally or perhaps more vulnerable.

The additional securities to republican government, to liberty and to property, to be derived from the adoption of the plan under consideration, consist chiefly in the restraints which the preservation of the Union will impose on local factions and insurrections, and on the ambition of powerful individuals in single States, who may acquire credit and influence enough, from leaders and favorites, to become the despots of the people; in the diminution of the opportunities to foreign intrigue, which the dissolution of the Confederacy would invite and facilitate; in the prevention of extensive military establishments, which could not fail to grow out of wars between the States in a disunited situation; in the express guaranty of a republican form of government to each; in the absolute and universal exclusion of titles of nobility; and in the precautions against the repetition of those practices on the part of the State governments which have undermined the foundations of property and credit, have planted mutual distrust in the breasts of all classes of citizens, and have occasioned an almost universal prostration of morals.

Thus have I, fellow-citizens, executed the task I had assigned to myself; with what success, your conduct must determine. I trust at least you will admit that I have not failed in the assurance I gave you respecting the spirit with which my endeavors should be conducted. I have addressed myself purely to your judgments, and have studiously avoided those asperities which are too apt to disgrace political disputants of all parties, and which have been not a little provoked by the language and conduct of the opponents of the Constitution. The charge of a conspiracy against the liberties of the people, which has been indiscriminately brought against the advocates of the plan, has something in it too wanton and too malignant, not to excite the indignation of every man who feels in his own bosom a refutation of the calumny. The perpetual changes which have been rung upon the wealthy, the well-born, and the great, have been such as to inspire the disgust of all sensible men. And the unwarrantable concealments and misrepresentations which have been in various ways practiced to keep the truth from the public eye, have been of a nature to demand the reprobation of all honest men. It is not impossible that these circumstances may have occasionally betrayed me into intemperances of expression which I did not intend; it is certain that I have frequently felt a struggle between sensibility and moderation; and if the former has in some instances prevailed, it must be my excuse that it has been neither often nor much.

Let us now pause and ask ourselves whether, in the course of these papers, the proposed Constitution has not been satisfactorily vindicated from the aspersions thrown upon it; and whether it has not been shown to be worthy of the public approbation, and necessary to the public safety and prosperity. Every man is bound to answer these questions to himself, according to the best of his conscience and understanding, and to act agreeably to the genuine and sober dictates of his judgment. This is a duty from which nothing can give him a dispensation. 'T is one that he is called upon, nay, constrained by all the obligations that form the bands of society, to discharge sincerely and honestly. No partial motive, no particular interest, no pride of opinion, no temporary passion or prejudice, will justify to himself, to his country, or to his posterity, an improper election of the part he is to act. Let him beware of an obstinate adherence to party; let him reflect that the object upon which he is to decide is not a particular interest of the community, but the very existence of the nation; and let him remember that a majority of America has already given its sanction to the plan which he is to approve or reject.

I shall not dissemble that I feel an entire confidence in the arguments which recommend the proposed system to your adoption, and that I am unable to discern any real force in those by which it has been opposed. I am persuaded that it is the best which our political situation, habits, and opinions will admit, and superior to any the revolution has produced.

Concessions on the part of the friends of the plan, that it has not a claim to absolute perfection, have afforded matter of no small triumph to its enemies. &quot;Why,&quot; say they, &quot;should we adopt an imperfect thing? Why not amend it and make it perfect before it is irrevocably established?&quot; This may be plausible enough, but it is only plausible. In the first place I remark, that the extent of these concessions has been greatly exaggerated. They have been stated as amounting to an admission that the plan is radically defective, and that without material alterations the rights and the interests of the community cannot be safely confided to it. This, as far as I have understood the meaning of those who make the concessions, is an entire perversion of their sense. No advocate of the measure can be found, who will not declare as his sentiment, that the system, though it may not be perfect in every part, is, upon the whole, a good one; is the best that the present views and circumstances of the country will permit; and is such an one as promises every species of security which a reasonable people can desire.

I answer in the next place, that I should esteem it the extreme of imprudence to prolong the precarious state of our national affairs, and to expose the Union to the jeopardy of successive experiments, in the chimerical pursuit of a perfect plan. I never expect to see a perfect work from imperfect man. The result of the deliberations of all collective bodies must necessarily be a compound, as well of the errors and prejudices, as of the good sense and wisdom, of the individuals of whom they are composed. The compacts which are to embrace thirteen distinct States in a common bond of amity and union, must as necessarily be a compromise of as many dissimilar interests and inclinations. How can perfection spring from such materials?

The reasons assigned in an excellent little pamphlet lately published in this city, &lt;span class=&quot;footnote&quot; title=&quot;Entitled “An Address to the People of the State of New York.“&quot;&gt;(1)&lt;/span&gt; are unanswerable to show the utter improbability of assembling a new convention, under circumstances in any degree so favorable to a happy issue, as those in which the late convention met, deliberated, and concluded. I will not repeat the arguments there used, as I presume the production itself has had an extensive circulation. It is certainly well worthy the perusal of every friend to his country. There is, however, one point of light in which the subject of amendments still remains to be considered, and in which it has not yet been exhibited to public view. I cannot resolve to conclude without first taking a survey of it in this aspect.

It appears to me susceptible of absolute demonstration, that it will be far more easy to obtain subsequent than previous amendments to the Constitution. The moment an alteration is made in the present plan, it becomes, to the purpose of adoption, a new one, and must undergo a new decision of each State. To its complete establishment throughout the Union, it will therefore require the concurrence of thirteen States. If, on the contrary, the Constitution proposed should once be ratified by all the States as it stands, alterations in it may at any time be effected by nine States. Here, then, the chances are as thirteen to nine &lt;span class=&quot;footnote&quot; title=&quot;It may rather be said TEN, for though two thirds may set on foot the measure, three fourths must ratify.&quot;&gt;(2)&lt;/span&gt; in favor of subsequent amendment, rather than of the original adoption of an entire system.

This is not all. Every Constitution for the United States must inevitably consist of a great variety of particulars, in which thirteen independent States are to be accommodated in their interests or opinions of interest. We may of course expect to see, in any body of men charged with its original formation, very different combinations of the parts upon different points. Many of those who form a majority on one question, may become the minority on a second, and an association dissimilar to either may constitute the majority on a third. Hence the necessity of moulding and arranging all the particulars which are to compose the whole, in such a manner as to satisfy all the parties to the compact; and hence, also, an immense multiplication of difficulties and casualties in obtaining the collective assent to a final act. The degree of that multiplication must evidently be in a ratio to the number of particulars and the number of parties.

But every amendment to the Constitution, if once established, would be a single proposition, and might be brought forward singly. There would then be no necessity for management or compromise, in relation to any other point—no giving nor taking. The will of the requisite number would at once bring the matter to a decisive issue. And consequently, whenever nine, or rather ten States, were united in the desire of a particular amendment, that amendment must infallibly take place. There can, therefore, be no comparison between the facility of affecting an amendment, and that of establishing in the first instance a complete Constitution.

In opposition to the probability of subsequent amendments, it has been urged that the persons delegated to the administration of the national government will always be disinclined to yield up any portion of the authority of which they were once possessed. For my own part I acknowledge a thorough conviction that any amendments which may, upon mature consideration, be thought useful, will be applicable to the organization of the government, not to the mass of its powers; and on this account alone, I think there is no weight in the observation just stated. I also think there is little weight in it on another account. The intrinsic difficulty of governing THIRTEEN STATES at any rate, independent of calculations upon an ordinary degree of public spirit and integrity, will, in my opinion constantly impose on the national rulers the necessity of a spirit of accommodation to the reasonable expectations of their constituents. But there is yet a further consideration, which proves beyond the possibility of a doubt, that the observation is futile. It is this that the national rulers, whenever nine States concur, will have no option upon the subject. By the fifth article of the plan, the Congress will be obliged &quot;on the application of the legislatures of two thirds of the States (which at present amount to nine), to call a convention for proposing amendments, which shall be valid, to all intents and purposes, as part of the Constitution, when ratified by the legislatures of three fourths of the States, or by conventions in three fourths thereof.&quot; The words of this article are peremptory. The Congress &quot;shall call a convention.&quot; Nothing in this particular is left to the discretion of that body. And of consequence, all the declamation about the disinclination to a change vanishes in air. Nor however difficult it may be supposed to unite two thirds or three fourths of the State legislatures, in amendments which may affect local interests, can there be any room to apprehend any such difficulty in a union on points which are merely relative to the general liberty or security of the people. We may safely rely on the disposition of the State legislatures to erect barriers against the encroachments of the national authority.

If the foregoing argument is a fallacy, certain it is that I am myself deceived by it, for it is, in my conception, one of those rare instances in which a political truth can be brought to the test of a mathematical demonstration. Those who see the matter in the same light with me, however zealous they may be for amendments, must agree in the propriety of a previous adoption, as the most direct road to their own object.

The zeal for attempts to amend, prior to the establishment of the Constitution, must abate in every man who is ready to accede to the truth of the following observations of a writer equally solid and ingenious: &quot;To balance a large state or society (says he), whether monarchical or republican, on general laws, is a work of so great difficulty, that no human genius, however comprehensive, is able, by the mere dint of reason and reflection, to effect it. The judgments of many must unite in the work; EXPERIENCE must guide their labor; TIME must bring it to perfection, and the FEELING of inconveniences must correct the mistakes which they inevitably fall into in their first trials and experiments.&quot; &lt;span class=&quot;footnote&quot; title=&quot;Hume's Essays, Vol. I, p. 128: “The Rise of Arts and Sciences.“&quot;&gt;(3)&lt;/span&gt; These judicious reflections contain a lesson of moderation to all the sincere lovers of the Union, and ought to put them upon their guard against hazarding anarchy, civil war, a perpetual alienation of the States from each other, and perhaps the military despotism of a victorious demagogue, in the pursuit of what they are not likely to obtain, but from TIME and EXPERIENCE. It may be in me a defect of political fortitude, but I acknowledge that I cannot entertain an equal tranquillity with those who affect to treat the dangers of a longer continuance in our present situation as imaginary. A NATION, without a NATIONAL GOVERNMENT, is, in my view, an awful spectacle. The establishment of a Constitution, in time of profound peace, by the voluntary consent of a whole people, is a PRODIGY, to the completion of which I look forward with trembling anxiety. I can reconcile it to no rules of prudence to let go the hold we now have, in so arduous an enterprise, upon seven out of the thirteen States, and after having passed over so considerable a part of the ground, to recommence the course. I dread the more the consequences of new attempts, because I know that POWERFUL INDIVIDUALS, in this and in other States, are enemies to a general national government in every possible shape.

PUBLIUS

''Footnotes''

1. Entitled &quot;An Address to the People of the State of New York.&quot;

2. It may rather be said TEN, for though two thirds may set on foot the measure, three fourths must ratify.

3. Hume's Essays, Vol. I, p. 128: &quot;The Rise of Arts and Sciences.&quot;
</pre>
</div>
<div created="20150327180801691" modified="20150327192332245" tags="Hamilton [[Independent Journal]]" title="No. 9. The Union as a Safeguard Against Domestic Faction and Insurrection">
<pre>''For the Independent Journal. Wednesday, November 21, 1787''

HAMILTON

To the People of the State of New York:

A FIRM Union will be of the utmost moment to the peace and liberty of the States, as a barrier against domestic faction and insurrection. It is impossible to read the history of the petty republics of Greece and Italy without feeling sensations of horror and disgust at the distractions with which they were continually agitated, and at the rapid succession of revolutions by which they were kept in a state of perpetual vibration between the extremes of tyranny and anarchy. If they exhibit occasional calms, these only serve as short-lived contrast to the furious storms that are to succeed. If now and then intervals of felicity open to view, we behold them with a mixture of regret, arising from the reflection that the pleasing scenes before us are soon to be overwhelmed by the tempestuous waves of sedition and party rage. If momentary rays of glory break forth from the gloom, while they dazzle us with a transient and fleeting brilliancy, they at the same time admonish us to lament that the vices of government should pervert the direction and tarnish the lustre of those bright talents and exalted endowments for which the favored soils that produced them have been so justly celebrated.

From the disorders that disfigure the annals of those republics the advocates of despotism have drawn arguments, not only against the forms of republican government, but against the very principles of civil liberty. They have decried all free government as inconsistent with the order of society, and have indulged themselves in malicious exultation over its friends and partisans. Happily for mankind, stupendous fabrics reared on the basis of liberty, which have flourished for ages, have, in a few glorious instances, refuted their gloomy sophisms. And, I trust, America will be the broad and solid foundation of other edifices, not less magnificent, which will be equally permanent monuments of their errors.

But it is not to be denied that the portraits they have sketched of republican government were too just copies of the originals from which they were taken. If it had been found impracticable to have devised models of a more perfect structure, the enlightened friends to liberty would have been obliged to abandon the cause of that species of government as indefensible. The science of politics, however, like most other sciences, has received great improvement. The efficacy of various principles is now well understood, which were either not known at all, or imperfectly known to the ancients. The regular distribution of power into distinct departments; the introduction of legislative balances and checks; the institution of courts composed of judges holding their offices during good behavior; the representation of the people in the legislature by deputies of their own election: these are wholly new discoveries, or have made their principal progress towards perfection in modern times. They are means, and powerful means, by which the excellences of republican government may be retained and its imperfections lessened or avoided. To this catalogue of circumstances that tend to the amelioration of popular systems of civil government, I shall venture, however novel it may appear to some, to add one more, on a principle which has been made the foundation of an objection to the new Constitution; I mean the ENLARGEMENT of the ORBIT within which such systems are to revolve, either in respect to the dimensions of a single State or to the consolidation of several smaller States into one great Confederacy. The latter is that which immediately concerns the object under consideration. It will, however, be of use to examine the principle in its application to a single State, which shall be attended to in another place.

The utility of a Confederacy, as well to suppress faction and to guard the internal tranquillity of States, as to increase their external force and security, is in reality not a new idea. It has been practiced upon in different countries and ages, and has received the sanction of the most approved writers on the subject of politics. The opponents of the plan proposed have, with great assiduity, cited and circulated the observations of Montesquieu on the necessity of a contracted territory for a republican government. But they seem not to have been apprised of the sentiments of that great man expressed in another part of his work, nor to have adverted to the consequences of the principle to which they subscribe with such ready acquiescence.

When Montesquieu recommends a small extent for republics, the standards he had in view were of dimensions far short of the limits of almost every one of these States. Neither Virginia, Massachusetts, Pennsylvania, New York, North Carolina, nor Georgia can by any means be compared with the models from which he reasoned and to which the terms of his description apply. If we therefore take his ideas on this point as the criterion of truth, we shall be driven to the alternative either of taking refuge at once in the arms of monarchy, or of splitting ourselves into an infinity of little, jealous, clashing, tumultuous commonwealths, the wretched nurseries of unceasing discord, and the miserable objects of universal pity or contempt. Some of the writers who have come forward on the other side of the question seem to have been aware of the dilemma; and have even been bold enough to hint at the division of the larger States as a desirable thing. Such an infatuated policy, such a desperate expedient, might, by the multiplication of petty offices, answer the views of men who possess not qualifications to extend their influence beyond the narrow circles of personal intrigue, but it could never promote the greatness or happiness of the people of America.

Referring the examination of the principle itself to another place, as has been already mentioned, it will be sufficient to remark here that, in the sense of the author who has been most emphatically quoted upon the occasion, it would only dictate a reduction of the SIZE of the more considerable MEMBERS of the Union, but would not militate against their being all comprehended in one confederate government. And this is the true question, in the discussion of which we are at present interested.

So far are the suggestions of Montesquieu from standing in opposition to a general Union of the States, that he explicitly treats of a confederate republic as the expedient for extending the sphere of popular government, and reconciling the advantages of monarchy with those of republicanism.

&quot;It is very probable,&quot; (says he &lt;span class=&quot;footnote&quot; title=&quot;“Spirit of Laws,“ vol. i., book ix., chap. i.&quot;&gt;(1)&lt;/span&gt;) &quot;that mankind would have been obliged at length to live constantly under the government of a single person, had they not contrived a kind of constitution that has all the internal advantages of a republican, together with the external force of a monarchical government. I mean a CONFEDERATE REPUBLIC.&quot;

&quot;This form of government is a convention by which several smaller STATES agree to become members of a larger ONE, which they intend to form. It is a kind of assemblage of societies that constitute a new one, capable of increasing, by means of new associations, till they arrive to such a degree of power as to be able to provide for the security of the united body.&quot;

&quot;A republic of this kind, able to withstand an external force, may support itself without any internal corruptions. The form of this society prevents all manner of inconveniences.&quot;

&quot;If a single member should attempt to usurp the supreme authority, he could not be supposed to have an equal authority and credit in all the confederate states. Were he to have too great influence over one, this would alarm the rest. Were he to subdue a part, that which would still remain free might oppose him with forces independent of those which he had usurped and overpower him before he could be settled in his usurpation.&quot;

&quot;Should a popular insurrection happen in one of the confederate states the others are able to quell it. Should abuses creep into one part, they are reformed by those that remain sound. The state may be destroyed on one side, and not on the other; the confederacy may be dissolved, and the confederates preserve their sovereignty.&quot;

&quot;As this government is composed of small republics, it enjoys the internal happiness of each; and with respect to its external situation, it is possessed, by means of the association, of all the advantages of large monarchies.&quot;

I have thought it proper to quote at length these interesting passages, because they contain a luminous abridgment of the principal arguments in favor of the Union, and must effectually remove the false impressions which a misapplication of other parts of the work was calculated to make. They have, at the same time, an intimate connection with the more immediate design of this paper; which is, to illustrate the tendency of the Union to repress domestic faction and insurrection.

A distinction, more subtle than accurate, has been raised between a CONFEDERACY and a CONSOLIDATION of the States. The essential characteristic of the first is said to be, the restriction of its authority to the members in their collective capacities, without reaching to the individuals of whom they are composed. It is contended that the national council ought to have no concern with any object of internal administration. An exact equality of suffrage between the members has also been insisted upon as a leading feature of a confederate government. These positions are, in the main, arbitrary; they are supported neither by principle nor precedent. It has indeed happened, that governments of this kind have generally operated in the manner which the distinction taken notice of, supposes to be inherent in their nature; but there have been in most of them extensive exceptions to the practice, which serve to prove, as far as example will go, that there is no absolute rule on the subject. And it will be clearly shown in the course of this investigation that as far as the principle contended for has prevailed, it has been the cause of incurable disorder and imbecility in the government.

The definition of a CONFEDERATE REPUBLIC seems simply to be &quot;an assemblage of societies,&quot; or an association of two or more states into one state. The extent, modifications, and objects of the federal authority are mere matters of discretion. So long as the separate organization of the members be not abolished; so long as it exists, by a constitutional necessity, for local purposes; though it should be in perfect subordination to the general authority of the union, it would still be, in fact and in theory, an association of states, or a confederacy. The proposed Constitution, so far from implying an abolition of the State governments, makes them constituent parts of the national sovereignty, by allowing them a direct representation in the Senate, and leaves in their possession certain exclusive and very important portions of sovereign power. This fully corresponds, in every rational import of the terms, with the idea of a federal government.

In the Lycian confederacy, which consisted of twenty-three CITIES or republics, the largest were entitled to THREE votes in the COMMON COUNCIL, those of the middle class to TWO, and the smallest to ONE. The COMMON COUNCIL had the appointment of all the judges and magistrates of the respective CITIES. This was certainly the most, delicate species of interference in their internal administration; for if there be any thing that seems exclusively appropriated to the local jurisdictions, it is the appointment of their own officers. Yet Montesquieu, speaking of this association, says: &quot;Were I to give a model of an excellent Confederate Republic, it would be that of Lycia.&quot; Thus we perceive that the distinctions insisted upon were not within the contemplation of this enlightened civilian; and we shall be led to conclude, that they are the novel refinements of an erroneous theory.

PUBLIUS

1. &quot;Spirit of Laws,&quot; vol. i., book ix., chap. i.
</pre>
</div>
<div created="20150327225550613" modified="20150330170305947" tags="$:/tags/SideBar" title="The Federalist Papers">
<pre>[[No. 1. General Introduction]]

[[No. 2. Concerning Dangers from Foreign Force and Influence]]

[[No. 3. The Same Subject Continued (Concerning Dangers From Foreign Force and Influence)]]

[[No. 4. The Same Subject Continued (Concerning Dangers From Foreign Force and Influence)]]

[[No. 5. The Same Subject Continued (Concerning Dangers From Foreign Force and Influence)]]

[[No. 6. Concerning Dangers from Dissensions Between the States]]

[[No. 7. The Same Subject Continued (Concerning Dangers from Dissensions Between the States)]]

[[No. 8. The Consequences of Hostilities Between the States]]

[[No. 9. The Union as a Safeguard Against Domestic Faction and Insurrection]]

[[No. 10. The Same Subject Continued (The Union as a Safeguard Against Domestic Faction and Insurrection)]]

[[No. 11. The Utility of the Union in Respect to Commercial Relations and a Navy]]

[[No. 12. The Utility of the Union In Respect to Revenue]]

[[No. 13. Advantage of the Union in Respect to Economy in Government]]

[[No. 14. Objections to the Proposed Constitution From Extent of Territory Answered]]

[[No. 15. The Insufficiency of the Present Confederation to Preserve the Union]]

[[No. 16. The Same Subject Continued (The Insufficiency of the Present Confederation to Preserve the Union)]]

[[No. 17. The Same Subject Continued (The Insufficiency of the Present Confederation to Preserve the Union)]]

[[No. 18. The Same Subject Continued (The Insufficiency of the Present Confederation to Preserve the Union)]]

[[No. 19. The Same Subject Continued (The Insufficiency of the Present Confederation to Preserve the Union)]]

[[No. 20. The Same Subject Continued (The Insufficiency of the Present Confederation to Preserve the Union)]]

[[No. 21. Other Defects of the Present Confederation]]

[[No. 22. The Same Subject Continued (Other Defects of the Present Confederation)]]

[[No. 23. The Necessity of a Government as Energetic as the One Proposed to the Preservation of the Union]]

[[No. 24. The Powers Necessary to the Common Defense Further Considered]]

[[No. 25. The Same Subject Continued (The Powers Necessary to the Common Defense Further Considered)]]

[[No. 26. The Idea of Restraining the Legislative Authority in Regard to the Common Defense Considered.]]

[[No. 27. The Same Subject Continued (The Idea of Restraining the Legislative Authority in Regard to the Common Defense Considered)]]

[[No. 28. The Same Subject Continued (The Idea of Restraining the Legislative Authority in Regard to the Common Defense Considered)]]

[[No. 29. Concerning the Militia]]

[[No. 30. Concerning the General Power of Taxation]]

[[No. 31. The Same Subject Continued (Concerning the General Power of Taxation)]]

[[No. 32. The Same Subject Continued (Concerning the General Power of Taxation)]]

[[No. 33. The Same Subject Continued (Concerning the General Power of Taxation)]]

[[No. 34. The Same Subject Continued (Concerning the General Power of Taxation)]]

[[No. 35. The Same Subject Continued (Concerning the General Power of Taxation)]]

[[No. 36. The Same Subject Continued (Concerning the General Power of Taxation)]]

[[No. 37. Concerning the Difficulties of the Convention in Devising a Proper Form of Government.]]

[[No. 38. The Same Subject Continued, and the Incoherence of the Objections to the New Plan Exposed.]]

[[No. 39. The Conformity of the Plan to Republican Principles]]

[[No. 40. On the Powers of the Convention to Form a Mixed Government Examined and Sustained.]]

[[No. 41. General View of the Powers Conferred by The Constitution]]

[[No. 42. The Powers Conferred by the Constitution Further Considered]]

[[No. 43. The Same Subject Continued (The Powers Conferred by the Constitution Further Considered)]]

[[No. 44. Restrictions on the Authority of the Several States]]

[[No. 45. The Alleged Danger From the Powers of the Union to the State Governments.]]

[[No. 46. The Influence of the State and Federal Governments Compared]]

[[No. 47. The Particular Structure of the New Government and the Distribution of Power Among Its Different Parts.]]

[[No. 48. These Departments Should Not Be So Far Separated as to Have No Constitutional Control Over Each Other.]]

[[No. 49. Method of Guarding Against the Encroachments of Any One Department of Government by Appealing to the People Through a Convention.]]

[[No. 50. Periodical Appeals to the People Considered]]

[[No. 51. The Structure of the Government Must Furnish the Proper Checks and Balances Between the Different Departments.]]

[[No. 52. The House of Representatives]]

[[No. 53. The Same Subject Continued (The House of Representatives)]]

[[No. 54. The Apportionment of Members Among the States]]

[[No. 55. The Total Number of the House of Representatives]]

[[No. 56. The Same Subject Continued (The Total Number of the House of Representatives)]]

[[No. 57. The Alleged Tendency of the New Plan to Elevate the Few at the Expense of the Many Considered in Connection with Representation.]]

[[No. 58. Objection That The Number of Members Will Not Be Augmented as the Progress of Population Demands.]]

[[No. 59. Concerning the Power of Congress to Regulate the Election of Members]]

[[No. 60. The Same Subject Continued (Concerning the Power of Congress to Regulate the Election of Members)]]

[[No. 61. The Same Subject Continued (Concerning the Power of Congress to Regulate the Election of Members)]]

[[No. 62. The Senate]]

[[No. 63. The Senate Continued]]

[[No. 64. The Powers of the Senate]]

[[No. 65. The Powers of the Senate Continued]]

[[No. 66. Objections to the Power of the Senate To Set as a Court for Impeachments Further Considered.]]

[[No. 67. The Executive Department]]

[[No. 68. The Mode of Electing the President]]

[[No. 69. The Real Character of the Executive]]

[[No. 70. The Executive Department Further Considered]]

[[No. 71. The Duration in Office of the Executive]]

[[No. 72. The Same Subject Continued, and Re-Eligibility of the Executive Considered.]]

[[No. 73. The Provision For The Support of the Executive, and the Veto Power]]

[[No. 74. The Command of the Military and Naval Forces, and the Pardoning Power of the Executive.]]

[[No. 75. The Treaty-Making Power of the Executive]]

[[No. 76. The Appointing Power of the Executive]]

[[No. 77. The Appointing Power Continued and Other Powers of the Executive Considered.]]

[[No. 78. The Judiciary Department]]

[[No. 79. The Judiciary Continued]]

[[No. 80. The Powers of the Judiciary]]

[[No. 81. The Judiciary Continued, and the Distribution of the Judicial Authority.]]

[[No. 82. The Judiciary Continued.]]

[[No. 83. The Judiciary Continued in Relation to Trial by Jury]]

[[No. 84. Certain General and Miscellaneous Objections to the Constitution Considered and Answered.]]

[[No. 85. Concluding Remarks]]
</pre>
</div>

</div>


<!--~~ Library modules ~~-->
<div id="libraryModules" style="display:none;">
<script data-tiddler-library="yes" data-tiddler-title="$:/library/sjcl.js" data-tiddler-type="application/javascript" type="text/javascript">"use strict";var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message};this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message};this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message};this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message};this.message=a}}};
if(typeof module!="undefined"&&module.exports)module.exports=sjcl;
sjcl.cipher.aes=function(a){this.h[0][0][0]||this.z();var b,c,d,e,f=this.h[0][4],g=this.h[1];b=a.length;var h=1;if(b!==4&&b!==6&&b!==8)throw new sjcl.exception.invalid("invalid aes key size");this.a=[d=a.slice(0),e=[]];for(a=b;a<4*b+28;a++){c=d[a-1];if(a%b===0||b===8&&a%b===4){c=f[c>>>24]<<24^f[c>>16&255]<<16^f[c>>8&255]<<8^f[c&255];if(a%b===0){c=c<<8^c>>>24^h<<24;h=h<<1^(h>>7)*283}}d[a]=d[a-b]^c}for(b=0;a;b++,a--){c=d[b&3?a:a-4];e[b]=a<=4||b<4?c:g[0][f[c>>>24]]^g[1][f[c>>16&255]]^g[2][f[c>>8&255]]^
g[3][f[c&255]]}};
sjcl.cipher.aes.prototype={encrypt:function(a){return this.I(a,0)},decrypt:function(a){return this.I(a,1)},h:[[[],[],[],[],[]],[[],[],[],[],[]]],z:function(){var a=this.h[0],b=this.h[1],c=a[4],d=b[4],e,f,g,h=[],i=[],k,j,l,m;for(e=0;e<0x100;e++)i[(h[e]=e<<1^(e>>7)*283)^e]=e;for(f=g=0;!c[f];f^=k||1,g=i[g]||1){l=g^g<<1^g<<2^g<<3^g<<4;l=l>>8^l&255^99;c[f]=l;d[l]=f;j=h[e=h[k=h[f]]];m=j*0x1010101^e*0x10001^k*0x101^f*0x1010100;j=h[l]*0x101^l*0x1010100;for(e=0;e<4;e++){a[e][f]=j=j<<24^j>>>8;b[e][l]=m=m<<24^m>>>8}}for(e=
0;e<5;e++){a[e]=a[e].slice(0);b[e]=b[e].slice(0)}},I:function(a,b){if(a.length!==4)throw new sjcl.exception.invalid("invalid aes block size");var c=this.a[b],d=a[0]^c[0],e=a[b?3:1]^c[1],f=a[2]^c[2];a=a[b?1:3]^c[3];var g,h,i,k=c.length/4-2,j,l=4,m=[0,0,0,0];g=this.h[b];var n=g[0],o=g[1],p=g[2],q=g[3],r=g[4];for(j=0;j<k;j++){g=n[d>>>24]^o[e>>16&255]^p[f>>8&255]^q[a&255]^c[l];h=n[e>>>24]^o[f>>16&255]^p[a>>8&255]^q[d&255]^c[l+1];i=n[f>>>24]^o[a>>16&255]^p[d>>8&255]^q[e&255]^c[l+2];a=n[a>>>24]^o[d>>16&
255]^p[e>>8&255]^q[f&255]^c[l+3];l+=4;d=g;e=h;f=i}for(j=0;j<4;j++){m[b?3&-j:j]=r[d>>>24]<<24^r[e>>16&255]<<16^r[f>>8&255]<<8^r[a&255]^c[l++];g=d;d=e;e=f;f=a;a=g}return m}};
sjcl.bitArray={bitSlice:function(a,b,c){a=sjcl.bitArray.P(a.slice(b/32),32-(b&31)).slice(1);return c===undefined?a:sjcl.bitArray.clamp(a,c-b)},extract:function(a,b,c){var d=Math.floor(-b-c&31);return((b+c-1^b)&-32?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1},concat:function(a,b){if(a.length===0||b.length===0)return a.concat(b);var c=a[a.length-1],d=sjcl.bitArray.getPartial(c);return d===32?a.concat(b):sjcl.bitArray.P(b,d,c|0,a.slice(0,a.length-1))},bitLength:function(a){var b=a.length;
if(b===0)return 0;return(b-1)*32+sjcl.bitArray.getPartial(a[b-1])},clamp:function(a,b){if(a.length*32<b)return a;a=a.slice(0,Math.ceil(b/32));var c=a.length;b&=31;if(c>0&&b)a[c-1]=sjcl.bitArray.partial(b,a[c-1]&2147483648>>b-1,1);return a},partial:function(a,b,c){if(a===32)return b;return(c?b|0:b<<32-a)+a*0x10000000000},getPartial:function(a){return Math.round(a/0x10000000000)||32},equal:function(a,b){if(sjcl.bitArray.bitLength(a)!==sjcl.bitArray.bitLength(b))return false;var c=0,d;for(d=0;d<a.length;d++)c|=
a[d]^b[d];return c===0},P:function(a,b,c,d){var e;e=0;if(d===undefined)d=[];for(;b>=32;b-=32){d.push(c);c=0}if(b===0)return d.concat(a);for(e=0;e<a.length;e++){d.push(c|a[e]>>>b);c=a[e]<<32-b}e=a.length?a[a.length-1]:0;a=sjcl.bitArray.getPartial(e);d.push(sjcl.bitArray.partial(b+a&31,b+a>32?c:d.pop(),1));return d},k:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}};
sjcl.codec.utf8String={fromBits:function(a){var b="",c=sjcl.bitArray.bitLength(a),d,e;for(d=0;d<c/8;d++){if((d&3)===0)e=a[d/4];b+=String.fromCharCode(e>>>24);e<<=8}return decodeURIComponent(escape(b))},toBits:function(a){a=unescape(encodeURIComponent(a));var b=[],c,d=0;for(c=0;c<a.length;c++){d=d<<8|a.charCodeAt(c);if((c&3)===3){b.push(d);d=0}}c&3&&b.push(sjcl.bitArray.partial(8*(c&3),d));return b}};
sjcl.codec.hex={fromBits:function(a){var b="",c;for(c=0;c<a.length;c++)b+=((a[c]|0)+0xf00000000000).toString(16).substr(4);return b.substr(0,sjcl.bitArray.bitLength(a)/4)},toBits:function(a){var b,c=[],d;a=a.replace(/\s|0x/g,"");d=a.length;a+="00000000";for(b=0;b<a.length;b+=8)c.push(parseInt(a.substr(b,8),16)^0);return sjcl.bitArray.clamp(c,d*4)}};
sjcl.codec.base64={F:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,b,c){var d="",e=0,f=sjcl.codec.base64.F,g=0,h=sjcl.bitArray.bitLength(a);if(c)f=f.substr(0,62)+"-_";for(c=0;d.length*6<h;){d+=f.charAt((g^a[c]>>>e)>>>26);if(e<6){g=a[c]<<6-e;e+=26;c++}else{g<<=6;e-=6}}for(;d.length&3&&!b;)d+="=";return d},toBits:function(a,b){a=a.replace(/\s|=/g,"");var c=[],d=0,e=sjcl.codec.base64.F,f=0,g;if(b)e=e.substr(0,62)+"-_";for(b=0;b<a.length;b++){g=e.indexOf(a.charAt(b));
if(g<0)throw new sjcl.exception.invalid("this isn't base64!");if(d>26){d-=26;c.push(f^g>>>d);f=g<<32-d}else{d+=6;f^=g<<32-d}}d&56&&c.push(sjcl.bitArray.partial(d&56,f,1));return c}};sjcl.codec.base64url={fromBits:function(a){return sjcl.codec.base64.fromBits(a,1,1)},toBits:function(a){return sjcl.codec.base64.toBits(a,1)}};sjcl.hash.sha256=function(a){this.a[0]||this.z();if(a){this.n=a.n.slice(0);this.i=a.i.slice(0);this.e=a.e}else this.reset()};sjcl.hash.sha256.hash=function(a){return(new sjcl.hash.sha256).update(a).finalize()};
sjcl.hash.sha256.prototype={blockSize:512,reset:function(){this.n=this.N.slice(0);this.i=[];this.e=0;return this},update:function(a){if(typeof a==="string")a=sjcl.codec.utf8String.toBits(a);var b,c=this.i=sjcl.bitArray.concat(this.i,a);b=this.e;a=this.e=b+sjcl.bitArray.bitLength(a);for(b=512+b&-512;b<=a;b+=512)this.D(c.splice(0,16));return this},finalize:function(){var a,b=this.i,c=this.n;b=sjcl.bitArray.concat(b,[sjcl.bitArray.partial(1,1)]);for(a=b.length+2;a&15;a++)b.push(0);b.push(Math.floor(this.e/
4294967296));for(b.push(this.e|0);b.length;)this.D(b.splice(0,16));this.reset();return c},N:[],a:[],z:function(){function a(e){return(e-Math.floor(e))*0x100000000|0}var b=0,c=2,d;a:for(;b<64;c++){for(d=2;d*d<=c;d++)if(c%d===0)continue a;if(b<8)this.N[b]=a(Math.pow(c,0.5));this.a[b]=a(Math.pow(c,1/3));b++}},D:function(a){var b,c,d=a.slice(0),e=this.n,f=this.a,g=e[0],h=e[1],i=e[2],k=e[3],j=e[4],l=e[5],m=e[6],n=e[7];for(a=0;a<64;a++){if(a<16)b=d[a];else{b=d[a+1&15];c=d[a+14&15];b=d[a&15]=(b>>>7^b>>>18^
b>>>3^b<<25^b<<14)+(c>>>17^c>>>19^c>>>10^c<<15^c<<13)+d[a&15]+d[a+9&15]|0}b=b+n+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(m^j&(l^m))+f[a];n=m;m=l;l=j;j=k+b|0;k=i;i=h;h=g;g=b+(h&i^k&(h^i))+(h>>>2^h>>>13^h>>>22^h<<30^h<<19^h<<10)|0}e[0]=e[0]+g|0;e[1]=e[1]+h|0;e[2]=e[2]+i|0;e[3]=e[3]+k|0;e[4]=e[4]+j|0;e[5]=e[5]+l|0;e[6]=e[6]+m|0;e[7]=e[7]+n|0}};
sjcl.mode.ccm={name:"ccm",encrypt:function(a,b,c,d,e){var f,g=b.slice(0),h=sjcl.bitArray,i=h.bitLength(c)/8,k=h.bitLength(g)/8;e=e||64;d=d||[];if(i<7)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(f=2;f<4&&k>>>8*f;f++);if(f<15-i)f=15-i;c=h.clamp(c,8*(15-f));b=sjcl.mode.ccm.H(a,b,c,d,e,f);g=sjcl.mode.ccm.J(a,g,c,b,e,f);return h.concat(g.data,g.tag)},decrypt:function(a,b,c,d,e){e=e||64;d=d||[];var f=sjcl.bitArray,g=f.bitLength(c)/8,h=f.bitLength(b),i=f.clamp(b,h-e),k=f.bitSlice(b,
h-e);h=(h-e)/8;if(g<7)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(b=2;b<4&&h>>>8*b;b++);if(b<15-g)b=15-g;c=f.clamp(c,8*(15-b));i=sjcl.mode.ccm.J(a,i,c,k,e,b);a=sjcl.mode.ccm.H(a,i.data,c,d,e,b);if(!f.equal(i.tag,a))throw new sjcl.exception.corrupt("ccm: tag doesn't match");return i.data},H:function(a,b,c,d,e,f){var g=[],h=sjcl.bitArray,i=h.k;e/=8;if(e%2||e<4||e>16)throw new sjcl.exception.invalid("ccm: invalid tag length");if(d.length>0xffffffff||b.length>0xffffffff)throw new sjcl.exception.bug("ccm: can't deal with 4GiB or more data");
f=[h.partial(8,(d.length?64:0)|e-2<<2|f-1)];f=h.concat(f,c);f[3]|=h.bitLength(b)/8;f=a.encrypt(f);if(d.length){c=h.bitLength(d)/8;if(c<=65279)g=[h.partial(16,c)];else if(c<=0xffffffff)g=h.concat([h.partial(16,65534)],[c]);g=h.concat(g,d);for(d=0;d<g.length;d+=4)f=a.encrypt(i(f,g.slice(d,d+4).concat([0,0,0])))}for(d=0;d<b.length;d+=4)f=a.encrypt(i(f,b.slice(d,d+4).concat([0,0,0])));return h.clamp(f,e*8)},J:function(a,b,c,d,e,f){var g,h=sjcl.bitArray;g=h.k;var i=b.length,k=h.bitLength(b);c=h.concat([h.partial(8,
f-1)],c).concat([0,0,0]).slice(0,4);d=h.bitSlice(g(d,a.encrypt(c)),0,e);if(!i)return{tag:d,data:[]};for(g=0;g<i;g+=4){c[3]++;e=a.encrypt(c);b[g]^=e[0];b[g+1]^=e[1];b[g+2]^=e[2];b[g+3]^=e[3]}return{tag:d,data:h.clamp(b,k)}}};
sjcl.mode.ocb2={name:"ocb2",encrypt:function(a,b,c,d,e,f){if(sjcl.bitArray.bitLength(c)!==128)throw new sjcl.exception.invalid("ocb iv must be 128 bits");var g,h=sjcl.mode.ocb2.B,i=sjcl.bitArray,k=i.k,j=[0,0,0,0];c=h(a.encrypt(c));var l,m=[];d=d||[];e=e||64;for(g=0;g+4<b.length;g+=4){l=b.slice(g,g+4);j=k(j,l);m=m.concat(k(c,a.encrypt(k(c,l))));c=h(c)}l=b.slice(g);b=i.bitLength(l);g=a.encrypt(k(c,[0,0,0,b]));l=i.clamp(k(l.concat([0,0,0]),g),b);j=k(j,k(l.concat([0,0,0]),g));j=a.encrypt(k(j,k(c,h(c))));
if(d.length)j=k(j,f?d:sjcl.mode.ocb2.pmac(a,d));return m.concat(i.concat(l,i.clamp(j,e)))},decrypt:function(a,b,c,d,e,f){if(sjcl.bitArray.bitLength(c)!==128)throw new sjcl.exception.invalid("ocb iv must be 128 bits");e=e||64;var g=sjcl.mode.ocb2.B,h=sjcl.bitArray,i=h.k,k=[0,0,0,0],j=g(a.encrypt(c)),l,m,n=sjcl.bitArray.bitLength(b)-e,o=[];d=d||[];for(c=0;c+4<n/32;c+=4){l=i(j,a.decrypt(i(j,b.slice(c,c+4))));k=i(k,l);o=o.concat(l);j=g(j)}m=n-c*32;l=a.encrypt(i(j,[0,0,0,m]));l=i(l,h.clamp(b.slice(c),
m).concat([0,0,0]));k=i(k,l);k=a.encrypt(i(k,i(j,g(j))));if(d.length)k=i(k,f?d:sjcl.mode.ocb2.pmac(a,d));if(!h.equal(h.clamp(k,e),h.bitSlice(b,n)))throw new sjcl.exception.corrupt("ocb: tag doesn't match");return o.concat(h.clamp(l,m))},pmac:function(a,b){var c,d=sjcl.mode.ocb2.B,e=sjcl.bitArray,f=e.k,g=[0,0,0,0],h=a.encrypt([0,0,0,0]);h=f(h,d(d(h)));for(c=0;c+4<b.length;c+=4){h=d(h);g=f(g,a.encrypt(f(h,b.slice(c,c+4))))}b=b.slice(c);if(e.bitLength(b)<128){h=f(h,d(h));b=e.concat(b,[2147483648|0,0,
0,0])}g=f(g,b);return a.encrypt(f(d(f(h,d(h))),g))},B:function(a){return[a[0]<<1^a[1]>>>31,a[1]<<1^a[2]>>>31,a[2]<<1^a[3]>>>31,a[3]<<1^(a[0]>>>31)*135]}};sjcl.misc.hmac=function(a,b){this.M=b=b||sjcl.hash.sha256;var c=[[],[]],d=b.prototype.blockSize/32;this.l=[new b,new b];if(a.length>d)a=b.hash(a);for(b=0;b<d;b++){c[0][b]=a[b]^909522486;c[1][b]=a[b]^1549556828}this.l[0].update(c[0]);this.l[1].update(c[1])};
sjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(a,b){a=(new this.M(this.l[0])).update(a,b).finalize();return(new this.M(this.l[1])).update(a).finalize()};
sjcl.misc.pbkdf2=function(a,b,c,d,e){c=c||1E3;if(d<0||c<0)throw sjcl.exception.invalid("invalid params to pbkdf2");if(typeof a==="string")a=sjcl.codec.utf8String.toBits(a);e=e||sjcl.misc.hmac;a=new e(a);var f,g,h,i,k=[],j=sjcl.bitArray;for(i=1;32*k.length<(d||1);i++){e=f=a.encrypt(j.concat(b,[i]));for(g=1;g<c;g++){f=a.encrypt(f);for(h=0;h<f.length;h++)e[h]^=f[h]}k=k.concat(e)}if(d)k=j.clamp(k,d);return k};
sjcl.random={randomWords:function(a,b){var c=[];b=this.isReady(b);var d;if(b===0)throw new sjcl.exception.notReady("generator isn't seeded");else b&2&&this.U(!(b&1));for(b=0;b<a;b+=4){(b+1)%0x10000===0&&this.L();d=this.w();c.push(d[0],d[1],d[2],d[3])}this.L();return c.slice(0,a)},setDefaultParanoia:function(a){this.t=a},addEntropy:function(a,b,c){c=c||"user";var d,e,f=(new Date).valueOf(),g=this.q[c],h=this.isReady(),i=0;d=this.G[c];if(d===undefined)d=this.G[c]=this.R++;if(g===undefined)g=this.q[c]=
0;this.q[c]=(this.q[c]+1)%this.b.length;switch(typeof a){case "number":if(b===undefined)b=1;this.b[g].update([d,this.u++,1,b,f,1,a|0]);break;case "object":c=Object.prototype.toString.call(a);if(c==="[object Uint32Array]"){e=[];for(c=0;c<a.length;c++)e.push(a[c]);a=e}else{if(c!=="[object Array]")i=1;for(c=0;c<a.length&&!i;c++)if(typeof a[c]!="number")i=1}if(!i){if(b===undefined)for(c=b=0;c<a.length;c++)for(e=a[c];e>0;){b++;e>>>=1}this.b[g].update([d,this.u++,2,b,f,a.length].concat(a))}break;case "string":if(b===
undefined)b=a.length;this.b[g].update([d,this.u++,3,b,f,a.length]);this.b[g].update(a);break;default:i=1}if(i)throw new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string");this.j[g]+=b;this.f+=b;if(h===0){this.isReady()!==0&&this.K("seeded",Math.max(this.g,this.f));this.K("progress",this.getProgress())}},isReady:function(a){a=this.C[a!==undefined?a:this.t];return this.g&&this.g>=a?this.j[0]>80&&(new Date).valueOf()>this.O?3:1:this.f>=a?2:0},getProgress:function(a){a=
this.C[a?a:this.t];return this.g>=a?1:this.f>a?1:this.f/a},startCollectors:function(){if(!this.m){if(window.addEventListener){window.addEventListener("load",this.o,false);window.addEventListener("mousemove",this.p,false)}else if(document.attachEvent){document.attachEvent("onload",this.o);document.attachEvent("onmousemove",this.p)}else throw new sjcl.exception.bug("can't attach event");this.m=true}},stopCollectors:function(){if(this.m){if(window.removeEventListener){window.removeEventListener("load",
this.o,false);window.removeEventListener("mousemove",this.p,false)}else if(window.detachEvent){window.detachEvent("onload",this.o);window.detachEvent("onmousemove",this.p)}this.m=false}},addEventListener:function(a,b){this.r[a][this.Q++]=b},removeEventListener:function(a,b){var c;a=this.r[a];var d=[];for(c in a)a.hasOwnProperty(c)&&a[c]===b&&d.push(c);for(b=0;b<d.length;b++){c=d[b];delete a[c]}},b:[new sjcl.hash.sha256],j:[0],A:0,q:{},u:0,G:{},R:0,g:0,f:0,O:0,a:[0,0,0,0,0,0,0,0],d:[0,0,0,0],s:undefined,
t:6,m:false,r:{progress:{},seeded:{}},Q:0,C:[0,48,64,96,128,192,0x100,384,512,768,1024],w:function(){for(var a=0;a<4;a++){this.d[a]=this.d[a]+1|0;if(this.d[a])break}return this.s.encrypt(this.d)},L:function(){this.a=this.w().concat(this.w());this.s=new sjcl.cipher.aes(this.a)},T:function(a){this.a=sjcl.hash.sha256.hash(this.a.concat(a));this.s=new sjcl.cipher.aes(this.a);for(a=0;a<4;a++){this.d[a]=this.d[a]+1|0;if(this.d[a])break}},U:function(a){var b=[],c=0,d;this.O=b[0]=(new Date).valueOf()+3E4;for(d=
0;d<16;d++)b.push(Math.random()*0x100000000|0);for(d=0;d<this.b.length;d++){b=b.concat(this.b[d].finalize());c+=this.j[d];this.j[d]=0;if(!a&&this.A&1<<d)break}if(this.A>=1<<this.b.length){this.b.push(new sjcl.hash.sha256);this.j.push(0)}this.f-=c;if(c>this.g)this.g=c;this.A++;this.T(b)},p:function(a){sjcl.random.addEntropy([a.x||a.clientX||a.offsetX||0,a.y||a.clientY||a.offsetY||0],2,"mouse")},o:function(){sjcl.random.addEntropy((new Date).valueOf(),2,"loadtime")},K:function(a,b){var c;a=sjcl.random.r[a];
var d=[];for(c in a)a.hasOwnProperty(c)&&d.push(a[c]);for(c=0;c<d.length;c++)d[c](b)}};try{var s=new Uint32Array(32);crypto.getRandomValues(s);sjcl.random.addEntropy(s,1024,"crypto['getRandomValues']")}catch(t){}
sjcl.json={defaults:{v:1,iter:1E3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(a,b,c,d){c=c||{};d=d||{};var e=sjcl.json,f=e.c({iv:sjcl.random.randomWords(4,0)},e.defaults),g;e.c(f,c);c=f.adata;if(typeof f.salt==="string")f.salt=sjcl.codec.base64.toBits(f.salt);if(typeof f.iv==="string")f.iv=sjcl.codec.base64.toBits(f.iv);if(!sjcl.mode[f.mode]||!sjcl.cipher[f.cipher]||typeof a==="string"&&f.iter<=100||f.ts!==64&&f.ts!==96&&f.ts!==128||f.ks!==128&&f.ks!==192&&f.ks!==0x100||f.iv.length<
2||f.iv.length>4)throw new sjcl.exception.invalid("json encrypt: invalid parameters");if(typeof a==="string"){g=sjcl.misc.cachedPbkdf2(a,f);a=g.key.slice(0,f.ks/32);f.salt=g.salt}if(typeof b==="string")b=sjcl.codec.utf8String.toBits(b);if(typeof c==="string")c=sjcl.codec.utf8String.toBits(c);g=new sjcl.cipher[f.cipher](a);e.c(d,f);d.key=a;f.ct=sjcl.mode[f.mode].encrypt(g,b,f.iv,c,f.ts);return e.encode(f)},decrypt:function(a,b,c,d){c=c||{};d=d||{};var e=sjcl.json;b=e.c(e.c(e.c({},e.defaults),e.decode(b)),
c,true);var f;c=b.adata;if(typeof b.salt==="string")b.salt=sjcl.codec.base64.toBits(b.salt);if(typeof b.iv==="string")b.iv=sjcl.codec.base64.toBits(b.iv);if(!sjcl.mode[b.mode]||!sjcl.cipher[b.cipher]||typeof a==="string"&&b.iter<=100||b.ts!==64&&b.ts!==96&&b.ts!==128||b.ks!==128&&b.ks!==192&&b.ks!==0x100||!b.iv||b.iv.length<2||b.iv.length>4)throw new sjcl.exception.invalid("json decrypt: invalid parameters");if(typeof a==="string"){f=sjcl.misc.cachedPbkdf2(a,b);a=f.key.slice(0,b.ks/32);b.salt=f.salt}if(typeof c===
"string")c=sjcl.codec.utf8String.toBits(c);f=new sjcl.cipher[b.cipher](a);c=sjcl.mode[b.mode].decrypt(f,b.ct,b.iv,c,b.ts);e.c(d,b);d.key=a;return sjcl.codec.utf8String.fromBits(c)},encode:function(a){var b,c="{",d="";for(b in a)if(a.hasOwnProperty(b)){if(!b.match(/^[a-z0-9]+$/i))throw new sjcl.exception.invalid("json encode: invalid property name");c+=d+'"'+b+'":';d=",";switch(typeof a[b]){case "number":case "boolean":c+=a[b];break;case "string":c+='"'+escape(a[b])+'"';break;case "object":c+='"'+
sjcl.codec.base64.fromBits(a[b],1)+'"';break;default:throw new sjcl.exception.bug("json encode: unsupported type");}}return c+"}"},decode:function(a){a=a.replace(/\s/g,"");if(!a.match(/^\{.*\}$/))throw new sjcl.exception.invalid("json decode: this isn't json!");a=a.replace(/^\{|\}$/g,"").split(/,/);var b={},c,d;for(c=0;c<a.length;c++){if(!(d=a[c].match(/^(?:(["']?)([a-z][a-z0-9]*)\1):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i)))throw new sjcl.exception.invalid("json decode: this isn't json!");b[d[2]]=
d[3]?parseInt(d[3],10):d[2].match(/^(ct|salt|iv)$/)?sjcl.codec.base64.toBits(d[4]):unescape(d[4])}return b},c:function(a,b,c){if(a===undefined)a={};if(b===undefined)return a;var d;for(d in b)if(b.hasOwnProperty(d)){if(c&&a[d]!==undefined&&a[d]!==b[d])throw new sjcl.exception.invalid("required parameter overridden");a[d]=b[d]}return a},W:function(a,b){var c={},d;for(d in a)if(a.hasOwnProperty(d)&&a[d]!==b[d])c[d]=a[d];return c},V:function(a,b){var c={},d;for(d=0;d<b.length;d++)if(a[b[d]]!==undefined)c[b[d]]=
a[b[d]];return c}};sjcl.encrypt=sjcl.json.encrypt;sjcl.decrypt=sjcl.json.decrypt;sjcl.misc.S={};sjcl.misc.cachedPbkdf2=function(a,b){var c=sjcl.misc.S,d;b=b||{};d=b.iter||1E3;c=c[a]=c[a]||{};d=c[d]=c[d]||{firstSalt:b.salt&&b.salt.length?b.salt.slice(0):sjcl.random.randomWords(2,0)};c=b.salt===undefined?d.firstSalt:b.salt;d[c]=d[c]||sjcl.misc.pbkdf2(a,c,b.iter);return{key:d[c].slice(0),salt:c.slice(0)}};</script>
</div>
<!--~~ Boot kernel prologue ~~-->
<div id="bootKernelPrefix" style="display:none;">
<script data-tiddler-title="$:/boot/bootprefix.js" data-tiddler-type="application/javascript" type="text/javascript">/*\
title: $:/boot/bootprefix.js
type: application/javascript

This file sets up the globals that need to be available when JavaScript modules are executed in the browser. The overall sequence is:

# BootPrefix.js
# <module definitions>
# Boot.js

See Boot.js for further details of the boot process.

\*/

var _bootprefix = (function($tw) {

"use strict";

$tw = $tw || Object.create(null);
$tw.boot = $tw.boot || Object.create(null);

// Detect platforms
$tw.browser = typeof(window) !== "undefined" ? {} : null;
$tw.node = typeof(process) === "object" ? {} : null;
$tw.nodeWebKit = $tw.node && global.window && global.window.nwDispatcher ? {} : null;

// Set default boot tasks
$tw.boot.tasks = {
	trapErrors: !!($tw.browser && !$tw.node),
	readBrowserTiddlers: !!($tw.browser && !$tw.node)
};

/*
Information about each module is kept in an object with these members:
	moduleType: type of module
	definition: object, function or string defining the module; see below
	exports: exports of the module, filled in after execution

The `definition` can be of several types:

* An object can be used to directly specify the exports of the module
* A function with the arguments `module,require,exports` that returns `exports`
* A string function body with the same arguments

Each moduleInfo object is stored in two hashmaps: $tw.modules.titles and $tw.modules.types. The first is indexed by title and the second is indexed by type and then title
*/
$tw.modules = {
	titles: {}, // hashmap by module name of moduleInfo
	types: {} // hashmap by module type and then name of moduleInfo
};

/*
Define a JavaScript tiddler module for later execution
	moduleName: name of module being defined
	moduleType: type of module
	definition: module definition; see discussion above
*/
$tw.modules.define = function(moduleName,moduleType,definition) {
	// Create the moduleInfo
	var moduleInfo = {
		moduleType: moduleType,
		definition: definition,
		exports: undefined
	};
	// If the definition is already an object we can use it as the exports
	if(typeof moduleInfo.definition === "object") {
		moduleInfo.exports = definition;
	}
	// Store the module in the titles hashmap
	if(Object.prototype.hasOwnProperty.call($tw.modules.titles,moduleName)) {
		console.log("Warning: Redefined module - " + moduleName);
	}
	$tw.modules.titles[moduleName] = moduleInfo;
	// Store the module in the types hashmap
	if(!Object.prototype.hasOwnProperty.call($tw.modules.types,moduleType)) {
		$tw.modules.types[moduleType] = {};
	}
	if(Object.prototype.hasOwnProperty.call($tw.modules.types[moduleType],moduleName)) {
		console.log("Warning: Redefined module - " + moduleName);
	}
	$tw.modules.types[moduleType][moduleName] = moduleInfo;
};

/*
External JavaScript can populate this array before calling boot.js in order to preload tiddlers
*/
$tw.preloadTiddlers = $tw.preloadTiddlers || [];

/*
Convenience function for pushing a tiddler onto the preloading array
*/
$tw.preloadTiddler = function(fields) {
	$tw.preloadTiddlers.push(fields);
};

return $tw

});

if(typeof(exports) === "undefined") {
	// Set up $tw global for the browser
	window.$tw = _bootprefix(window.$tw);
} else {
	// Export functionality as a module
	exports.bootprefix = _bootprefix;
}
</script>
</div>
<!--~~ Boot kernel ~~-->
<div id="bootKernel" style="display:none;">
<script data-tiddler-title="$:/boot/boot.js" data-tiddler-type="application/javascript" type="text/javascript">/*\
title: $:/boot/boot.js
type: application/javascript

The main boot kernel for TiddlyWiki. This single file creates a barebones TW environment that is just sufficient to bootstrap the modules containing the main logic of the application.

On the server this file is executed directly to boot TiddlyWiki. In the browser, this file is packed into a single HTML file.

\*/

var _boot = (function($tw) {

/*jslint node: true, browser: true */
/*global modules: false, $tw: false */
"use strict";

// Include bootprefix if we're not given module data
if(!$tw) {
	$tw = require("./bootprefix.js").bootprefix();
}

$tw.utils = $tw.utils || Object.create(null);

/////////////////////////// Standard node.js libraries

var fs, path, vm;
if($tw.node) {
	fs = require("fs");
	path = require("path");
	vm = require("vm");
}

/////////////////////////// Utility functions

$tw.boot.log = function(str) {
	$tw.boot.logMessages = $tw.boot.logMessages || [];
	$tw.boot.logMessages.push(str);
}

/*
Check if an object has a property
*/
$tw.utils.hop = function(object,property) {
	return object ? Object.prototype.hasOwnProperty.call(object,property) : false;
};

/*
Determine if a value is an array
*/
$tw.utils.isArray = function(value) {
	return Object.prototype.toString.call(value) == "[object Array]";
};

/*
Determine if a value is a date
*/
$tw.utils.isDate = function(value) {
	return Object.prototype.toString.call(value) === "[object Date]";
};

/*
Iterate through all the own properties of an object or array. Callback is invoked with (element,title,object)
*/
$tw.utils.each = function(object,callback) {
	var next,f;
	if(object) {
		if(Object.prototype.toString.call(object) == "[object Array]") {
			for (f=0; f<object.length; f++) {
				next = callback(object[f],f,object);
				if(next === false) {
					break;
				}
		    }
		} else {
			for(f in object) {
				if(Object.prototype.hasOwnProperty.call(object,f)) {
					next = callback(object[f],f,object);
					if(next === false) {
						break;
					}
				}
			}
		}
	}
};

/*
Helper for making DOM elements
tag: tag name
options: see below
Options include:
attributes: hashmap of attribute values
text: text to add as a child node
children: array of further child nodes
innerHTML: optional HTML for element
class: class name(s)
document: defaults to current document
eventListeners: array of event listeners (this option won't work until $tw.utils.addEventListeners() has been loaded)
*/
$tw.utils.domMaker = function(tag,options) {
	var doc = options.document || document;
	var element = doc.createElement(tag);
	if(options["class"]) {
		element.className = options["class"];
	}
	if(options.text) {
		element.appendChild(doc.createTextNode(options.text));
	}
	$tw.utils.each(options.children,function(child) {
		element.appendChild(child);
	});
	if(options.innerHTML) {
		element.innerHTML = options.innerHTML;
	}
	$tw.utils.each(options.attributes,function(attribute,name) {
		element.setAttribute(name,attribute);
	});
	if(options.eventListeners) {
		$tw.utils.addEventListeners(element,options.eventListeners);
	}
	return element;
};

/*
Display an error and exit
*/
$tw.utils.error = function(err) {
	// Prepare the error message
	var errHeading = "Internal JavaScript Error",
		promptMsg = "Well, this is embarrassing. It is recommended that you restart TiddlyWiki by refreshing your browser";
	// Log the error to the console
	console.error($tw.node ? "\x1b[1;31m" + err + "\x1b[0m" : err);
	if($tw.browser && !$tw.node) {
		// Display an error message to the user
		var dm = $tw.utils.domMaker,
			heading = dm("h1",{text: errHeading}),
			prompt = dm("div",{text: promptMsg, "class": "tc-error-prompt"}),
			message = dm("div",{text: err}),
			button = dm("button",{text: "close"}),
			form = dm("form",{children: [heading,prompt,message,button], "class": "tc-error-form"});
		document.body.insertBefore(form,document.body.firstChild);
		form.addEventListener("submit",function(event) {
			document.body.removeChild(form);
			event.preventDefault();
			return false;
		},true);
		return null;
	} else if(!$tw.browser) {
		// Exit if we're under node.js
		process.exit(1);
	}
};

/*
Use our custom error handler if we're in the browser
*/
if($tw.boot.tasks.trapErrors) {
	window.onerror = function(errorMsg,url,lineNumber) {
		$tw.utils.error(errorMsg);
		return false;
	};
}

/*
Extend an object with the properties from a list of source objects
*/
$tw.utils.extend = function(object /*, sourceObjectList */) {
	$tw.utils.each(Array.prototype.slice.call(arguments,1),function(source) {
		if(source) {
			for (var p in source) {
				object[p] = source[p];
			}
		}
	});
	return object;
};

/*
Fill in any null or undefined properties of an object with the properties from a list of source objects. Each property that is an object is called recursively
*/
$tw.utils.deepDefaults = function(object /*, sourceObjectList */) {
	$tw.utils.each(Array.prototype.slice.call(arguments,1),function(source) {
		if(source) {
			for (var p in source) {
				if(object[p] === null || object[p] === undefined) {
					object[p] = source[p];
				}
				if(typeof object[p] === "object" && typeof source[p] === "object") {
					$tw.utils.deepDefaults(object[p],source[p]);
				}
			}
		}
	});
	return object;
};

/*
Convert "&amp;" to &, "&nbsp;" to nbsp, "&lt;" to <, "&gt;" to > and "&quot;" to "
*/
$tw.utils.htmlDecode = function(s) {
	return s.toString().replace(/&lt;/mg,"<").replace(/&nbsp;/mg,"\xA0").replace(/&gt;/mg,">").replace(/&quot;/mg,"\"").replace(/&amp;/mg,"&");
};

/*
Get the browser location.hash. We don't use location.hash because of the way that Firefox auto-urldecodes it (see http://stackoverflow.com/questions/1703552/encoding-of-window-location-hash)
*/
$tw.utils.getLocationHash = function() {
	var parts = window.location.href.split('#');
	return "#" + (parts.length > 1 ? parts[1] : "");
};

/*
Pad a string to a given length with "0"s. Length defaults to 2
*/
$tw.utils.pad = function(value,length) {
	length = length || 2;
	var s = value.toString();
	if(s.length < length) {
		s = "000000000000000000000000000".substr(0,length - s.length) + s;
	}
	return s;
};

// Convert a date into UTC YYYYMMDDHHMMSSmmm format
$tw.utils.stringifyDate = function(value) {
	return value.getUTCFullYear() +
			$tw.utils.pad(value.getUTCMonth() + 1) +
			$tw.utils.pad(value.getUTCDate()) +
			$tw.utils.pad(value.getUTCHours()) +
			$tw.utils.pad(value.getUTCMinutes()) +
			$tw.utils.pad(value.getUTCSeconds()) +
			$tw.utils.pad(value.getUTCMilliseconds(),3);
};

// Parse a date from a UTC YYYYMMDDHHMMSSmmm format string
$tw.utils.parseDate = function(value) {
	if(typeof value === "string") {
		return new Date(Date.UTC(parseInt(value.substr(0,4),10),
				parseInt(value.substr(4,2),10)-1,
				parseInt(value.substr(6,2),10),
				parseInt(value.substr(8,2)||"00",10),
				parseInt(value.substr(10,2)||"00",10),
				parseInt(value.substr(12,2)||"00",10),
				parseInt(value.substr(14,3)||"000",10)));
	} else if($tw.utils.isDate(value)) {
		return value;
	} else {
		return null;
	}
};

// Stringify an array of tiddler titles into a list string
$tw.utils.stringifyList = function(value) {
	var result = [];
	for(var t=0; t<value.length; t++) {
		if(value[t].indexOf(" ") !== -1) {
			result.push("[[" + value[t] + "]]");
		} else {
			result.push(value[t]);
		}
	}
	return result.join(" ");
};

// Parse a string array from a bracketted list. For example "OneTiddler [[Another Tiddler]] LastOne"
$tw.utils.parseStringArray = function(value) {
	if(typeof value === "string") {
		var memberRegExp = /(?:^|[^\S\xA0])(?:\[\[(.*?)\]\])(?=[^\S\xA0]|$)|([\S\xA0]+)/mg,
			results = [],
			match;
		do {
			match = memberRegExp.exec(value);
			if(match) {
				var item = match[1] || match[2];
				if(item !== undefined && results.indexOf(item) === -1) {
					results.push(item);
				}
			}
		} while(match);
		return results;
	} else if($tw.utils.isArray(value)) {
		return value;
	} else {
		return null;
	}
};

// Parse a block of name:value fields. The `fields` object is used as the basis for the return value
$tw.utils.parseFields = function(text,fields) {
	fields = fields || Object.create(null);
	text.split(/\r?\n/mg).forEach(function(line) {
		if(line.charAt(0) !== "#") {
			var p = line.indexOf(":");
			if(p !== -1) {
				var field = line.substr(0, p).trim(),
					value = line.substr(p+1).trim();
				fields[field] = value;
			}
		}
	});
	return fields;
};

/*
Resolves a source filepath delimited with `/` relative to a specified absolute root filepath.
In relative paths, the special folder name `..` refers to immediate parent directory, and the
name `.` refers to the current directory
*/
$tw.utils.resolvePath = function(sourcepath,rootpath) {
	// If the source path starts with ./ or ../ then it is relative to the root
	if(sourcepath.substr(0,2) === "./" || sourcepath.substr(0,3) === "../" ) {
		var src = sourcepath.split("/"),
			root = rootpath.split("/");
		// Remove the filename part of the root
		root.splice(root.length-1,1);
		// Process the source path bit by bit onto the end of the root path
		while(src.length > 0) {
			var c = src.shift();
			if(c === "..") { // Slice off the last root entry for a double dot
				if(root.length > 0) {
					root.splice(root.length-1,1);
				}
			} else if(c !== ".") { // Ignore dots
				root.push(c); // Copy other elements across
			}
		}
		return root.join("/");
	} else {
		// If it isn't relative, just return the path
		if(rootpath) {
			var root = rootpath.split("/");
			// Remove the filename part of the root
			root.splice(root.length - 1, 1);
			return root.join("/") + "/" + sourcepath;
		} else {
			return sourcepath;
		}
	}
};

/*
Parse a semantic version string into its constituent parts
*/
$tw.utils.parseVersion = function(version) {
	var match = /^((\d+)\.(\d+)\.(\d+))(?:-([\dA-Za-z\-]+(?:\.[\dA-Za-z\-]+)*))?(?:\+([\dA-Za-z\-]+(?:\.[\dA-Za-z\-]+)*))?$/.exec(version);
	if(match) {
		return {
			version: match[1],
			major: parseInt(match[2],10),
			minor: parseInt(match[3],10),
			patch: parseInt(match[4],10),
			prerelease: match[5],
			build: match[6]
		};
	} else {
		return null;
	}
};

/*
Returns true if the version string A is greater than the version string B. Returns true if the versions are the same
*/
$tw.utils.checkVersions = function(versionStringA,versionStringB) {
	var defaultVersion = {
			major: 0,
			minor: 0,
			patch: 0
		},
		versionA = $tw.utils.parseVersion(versionStringA) || defaultVersion,
		versionB = $tw.utils.parseVersion(versionStringB) || defaultVersion,
		diff = [
			versionA.major - versionB.major,
			versionA.minor - versionB.minor,
			versionA.patch - versionB.patch
		];
	return (diff[0] > 0) ||
		(diff[0] === 0 && diff[1] > 0) ||
		(diff[0] === 0 && diff[1] === 0 && diff[2] > 0) ||
		(diff[0] === 0 && diff[1] === 0 && diff[2] === 0);
};

/*
Register file type information
options: {flags: flags,deserializerType: deserializerType}
	flags:"image" for image types
	deserializerType: defaults to type if not specified
*/
$tw.utils.registerFileType = function(type,encoding,extension,options) {
	options = options || {};
	if($tw.utils.isArray(extension)) {
		$tw.utils.each(extension,function(extension) {
			$tw.config.fileExtensionInfo[extension] = {type: type};
		});
		extension = extension[0];
	} else {
		$tw.config.fileExtensionInfo[extension] = {type: type};
	}
	$tw.config.contentTypeInfo[type] = {encoding: encoding, extension: extension, flags: options.flags || [], deserializerType: options.deserializerType || type};
};

/*
Given an extension, get the correct encoding for that file.
defaults to utf8
*/
$tw.utils.getTypeEncoding = function(ext) {
	var extensionInfo = $tw.config.fileExtensionInfo[ext],
		type = extensionInfo ? extensionInfo.type : null,
		typeInfo = type ? $tw.config.contentTypeInfo[type] : null;
	return typeInfo ? typeInfo.encoding : "utf8";
};

/*
Run code globally with specified context variables in scope
*/
$tw.utils.evalGlobal = function(code,context,filename) {
	var contextCopy = $tw.utils.extend(Object.create(null),context);
	// Get the context variables as a pair of arrays of names and values
	var contextNames = [], contextValues = [];
	$tw.utils.each(contextCopy,function(value,name) {
		contextNames.push(name);
		contextValues.push(value);
	});
	// Add the code prologue and epilogue
	code = "(function(" + contextNames.join(",") + ") {(function(){\n" + code + "\n;})();\nreturn exports;\n})\n";
	// Compile the code into a function
	var fn;
	if($tw.browser) {
		fn = window["eval"](code + "\n\n//# sourceURL=" + filename);
	} else {
		fn = vm.runInThisContext(code,filename);
	}
	// Call the function and return the exports
	return fn.apply(null,contextValues);
};

/*
Run code in a sandbox with only the specified context variables in scope
*/
$tw.utils.evalSandboxed = $tw.browser ? $tw.utils.evalGlobal : function(code,context,filename) {
	var sandbox = $tw.utils.extend(Object.create(null),context);
	vm.runInNewContext(code,sandbox,filename);
	return sandbox.exports;
};

/*
Creates a PasswordPrompt object
*/
$tw.utils.PasswordPrompt = function() {
	// Store of pending password prompts
	this.passwordPrompts = [];
	// Create the wrapper
	this.promptWrapper = $tw.utils.domMaker("div",{"class":"tc-password-wrapper"});
	document.body.appendChild(this.promptWrapper);
	// Hide the empty wrapper
	this.setWrapperDisplay();
};

/*
Hides or shows the wrapper depending on whether there are any outstanding prompts
*/
$tw.utils.PasswordPrompt.prototype.setWrapperDisplay = function() {
	if(this.passwordPrompts.length) {
		this.promptWrapper.style.display = "block";
	} else {
		this.promptWrapper.style.display = "none";
	}
};

/*
Adds a new password prompt. Options are:
submitText: text to use for submit button (defaults to "Login")
serviceName: text of the human readable service name
noUserName: set true to disable username prompt
canCancel: set true to enable a cancel button (callback called with null)
repeatPassword: set true to prompt for the password twice
callback: function to be called on submission with parameter of object {username:,password:}. Callback must return `true` to remove the password prompt
*/
$tw.utils.PasswordPrompt.prototype.createPrompt = function(options) {
	// Create and add the prompt to the DOM
	var self = this,
		submitText = options.submitText || "Login",
		dm = $tw.utils.domMaker,
		children = [dm("h1",{text: options.serviceName})];
	if(!options.noUserName) {
		children.push(dm("input",{
			attributes: {type: "text", name: "username", placeholder: "Username"}
		}));
	}
	children.push(dm("input",{
		attributes: {type: "password", name: "password", placeholder: "Password"}
	}));
	if(options.repeatPassword) {
		children.push(dm("input",{
			attributes: {type: "password", name: "password2", placeholder: "Repeat password"}
		}));
	}
	if(options.canCancel) {
		children.push(dm("button",{
			text: "Cancel",
			eventListeners: [{
					name: "click",
					handlerFunction: function(event) {
						self.removePrompt(promptInfo);
						options.callback(null);
					}
				}]
		}));
	}
	children.push(dm("button",{
		attributes: {type: "submit"},
		text: submitText
	}));
	var form = dm("form",{
		attributes: {autocomplete: "off"},
		children: children
	});
	this.promptWrapper.appendChild(form);
	window.setTimeout(function() {
		form.elements[0].focus();
	},10);
	// Add a submit event handler
	var self = this;
	form.addEventListener("submit",function(event) {
		// Collect the form data
		var data = {},t;
		$tw.utils.each(form.elements,function(element) {
			if(element.name && element.value) {
				data[element.name] = element.value;
			}
		});
		// Check that the passwords match
		if(options.repeatPassword && data.password !== data.password2) {
			alert("Passwords do not match");
		} else {
			// Call the callback
			if(options.callback(data)) {
				// Remove the prompt if the callback returned true
				self.removePrompt(promptInfo);
			} else {
				// Clear the password if the callback returned false
				$tw.utils.each(form.elements,function(element) {
					if(element.name === "password" || element.name === "password2") {
						element.value = "";
					}
				});
			}
		} 
		event.preventDefault();
		return false;
	},true);
	// Add the prompt to the list
	var promptInfo = {
		serviceName: options.serviceName,
		callback: options.callback,
		form: form
	};
	this.passwordPrompts.push(promptInfo);
	// Make sure the wrapper is displayed
	this.setWrapperDisplay();
};

$tw.utils.PasswordPrompt.prototype.removePrompt = function(promptInfo) {
	var i = this.passwordPrompts.indexOf(promptInfo);
	if(i !== -1) {
		this.passwordPrompts.splice(i,1);
		promptInfo.form.parentNode.removeChild(promptInfo.form);
		this.setWrapperDisplay();
	}
}

/*
Crypto helper object for encrypted content. It maintains the password text in a closure, and provides methods to change
the password, and to encrypt/decrypt a block of text
*/
$tw.utils.Crypto = function() {
	var sjcl = $tw.node ? require("./sjcl.js") : window.sjcl,
		currentPassword = null,
		callSjcl = function(method,inputText,password) {
			password = password || currentPassword;
			var outputText;
			try {
				if(password) {
					outputText = sjcl[method](password,inputText);
				}
			} catch(ex) {
				console.log("Crypto error:" + ex);
				outputText = null;
			}
			return outputText;
		};
	this.setPassword = function(newPassword) {
		currentPassword = newPassword;
		this.updateCryptoStateTiddler();
	};
	this.updateCryptoStateTiddler = function() {
		if($tw.wiki) {
			var state = currentPassword ? "yes" : "no",
				tiddler = $tw.wiki.getTiddler("$:/isEncrypted");
			if(!tiddler || tiddler.fields.text !== state) {
				$tw.wiki.addTiddler(new $tw.Tiddler({title: "$:/isEncrypted", text: state}));
			}
		}
	};
	this.hasPassword = function() {
		return !!currentPassword;
	}
	this.encrypt = function(text,password) {
		return callSjcl("encrypt",text,password);
	};
	this.decrypt = function(text,password) {
		return callSjcl("decrypt",text,password);
	};
};

/////////////////////////// Module mechanism

/*
Execute the module named 'moduleName'. The name can optionally be relative to the module named 'moduleRoot'
*/
$tw.modules.execute = function(moduleName,moduleRoot) {
	var name = moduleName[0] === "." ? $tw.utils.resolvePath(moduleName,moduleRoot) : moduleName,
		moduleInfo = $tw.modules.titles[name] || $tw.modules.titles[name + ".js"] || $tw.modules.titles[moduleName] || $tw.modules.titles[moduleName + ".js"] ,
		tiddler = $tw.wiki.getTiddler(name) || $tw.wiki.getTiddler(name + ".js") || $tw.wiki.getTiddler(moduleName) || $tw.wiki.getTiddler(moduleName + ".js") ,
		_exports = {},
		sandbox = {
			module: {exports: _exports},
			//moduleInfo: moduleInfo,
			exports: _exports,
			console: console,
			setInterval: setInterval,
			clearInterval: clearInterval,
			setTimeout: setTimeout,
			clearTimeout: clearTimeout,
			Buffer: $tw.browser ? {} : Buffer,
			$tw: $tw,
			require: function(title) {
				return $tw.modules.execute(title, name);
			}
		};

	Object.defineProperty(sandbox.module, "id", {
		value: name,
		writable: false,
		enumerable: true,
		configurable: false
	});

	if(!$tw.browser) {
		$tw.utils.extend(sandbox,{
			process: process
		});
	} else {
		/*
		CommonJS optional require.main property:
		 In a browser we offer a fake main module which points back to the boot function
		 (Theoretically, this may allow TW to eventually load itself as a module in the browser)
		*/
		Object.defineProperty(sandbox.require, "main", {
			value: (typeof(require) !== "undefined") ? require.main : {TiddlyWiki: _boot},
			writable: false,
			enumerable: true,
			configurable: false
		});
	}
	if(!moduleInfo) {
		// We could not find the module on this path
		// Try to defer to browserify etc, or node
		var deferredModule;
		if($tw.browser) {
			if(window.require) {
				try {
					return window.require(moduleName);
				} catch(e) {}
			}
			throw "Cannot find module named '" + moduleName + "' required by module '" + moduleRoot + "', resolved to " + name;
		} else {
			// If we don't have a module with that name, let node.js try to find it
			return require(moduleName);
		}
	}
	// Execute the module if we haven't already done so
	if(!moduleInfo.exports) {
		try {
			// Check the type of the definition
			if(typeof moduleInfo.definition === "function") { // Function
				moduleInfo.exports = _exports;
				moduleInfo.definition(moduleInfo,moduleInfo.exports,sandbox.require);
			} else if(typeof moduleInfo.definition === "string") { // String
				moduleInfo.exports = _exports;
				$tw.utils.evalSandboxed(moduleInfo.definition,sandbox,tiddler.fields.title);
				if(sandbox.module.exports) {
					moduleInfo.exports = sandbox.module.exports; //more codemirror workaround
				}
			} else { // Object
				moduleInfo.exports = moduleInfo.definition;
			}
		} catch(e) {
			$tw.utils.error("Error executing boot module " + name + ":\n" + e.stack);
		}
	}
	// Return the exports of the module
	return moduleInfo.exports;
};

/*
Apply a callback to each module of a particular type
	moduleType: type of modules to enumerate
	callback: function called as callback(title,moduleExports) for each module
*/
$tw.modules.forEachModuleOfType = function(moduleType,callback) {
	var modules = $tw.modules.types[moduleType];
	$tw.utils.each(modules,function(element,title) {
		callback(title,$tw.modules.execute(title));
	});
};

/*
Get all the modules of a particular type in a hashmap by their `name` field
*/
$tw.modules.getModulesByTypeAsHashmap = function(moduleType,nameField) {
	nameField = nameField || "name";
	var results = Object.create(null);
	$tw.modules.forEachModuleOfType(moduleType,function(title,module) {
		results[module[nameField]] = module;
	});
	return results;
};

/*
Apply the exports of the modules of a particular type to a target object
*/
$tw.modules.applyMethods = function(moduleType,targetObject) {
	if(!targetObject) {
		targetObject = Object.create(null);
	}
	$tw.modules.forEachModuleOfType(moduleType,function(title,module) {
		$tw.utils.each(module,function(element,title,object) {
			targetObject[title] = module[title];
		});
	});
	return targetObject;
};

/*
Return an array of classes created from the modules of a specified type. Each module should export the properties to be added to those of the optional base class
*/
$tw.modules.createClassesFromModules = function(moduleType,subType,baseClass) {
	var classes = Object.create(null);
	$tw.modules.forEachModuleOfType(moduleType,function(title,moduleExports) {
		if(!subType || moduleExports.types[subType]) {
			var newClass = function() {};
			if(baseClass) {
				newClass.prototype = new baseClass();
				newClass.prototype.constructor = baseClass;
			}
			$tw.utils.extend(newClass.prototype,moduleExports);
			classes[moduleExports.name] = newClass;
		}
	});
	return classes;
};

/////////////////////////// Barebones tiddler object

/*
Construct a tiddler object from a hashmap of tiddler fields. If multiple hasmaps are provided they are merged,
taking precedence to the right
*/
$tw.Tiddler = function(/* [fields,] fields */) {
	this.fields = Object.create(null);
	for(var c=0; c<arguments.length; c++) {
		var arg = arguments[c],
			src = (arg instanceof $tw.Tiddler) ? arg.fields : arg;
		for(var t in src) {
			if(src[t] === undefined || src[t] === null) {
				if(t in this.fields) {
					delete this.fields[t]; // If we get a field that's undefined, delete any previous field value
				}
			} else {
				// Parse the field with the associated field module (if any)
				var fieldModule = $tw.Tiddler.fieldModules[t],
					value;
				if(fieldModule && fieldModule.parse) {
					value = fieldModule.parse.call(this,src[t]);
				} else {
					value = src[t];
				}
				// Freeze the field to keep it immutable
				if(typeof value === "object") {
					Object.freeze(value);
				}
				this.fields[t] = value;
			}
		}
	}
	// Freeze the tiddler against modification
	Object.freeze(this.fields);
};

$tw.Tiddler.prototype.hasField = function(field) {
	return $tw.utils.hop(this.fields,field);
};

/*
Register and install the built in tiddler field modules
*/
$tw.modules.define("$:/boot/tiddlerfields/modified","tiddlerfield",{
	name: "modified",
	parse: $tw.utils.parseDate,
	stringify: $tw.utils.stringifyDate
});
$tw.modules.define("$:/boot/tiddlerfields/created","tiddlerfield",{
	name: "created",
	parse: $tw.utils.parseDate,
	stringify: $tw.utils.stringifyDate
});
$tw.modules.define("$:/boot/tiddlerfields/color","tiddlerfield",{
	name: "color",
	editTag: "input",
	editType: "color"
});
$tw.modules.define("$:/boot/tiddlerfields/tags","tiddlerfield",{
	name: "tags",
	parse: $tw.utils.parseStringArray,
	stringify: $tw.utils.stringifyList
});
$tw.modules.define("$:/boot/tiddlerfields/list","tiddlerfield",{
	name: "list",
	parse: $tw.utils.parseStringArray,
	stringify: $tw.utils.stringifyList
});

/////////////////////////// Barebones wiki store

/*
Wiki constructor. State is stored in private members that only a small number of privileged accessor methods have direct access. Methods added via the prototype have to use these accessors and cannot access the state data directly.
options include:
shadowTiddlers: Array of shadow tiddlers to be added
*/
$tw.Wiki = function(options) {
	options = options || {};
	var self = this,
		tiddlers = Object.create(null), // Hashmap of tiddlers
		pluginTiddlers = [], // Array of tiddlers containing registered plugins, ordered by priority
		pluginInfo = Object.create(null), // Hashmap of parsed plugin content
		shadowTiddlers = options.shadowTiddlers || Object.create(null); // Hashmap by title of {source:, tiddler:}

	// Add a tiddler to the store
	this.addTiddler = function(tiddler) {
		if(!(tiddler instanceof $tw.Tiddler)) {
			tiddler = new $tw.Tiddler(tiddler);
		}
		// Save the tiddler
		if(tiddler) {
			var title = tiddler.fields.title;
			if(title) {
				tiddlers[title] = tiddler;
				this.clearCache(title);
				this.clearGlobalCache();
				this.enqueueTiddlerEvent(title);
			}
		}
	};

	// Delete a tiddler
	this.deleteTiddler = function(title) {
		delete tiddlers[title];
		this.clearCache(title);
		this.clearGlobalCache();
		this.enqueueTiddlerEvent(title,true);
	};

	// Get a tiddler from the store
	this.getTiddler = function(title) {
		var t = tiddlers[title];
		if(t instanceof $tw.Tiddler) {
			return t;
		} else if(title !== undefined && Object.prototype.hasOwnProperty.call(shadowTiddlers,title)) {
			return shadowTiddlers[title].tiddler;
		} else {
			return undefined;
		}
	};

	// Get an array of all tiddler titles
	this.allTitles = function() {
		return Object.keys(tiddlers);
	};

	// Iterate through all tiddler titles
	this.each = function(callback) {
		for(var title in tiddlers) {
			callback(tiddlers[title],title);
		}
	};

	// Get an array of all shadow tiddler titles
	this.allShadowTitles = function() {
		return Object.keys(shadowTiddlers);
	};

	// Iterate through all shadow tiddler titles
	this.eachShadow = function(callback) {
		for(var title in shadowTiddlers) {
			var shadowInfo = shadowTiddlers[title];
			callback(shadowInfo.tiddler,title);
		}
	};

	// Iterate through all tiddlers and then the shadows
	this.eachTiddlerPlusShadows = function(callback) {
		for(var title in tiddlers) {
			callback(tiddlers[title],title);
		}
		for(var title in shadowTiddlers) {
			if(!Object.prototype.hasOwnProperty.call(tiddlers,title)) {
				var shadowInfo = shadowTiddlers[title];
				callback(shadowInfo.tiddler,title);
			}
		}
	};

	// Iterate through all the shadows and then the tiddlers
	this.eachShadowPlusTiddlers = function(callback) {
		for(var title in shadowTiddlers) {
			if(Object.prototype.hasOwnProperty.call(tiddlers,title)) {
				callback(tiddlers[title],title);
			} else {
				var shadowInfo = shadowTiddlers[title];
				callback(shadowInfo.tiddler,title);
			}
		}
		for(var title in tiddlers) {
			if(!Object.prototype.hasOwnProperty.call(shadowTiddlers,title)) {
				callback(tiddlers[title],title);
			}
		}

	};

	// Test for the existence of a tiddler (excludes shadow tiddlers)
	this.tiddlerExists = function(title) {
		return !!$tw.utils.hop(tiddlers,title);
	};

	// Determines if a tiddler is a shadow tiddler, regardless of whether it has been overridden by a real tiddler
	this.isShadowTiddler = function(title) {
		return $tw.utils.hop(shadowTiddlers,title);
	};

	this.getShadowSource = function(title) {
		if($tw.utils.hop(shadowTiddlers,title)) {
			return shadowTiddlers[title].source;
		}
		return null;
	};

	// Read plugin info for all plugins
	this.readPluginInfo = function() {
		for(var title in tiddlers) {
			var tiddler = tiddlers[title];
			if(tiddler.fields.type === "application/json" && tiddler.hasField("plugin-type")) {
				pluginInfo[tiddler.fields.title] = JSON.parse(tiddler.fields.text);
			}

		}
	};

	// Get plugin info for a plugin
	this.getPluginInfo = function(title) {
		return pluginInfo[title];
	};

	// Register the plugin tiddlers of a particular type, optionally restricting registration to an array of tiddler titles. Return the array of titles affected
	this.registerPluginTiddlers = function(pluginType,titles) {
		var self = this,
			registeredTitles = [],
			checkTiddler = function(tiddler,title) {
				if(tiddler && tiddler.fields.type === "application/json" && tiddler.fields["plugin-type"] === pluginType) {
					var disablingTiddler = self.getTiddler("$:/config/Plugins/Disabled/" + title);
					if(title === "$:/core" || !disablingTiddler || (disablingTiddler.fields.text || "").trim() !== "yes") {
						pluginTiddlers.push(tiddler);
						registeredTitles.push(tiddler.fields.title);
					}
				}
			};
		if(titles) {
			$tw.utils.each(titles,function(title) {
				checkTiddler(self.getTiddler(title),title);
			});
		} else {
			this.each(function(tiddler,title) {
				checkTiddler(tiddler,title);
			});
		}
		return registeredTitles;
	};

	// Unregister the plugin tiddlers of a particular type, returning an array of the titles affected
	this.unregisterPluginTiddlers = function(pluginType) {
		var self = this,
			titles = [];
		// Remove any previous registered plugins of this type
		for(var t=pluginTiddlers.length-1; t>=0; t--) {
			var tiddler = pluginTiddlers[t];
			if(tiddler.fields["plugin-type"] === pluginType) {
				titles.push(tiddler.fields.title);
				pluginTiddlers.splice(t,1);
			}
		}
		return titles;
	};

	// Unpack the currently registered plugins, creating shadow tiddlers for their constituent tiddlers
	this.unpackPluginTiddlers = function() {
		var self = this;
		// Sort the plugin titles by the `plugin-priority` field
		pluginTiddlers.sort(function(a,b) {
			if("plugin-priority" in a.fields && "plugin-priority" in b.fields) {
				return a.fields["plugin-priority"] - b.fields["plugin-priority"];
			} else if("plugin-priority" in a.fields) {
				return -1;
			} else if("plugin-priority" in b.fields) {
				return +1;
			} else if(a.fields.title < b.fields.title) {
				return -1;
			} else if(a.fields.title === b.fields.title) {
				return 0;
			} else {
				return +1;
			}
		});
		// Now go through the plugins in ascending order and assign the shadows
		shadowTiddlers = Object.create(null);
		$tw.utils.each(pluginTiddlers,function(tiddler) {
			// Extract the constituent tiddlers
			if($tw.utils.hop(pluginInfo,tiddler.fields.title)) {
				$tw.utils.each(pluginInfo[tiddler.fields.title].tiddlers,function(constituentTiddler,constituentTitle) {
					// Save the tiddler object
					if(constituentTitle) {
						shadowTiddlers[constituentTitle] = {
							source: tiddler.fields.title,
							tiddler: new $tw.Tiddler(constituentTiddler,{title: constituentTitle})
						};
					}
				});
			}
		});
	};

};

// Dummy methods that will be filled in after boot
$tw.Wiki.prototype.clearCache =
$tw.Wiki.prototype.clearGlobalCache =
$tw.Wiki.prototype.enqueueTiddlerEvent = function() {};

// Add an array of tiddlers
$tw.Wiki.prototype.addTiddlers = function(tiddlers) {
	for(var t=0; t<tiddlers.length; t++) {
		this.addTiddler(tiddlers[t]);
	}
};

/*
Define all modules stored in ordinary tiddlers
*/
$tw.Wiki.prototype.defineTiddlerModules = function() {
	this.each(function(tiddler,title) {
		if(tiddler.hasField("module-type")) {
			switch (tiddler.fields.type) {
				case "application/javascript":
					// We only define modules that haven't already been defined, because in the browser modules in system tiddlers are defined in inline script
					if(!$tw.utils.hop($tw.modules.titles,tiddler.fields.title)) {
						$tw.modules.define(tiddler.fields.title,tiddler.fields["module-type"],tiddler.fields.text);
					}
					break;
				case "application/json":
					$tw.modules.define(tiddler.fields.title,tiddler.fields["module-type"],JSON.parse(tiddler.fields.text));
					break;
				case "application/x-tiddler-dictionary":
					$tw.modules.define(tiddler.fields.title,tiddler.fields["module-type"],$tw.utils.parseFields(tiddler.fields.text));
					break;
			}
		}
	});
};

/*
Register all the module tiddlers that have a module type
*/
$tw.Wiki.prototype.defineShadowModules = function() {
	var self = this;
	this.eachShadow(function(tiddler,title) {
		// Don't define the module if it is overidden by an ordinary tiddler
		if(!self.tiddlerExists(title) && tiddler.hasField("module-type")) {
			// Define the module
			$tw.modules.define(tiddler.fields.title,tiddler.fields["module-type"],tiddler.fields.text);
		}
	});
};

/*
Enable safe mode by deleting any tiddlers that override a shadow tiddler
*/
$tw.Wiki.prototype.processSafeMode = function() {
	var self = this,
		overrides = [];
	// Find the overriding tiddlers
	this.each(function(tiddler,title) {
		if(self.isShadowTiddler(title)) {
			console.log(title);
			overrides.push(title);
		}
	});
	// Assemble a report tiddler
	var titleReportTiddler = "TiddlyWiki Safe Mode",
		report = [];
	report.push("TiddlyWiki has been started in [[safe mode|http://tiddlywiki.com/static/SafeMode.html]]. All plugins are temporarily disabled. Most customisations have been disabled by renaming the following tiddlers:")
	// Delete the overrides
	overrides.forEach(function(title) {
		var tiddler = self.getTiddler(title),
			newTitle = "SAFE: " + title;
		self.deleteTiddler(title);
		self.addTiddler(new $tw.Tiddler(tiddler, {title: newTitle}));
		report.push("* [[" + title + "|" + newTitle + "]]");
	});
	report.push()
	this.addTiddler(new $tw.Tiddler({title: titleReportTiddler, text: report.join("\n\n")}));
	// Set $:/DefaultTiddlers to point to our report
	this.addTiddler(new $tw.Tiddler({title: "$:/DefaultTiddlers", text: "[[" + titleReportTiddler + "]]"}));
};

/*
Extracts tiddlers from a typed block of text, specifying default field values
*/
$tw.Wiki.prototype.deserializeTiddlers = function(type,text,srcFields) {
	srcFields = srcFields || Object.create(null);
	var deserializer = $tw.Wiki.tiddlerDeserializerModules[type],
		fields = Object.create(null);
	if(!deserializer && $tw.config.fileExtensionInfo[type]) {
		// If we didn't find the serializer, try converting it from an extension to a content type
		type = $tw.config.fileExtensionInfo[type].type;
		deserializer = $tw.Wiki.tiddlerDeserializerModules[type];
	}
	if(!deserializer && $tw.config.contentTypeInfo[type]) {
		// see if this type has a different deserializer registered with it
		type = $tw.config.contentTypeInfo[type].deserializerType;
		deserializer = $tw.Wiki.tiddlerDeserializerModules[type];
	}
	if(!deserializer) {
		// If we still don't have a deserializer, treat it as plain text
		deserializer = $tw.Wiki.tiddlerDeserializerModules["text/plain"];
	}
	for(var f in srcFields) {
		fields[f] = srcFields[f];
	}
	if(deserializer) {
		return deserializer.call(this,text,fields,type);
	} else {
		// Return a raw tiddler for unknown types
		fields.text = text;
		return [fields];
	}
};

/*
Register the built in tiddler deserializer modules
*/
$tw.modules.define("$:/boot/tiddlerdeserializer/js","tiddlerdeserializer",{
	"application/javascript": function(text,fields) {
		var headerCommentRegExp = new RegExp($tw.config.jsModuleHeaderRegExpString,"mg"),
			match = headerCommentRegExp.exec(text);
		fields.text = text;
		if(match) {
			fields = $tw.utils.parseFields(match[1].split(/\r?\n\r?\n/mg)[0],fields);
		}
		return [fields];
	}
});
$tw.modules.define("$:/boot/tiddlerdeserializer/tid","tiddlerdeserializer",{
	"application/x-tiddler": function(text,fields) {
		var split = text.split(/\r?\n\r?\n/mg);
		if(split.length >= 1) {
			fields = $tw.utils.parseFields(split[0],fields);
		}
		if(split.length >= 2) {
			fields.text = split.slice(1).join("\n\n");
		}
		return [fields];
	}
});
$tw.modules.define("$:/boot/tiddlerdeserializer/tids","tiddlerdeserializer",{
	"application/x-tiddlers": function(text,fields) {
		var titles = [],
			tiddlers = [],
			match = /\r?\n\r?\n/mg.exec(text);
		if(match) {
			fields = $tw.utils.parseFields(text.substr(0,match.index),fields);
			var lines = text.substr(match.index + match[0].length).split(/\r?\n/mg);
			for(var t=0; t<lines.length; t++) {
				var line = lines[t];
				if(line.charAt(0) !== "#") {
					var colonPos= line.indexOf(": ");
					if(colonPos !== -1) {
						var tiddler = $tw.utils.extend(Object.create(null),fields);
						tiddler.title = (tiddler.title || "") + line.substr(0,colonPos);
						if(titles.indexOf(tiddler.title) !== -1) {
							console.log("Warning: .multids file contains multiple definitions for " + tiddler.title);
						}
						titles.push(tiddler.title);
						tiddler.text = line.substr(colonPos + 2);
						tiddlers.push(tiddler);
					}
				}
			}
		}
		return tiddlers;
	}
});
$tw.modules.define("$:/boot/tiddlerdeserializer/txt","tiddlerdeserializer",{
	"text/plain": function(text,fields,type) {
		fields.text = text;
		fields.type = type || "text/plain";
		return [fields];
	}
});
$tw.modules.define("$:/boot/tiddlerdeserializer/html","tiddlerdeserializer",{
	"text/html": function(text,fields) {
		fields.text = text;
		fields.type = "text/html";
		return [fields];
	}
});
$tw.modules.define("$:/boot/tiddlerdeserializer/json","tiddlerdeserializer",{
	"application/json": function(text,fields) {
		var tiddlers = JSON.parse(text);
		return tiddlers;
	}
});

/////////////////////////// Browser definitions

if($tw.browser && !$tw.node) {

/*
Decrypt any tiddlers stored within the element with the ID "encryptedArea". The function is asynchronous to allow the user to be prompted for a password
	callback: function to be called the decryption is complete
*/
$tw.boot.decryptEncryptedTiddlers = function(callback) {
	var encryptedArea = document.getElementById("encryptedStoreArea");
	if(encryptedArea) {
		var encryptedText = encryptedArea.innerHTML,
			prompt = "Enter a password to decrypt this TiddlyWiki";
		// Prompt for the password
		if($tw.utils.hop($tw.boot,"encryptionPrompts")) {
			prompt = $tw.boot.encryptionPrompts.decrypt;
		}
		$tw.passwordPrompt.createPrompt({
			serviceName: prompt,
			noUserName: true,
			submitText: "Decrypt",
			callback: function(data) {
				// Attempt to decrypt the tiddlers
				$tw.crypto.setPassword(data.password);
				var decryptedText = $tw.crypto.decrypt(encryptedText);
				if(decryptedText) {
					var json = JSON.parse(decryptedText);
					for(var title in json) {
						$tw.preloadTiddler(json[title]);
					}
					// Call the callback
					callback();
					// Exit and remove the password prompt
					return true;
				} else {
					// We didn't decrypt everything, so continue to prompt for password
					return false;
				}
			}
		});
	} else {
		// Just invoke the callback straight away if there weren't any encrypted tiddlers
		callback();
	}
};

/*
Register a deserializer that can extract tiddlers from the DOM
*/
$tw.modules.define("$:/boot/tiddlerdeserializer/dom","tiddlerdeserializer",{
	"(DOM)": function(node) {
		var extractTextTiddlers = function(node) {
				var e = node.firstChild;
				while(e && e.nodeName.toLowerCase() !== "pre") {
					e = e.nextSibling;
				}
				var title = node.getAttribute ? node.getAttribute("title") : null;
				if(e && title) {
					var attrs = node.attributes,
						tiddler = {
							text: $tw.utils.htmlDecode(e.innerHTML)
						};
					for(var i=attrs.length-1; i >= 0; i--) {
						tiddler[attrs[i].name] = attrs[i].value;
					}
					return [tiddler];
				} else {
					return null;
				}
			},
			extractModuleTiddlers = function(node) {
				if(node.hasAttribute && node.hasAttribute("data-tiddler-title")) {
					var text = node.innerHTML,
						s = text.indexOf("{"),
						e = text.lastIndexOf("}");
					if(node.hasAttribute("data-module") && s !== -1 && e !== -1) {
						text = text.substring(s+1,e);
					}
					var fields = {text: text},
						attributes = node.attributes;
					for(var a=0; a<attributes.length; a++) {
						if(attributes[a].nodeName.substr(0,13) === "data-tiddler-") {
							fields[attributes[a].nodeName.substr(13)] = attributes[a].value;
						}
					}
					return [fields];
				} else {
					return null;
				}
			},
			t,result = [];
		if(node) {
			for(t = 0; t < node.childNodes.length; t++) {
					var childNode = node.childNodes[t],
						tiddlers = extractTextTiddlers(childNode);
					tiddlers = tiddlers || extractModuleTiddlers(childNode);
					if(tiddlers) {
						result.push.apply(result,tiddlers);
					}
			}
		}
		return result;
	}
});

$tw.loadTiddlersBrowser = function() {
	// In the browser, we load tiddlers from certain elements
	var containerIds = [
		"libraryModules",
		"modules",
		"bootKernelPrefix",
		"bootKernel",
		"styleArea",
		"storeArea",
		"systemArea"
	];
	for(var t=0; t<containerIds.length; t++) {
		$tw.wiki.addTiddlers($tw.wiki.deserializeTiddlers("(DOM)",document.getElementById(containerIds[t])));
	}
	// Load any preloaded tiddlers
	if($tw.preloadTiddlers) {
		$tw.wiki.addTiddlers($tw.preloadTiddlers);
	}
};

} else {

/////////////////////////// Server definitions

/*
Get any encrypted tiddlers
*/
$tw.boot.decryptEncryptedTiddlers = function(callback) {
	// Storing encrypted tiddlers on the server isn't supported yet
	callback();
};

} // End of if($tw.browser && !$tw.node)

/////////////////////////// Node definitions

if($tw.node) {

/*
Load the tiddlers contained in a particular file (and optionally extract fields from the accompanying .meta file) returned as {filepath:,type:,tiddlers:[],hasMetaFile:}
*/
$tw.loadTiddlersFromFile = function(filepath,fields) {
	var ext = path.extname(filepath),
		extensionInfo = $tw.config.fileExtensionInfo[ext],
		type = extensionInfo ? extensionInfo.type : null,
		typeInfo = type ? $tw.config.contentTypeInfo[type] : null,
		data = fs.readFileSync(filepath,typeInfo ? typeInfo.encoding : "utf8"),
		tiddlers = $tw.wiki.deserializeTiddlers(ext,data,fields),
		metafile = filepath + ".meta",
		metadata;
	if(ext !== ".json" && tiddlers.length === 1 && fs.existsSync(metafile)) {
		metadata = fs.readFileSync(metafile,"utf8");
		if(metadata) {
			tiddlers = [$tw.utils.parseFields(metadata,tiddlers[0])];
		}
	}
	return {filepath: filepath, type: type, tiddlers: tiddlers, hasMetaFile: !!metadata};
};

/*
A default set of files for TiddlyWiki to ignore during load.
This matches what NPM ignores, and adds "*.meta" to ignore tiddler
metadata files.
*/
$tw.boot.excludeRegExp = /^\.DS_Store$|^.*\.meta$|^\..*\.swp$|^\._.*$|^\.git$|^\.hg$|^\.lock-wscript$|^\.svn$|^\.wafpickle-.*$|^CVS$|^npm-debug\.log$/;

/*
Load all the tiddlers recursively from a directory, including honouring `tiddlywiki.files` files for drawing in external files. Returns an array of {filepath:,type:,tiddlers: [{..fields...}],hasMetaFile:}. Note that no file information is returned for externally loaded tiddlers, just the `tiddlers` property.
*/
$tw.loadTiddlersFromPath = function(filepath,excludeRegExp) {
	excludeRegExp = excludeRegExp || $tw.boot.excludeRegExp;
	var tiddlers = [];
	if(fs.existsSync(filepath)) {
		var stat = fs.statSync(filepath);
		if(stat.isDirectory()) {
			var files = fs.readdirSync(filepath);
			// Look for a tiddlywiki.files file
			if(files.indexOf("tiddlywiki.files") !== -1) {
				// If so, process the files it describes
				var filesInfo = JSON.parse(fs.readFileSync(filepath + path.sep + "tiddlywiki.files","utf8"));
				$tw.utils.each(filesInfo.tiddlers,function(tidInfo) {
					var typeInfo = $tw.config.contentTypeInfo[tidInfo.fields.type || "text/plain"],
						pathname = path.resolve(filepath,tidInfo.file),
						text = fs.readFileSync(pathname,typeInfo ? typeInfo.encoding : "utf8");
					if(tidInfo.prefix) {
						text = tidInfo.prefix + text;
					}
					if(tidInfo.suffix) {
						text = text + tidInfo.suffix;
					}
					tidInfo.fields.text = text;
					tiddlers.push({tiddlers: [tidInfo.fields]});
				});
			} else {
				// If not, read all the files in the directory
				$tw.utils.each(files,function(file) {
					if(!excludeRegExp.test(file) && file !== "plugin.info") {
						tiddlers.push.apply(tiddlers,$tw.loadTiddlersFromPath(filepath + path.sep + file,excludeRegExp));
					}
				});
			}
		} else if(stat.isFile()) {
			tiddlers.push($tw.loadTiddlersFromFile(filepath));
		}
	}
	return tiddlers;
};

/*
Load the tiddlers from a plugin folder, and package them up into a proper JSON plugin tiddler
*/
$tw.loadPluginFolder = function(filepath,excludeRegExp) {
	excludeRegExp = excludeRegExp || $tw.boot.excludeRegExp;
	if(fs.existsSync(filepath) && fs.statSync(filepath).isDirectory()) {
		// Read the plugin information
		var pluginInfo = JSON.parse(fs.readFileSync(filepath + path.sep + "plugin.info","utf8"));
		// Read the plugin files
		var pluginFiles = $tw.loadTiddlersFromPath(filepath,excludeRegExp);
		// Save the plugin tiddlers into the plugin info
		pluginInfo.tiddlers = pluginInfo.tiddlers || Object.create(null);
		for(var f=0; f<pluginFiles.length; f++) {
			var tiddlers = pluginFiles[f].tiddlers;
			for(var t=0; t<tiddlers.length; t++) {
				var tiddler= tiddlers[t];
				if(tiddler.title) {
					pluginInfo.tiddlers[tiddler.title] = tiddler;
				}
			}
		}
		// Give the plugin the same version number as the core if it doesn't have one
		if(!("version" in pluginInfo)) {
			pluginInfo.version = $tw.packageInfo.version;
		}
		// Use "plugin" as the plugin-type if we don't have one
		if(!("plugin-type" in pluginInfo)) {
			pluginInfo["plugin-type"] = "plugin";
		}
		pluginInfo.dependents = pluginInfo.dependents || [];
		pluginInfo.type = "application/json";
		// Set plugin text
		pluginInfo.text = JSON.stringify({tiddlers: pluginInfo.tiddlers},null,4);
		delete pluginInfo.tiddlers;
		// Deserialise array fields (currently required for the dependents field)
		for(var field in pluginInfo) {
			if($tw.utils.isArray(pluginInfo[field])) {
				pluginInfo[field] = $tw.utils.stringifyList(pluginInfo[field]);
			}
		}
		return pluginInfo;
	} else {
			return null;
	}
};

/*
name: Name of the plugin to find
paths: array of file paths to search for it
Returns the path of the plugin folder
*/
$tw.findLibraryItem = function(name,paths) {
	var pathIndex = 0;
	do {
		var pluginPath = path.resolve(paths[pathIndex],"./" + name)
		if(fs.existsSync(pluginPath) && fs.statSync(pluginPath).isDirectory()) {
			return pluginPath;
		}
	} while(++pathIndex < paths.length);
	return null;
};

/*
name: Name of the plugin to load
paths: array of file paths to search for it
*/
$tw.loadPlugin = function(name,paths) {
	var pluginPath = $tw.findLibraryItem(name,paths);
	if(pluginPath) {
		var pluginFields = $tw.loadPluginFolder(pluginPath);
		if(pluginFields) {
			$tw.wiki.addTiddler(pluginFields);
		}
	}
};

/*
libraryPath: Path of library folder for these plugins (relative to core path)
envVar: Environment variable name for these plugins
Returns an array of search paths
*/
$tw.getLibraryItemSearchPaths = function(libraryPath,envVar) {
	var pluginPaths = [path.resolve($tw.boot.corePath,libraryPath)],
		env = process.env[envVar];
	if(env) {
		Array.prototype.push.apply(pluginPaths,env.split(path.delimiter));
	}
	return pluginPaths;
};

/*
plugins: Array of names of plugins (eg, "tiddlywiki/filesystemadaptor")
libraryPath: Path of library folder for these plugins (relative to core path)
envVar: Environment variable name for these plugins
*/
$tw.loadPlugins = function(plugins,libraryPath,envVar) {
	if(plugins) {
		var pluginPaths = $tw.getLibraryItemSearchPaths(libraryPath,envVar);
		for(var t=0; t<plugins.length; t++) {
			$tw.loadPlugin(plugins[t],pluginPaths);
		}
	}
};

/*
path: path of wiki directory
options:
	parentPaths: array of parent paths that we mustn't recurse into
	readOnly: true if the tiddler file paths should not be retained
*/
$tw.loadWikiTiddlers = function(wikiPath,options) {
	options = options || {};
	var parentPaths = options.parentPaths || [],
		wikiInfoPath = path.resolve(wikiPath,$tw.config.wikiInfo),
		wikiInfo,
		pluginFields;
	// Bail if we don't have a wiki info file
	if(fs.existsSync(wikiInfoPath)) {
		wikiInfo = JSON.parse(fs.readFileSync(wikiInfoPath,"utf8"));
	} else {
		return null;
	}
	// Load any parent wikis
	if(wikiInfo.includeWikis) {
		parentPaths = parentPaths.slice(0);
		parentPaths.push(wikiPath);
		$tw.utils.each(wikiInfo.includeWikis,function(info) {
			if(typeof info === "string") {
				info = {path: info};
			}
			var resolvedIncludedWikiPath = path.resolve(wikiPath,info.path);
			if(parentPaths.indexOf(resolvedIncludedWikiPath) === -1) {
				var subWikiInfo = $tw.loadWikiTiddlers(resolvedIncludedWikiPath,{
					parentPaths: parentPaths,
					readOnly: info["read-only"]
				});
				// Merge the build targets
				wikiInfo.build = $tw.utils.extend([],subWikiInfo.build,wikiInfo.build);
			} else {
				$tw.utils.error("Cannot recursively include wiki " + resolvedIncludedWikiPath);
			}
		});
	}
	// Load any plugins, themes and languages listed in the wiki info file
	$tw.loadPlugins(wikiInfo.plugins,$tw.config.pluginsPath,$tw.config.pluginsEnvVar);
	$tw.loadPlugins(wikiInfo.themes,$tw.config.themesPath,$tw.config.themesEnvVar);
	$tw.loadPlugins(wikiInfo.languages,$tw.config.languagesPath,$tw.config.languagesEnvVar);
	// Load the wiki files, registering them as writable
	var resolvedWikiPath = path.resolve(wikiPath,$tw.config.wikiTiddlersSubDir);
	$tw.utils.each($tw.loadTiddlersFromPath(resolvedWikiPath),function(tiddlerFile) {
		if(!options.readOnly && tiddlerFile.filepath) {
			$tw.utils.each(tiddlerFile.tiddlers,function(tiddler) {
				$tw.boot.files[tiddler.title] = {
					filepath: tiddlerFile.filepath,
					type: tiddlerFile.type,
					hasMetaFile: tiddlerFile.hasMetaFile
				};
			});
		}
		$tw.wiki.addTiddlers(tiddlerFile.tiddlers);
	});
	// Save the original tiddler file locations if requested
	var config = wikiInfo.config || {};
	if(config["retain-original-tiddler-path"]) {
		var output = {};
		for(var title in $tw.boot.files) {
			output[title] = path.relative(resolvedWikiPath,$tw.boot.files[title].filepath);
		}
		$tw.wiki.addTiddler({title: "$:/config/OriginalTiddlerPaths", type: "application/json", text: JSON.stringify(output)});
	}
	// Save the path to the tiddlers folder for the filesystemadaptor
	$tw.boot.wikiTiddlersPath = path.resolve($tw.boot.wikiPath,config["default-tiddler-location"] || $tw.config.wikiTiddlersSubDir);
	// Load any plugins within the wiki folder
	var wikiPluginsPath = path.resolve(wikiPath,$tw.config.wikiPluginsSubDir);
	if(fs.existsSync(wikiPluginsPath)) {
		var pluginFolders = fs.readdirSync(wikiPluginsPath);
		for(var t=0; t<pluginFolders.length; t++) {
			pluginFields = $tw.loadPluginFolder(path.resolve(wikiPluginsPath,"./" + pluginFolders[t]));
			if(pluginFields) {
				$tw.wiki.addTiddler(pluginFields);
			}
		}
	}
	// Load any themes within the wiki folder
	var wikiThemesPath = path.resolve(wikiPath,$tw.config.wikiThemesSubDir);
	if(fs.existsSync(wikiThemesPath)) {
		var themeFolders = fs.readdirSync(wikiThemesPath);
		for(var t=0; t<themeFolders.length; t++) {
			pluginFields = $tw.loadPluginFolder(path.resolve(wikiThemesPath,"./" + themeFolders[t]));
			if(pluginFields) {
				$tw.wiki.addTiddler(pluginFields);
			}
		}
	}
	// Load any languages within the wiki folder
	var wikiLanguagesPath = path.resolve(wikiPath,$tw.config.wikiLanguagesSubDir);
	if(fs.existsSync(wikiLanguagesPath)) {
		var languageFolders = fs.readdirSync(wikiLanguagesPath);
		for(var t=0; t<languageFolders.length; t++) {
			pluginFields = $tw.loadPluginFolder(path.resolve(wikiLanguagesPath,"./" + languageFolders[t]));
			if(pluginFields) {
				$tw.wiki.addTiddler(pluginFields);
			}
		}
	}
	return wikiInfo;
};

$tw.loadTiddlersNode = function() {
	// Load the boot tiddlers
	$tw.utils.each($tw.loadTiddlersFromPath($tw.boot.bootPath),function(tiddlerFile) {
		$tw.wiki.addTiddlers(tiddlerFile.tiddlers);
	});
	// Load the core tiddlers
	$tw.wiki.addTiddler($tw.loadPluginFolder($tw.boot.corePath));
	// Load the tiddlers from the wiki directory
	if($tw.boot.wikiPath) {
		$tw.boot.wikiInfo = $tw.loadWikiTiddlers($tw.boot.wikiPath);
	}
};

// End of if($tw.node)
}

/////////////////////////// Main startup function called once tiddlers have been decrypted

/*
Startup TiddlyWiki
*/
$tw.boot.startup = function(options) {
	options = options || {};
	// Get the URL hash and check for safe mode
	$tw.locationHash = "#";
	if($tw.browser && !$tw.node) {
		if(location.hash === "#:safe") {
			$tw.safeMode = true;
		} else {
			$tw.locationHash = $tw.utils.getLocationHash();
		}
	}
	// Initialise some more $tw properties
	$tw.utils.deepDefaults($tw,{
		modules: { // Information about each module
			titles: Object.create(null), // hashmap by module title of {fn:, exports:, moduleType:}
			types: {} // hashmap by module type of hashmap of exports
		},
		config: { // Configuration overridables
			pluginsPath: "../plugins/",
			themesPath: "../themes/",
			languagesPath: "../languages/",
			editionsPath: "../editions/",
			wikiInfo: "./tiddlywiki.info",
			wikiPluginsSubDir: "./plugins",
			wikiThemesSubDir: "./themes",
			wikiLanguagesSubDir: "./languages",
			wikiTiddlersSubDir: "./tiddlers",
			wikiOutputSubDir: "./output",
			jsModuleHeaderRegExpString: "^\\/\\*\\\\(?:\\r?\\n)((?:^[^\\r\\n]*(?:\\r?\\n))+?)(^\\\\\\*\\/$(?:\\r?\\n)?)",
			fileExtensionInfo: Object.create(null), // Map file extension to {type:}
			contentTypeInfo: Object.create(null), // Map type to {encoding:,extension:}
			pluginsEnvVar: "TIDDLYWIKI_PLUGIN_PATH",
			themesEnvVar: "TIDDLYWIKI_THEME_PATH",
			languagesEnvVar: "TIDDLYWIKI_LANGUAGE_PATH",
			editionsEnvVar: "TIDDLYWIKI_EDITION_PATH"
		},
		log: {} // Log flags
	});
	if(!$tw.boot.tasks.readBrowserTiddlers) {
		// For writable tiddler files, a hashmap of title to {filepath:,type:,hasMetaFile:}
		$tw.boot.files = Object.create(null);
		// System paths and filenames
		$tw.boot.bootPath = path.dirname(module.filename);
		$tw.boot.corePath = path.resolve($tw.boot.bootPath,"../core");
		// If there's no arguments then default to `--help`
		if($tw.boot.argv.length === 0) {
			$tw.boot.argv = ["--help"];
		}
		// If the first command line argument doesn't start with `--` then we
		// interpret it as the path to the wiki folder, which will otherwise default
		// to the current folder
		if($tw.boot.argv[0] && $tw.boot.argv[0].indexOf("--") !== 0) {
			$tw.boot.wikiPath = $tw.boot.argv[0];
			$tw.boot.argv = $tw.boot.argv.slice(1);
		} else {
			$tw.boot.wikiPath = process.cwd();
		}
		// Read package info
		$tw.packageInfo = require("../package.json");
		// Check node version number
		if($tw.utils.checkVersions($tw.packageInfo.engines.node.substr(2),process.version.substr(1))) {
			$tw.utils.error("TiddlyWiki5 requires node.js version " + $tw.packageInfo.engines.node);
		}
	}
	// Add file extension information
	$tw.utils.registerFileType("text/vnd.tiddlywiki","utf8",".tid");
	$tw.utils.registerFileType("application/x-tiddler","utf8",".tid");
	$tw.utils.registerFileType("application/x-tiddlers","utf8",".multids");
	$tw.utils.registerFileType("application/x-tiddler-html-div","utf8",".tiddler");
	$tw.utils.registerFileType("text/vnd.tiddlywiki2-recipe","utf8",".recipe");
	$tw.utils.registerFileType("text/plain","utf8",".txt");
	$tw.utils.registerFileType("text/css","utf8",".css");
	$tw.utils.registerFileType("text/html","utf8",[".html",".htm"]);
	$tw.utils.registerFileType("application/hta","utf16le",".hta",{deserializerType:"text/html"});
	$tw.utils.registerFileType("application/javascript","utf8",".js");
	$tw.utils.registerFileType("application/json","utf8",".json");
	$tw.utils.registerFileType("application/pdf","base64",".pdf",{flags:["image"]});
	$tw.utils.registerFileType("image/jpeg","base64",[".jpg",".jpeg"],{flags:["image"]});
	$tw.utils.registerFileType("image/png","base64",".png",{flags:["image"]});
	$tw.utils.registerFileType("image/gif","base64",".gif",{flags:["image"]});
	$tw.utils.registerFileType("image/svg+xml","utf8",".svg",{flags:["image"]});
	$tw.utils.registerFileType("image/x-icon","base64",".ico",{flags:["image"]});
	$tw.utils.registerFileType("application/font-woff","base64",".woff");
	$tw.utils.registerFileType("audio/ogg","base64",".ogg");
	$tw.utils.registerFileType("audio/mp3","base64",".mp3");
	$tw.utils.registerFileType("audio/mp4","base64",[".mp4",".m4a"]);
	$tw.utils.registerFileType("text/x-markdown","utf8",[".md",".markdown"]);
	// Create the wiki store for the app
	$tw.wiki = new $tw.Wiki();
	// Install built in tiddler fields modules
	$tw.Tiddler.fieldModules = $tw.modules.getModulesByTypeAsHashmap("tiddlerfield");
	// Install the tiddler deserializer modules
	$tw.Wiki.tiddlerDeserializerModules = Object.create(null);
	$tw.modules.applyMethods("tiddlerdeserializer",$tw.Wiki.tiddlerDeserializerModules);
	// Load tiddlers
	if($tw.boot.tasks.readBrowserTiddlers) {
		$tw.loadTiddlersBrowser();
	} else {
		$tw.loadTiddlersNode();
	}
	// Unpack plugin tiddlers
	$tw.wiki.readPluginInfo();
	$tw.wiki.registerPluginTiddlers("plugin",$tw.safeMode ? ["$:/core"] : undefined);
	$tw.wiki.unpackPluginTiddlers();
	// Process "safe mode"
	if($tw.safeMode) {
		$tw.wiki.processSafeMode();
	}
	// Register typed modules from the tiddlers we've just loaded
	$tw.wiki.defineTiddlerModules();
	// And any modules within plugins
	$tw.wiki.defineShadowModules();
	// Make sure the crypto state tiddler is up to date
	if($tw.crypto) {
		$tw.crypto.updateCryptoStateTiddler();
	}
	// Gather up any startup modules
	$tw.boot.remainingStartupModules = []; // Array of startup modules
	$tw.modules.forEachModuleOfType("startup",function(title,module) {
		if(module.startup) {
			$tw.boot.remainingStartupModules.push(module);
		}
	});
	// Keep track of the startup tasks that have been executed
	$tw.boot.executedStartupModules = Object.create(null);
	$tw.boot.disabledStartupModules = $tw.boot.disabledStartupModules || [];
	// Repeatedly execute the next eligible task
	$tw.boot.executeNextStartupTask();
};

/*
Execute the remaining eligible startup tasks
*/
$tw.boot.executeNextStartupTask = function() {
	// Find the next eligible task
	var taskIndex = 0, task,
		asyncTaskCallback = function() {
			if(task.name) {
				$tw.boot.executedStartupModules[task.name] = true;
			}
			return $tw.boot.executeNextStartupTask();
		};
	while(taskIndex < $tw.boot.remainingStartupModules.length) {
		task = $tw.boot.remainingStartupModules[taskIndex];
		if($tw.boot.isStartupTaskEligible(task)) {
			// Remove this task from the list
			$tw.boot.remainingStartupModules.splice(taskIndex,1);
			// Assemble log message
			var s = ["Startup task:",task.name];
			if(task.platforms) {
				s.push("platforms:",task.platforms.join(","));
			}
			if(task.after) {
				s.push("after:",task.after.join(","));
			}
			if(task.before) {
				s.push("before:",task.before.join(","));
			}
			$tw.boot.log(s.join(" "));
			// Execute task
			if(!$tw.utils.hop(task,"synchronous") || task.synchronous) {
				task.startup();
				if(task.name) {
					$tw.boot.executedStartupModules[task.name] = true;
				}
				return $tw.boot.executeNextStartupTask();
			} else {
				task.startup(asyncTaskCallback);
				return true;
			}
		}
		taskIndex++;
	}
	return false;
};

/*
Returns true if we are running on one platforms specified in a task modules `platforms` array
*/
$tw.boot.doesTaskMatchPlatform = function(taskModule) {
	var platforms = taskModule.platforms;
	if(platforms) {
		for(var t=0; t<platforms.length; t++) {
			if((platforms[t] === "browser" && !$tw.browser) || (platforms[t] === "node" && !$tw.node)) {
				return false;
			}
		}
	}
	return true;
};

$tw.boot.isStartupTaskEligible = function(taskModule) {
	var t;
	// Check that the platform is correct
	if(!$tw.boot.doesTaskMatchPlatform(taskModule)) {
		return false;
	}
	var name = taskModule.name,
		remaining = $tw.boot.remainingStartupModules;
	if(name) {
		// Fail if this module is disabled
		if($tw.boot.disabledStartupModules.indexOf(name) !== -1) {
			return false;
		}
		// Check that no other outstanding tasks must be executed before this one
		for(t=0; t<remaining.length; t++) {
			var task = remaining[t];
			if(task.before && task.before.indexOf(name) !== -1) {
				if($tw.boot.doesTaskMatchPlatform(task) || (task.name && $tw.boot.disabledStartupModules.indexOf(name) !== -1)) {
					return false;
				}
			}
		}
	}
	// Check that all of the tasks that we must be performed after has been done
	var after = taskModule.after;
	if(after) {
		for(t=0; t<after.length; t++) {
			if(!$tw.boot.executedStartupModules[after[t]]) {
				return false;
			}
		}
	}
	return true;
};

/*
Global Hooks mechanism which allows plugins to modify default functionality
*/
$tw.hooks = $tw.hooks || { names: {}};
 
/*
Add hooks to the  hashmap 
*/
$tw.hooks.addHook = function(hookName,definition) {
	if($tw.utils.hop($tw.hooks.names,hookName)) {
		$tw.hooks.names[hookName].push(definition);
	}
	else {
		$tw.hooks.names[hookName] = [definition];
	}
};
 
/*
Invoke the hook by key 
*/
$tw.hooks.invokeHook = function(hookName, value) {
	if($tw.utils.hop($tw.hooks.names,hookName)) {
		for (var i = 0; i < $tw.hooks.names[hookName].length; i++) {
			value = $tw.hooks.names[hookName][i](value);
		}
	}
	return value;
};

/////////////////////////// Main boot function to decrypt tiddlers and then startup

$tw.boot.boot = function() {
	// Initialise crypto object
	$tw.crypto = new $tw.utils.Crypto();
	// Initialise password prompter
	if($tw.browser && !$tw.node) {
		$tw.passwordPrompt = new $tw.utils.PasswordPrompt();
	}
	// Preload any encrypted tiddlers
	$tw.boot.decryptEncryptedTiddlers(function() {
		// Startup
		$tw.boot.startup();
	});
};

/////////////////////////// Autoboot in the browser

if($tw.browser && !$tw.boot.suppressBoot) {
	$tw.boot.boot();
}

return $tw;

});

if(typeof(exports) !== "undefined") {
	exports.TiddlyWiki = _boot;
} else {
	_boot(window.$tw);
}</script>
</div>
</body>
</html>
