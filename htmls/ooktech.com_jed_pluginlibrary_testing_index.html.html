<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="application-name" content="TiddlyWiki Plugin Library" />
<meta name="application-version" content="v0.0.0" />
<meta name="copyright" content="Copyright 2015 Jeremy Ruston" />
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<title>Plugin Library</title>
<script>
var assetList = [
    {
        "title": "$:/plugins/inmysocks/Bookmarks",
        "description": "A bookmark library for TiddlyWiki",
        "author": "inmysocks",
        "version": "0.0.6",
        "core-version": ">=5.1.6",
        "source": "https://github.com/inmysocks/TW5-NoLearningRequired-Full",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/plugins/inmysocks/Calendar",
        "description": "A calendar thing",
        "author": "inmysocks",
        "version": "0.0.8",
        "core-version": ">=5.1.6",
        "source": "https://github.com/inmysocks/TW5-NoLearningRequired-Full",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json",
        "readme": "To see this plugin in use you can see it on my page [[here|http://ooktech.com/jed/externalbrain/#Calendar%20Archives]]\n\nThis plugin has:\n\n*The calendar-month widget\n*Default css class for the calendar month widget\n*Default macro for calendar days\n*This readme\n\n!The calendar-month widget\n\nUsage: `<$calendar-month year=YYYY month=MM day_macro=someMacro class=someCSSClass/>`\n\nContent of the `<$calendar-month>` widget is ignored.\n\n|!Attribute |!Description |\n|year |The year that the month displayed is from. It must be in 4 digit YYYY format and has no default value. |\n|month |The month to display. See list below for valid month values. month has no default value. |\n|day_macro |(optional) The macro that defines the content of each calendar day. It is passed the parameter `day` with the value of the current day of the month. Defaluts to `CalendarListDailyThings` defined in [[Calendar Default Macros|$:/plugins/inmysocks/Calendar/Calendar Default Macros]] |\n|class |(optional) A css class to use. Defaults to the class `calendar-table` defined in [[Calendar Table Style|$:/plugins/inmysocks/Calendar/Calendar Table Style]] |\n\n!The default ~CalendarListDailyThings macro\n\nThis macro lists any tiddlers that have fields called `day`, `month` and `year` in the matching calendar day. If you click on a cell than a tiddler with a title in the form of (day)-(month)-(year) is opened.\n\n!Month values\n\nThis is a complete list of the month values the widget understands, if you want some other format added leave a message at [[my site|http://www.inmysocks.tiddlyspot.com]].:\n\n1\n01\nJan\nJan.\nJanuary\n\n2\n02\nFeb\nFeb.\nFebruary\n\n3\n03\nMar\nMar.\nMarch\n\n4\n04\nApr\nApr.\nApril\n\n5\n05\nMay\n\n6\n06\nJun\nJun.\nJune\n\n7\n07\nJul\nJul.\nJuly\n\n8\n08\nAug\nAug.\nAugust\n\n9\n09\nSep\nSep.\nSept\nSept.\nSeptember\n\n10\nOct\nOct.\nOctober\n\n11\nNov\nNov.\nNovember\n\n12\nDec\nDec.\nDecember\n\n!Example:\n\n```\nSelect year: <$select field='year'><$list filter='1990 1991 1992 1993 1994 1995 1996 1997 1998 1999 2000'><option><<currentTiddler>></option></$list></$select>\n\nSelect month: <$select field='month'><$list filter='1 2 3 4 5 6 7 8 9 10 11 12'><option><<currentTiddler>></option></$list></$select>\n\n<$calendar-month year={{!!year}} month={{!!month}}/>\n```\n\nSelect year: <$select field='year'><$list filter='1990 1991 1992 1993 1994 1995 1996 1997 1998 1999 2000'><option><<currentTiddler>></option></$list></$select>\n\nSelect month: <$select field='month'><$list filter='1 2 3 4 5 6 7 8 9 10 11 12'><option><<currentTiddler>></option></$list></$select>\n\n<$calendar-month year={{!!year}} month={{!!month}}/>\n"
    },
    {
        "title": "$:/plugins/inmysocks/Citations",
        "description": "A basic citation tracker for TiddlyWiki",
        "author": "inmysocks",
        "version": "0.2.15",
        "core-version": ">=5.1.6",
        "source": "https://github.com/inmysocks/TW5-NoLearningRequired-Full",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/plugins/inmysocks/Contacts",
        "description": "A contacts database for TiddlyWiki",
        "author": "inmysocks",
        "version": "0.1.3",
        "core-version": ">=5.1.6",
        "source": "https://github.com/inmysocks/TW5-contactsdb",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/plugins/inmysocks/CreateEditTiddlers",
        "description": "A simple interface for tiddler creation and editing in TiddlyWiki",
        "author": "inmysocks",
        "version": "0.1.0",
        "core-version": ">=5.1.6",
        "source": "https://github.com/inmysocks/TW5-NoLearningRequired-Full",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/plugins/inmysocks/Dashboard",
        "description": "A dashboard interface for TiddlyWiki",
        "author": "inmysocks",
        "version": "0.1.3",
        "core-version": ">=5.1.6",
        "source": "https://github.com/inmysocks/TW5-NoLearningRequired-Full",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/plugins/inmysocks/Facebook",
        "description": "A plugin to add a Facebook interface to TiddlyWiki",
        "author": "inmysocks",
        "version": "0.0.1",
        "core-version": ">=5.0.8",
        "source": "",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/plugins/inmysocks/IconMenus",
        "description": "An alternate menu system that can go on top of other themes",
        "author": "inmysocks",
        "version": "0.0.4",
        "core-version": ">=5.1.6",
        "source": "http://ooktech.com/iconmenus/",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/plugins/inmysocks/LibraryTracker",
        "description": "A library tracker for TiddlyWiki",
        "author": "inmysocks",
        "version": "0.1.0",
        "core-version": ">=5.1.6",
        "source": "https://github.com/inmysocks/TW5-NoLearningRequired-Full",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/plugins/inmysocks/ManageTOC",
        "description": "A table of contents manager for TiddlyWiki",
        "author": "inmysocks",
        "version": "0.1.1",
        "core-version": ">=5.1.6",
        "source": "https://github.com/inmysocks/TW5-NoLearningRequired-Full",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/plugins/inmysocks/MathyThing",
        "description": "Some basic math operations for TiddlyWiki",
        "author": "inmysocks",
        "version": "0.1.0",
        "core-version": ">=5.0.8",
        "source": "https://github.com/inmysocks/TW5-MathyThing",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json",
        "readme": "!TW5-MathyThing\n\n\na math plugin for TiddlyWiki5\n\nCurrently this plugin contains:\n\n*The action-storecount widget\n*The action-increment widget\n*The sumfield daemon\n\nYou shouldn't use these widgets, I am creating daemons that will do the same functions:\n\n*The storecount widget\n*The sumfield widget\n*The sumfield2 widget\n*The prodfield widget\n*The prodfield2 widget\n\n---\n\n''The action-storecount widget'' - an action widget with similar functionality to the count widget. It takes a filter and will count the number of matching tiddlers and, on a button press or other initiating event, store the output in the designated field. It was created by combining the action-setfield and count widgets.\n\nUsage:\n\n`<$action-storecount $filter=<<someFilter>> $tiddler=someTiddler $field=someField/>`\n\nSince it is a modification of the action-setfield widget and I haven't modifed this part, you may be able to store the output at the given index of a data tiddler, but I haven't tested that yet.\n\n---\n\n''The action-increment widget'' - a widget that increments a value in a field by a given amount\n\nNote: Both the field and the increment value have to be numeric and exist. If you specifiy an empty field, or a field with a non-numeric value, than the widget won't do anything. The prefix string doesn't count toward as 'non-numeric' for this.\n\nUsage:\n\n`<$action-increment $tiddler=someTiddler $field=fieldToIncrement $increment=incrementValue $length=zeroPadLength $prefix=outputPrefix $intial=initialValue/>`\n\n*$tiddler defaults to `<<currentTiddler>>`\n*$field defaults to make_sure_you_give_a_field_parameter\n*$increment defaults to 1\n*$length has no default, if no length is given than the output will have no zero padding\n*$prefix has no default, if no prefix is given the output isn't given a prefix\n*$initial defaults to 0\n\nNote: the `$length` input specifies the minimum length, so if your `$length` is set to 1 and your stored value is 10 the `$length` input does nothing. The `$length` is also independent of the `$prefix`.\n\nIt will take the value of someField and replace it with the value someField+someIncrement\n\nThere is no requirement that either value be positive or an integer.\n\n---\n\n''The sumfield daemon'' - a background process that does the same thing that the sumfield widget does, but without the same horrible potential to break everything. It may be able to break things in horrible new ways.\n\nUsage: \n\nIn the MathyThing settings tab in the [[$:/ControlPanel]] set the summation tag. This will make any tiddlers that use the given tag expression tiddlers and give them a custom view template. They have the following inputs:\n\n*A check box marked 'Evaluate Expression' and a button labeled 'Force Re-evaluate', if the check box isn't checked than nothing will happen. You should make sure this isn't checked whenever you change the inputs on the expression tiddler to prevent unintended behavior. The 'Force Re-evaluate' button will force the output of the expression to update. Editing the output tiddler doesn't force a refresh, so if the output field gets changed somehow this button will update it without having to change inputs.\n*A check box marked 'Create Store Tiddler', if this box isn't marked and a tiddler that doesn't exist is given as the store tiddler than it isn't created. If this box is marked than the store tiddler is created if it doesn't already exist.\n*Filter - The filter given here selects a list of tiddlers to be used for the summation, it is a good idea to include `!has[draft.of]` in your filter expression.\n*Sum Field - the field in each of the tiddlers returned by the filter that holds the values to be summed\n*Store Tiddler - the name of the tiddler that will store the output\n*Store Field - the field in the store tiddler that will store the output\n*Default Value - if there isn't a valid input this value will be given as the output. It doesn't have to be numeric.\n\nIf you want to create a tiddler expression without having to manually edit the inputs you can make a tiddler with the following fields:\n\n*tags - whatever tag you have set as the summation tag\n*sum_filter - the filter used\n*sum_field - the field summed\n*sum_store_tiddler - the tidder that will hold the result\n*sum_store_field - the field that will holde the result\n*sum_store_index - the index of a data tiddler to hold the result, if the sum_store_field isn't empty it takes precidence over this\n*create - if this is set to 'true' than the store tiddler will be created if it doesn't exist, otherwise no tiddler will be created.\n*evaluate - set this to `true` or the expression won't be evaluated.\n\n---\n\n''The prodfield daemon'' - a background process that does the same thing that the prodfield widget does, but without the same horrible potential to break everything. It may be able to break things in horrible new ways.\n\nUsage: \n\nIn the MathyThing settings tab in the [[$:/ControlPanel]] set the product tag. This will make any tiddlers that use the given tag expression tiddlers and give them a custom view template. They have the following inputs:\n\n*A check box marked 'Evaluate Expression' and a button labeled 'Force Re-evaluate', if the check box isn't checked than nothing will happen. You should make sure this isn't checked whenever you change the inputs on the expression tiddler to prevent unintended behavior. The 'Force Re-evaluate' button will force the output of the expression to update. Editing the output tiddler doesn't force a refresh, so if the output field gets changed somehow this button will update it without having to change inputs.\n*A check box marked 'Create Store Tiddler', if this box isn't marked and a tiddler that doesn't exist is given as the store tiddler than it isn't created. If this box is marked than the store tiddler is created if it doesn't already exist.\n*Filter - The filter given here selects a list of tiddlers to be used for the product, it is a good idea to include `!has[draft.of]` in your filter expression.\n*Product Field - the field in each of the tiddlers returned by the filter that holds the values to be summed\n*Store Tiddler - the name of the tiddler that will store the output\n*Store Field - the field in the store tiddler that will store the output\n*Default Value - if there isn't a valid input this value will be given as the output. It doesn't have to be numeric.\n\nIf you want to create a tiddler expression without having to manually edit the inputs you can make a tiddler with the following fields:\n\n*tags - whatever tag you have set as the summation tag\n*prod_filter - the filter used\n*prod_field - the field that the product is taken over\n*prod_store_tiddler - the tidder that will hold the result\n*prod_store_field - the field that will holde the result\n*prod_store_index - the index of a data tiddler to hold the result, if the sum_store_field isn't empty it takes precidence over this\n*create - if this is set to 'true' than the store tiddler will be created if it doesn't exist, otherwise no tiddler will be created.\n*evaluate - set this to `true` or the expression won't be evaluated.\n\n---\n\n!Things below here shouldn't be used\n\n---\n\n\n''The storecount widget'' - a widget with similar functionality to the count widget. It takes a filter and will count the number of matching tiddlers and store the output in the designated field. It was created by modifying the sumfield widget below.\n\nUsage:\n\n`<$storecount $filter=<<someFilter>> $tiddler=someTiddler $field=someField/>`\n\nSince it is a modification of the action-setfield widget and I haven't modifed this part, you may be able to store the output at the given index of a data tiddler, but I haven't tested that yet.\n\n---\n\n\n''The sumfield widget'' - a widget that was made by modifying the list widget. It takes a filter and a given field and sums together everything in that field in the filtered tiddlers.\n\nUsage:\n\n`<$sumfield filter=<<someFilter>> sumfield=sumField tiddler=storeTiddler storefield=storeField defaultvalue=defaultValue/>`\n\nIt will take each tiddler listed when using `<<someFilter>>` and take the value in sumField from each of the tiddlers and sum them, the result will be placed in the storeField of the tiddler storeTiddler. If there aren't any numbers to sum than it will display defaultValue.\n\ntiddler defaults to `<<currentTiddler>>` and defaultValue defaults to 0 if they aren't given inputs.\n\nIf one of the fields contains a non-numeric value than it is ignored. This includes empty fields.\n\n---\n\n\n''The sumfield2 widget'' - a widget that was made by modifying the list widget. It takes a filter and a given field and sums together two fields in the filtered tiddlers and stores the value in a third field.\n\nUsage:\n\n`<$sumfield2 filter=<<someFilter>> sumfield=sumField sumfield2=sumField2 storefield=storeField defaultvalue=defaultValue/>`\n\nIt will take each tiddler listed when using `<<someFilter>>` and take the value in sumField to the value in sumField2 in each of the tiddlers and the result will be placed in the storeField of each tiddler. If there aren't any numbers to sum than it will display defaultValue.\n\ntiddler defaults to `<<currentTiddler>>` and defaultValue defaults to 0 if they aren't given inputs.\n\nIf one of the fields contains a non-numeric value than it is ignored. This includes empty fields.\n\n---\n\n\n''The prodfield widget'' - a widget that was made by modifying the list widget. It takes a filter and a given field and takes the product of everything in that field in the filtered tiddlers.\n\nUsage:\n\n`<$prodfield filter=<<someFilter>> prodfield=prodField tiddler=storeTiddler storefield=storeField defaultvalue=defaultValue/>`\n\nIt will take each tiddler listed when using `<<someFilter>>` and take the value in prodField from each of the tiddlers and take their product, the result will be placed in the storeField of the tiddler storeTiddler. If there aren't any numbers to sum than it will display defaultValue. \n\ntiddler defaults to `<<currentTiddler>>` and defaultValue defaults to 0 if they aren't given inputs.\n\nIf one of the fields contains a non-numeric value than it is ignored. This includes empty fields.\n\n---\n\n\n''The prodfield2 widget'' - a widget that was made by modifying the list widget. It takes a filter and a given two fields takes the product of those fields in the filtered tiddlers, then stores the result in a third field in each tiddler.\n\nUsage:\n\n`<$prodfield2 filter=<<someFilter>> prodfield=prodField prodfield2=prodField2 storefield=storeField defaultvalue=defaultValue/>`\n\nIt will take each tiddler listed when using `<<someFilter>>` and multiply the values in prodField and prodField2 in each of the tiddlers and the result will be placed in the storeField of each tiddler. If there aren't any numbers to sum than it will display defaultValue. \n\ntiddler defaults to `<<currentTiddler>>` and defaultValue defaults to 0 if they aren't given inputs.\n\nIf one of the fields contains a non-numeric value than it is ignored. This includes empty fields."
    },
    {
        "title": "$:/plugins/inmysocks/MinimalTaskList",
        "description": "A simple task list for TiddlyWiki",
        "author": "inmysocks",
        "version": "0.1.1",
        "core-version": ">=5.1.6",
        "source": "https://github.com/inmysocks/TW5-NoLearningRequired-Full",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/plugins/inmysocks/OpenGraph",
        "description": "A plugin that adds Open Graph metadata to a wiki",
        "author": "inmysocks",
        "version": "0.0.1",
        "core-version": ">=5.1.6",
        "source": "",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/plugins/inmysocks/QuickNotes",
        "description": "A basic note taking tool for TiddlyWiki",
        "author": "inmysocks",
        "version": "0.1.1",
        "core-version": ">=5.1.6",
        "source": "https://github.com/inmysocks/TW5-NoLearningRequired-Full",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/plugins/inmysocks/SearchableDictionary",
        "description": "A simple searchable dictionary for TiddlyWiki",
        "author": "inmysocks",
        "version": "0.1.1",
        "core-version": ">=5.1.6",
        "source": "https://github.com/inmysocks/TW5-NoLearningRequired-Full",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/plugins/inmysocks/StartupActions",
        "description": "A daemon that will trigger actions when the wiki is opened or reloaded.",
        "author": "inmysocks",
        "version": "0.0.7",
        "core-version": ">=5.1.8",
        "source": "https://github.com/inmysocks/TW5-StartupActions",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/plugins/inmysocks/TriggerActions",
        "description": "A daemon that will trigger actions widgets when a tiddler changes",
        "author": "inmysocks",
        "version": "0.0.8",
        "core-version": ">=5.1.8",
        "source": "https://github.com/inmysocks/TW5-TriggerActions",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/plugins/inmysocks/TW5Utils",
        "description": "Some widgets for TiddlyWiki",
        "author": "inmysocks",
        "version": "0.0.8",
        "core-version": ">=5.1.5",
        "source": "https://github.com/inmysocks/TW5-TW5Utils",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json",
        "readme": "!TW5Utils - A plugin that contains some utility widgets for TiddlyWiki5\n\nCurrently in this plugin:\n\n*linkfield.js - the link-field widget\n\n!!link-field widget\n\nThis widget takes a source field and tiddler and a store field and tiddler, whenever the source field changes the store field is updated to contain the same value as the source field.\n\nUsage:\n\n```\n<$link-fields $sourcetiddler=sourceTiddler $sourcefield=source_field $storetiddler=storeTiddler $storefield=store_field/>\n```\n\nor\n\n```\n<$link-fields $sourcetiddler=sourceTiddler $sourceindex=source_index $storetiddler=storeTiddler $storefield=store_index/>\n```\n\nor any combination of $sourcefield, $sourceindex, $storefield and $storeindex. The field_name=tiddlerName assignment doesn't work for data tiddler indexes. \n\nother fields can be linked by adding pairs in the form `field_name=tiddlerName` as arguments. That will link the field `field_name` in the tiddler `tiddlerName` to the field `source_field` in `sourceTiddler`."
    },
    {
        "title": "$:/plugins/inmysocks/TaskList",
        "description": "A more advanced task list for TiddlyWiki",
        "author": "inmysocks",
        "version": "0.1.1",
        "core-version": ">=5.1.6",
        "source": "https://github.com/inmysocks/TW5-NoLearningRequired-Full",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/plugins/inmysocks/Twitter",
        "description": "A plugin to add twitter buttons etc. to TiddlyWiki",
        "author": "inmysocks",
        "version": "0.0.6",
        "core-version": ">=5.0.8",
        "source": "",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/plugins/inmysocks/randVal",
        "description": "A random number generator for TW5",
        "author": "inmysocks",
        "version": "0.1.3",
        "core-version": ">=5.0.8",
        "source": "https://github.com/inmysocks/TW5-randVal",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json",
        "readme": "This plugin contains a widget that generates a random number and stores it in a specified field.\n\nThe Widget will take the following inputs\n\n|!Attribute |!Description |\n|$lower |The lower bound of the random numbers generated, defaults to 1. |\n|$upper |The upper bound on the random numbers generated, defaults to 6. |\n|$step |The step size of the random numbers generated (that is all random numbers will be in the form rand = lowerBound+n*stepSize where n is an integer and lowerBound <= rand <= upperBound) stepSize defaults to 1 (so integer outputs). If stepSize > upperBound-lowerBound than the output will always be lowerBound |\n|$numrolls |The number of times to roll a random number and sum the results, defaults to 1 if no value is given. |\n|$tiddler |The tiddler that will contain the random value, defaults to `<<currentTiddler>>` |\n|$field |The field of the specified tiddler that will hold the random value, defaults to `store_field`. |\n|$prefix |An optional prefix to the appended to the front of the output number. No default. |\n|$length |The minimum length of the output, if the output would be shorter than this than zero padding is used. This will not shorten the output. |\n\nThe code will put a random number in the field `fieldName` of the tiddler `tiddlerName`. The number will be the sum of numberOfRolls numbers between `lowerBound` and `upperBound` inclusive.\n\n!Example:\n\n```\n<$button>Roll Dice!\n<$action-randval $field=fieldName/>\n</$button>\n```\n\nWhen the button is pressed, the code will generate a random integer between 1 and 6 inclusive and store it in the field fieldName. So it is equivalent to rolling a normal 6 sided dice.\n\n!How randVal is generated (pseudocode):\n\nnum_steps = (upperBound-lowerBound)/stepSize+1\n\noutput = 0\n\nfor i=1 to num_rolls\n\n  n = floor(num_steps*random())\n  \n  output = output + lowerBound+n*stepSize\n  \nend\n\nreturn output\n  "
    },
    {
        "title": "$:/plugins/inmysocks/WidgetsInvokeActions",
        "description": "A plugin let widgets other than the button widget trigger action widgets",
        "author": "inmysocks",
        "version": "0.0.1",
        "core-version": ">=5.0.8",
        "source": "",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/plugins/inmysocks/testwidgets",
        "description": "A plugin let widgets other than the button widget trigger action widgets",
        "author": "inmysocks",
        "version": "0.0.1",
        "core-version": ">=5.0.8",
        "source": "",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json"
    },
    {
        "title": "$:/themes/inmysocks/Mobile",
        "name": "Mobile",
        "author": "inmysocks",
        "core-version": ">=5.0.0",
        "version": "0.0.1",
        "plugin-type": "theme",
        "description": "Theme for mobile devices",
        "dependents": "$:/themes/tiddlywiki/snowwhite",
        "type": "application/json"
    }
];

/*\
title: $:/plugins/tiddlywiki/pluginlibrary/libraryserver.js
type: application/javascript
module-type: library

A simple HTTP-over-window.postMessage implementation of a standard TiddlyWeb-compatible server. It uses real HTTP to load the individual tiddler JSON files.

\*/
(function(){

/*jslint node: true, browser: true */
/*global $tw: false */
"use strict";

// Listen for window messages
window.addEventListener("message",function listener(event){
	console.log("plugin library: Received message from",event.origin);
	console.log("plugin library: Message content",event.data);
	switch(event.data.verb) {
		case "GET":
			if(event.data.url === "recipes/library/tiddlers.json") {
				// Route for recipes/library/tiddlers.json
				event.source.postMessage({
					verb: "GET-RESPONSE",
					status: "200",
					cookies: event.data.cookies,
					url: event.data.url,
					type: "application/json",
					body: JSON.stringify(assetList,null,4)
				},"*");
			} else if(event.data.url.indexOf("recipes/library/tiddlers/") === 0) {
				var url = "recipes/library/tiddlers/" + encodeURIComponent(removePrefix(event.data.url,"recipes/library/tiddlers/"));
				// Route for recipes/library/tiddlers/<uri-encoded-tiddler-title>.json
				httpGet(url,function(err,responseText) {
					if(err) {
						event.source.postMessage({
							verb: "GET-RESPONSE",
							status: "404",
							cookies: event.data.cookies,
							url: event.data.url,
							type: "text/plain",
							body: "Not found"
						},"*");
					} else {
						event.source.postMessage({
							verb: "GET-RESPONSE",
							status: "200",
							cookies: event.data.cookies,
							url: event.data.url,
							type: "application/json",
							body: responseText
						},"*");
					}
				});
			} else {
				event.source.postMessage({
					verb: "GET-RESPONSE",
					status: "404",
					cookies: event.data.cookies,
					url: event.data.url,
					type: "text/plain",
					body: "Not found"
				},"*");
			}
			break;
	}
},false);

// Helper to remove string prefixes
function removePrefix(string,prefix) {
	if(string.indexOf(prefix) === 0) {
		return string.substr(prefix.length);
	} else {
		return string;
	}
}

// Helper for HTTP GET
function httpGet(url,callback) {
	var http = new XMLHttpRequest();
	http.open("GET",url,true);
	http.onreadystatechange = function() {
		if(http.readyState == 4 && http.status == 200) {
			callback(null,http.responseText);
		}
	};
	http.send();
}

})();

</script>
</head>
<body><h1>HelloThere</h1><p>This is the TiddlyWiki plugin library. It is not intended to be opened directly in the browser.</p><p>See <a href="http://tiddlywiki.com/" target="_blank">http://tiddlywiki.com/</a> for details of how to install plugins.</p></body>
</html>